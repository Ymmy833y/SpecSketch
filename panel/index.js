(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",s="RENDER",i="CLEAR",a="HOVER",n="MEASURE_SIZE",o="SELECTED",r="MISSING_IDS",l="CONTENT_SIZE_RESULT",c="ACTIVE_TAB_CHANGED";function E(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const d=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],u=["circle","square"],h=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",T="",m=["Numbers","UpperAlpha","LowerAlpha","None"];function _(e){if(!e||"object"!=typeof e)return!1;const t=e.anchor;if(!t||"object"!=typeof t)return!1;const s=t;return"css"===s.kind&&"string"==typeof s.value&&("number"==typeof s.version||1===s.version)}const S={status:"DISCONNECTED",tabId:null,pageKey:"",pageKeys:[],theme:"device",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultLabelFormat:"Numbers",defaultVisible:!0,defaultPosition:"left-top-outside",defaultGroup:T,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[],toastMessages:[]};function g(e){const t=e.map((e,t)=>({it:e,i:t})),s=new Map;let i=0;for(const{it:e}of t){const t=e.group;s.has(t)||s.set(t,i++)}return t.sort((e,t)=>{const i=s.get(e.it.group),a=s.get(t.it.group);return i!==a?i-a:e.it.label!==t.it.label?e.it.label-t.it.label:e.i-t.i}),t.map(e=>e.it)}const A=function(e,t){const s="screenStateByPage";async function i(){return(await chrome.storage.local.get(s))[s]??{}}async function a(e){await chrome.storage.local.set({[s]:e})}return{key:s,readAll:i,writeAll:a,get:async function(e){const s=(await i())[e];return void 0!==s?s:t?t():void 0},set:async function(e,t){const s=await i();s[e]=t,await a(s)},remove:async function(e){const t=await i();e in t&&(delete t[e],await a(t))},clear:async function(){await a({})}}}(0,()=>({items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultLabelFormat:"Numbers",defaultVisible:!0,defaultPosition:"left-top-outside",defaultGroup:T})),f=function(){const e="themeMode";return{key:e,get:async function(){const t=(await chrome.storage.local.get(e))[e];return void 0===t?"device":t},set:async function(t){await chrome.storage.local.set({[e]:t})},remove:async function(){await chrome.storage.local.remove(e)}}}();async function C(e,t){const s=await A.get(e);if(t.removedIds?.length){const e=new Set(t.removedIds);s.items=s.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:s.nextId++,label:1/0,anchor:e.anchor,size:e.size??s.defaultSize,color:e.color??s.defaultColor,shape:e.shape??s.defaultShape,labelFormat:e.labelFormat??s.defaultLabelFormat,visible:e.visible??s.defaultVisible,position:e.position??s.defaultPosition,group:e.group??s.defaultGroup,comment:e.comment??""};s.items.push(t)}return s.items=R(s.items),await A.set(e,s),s}function R(e){const t=new Map;e.forEach((e,s)=>{const i=(e.group??"").trim();t.has(i)||t.set(i,[]),t.get(i).push({index:s,item:e})});const s=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},i)=>{const a=i+1;t.label!==a&&(s[e]={...t,label:a})});return s}function I(e,t){return chrome.i18n.getMessage(e,t)||e}const O={get:I,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=I(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const s of t.split(";")){const[t,i]=s.split(":").map(e=>e?.trim());t&&i&&e.setAttribute(t,I(i))}})}},N="RESTRICTED",b="CONNECTING",L="CONNECTED",v="DISCONNECTED",y={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},D={RESTRICTED:"connect-status--restricted",CONNECTING:"connect-status--connecting",CONNECTED:"connect-status--connected",DISCONNECTED:"connect-status--disconnected"};var P,w;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.SET_BADGE_LABEL_FORMAT="SET_BADGE_LABEL_FORMAT",e.SET_BADGE_VISIBLE="SET_BADGE_VISIBLE",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.STORE_RELOAD_REQUESTED="STORE_RELOAD_REQUESTED",e.STORE_RELOAD_SUCCEEDED="STORE_RELOAD_SUCCEEDED",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.IMPORT_SUCCEEDED="IMPORT_SUCCEEDED",e.IMPORT_FAILED="IMPORT_FAILED",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_SCREEN_STATE_BY_PAGE="REMOVE_SCREEN_STATE_BY_PAGE",e.EXPORT_SCREEN_STATE_BY_PAGE="EXPORT_SCREEN_STATE_BY_PAGE",e.EXPORT_FAILED="EXPORT_FAILED"}(P||(P={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.READ_SCREEN_STATE_STORE="READ_SCREEN_STATE_STORE",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY="REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY",e.EXPORT_SCREEN_STATE_BY_PAGE_KEY="EXPORT_SCREEN_STATE_BY_PAGE_KEY",e.NOTIFY_ERROR="NOTIFY_ERROR"}(w||(w={}));const G="spsk:panel-content:v1";class M{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:s,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:i})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class B{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,s]of this.pending)s({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(s=>{if(!this.alive)return s(void e.expectReply);if(e.expectReply){const i=setTimeout(()=>{this.pending.delete(e.id),s(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(i),s(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void s(void 0)}e.expectReply||s(void 0)})}}const U=new Set;async function k(e,t,s){return await new Promise((i,a)=>{chrome.debugger.sendCommand(e,t,s??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):i(e??{})})})}async function x(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||E(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const s={tabId:t.id},i=e.format??"png",a=e.settleMs??500,n=e.scale??1,o=e.area??"full";let r=!1,l=!1;try{r=await async function(e){const t=e.tabId??null;return await new Promise((s,i)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&U.add(t),void s(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&U.has(t)?s(!1):i(new Error("Debugger is already attached by another client (DevTools/extension).")):i(new Error(a))})})}(s),await k(s,"Page.enable"),(e.bringToFront??1)&&await k(s,"Page.bringToFront");const c=await async function(e,t,s,i){if("viewport"===t){const{x:t,y:i,width:a,height:n}=await async function(e){const t=(await k(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:i,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(i.width)),n=Math.max(1,0|Math.ceil(i.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!0}}(s,o,n,e.contentSize);c.shouldScrollTop&&await k(s,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),c.useOverride&&c.metrics&&(l=!0,await k(s,"Emulation.setDeviceMetricsOverride",c.metrics)),await new Promise(e=>setTimeout(e,a));const E={format:i,fromSurface:!0,captureBeyondViewport:c.captureBeyondViewport,clip:c.clip};"jpeg"===i&&"number"==typeof e.quality&&(E.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:d}=await k(s,"Page.captureScreenshot",E),u=`data:${"png"===i?"image/png":"image/jpeg"};base64,${d}`,h=e.filename??function(e,t){let s=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return s=s.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),s.length>80&&(s=s.slice(0,80)),`${s}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,i);return await chrome.downloads.download({url:u,filename:h,saveAs:!1})}finally{if(l)try{await k(s,"Emulation.clearDeviceMetricsOverride")}catch{}if(r)try{await async function(e){const t=e.tabId??null;null!=t&&U.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),U.delete(t))}(s)}catch{}}}async function H(e,t,s={}){const{saveAs:i=!1,prefix:a="specsketch-screen-state"}=s,n={format:"specsketch-export",kind:"screen-state",version:1,exportedAt:(new Date).toISOString(),pageKey:t,items:e.items},o=`data:application/json;charset=utf-8;base64,${function(e){const t=(new TextEncoder).encode(e);let s="";for(const e of t)s+=String.fromCharCode(e);return btoa(s)}(JSON.stringify(n,null,2))}`,r=function(e,t){return`${e}_${(t??"").replace(/https?:\/\//,"").replace(/[^a-zA-Z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,120)||"page"}_${function(e=new Date){const t=(e,t=2)=>String(e).padStart(t,"0"),s=-e.getTimezoneOffset(),i=s>=0?"+":"-",a=t(Math.floor(Math.abs(s)/60)),n=t(Math.abs(s)%60);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}_${t(e.getHours())}-${t(e.getMinutes())}-${t(e.getSeconds())}${i}${a}${n}`}()}.json`}(a,t);return await chrome.downloads.download({url:o,filename:r,saveAs:i})}async function F(e,t){const s=/\.json$/i.test(e.name),i="application/json"===e.type||"text/json"===e.type||""===e.type;if(!s&&!i)throw new Error(O.get("import_file_not_json"));let a;try{const t=await e.text();a=JSON.parse(t)}catch{throw new Error(O.get("import_payload_invalid"))}if(!function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"specsketch-export"===t.format&&"screen-state"===t.kind&&"number"==typeof t.version&&"string"==typeof t.pageKey&&!!Array.isArray(t.items)&&t.items.every(_)}(a))throw new Error(O.get("import_payload_invalid"));const n=g(a.items),o=await A.get(t),r=e=>`${e.anchor.kind}:${e.anchor.version}:${e.anchor.value}`,l=new Set((o?.items??[]).map(r)),c=n.filter(e=>!l.has(r(e))).map(e=>({anchor:e.anchor,size:e.size,color:e.color,shape:e.shape,position:e.position,group:e.group,comment:e.comment}));return{state:await C(t,{added:c}),successMessage:O.get("import_succeeded_with_count",[String(c.length)])}}var V;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&U.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_LABEL_FORMAT_CHANGE="BADGE_LABEL_FORMAT_CHANGE",e.BADGE_VISIBLE_CHANGE="BADGE_VISIBLE_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY",e.UPDATE_THEME="UPDATE_THEME",e.SETTING_MODAL_SHOW="SETTING_MODAL_SHOW",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_PAGE_CLICK="REMOVE_PAGE_CLICK",e.EXPORT_PAGE_CLICK="EXPORT_PAGE_CLICK"}(V||(V={}));class ${view;model=structuredClone(S);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([w.RENDER_CONTENT,w.TOGGLE_SELECT_ON_CONTENT,w.CLEAR_CONTENT,w.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:P.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==c)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(V.TOGGLE_SELECT,()=>this.dispatch({type:P.TOGGLE_SELECT})),this.view.on(V.CLEAR,()=>this.dispatch({type:P.CLEAR_ALL})),this.view.on(V.CAPTURE,()=>this.dispatch({type:P.MEASURE_CONTENT_SIZE})),this.view.on(V.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:P.SET_BADGE_SIZE,size:e})),this.view.on(V.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:P.SET_BADGE_COLOR,color:e})),this.view.on(V.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:P.SET_BADGE_SHAPE,shape:e})),this.view.on(V.BADGE_LABEL_FORMAT_CHANGE,({labelFormat:e})=>this.dispatch({type:P.SET_BADGE_LABEL_FORMAT,labelFormat:e})),this.view.on(V.BADGE_VISIBLE_CHANGE,({visible:e})=>this.dispatch({type:P.SET_BADGE_VISIBLE,visible:e})),this.view.on(V.BADGE_DELETE,()=>this.dispatch({type:P.BADGE_DELETE})),this.view.on(V.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:P.SET_BADGE_POSITION,position:e})),this.view.on(V.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:P.TOGGLE_CAPTURE_PANEL})),this.view.on(V.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:P.SET_CAPTURE_FORMAT,format:e})),this.view.on(V.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:P.SET_CAPTURE_AREA,area:e})),this.view.on(V.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:P.SET_CAPTURE_QUALITY,quality:e})),this.view.on(V.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:P.SET_CAPTURE_SCALE,scale:e})),this.view.on(V.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:s})=>this.dispatch({type:P.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:s})),this.view.on(V.SET_GROUP,({group:e})=>this.dispatch({type:P.SET_GROUP,group:e})),this.view.on(V.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:P.ITEM_SELECTION_CHANGED,...e})),this.view.on(V.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:P.ITEM_HOVER_IN,id:e})),this.view.on(V.ITEM_HOVER_OUT,()=>this.dispatch({type:P.ITEM_HOVER_OUT})),this.view.on(V.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:P.UPDATE_ITEM_COMMENT,id:e,comment:t})),this.view.on(V.UPDATE_THEME,({theme:e})=>this.dispatch({type:P.UPDATE_THEME,theme:e})),this.view.on(V.SETTING_MODAL_SHOW,()=>this.dispatch({type:P.STORE_RELOAD_REQUESTED})),this.view.on(V.IMPORT_SCREAN_STATE_FILE,({file:e})=>this.dispatch({type:P.IMPORT_SCREAN_STATE_FILE,file:e})),this.view.on(V.TOAST_DISMISS_REQUESTED,({uuid:e})=>this.dispatch({type:P.TOAST_DISMISS_REQUESTED,uuid:e})),this.view.on(V.REMOVE_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:P.REMOVE_SCREEN_STATE_BY_PAGE,pageKey:e})),this.view.on(V.EXPORT_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:P.EXPORT_SCREEN_STATE_BY_PAGE,pageKey:e}))}dispatch(e){const{model:t,effects:s}=function(e,t){switch(t.type){case P.INIT:return{model:e,effects:[{kind:w.SET_THEME}]};case P.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case P.SET_STATUS:return t.status===L?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case P.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultLabelFormat:t.state.defaultLabelFormat,defaultVisible:t.state.defaultVisible,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:w.RENDER_CONTENT,items:t.state.items}]};case P.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case P.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:w.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case P.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:w.CLEAR_CONTENT},{kind:w.CLEAR_STATE}]};case P.CONTENT_SELECTED:return{model:e,effects:[]};case P.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case P.SET_BADGE_SIZE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.SET_BADGE_COLOR:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.SET_BADGE_SHAPE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.SET_BADGE_LABEL_FORMAT:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{labelFormat:t.labelFormat}:{}}));return{model:{...e,defaultLabelFormat:t.labelFormat,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.SET_BADGE_VISIBLE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{visible:t.visible}:{}}));return{model:{...e,defaultVisible:t.visible,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.BADGE_DELETE:{const t=R(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:t}]}}case P.SET_BADGE_POSITION:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.SET_GROUP:{const s=function(e,t,s){const i=(s??"").trim();let a=0;return g(e).map(e=>{if(t.includes(e.id)&&e.group!==i){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:i,label:t}}return e})}(e.items,e.selectItems,t.group),i=R(s);return{model:{...e,defaultGroup:t.group,items:i},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:i}]}}case P.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case P.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case P.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case P.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case P.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:w.MEASURE_CONTENT_SIZE}]};case P.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:w.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:w.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case P.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case P.CAPTURE_FAILED:return{model:e,effects:[{kind:w.NOTIFY_ERROR,error:t.error}]};case P.REORDER_ITEMS:{const s=function(e,t,s,i){if(i<0||i>=e.length)throw new RangeError(`toIndex out of range: ${i}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(i<0||i>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${i}`);const n=i+(s<i?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),i=R(s);return{model:{...e,items:i},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:i}]}}case P.ITEM_SELECTION_CHANGED:if("id"in t){const s=function(e,t,s){return t&&!s.includes(e)?[...s,e]:s.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:s},effects:[]}}if("group"in t){const s=function(e,t,s,i){const a=e.trim(),n=i.filter(e=>(e.group??T).trim()===a).map(e=>e.id);if(0===n.length)return s;if(t){const e=new Set(s);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return s.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:s},effects:[]}}{const a=(s=t.allCheck,i=e.items,s?i.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case P.ITEM_HOVER_IN:return{model:e,effects:[{kind:w.HOVER,id:t.id}]};case P.ITEM_HOVER_OUT:return{model:e,effects:[{kind:w.HOVER,id:null}]};case P.UPDATE_ITEM_COMMENT:{const s=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:s},effects:[{kind:w.PERSIST_STATE},{kind:w.RENDER_CONTENT,items:s}]}}case P.PORT_DISCONNECTED:return{model:{...e,status:v,selectionEnabled:!1},effects:[{kind:w.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};case P.SET_THEME:return{model:{...e,theme:t.theme},effects:[]};case P.UPDATE_THEME:return{model:{...e,theme:t.theme},effects:[{kind:w.UPDATE_THEME,theme:t.theme}]};case P.STORE_RELOAD_REQUESTED:return{model:e,effects:[{kind:w.READ_SCREEN_STATE_STORE}]};case P.STORE_RELOAD_SUCCEEDED:return{model:{...e,pageKeys:t.pageKeys},effects:[]};case P.IMPORT_SCREAN_STATE_FILE:return{model:e,effects:[{kind:w.IMPORT_SCREAN_STATE_FILE,file:t.file}]};case P.IMPORT_SUCCEEDED:case P.IMPORT_FAILED:return{model:{...e,toastMessages:t.toastMessages},effects:[]};case P.TOAST_DISMISS_REQUESTED:{const s=e.toastMessages.filter(e=>e.uuid!==t.uuid);return{model:{...e,toastMessages:s},effects:[]}}case P.REMOVE_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:w.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY,pageKey:t.pageKey}]};case P.EXPORT_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:w.EXPORT_SCREEN_STATE_BY_PAGE_KEY,pageKey:t.pageKey}]};case P.EXPORT_FAILED:return{model:e,effects:[{kind:w.NOTIFY_ERROR,error:t.error}]};default:return{model:e,effects:[]}}var s,i}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(s).catch(console.error)}async execEffects(e){if(e.some(e=>$.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case w.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case w.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case w.CLEAR_CONTENT:await(this.conn?.api.clear());break;case w.HOVER:await(this.conn?.api.hover(t.id));break;case w.CLEAR_STATE:await A.set(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultLabelFormat:this.model.defaultLabelFormat,defaultVisible:this.model.defaultVisible,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case w.PERSIST_STATE:{const e=await A.get(this.model.pageKey);await A.set(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultLabelFormat:this.model.defaultLabelFormat,defaultVisible:this.model.defaultVisible,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case w.SET_THEME:{const e=await f.get();this.dispatch({type:P.SET_THEME,theme:e});break}case w.UPDATE_THEME:await f.set(t.theme);break;case w.READ_SCREEN_STATE_STORE:{const e=await A.readAll(),t=Object.keys(e);this.dispatch({type:P.STORE_RELOAD_SUCCEEDED,pageKeys:t});break}case w.IMPORT_SCREAN_STATE_FILE:try{const{state:e,successMessage:s}=await F(t.file,this.model.pageKey);this.dispatch({type:P.RESTORE_STATE,state:{items:e.items,defaultSize:e.defaultSize,defaultColor:e.defaultColor,defaultShape:e.defaultShape,defaultLabelFormat:e.defaultLabelFormat,defaultVisible:e.defaultVisible,defaultPosition:e.defaultPosition,defaultGroup:e.defaultGroup}});const i={uuid:crypto.randomUUID(),message:s,kind:"success"};this.dispatch({type:P.IMPORT_SUCCEEDED,toastMessages:[i]})}catch(e){const t=e,s={uuid:crypto.randomUUID(),message:t.message,kind:"error"};this.dispatch({type:P.IMPORT_FAILED,toastMessages:[s]})}break;case w.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY:{await A.remove(t.pageKey);const e=await A.readAll(),s=Object.keys(e);this.dispatch({type:P.STORE_RELOAD_SUCCEEDED,pageKeys:s});const i=await A.get(this.model.pageKey);this.dispatch({type:P.RESTORE_STATE,state:{items:i.items,defaultSize:i.defaultSize,defaultColor:i.defaultColor,defaultShape:i.defaultShape,defaultLabelFormat:i.defaultLabelFormat,defaultVisible:i.defaultVisible,defaultPosition:i.defaultPosition,defaultGroup:i.defaultGroup}});break}case w.EXPORT_SCREEN_STATE_BY_PAGE_KEY:try{const e=await A.get(t.pageKey);await H(e,t.pageKey)}catch(e){this.dispatch({type:P.EXPORT_FAILED,error:e})}break;case w.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case w.CAPTURE:try{await x(t.payload),this.dispatch({type:P.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:P.CAPTURE_FAILED,error:e})}break;case w.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const s=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!s?.id||E(s.url))return this.dispatch({type:P.SET_STATUS,status:N}),{ok:!1};const i=function(e,t=!1){try{const s=new URL(e);return t?`${s.origin}${s.pathname}${s.search}${s.hash}`:`${s.origin}${s.pathname}${s.search}`}catch{return e}}(s.url),a=s.id;this.dispatch({type:P.CONNECTED,tabId:a,pageKey:i}),this.dispatch({type:P.SET_STATUS,status:b});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:G}),s=new B(t),i=new M(s),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:i,port:t,rpc:s,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:P.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===o){const t=await async function(e,t){const s=await A.get(e),i=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of i){const t=s.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const o={};return a.length&&(o.removedIds=a),n.length&&(o.added=n),C(e,o)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:P.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultLabelFormat:t.defaultLabelFormat,defaultVisible:t.defaultVisible,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===r?this.dispatch({type:P.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===l&&this.dispatch({type:P.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await A.get(i);return this.dispatch({type:P.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultLabelFormat:n.defaultLabelFormat,defaultVisible:n.defaultVisible,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:P.SET_STATUS,status:L}),{ok:!0,contextChanged:!!t&&t!==i}}}const z={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},success:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z",viewBox:"0 0 16 16"},error:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2",viewBox:"0 0 16 16"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"},remove:{d:"M7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h3a1 1 0 1 1 0 2h-1l-1 10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6H4a1 1 0 1 1 0-2h3V3Zm1 3a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z",viewBox:"0 0 20 20"},export:{d:"M3 16.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm7.53-2.03a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V3.75a.75.75 0 0 1 1.5 0v8.13l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3Z",viewBox:"0 0 20 20"},close:{d:"M5.23 5.23a.75.75 0 0 1 1.06 0L10 8.94l3.71-3.71a.75.75 0 1 1 1.06 1.06L11.06 10l3.71 3.71a.75.75 0 1 1-1.06 1.06L10 11.06l-3.71 3.71a.75.75 0 1 1-1.06-1.06L8.94 10 5.23 6.29a.75.75 0 0 1 0-1.06Z",viewBox:"0 0 20 20"}};function Y(e){const{d:t,viewBox:s="0 0 20 20"}=z[e];return{d:t,viewBox:s}}function K(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class Q{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;TOAST_AUTO_DISMISS=1e4;constructor(e){this.doc=e,O.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeLabelFormatSelect:this.$("#badge-label-format-select"),badgeVisibleSelect:this.$("#badge-visible-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]'),settingModal:this.$("#setting-modal"),settingButton:this.$("#setting-button"),settingCloseButton:this.$("#setting-close-btn"),themeLightBtn:this.$("#theme-light-btn"),themeDarkBtn:this.$("#theme-dark-btn"),themeDeviceBtn:this.$("#theme-device-btn"),importFileInput:this.$("#import-file-input"),importBtn:this.$("#import-btn"),storeCount:this.$("#store-count"),storeList:this.$("#store-list"),storeEmpty:this.$("#store-empty"),toastParent:this.$("#toast-parent")},this.els.toggleBtn.addEventListener("click",()=>this.emit(V.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(V.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(V.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(V.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(V.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(V.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(V.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(V.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(V.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",s="string"==typeof(i=t)&&d.includes(i)?t:"Blue";var i;this.emit(V.BADGE_COLOR_SELECT,{color:s})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&u.includes(e)}(e)?e:"circle";this.emit(V.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeLabelFormatSelect.addEventListener("change",()=>{const e=this.els.badgeLabelFormatSelect.value??null,t=function(e){return"string"==typeof e&&m.includes(e)}(e)?e:"Numbers";this.emit(V.BADGE_LABEL_FORMAT_CHANGE,{labelFormat:t})}),this.els.badgeVisibleSelect.addEventListener("change",()=>{const e="true"===this.els.badgeVisibleSelect.value;this.emit(V.BADGE_VISIBLE_CHANGE,{visible:e})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(V.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",s="string"==typeof(i=t)&&h.includes(i)?t:"left-top-outside";var i;this.emit(V.BADGE_POSITION_SELECT,{position:s})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?T:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(V.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?T:e;this.emit(V.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(V.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.els.settingButton.addEventListener("click",()=>{this.els.settingModal.classList.remove("hidden"),this.emit(V.SETTING_MODAL_SHOW,void 0)}),this.els.settingCloseButton.addEventListener("click",()=>{this.els.settingModal.classList.add("hidden")}),this.els.themeLightBtn.addEventListener("click",()=>{this.applyTheme("light"),this.emit(V.UPDATE_THEME,{theme:"light"})}),this.els.themeDarkBtn.addEventListener("click",()=>{this.applyTheme("dark"),this.emit(V.UPDATE_THEME,{theme:"dark"})}),this.els.themeDeviceBtn.addEventListener("click",()=>{this.applyTheme("device"),this.emit(V.UPDATE_THEME,{theme:"device"})}),this.els.importBtn.addEventListener("click",()=>{if(!this.els.importFileInput.files||0===this.els.importFileInput.files.length)return void this.els.importFileInput.click();const e=this.els.importFileInput.files[0];this.emit(V.IMPORT_SCREAN_STATE_FILE,{file:e})}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(V.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(V.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const s=this.listeners[e];s?.forEach(e=>e(t))}render(e){this.applyToastMessages(e.toastMessages),this.applyTheme(e.theme),this.applyStore(e.pageKeys),this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.els.badgeLabelFormatSelect.value=e.defaultLabelFormat??"Numbers",this.els.badgeVisibleSelect.value=String(e.defaultVisible??"true"),this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup)}renderStatus(e){const t=D[e],s=this.els.status;s.className="",s.className=`connect-status ${t}`;const i=this.doc.createElement("span");i.classList.add("connect-status-dot");const a=this.doc.createElement("span");a.textContent=function(e){const t=y[e];return O.get(t)||t}(e),s.replaceChildren(i,a),this.disableFormControls(e)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=O.get(e?"toggle_on":"toggle_off")}renderList(e,t,s){this.els.count.textContent=String(e.length);const i=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=i,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),o=this.doc.createDocumentFragment();for(const e of n){const i=this.renderGroupSection(e,a.get(e),t,s);o.appendChild(i)}this.els.list.replaceChildren(o)}renderGroupSection(e,t,s,i){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),o=this.el("div","select-item-header"),r=this.el("div","spsk-checkwrap"),l=this.el("input","spsk-checkbox spsk-checkbox--normal");l.type="checkbox",l.name="item-select",l.value=e===p?O.get("group_ungrouped"):e,l.checked=t.every(e=>s.includes(e.id)),l.addEventListener("change",t=>{const s=t.target.checked;this.emit(V.ITEM_SELECTION_CHANGED,{group:e===p?T:e,isCheck:s})}),r.append(l);const c=this.el("span","select-item-gh-title",e===p?O.get("group_ungrouped"):e),E=this.el("div","select-item-gh-left");E.append(r,c);const d=this.el("span","select-item-gh-count",String(t.length)),u=this.el("button","select-item-gh-toggle");u.type="button",u.setAttribute("aria-expanded",String(!a));const{d:h,viewBox:m}=Y(a?"caretRight":"caretDown"),_=this.createSvgIcon(h,{className:"icon-sm",viewBox:m}),S=_.querySelector("path");u.append(_),o.append(E,d,u);const g=this.el("ul","select-item-list");a&&g.classList.add("hidden"),this.attachUlDnDHandlers(g);for(const e of t.sort(K)){const t=s.includes(e.id);g.appendChild(this.renderItem(e,t,i))}return u.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),g.classList.remove("hidden"),S.setAttribute("d",Y("caretDown").d),u.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),g.classList.add("hidden"),S.setAttribute("d",Y("caretRight").d),u.setAttribute("aria-expanded","false"))}),n.append(o,g),n}renderItem(e,t,s){const i=s.includes(e.id),a="select-item",n=this.el("li",i?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const s=this.dragEl.dataset.id??"";this.dragEl=null,s&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(V.REORDER_ITEMS,{fromId:Number(s),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const o=this.el("div","spsk-checkwrap"),r=i?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",l=this.el("input",r);l.type="checkbox",l.name="item-select",l.value=String(e.id),l.checked=t,l.addEventListener("change",t=>{const s=t.target.checked;this.emit(V.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:s})}),o.append(l);const c=i?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",E=this.el("span",c,String(e.label)),d=this.el("div","min-w-0 flex-1");if(d.addEventListener("pointerenter",()=>{this.dragStartParent||i||(this.cancelHoverOut(),this.emit(V.ITEM_HOVER_IN,{id:e.id}))}),i){const e=this.el("span","chip-warn"),{d:t,viewBox:s}=Y("warn"),i=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:s}),a=this.el("span",void 0,O.get("missing_item"));e.append(i,a),d.append(e)}const u=this.el("div","anchor",e.anchor.value);d.append(u);const h=this.generateCommentBtn(e);return n.append(o,E,d,h),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:s,viewBox:i}=Y("comment"),a=this.createSvgIcon(s,{className:"h-3.5 w-3.5",viewBox:i});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(V.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const s=t.target?.closest("li");if(s&&s!==this.dragEl){const i=s.getBoundingClientRect(),a=t.clientY-i.top>i.height/2;e.insertBefore(this.dragEl,a?s.nextSibling:s)}else s||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const s of e){const e=(s.group??T).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,s){const i=(e,t)=>{const s=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(s)?s:t},a=a=>{const n=i(t.min||e.min,Number.NEGATIVE_INFINITY),o=i(t.max||e.max,Number.POSITIVE_INFINITY),r=i(t.step||e.step,1),l=Number(a),c=((e,t,s)=>Math.min(Math.max(e,t),s))(Number.isFinite(l)?l:0,n,o),E=Math.round(c/r)*r,d=Number(E.toFixed(6));t.value=String(d),e.value=String(d),s?.(d)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disableFormControls(e){const t=this.doc.querySelectorAll("button, select, input, textarea"),s=e===L,i=e===b||e===v,a=e===N;t.forEach(e=>{const t=!!s||i&&e.hasAttribute("data-ignore-disable")||a&&!1;e.disabled=!t})}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:s}=Y(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:s,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const s=t.dataset.colorName===e;t.setAttribute("aria-selected",s?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const s=t.dataset.positionName===e;t.setAttribute("data-selected",s?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,O.get("group_ungrouped"),t===p));for(const s of e){const e=(e=>(e??"").trim())(s);this.els.badgeGroupSelect.append(this.makeOpt(e,s,t===s))}const s=this.makeOpt(this.NEW_GROUP,O.get("common_create"));this.els.badgeGroupSelect.append(s)}applyTheme(e){const t=document.documentElement;("device"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e)?t.classList.add("dark"):t.classList.remove("dark"),this.els.themeLightBtn.setAttribute("data-active",String("light"===e)),this.els.themeDarkBtn.setAttribute("data-active",String("dark"===e)),this.els.themeDeviceBtn.setAttribute("data-active",String("device"===e))}applyStore(e){if(this.els.storeCount.textContent=String(e.length),this.els.storeList.innerHTML="",e.length<=0)return this.els.storeList.classList.add("hidden"),void this.els.storeEmpty.classList.remove("hidden");for(const t of e){const e=this.el("li","select-item"),s=this.el("div","min-w-0 flex-1"),i=this.el("a","anchor whitespace-normal break-words",t);i.href=t,i.target="_blank",s.appendChild(i);const a=this.el("button","btn-icon");a.setAttribute("data-ignore-disable","true");const n=Y("export"),o=this.createSvgIcon(n.d,{className:"icon-sm",viewBox:n.viewBox});a.appendChild(o);const r=this.el("button","btn-icon btn-icon--danger");r.setAttribute("data-ignore-disable","true");const l=Y("remove"),c=this.createSvgIcon(l.d,{className:"icon-sm",viewBox:l.viewBox});r.appendChild(c),e.appendChild(s),e.appendChild(a),e.appendChild(r),this.els.storeList.appendChild(e),a.addEventListener("click",()=>{this.emit(V.EXPORT_PAGE_CLICK,{pageKey:t})}),r.addEventListener("click",()=>{this.emit(V.REMOVE_PAGE_CLICK,{pageKey:t})})}this.els.storeList.classList.remove("hidden"),this.els.storeEmpty.classList.add("hidden")}applyToastMessages(e){for(const t of e){const e=this.generateToastMessage(t);this.els.toastParent.appendChild(e),this.emit(V.TOAST_DISMISS_REQUESTED,{uuid:t.uuid})}}generateToastMessage(e){const t=this.el("div",`toast toast--${e.kind}`),s=Y(e.kind),i=this.createSvgIcon(s.d,{className:"toast-icon",viewBox:s.viewBox,variant:"solid"}),a=this.el("div","toast-body"),n=this.el("p","toast-desc",e.message);a.appendChild(n);const o=this.el("button",`toast-close toast-close--${e.kind}`),r=Y("close"),l=this.createSvgIcon(r.d,{className:"h-3.5 w-3.5",viewBox:r.viewBox});o.appendChild(l),t.appendChild(i),t.appendChild(a),t.appendChild(o);const c=window.setTimeout(()=>{t.isConnected&&t.remove()},this.TOAST_AUTO_DISMISS);return o.addEventListener("click",()=>{clearTimeout(c),t.isConnected&&t.remove()}),t}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,s){const i=this.doc.createElement(e);return t&&(i.className=t),void 0!==s&&(i.textContent=s),i}makeOpt(e,t,s=!1){const i=this.doc.createElement("option");return i.value=e,i.textContent=t,s&&(i.selected=!0),i}createSvgIcon(e,t={}){const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");i.setAttribute("viewBox",t.viewBox??"0 0 20 20"),i.setAttribute("aria-hidden","true"),t.className&&i.setAttribute("class",t.className);const a=document.createElementNS(s,"path");return a.setAttribute("d",e),"outline"===t.variant?(a.setAttribute("fill","none"),a.setAttribute("stroke","currentColor"),a.setAttribute("stroke-width","1.5"),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round")):a.setAttribute("fill","currentColor"),i.appendChild(a),i}}async function j(){const e=new Q(document),t=new $(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?j().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{j().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUt3WCxXQUNMb0ksRUFBSTdqQixhQUFhLFFBQVNpRSxFQUFLd1gsV0FDbkMsTUFBTXNJLEVBQU96a0IsU0FBU3drQixnQkFBZ0JGLEVBQU8sUUFhN0MsT0FaQUcsRUFBSy9qQixhQUFhLElBQUs2SSxHQUNGLFlBQWpCNUUsRUFBS2dmLFNBQ0xjLEVBQUsvakIsYUFBYSxPQUFRLFFBQzFCK2pCLEVBQUsvakIsYUFBYSxTQUFVLGdCQUM1QitqQixFQUFLL2pCLGFBQWEsZUFBZ0IsT0FDbEMrakIsRUFBSy9qQixhQUFhLGlCQUFrQixTQUNwQytqQixFQUFLL2pCLGFBQWEsa0JBQW1CLFVBR3JDK2pCLEVBQUsvakIsYUFBYSxPQUFRLGdCQUU5QjZqQixFQUFJbEgsWUFBWW9ILEdBQ1RGLENBQ1gsRUNuc0JKem5CLGVBQWV5UCxJQUNYLE1BQU1WLEVBQU8sSUFBSWtLLEVBQVUvVixVQUNyQjBrQixFQUFhLElBQUk5WSxFQUFnQkMsU0FDakM2WSxFQUFXblksT0FDckIsQ0FFZ0MsYUFBeEJ2TSxTQUFTMmtCLFlBQXFELGdCQUF4QjNrQixTQUFTMmtCLFdBQzFDcFksSUFBUW9HLE1BQU9uTyxJQUNoQk0sUUFBUXZCLE1BQU0sMEJBQTJCaUIsS0FJN0N4RSxTQUFTK1osaUJBQWlCLG1CQUFvQixLQUFXeE4sSUFBUW9HLE1BQU9uTyxJQUNwRU0sUUFBUXZCLE1BQU0sMEJBQTJCaUIsTUFDekMsQ0FDQW9nQixNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21tb24vbWVzc2FnZXMudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3VybC50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc3RvcmFnZS90YWJsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9zdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaTE4bi50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL3N0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL2FjdGlvbl90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL2VmZmVjdF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvbWVzc2FnaW5nL2FwaS50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9wb3J0X3JwYy50cyIsIndlYnBhY2s6Ly8vLi9pbmZyYS9jZHAvY2RwX2NsaWVudC50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL2NhcHR1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9leHBvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9pbXBvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy91aV9ldmVudF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC91cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vaW5mcmEvY2hyb21lL3RhYnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvY29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaWNvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC92aWV3L3BhbmVsX3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUDJDID0ge1xuICAgIFBJTkc6ICdQSU5HJyxcbiAgICBUT0dHTEVfU0VMRUNUOiAnVE9HR0xFX1NFTEVDVCcsXG4gICAgUkVOREVSOiAnUkVOREVSJyxcbiAgICBDTEVBUjogJ0NMRUFSJyxcbiAgICBIT1ZFUjogJ0hPVkVSJyxcbiAgICBNRUFTVVJFX1NJWkU6ICdNRUFTVVJFX1NJWkUnLFxufTtcbmNvbnN0IEMyUCA9IHtcbiAgICBTRUxFQ1RFRDogJ1NFTEVDVEVEJyxcbiAgICBNSVNTSU5HX0lEUzogJ01JU1NJTkdfSURTJyxcbiAgICBDT05URU5UX1NJWkVfUkVTVUxUOiAnQ09OVEVOVF9TSVpFX1JFU1VMVCcsXG59O1xuY29uc3QgQjJQID0ge1xuICAgIEFDVElWRV9UQUJfQ0hBTkdFRDogJ0FDVElWRV9UQUJfQ0hBTkdFRCcsXG59O1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFID0geyAuLi5QMkMsIC4uLkMyUCwgLi4uQjJQIH07XG5leHBvcnQgZnVuY3Rpb24gaXNSZXNwb25zZShtc2cpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1zZyA9PT0gJ29iamVjdCcgJiYgbXNnICE9PSBudWxsICYmICdpZCcgaW4gbXNnICYmICdvaycgaW4gbXNnO1xufVxuIiwiLyoqXG4gKiBCdWlsZHMgYSBwYWdlIGtleSBmcm9tIGEgVVJMLiBCeSBkZWZhdWx0IGV4Y2x1ZGVzIHRoZSBoYXNoIGFuZCB1c2VzXG4gKiBvcmlnaW4gKyBwYXRobmFtZSArIHNlYXJjaC5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gSW5wdXQgVVJMIChyZXR1cm5lZCBhcy1pcyBpZiBpbnZhbGlkKVxuICogQHBhcmFtIGluY2x1ZGVIYXNoIC0gV2hldGhlciB0byBpbmNsdWRlIHRoZSBoYXNoIChkZWZhdWx0OiBmYWxzZSlcbiAqIEByZXR1cm5zIFBhZ2Uga2V5IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFnZUtleSh1cmwsIGluY2x1ZGVIYXNoID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICByZXR1cm4gaW5jbHVkZUhhc2hcbiAgICAgICAgICAgID8gYCR7dS5vcmlnaW59JHt1LnBhdGhuYW1lfSR7dS5zZWFyY2h9JHt1Lmhhc2h9YFxuICAgICAgICAgICAgOiBgJHt1Lm9yaWdpbn0ke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBVUkwgc2hvdWxkIGJlIGV4Y2x1ZGVkIGZyb20gZXh0ZW5zaW9uIG9wZXJhdGlvbi5cbiAqXG4gKiBVbnBhcnNlYWJsZS91bmtub3duIHNjaGVtZXMgYXJlIHRyZWF0ZWQgYXMgcmVzdHJpY3RlZC5cbiAqIE5vbi13ZWIgc2NoZW1lcyAoZS5nLiwgdmlldy1zb3VyY2U6LCBkYXRhOiwgYmxvYjosIGZpbGVzeXN0ZW06KSBhcmUgYmxvY2tlZCBlYXJseS5cbiAqIENocm9tZSBXZWIgU3RvcmUgcGFnZXMgYXJlIGFsd2F5cyBleGNsdWRlZCAoY29udGVudCBzY3JpcHRzIGFyZSBub3QgYWxsb3dlZCB0aGVyZSkuXG4gKlxuICogQHBhcmFtIHJhdyAtIFVSTCBzdHJpbmcgdG8gZXZhbHVhdGUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBzaG91bGQgYmUgc2tpcHBlZCBieSB0aGUgZXh0ZW5zaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZXN0cmljdGVkKHJhdykge1xuICAgIGlmICghcmF3KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJ3ZpZXctc291cmNlOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdkYXRhOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdibG9iOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdmaWxlc3lzdGVtOicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXJsO1xuICAgIHRyeSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwocmF3KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBJbnZhbGlkIG9yIG5vbi1zdGFuZGFyZCBVUkwg4oaSIHNraXAgZm9yIHNhZmV0eS5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEFsbG93LWxpc3QgcG9saWN5OiBvbmx5IG9wZXJhdGUgb24gdHlwaWNhbCB3ZWIgcGFnZXMuXG4gICAgY29uc3QgYWxsb3dlZCA9IG5ldyBTZXQoWydodHRwOicsICdodHRwczonLCAnZmlsZTonXSk7XG4gICAgaWYgKCFhbGxvd2VkLmhhcyh1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgV2ViIFN0b3JlIChjdXJyZW50IGFuZCBsZWdhY3kgaG9zdCkg4oCUIGNvbnRlbnQgc2NyaXB0cyBhcmUgZGlzYWxsb3dlZCBieSBwbGF0Zm9ybSBwb2xpY3kuXG4gICAgY29uc3Qgd2ViU3RvcmVIb3N0cyA9IG5ldyBTZXQoWydjaHJvbWV3ZWJzdG9yZS5nb29nbGUuY29tJywgJ2Nocm9tZS5nb29nbGUuY29tJ10pO1xuICAgIGlmICh3ZWJTdG9yZUhvc3RzLmhhcyh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJjb25zdCBJVEVNX0NPTE9SUyA9IFtcbiAgICAnR3JheScsXG4gICAgJ1JlZCcsXG4gICAgJ1llbGxvdycsXG4gICAgJ0dyZWVuJyxcbiAgICAnQmx1ZScsXG4gICAgJ0xpbWUnLFxuICAgICdQdXJwbGUnLFxuICAgICdQaW5rJyxcbiAgICAnT3JhbmdlJyxcbiAgICAnQ3lhbicsXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbUNvbG9yKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fQ09MT1JTLmluY2x1ZGVzKHYpO1xufVxuY29uc3QgSVRFTV9TSEFQRSA9IFsnY2lyY2xlJywgJ3NxdWFyZSddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbVNoYXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fU0hBUEUuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgSVRFTV9QT1NJVElPTl9WQUxVRVMgPSBbXG4gICAgJ3JpZ2h0LXRvcC1vdXRzaWRlJyxcbiAgICAncmlnaHQtdG9wLWluc2lkZScsXG4gICAgJ3JpZ2h0LW91dHNpZGUnLFxuICAgICdyaWdodC1pbnNpZGUnLFxuICAgICdyaWdodC1ib3R0b20tb3V0c2lkZScsXG4gICAgJ3JpZ2h0LWJvdHRvbS1pbnNpZGUnLFxuICAgICd0b3Atb3V0c2lkZScsXG4gICAgJ3RvcC1pbnNpZGUnLFxuICAgICdjZW50ZXInLFxuICAgICdib3R0b20tb3V0c2lkZScsXG4gICAgJ2JvdHRvbS1pbnNpZGUnLFxuICAgICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAnbGVmdC10b3AtaW5zaWRlJyxcbiAgICAnbGVmdC1vdXRzaWRlJyxcbiAgICAnbGVmdC1pbnNpZGUnLFxuICAgICdsZWZ0LWJvdHRvbS1vdXRzaWRlJyxcbiAgICAnbGVmdC1ib3R0b20taW5zaWRlJyxcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtUG9zaXRpb24odikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9QT1NJVElPTl9WQUxVRVMuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgVU5HUk9VUEVEID0gJ19fdW5ncm91cGVkX18nO1xuZXhwb3J0IGNvbnN0IFVOR1JPVVBFRF9WQUxVRSA9ICcnO1xuZXhwb3J0IGNvbnN0IExBQkVMX0ZPUk1BVCA9IFsnTnVtYmVycycsICdVcHBlckFscGhhJywgJ0xvd2VyQWxwaGEnLCAnTm9uZSddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGFiZWxGb3JtYXQodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgTEFCRUxfRk9STUFULmluY2x1ZGVzKHYpO1xufVxuLyoqXG4gKiBOYXJyb3dpbmcgZ3VhcmQgZm9yIGEgbWluaW1hbCBgU2NyZWVuSXRlbWAtbGlrZSBzaGFwZS5cbiAqIENoZWNrcyBvbmx5IHRoZSBmaWVsZHMgcmVxdWlyZWQgYnkgdGhpcyBpbXBvcnQgcGF0aCAoYW5jaG9yIHN0cnVjdHVyZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjcmVlbkl0ZW1MaWtlKHYpIHtcbiAgICBpZiAoIXYgfHwgdHlwZW9mIHYgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbyA9IHY7XG4gICAgY29uc3QgYW5jaG9yID0gb1snYW5jaG9yJ107XG4gICAgaWYgKCFhbmNob3IgfHwgdHlwZW9mIGFuY2hvciAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhID0gYW5jaG9yO1xuICAgIHJldHVybiAoYVsna2luZCddID09PSAnY3NzJyAmJlxuICAgICAgICB0eXBlb2YgYVsndmFsdWUnXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgKHR5cGVvZiBhWyd2ZXJzaW9uJ10gPT09ICdudW1iZXInIHx8IGFbJ3ZlcnNpb24nXSA9PT0gMSkpO1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBwYXJzZWQgSlNPTiB2YWx1ZSBhZ2FpbnN0IHRoZSBleHBlY3RlZCBleHBvcnQgcGF5bG9hZCBjb250cmFjdC5cbiAqIFJlcXVpcmVzOiBgZm9ybWF0ID09PSAnc3BlY3NrZXRjaC1leHBvcnQnYCwgYGtpbmQgPT09ICdzY3JlZW4tc3RhdGUnYCxcbiAqIGB2ZXJzaW9uOiBudW1iZXJgLCBgcGFnZUtleTogc3RyaW5nYCwgYW5kIGBpdGVtczogU2NyZWVuSXRlbVtdYC1saWtlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFBheWxvYWQodikge1xuICAgIGlmICghdiB8fCB0eXBlb2YgdiAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBvID0gdjtcbiAgICBpZiAob1snZm9ybWF0J10gIT09ICdzcGVjc2tldGNoLWV4cG9ydCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAob1sna2luZCddICE9PSAnc2NyZWVuLXN0YXRlJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb1sndmVyc2lvbiddICE9PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb1sncGFnZUtleSddICE9PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvWydpdGVtcyddKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBvWydpdGVtcyddLmV2ZXJ5KGlzU2NyZWVuSXRlbUxpa2UpO1xufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFLCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxNb2RlbCA9IHtcbiAgICBzdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgIHRhYklkOiBudWxsLFxuICAgIHBhZ2VLZXk6ICcnLFxuICAgIHBhZ2VLZXlzOiBbXSxcbiAgICB0aGVtZTogJ2RldmljZScsXG4gICAgc2VsZWN0aW9uRW5hYmxlZDogZmFsc2UsXG4gICAgaXRlbXM6IFtdLFxuICAgIGRlZmF1bHRTaXplOiAxNCxcbiAgICBkZWZhdWx0Q29sb3I6ICdCbHVlJyxcbiAgICBkZWZhdWx0U2hhcGU6ICdjaXJjbGUnLFxuICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogJ051bWJlcnMnLFxuICAgIGRlZmF1bHRWaXNpYmxlOiB0cnVlLFxuICAgIGRlZmF1bHRQb3NpdGlvbjogJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgIGRlZmF1bHRHcm91cDogVU5HUk9VUEVEX1ZBTFVFLFxuICAgIGNhcHR1cmU6IHtcbiAgICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICAgICAgYXJlYTogJ2Z1bGwnLFxuICAgICAgICBxdWFsaXR5OiA5MCxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHBhbmVsRXhwYW5kZWQ6IGZhbHNlLFxuICAgIH0sXG4gICAgc2VsZWN0SXRlbXM6IFtdLFxuICAgIG1pc3NpbmdJZHM6IFtdLFxuICAgIHRvYXN0TWVzc2FnZXM6IFtdLFxufTtcbiIsImV4cG9ydCBmdW5jdGlvbiB0aW1lc3RhbXAoZCA9IG5ldyBEYXRlKCkpIHtcbiAgICBjb25zdCBwYWQgPSAobiwgdyA9IDIpID0+IFN0cmluZyhuKS5wYWRTdGFydCh3LCAnMCcpO1xuICAgIGNvbnN0IHR6byA9IC1kLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgY29uc3Qgc2lnbiA9IHR6byA+PSAwID8gJysnIDogJy0nO1xuICAgIGNvbnN0IGhoID0gcGFkKE1hdGguZmxvb3IoTWF0aC5hYnModHpvKSAvIDYwKSk7XG4gICAgY29uc3QgbW0gPSBwYWQoTWF0aC5hYnModHpvKSAlIDYwKTtcbiAgICByZXR1cm4gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke3BhZChkLmdldE1vbnRoKCkgKyAxKX0tJHtwYWQoZC5nZXREYXRlKCkpfV8ke3BhZChkLmdldEhvdXJzKCkpfS0ke3BhZChkLmdldE1pbnV0ZXMoKSl9LSR7cGFkKGQuZ2V0U2Vjb25kcygpKX0ke3NpZ259JHtoaH0ke21tfWA7XG59XG4vKipcbiAqIFNvcnRzIGl0ZW1zIGJ5IHByZXNlcnZpbmcgdGhlICoqZmlyc3Qtc2VlbiBncm91cCBvcmRlcioqIGZyb20gdGhlIGlucHV0XG4gKiBhbmQgc29ydGluZyAqKndpdGhpbiBlYWNoIGdyb3VwIGJ5IGFzY2VuZGluZyBgbGFiZWxgKiouXG4gKiBXaGVuIGJvdGggZ3JvdXAgYW5kIGxhYmVsIGFyZSBlcXVhbCwgb3JpZ2luYWwgb3JkZXIgaXMgcHJlc2VydmVkIChzdGFibGUpLlxuICpcbiAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIHtAbGluayBTY3JlZW5JdGVtfSB0byBzb3J0IChub3QgbXV0YXRlZCkuXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSBzb3J0ZWQgYnkgZ3JvdXAgKGZpcnN0IGFwcGVhcmFuY2UpIGFuZCB0aGVuIGJ5IGxhYmVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc29ydFNjcmVlbkl0ZW1zQnlHcm91cEFuZExhYmVsKGl0ZW1zKSB7XG4gICAgLy8gQXR0YWNoIG9yaWdpbmFsIGluZGljZXMgdG8gcHJlc2VydmUgc3RhYmxlIG9yZGVyaW5nIGZvciBleGFjdCB0aWVzLlxuICAgIGNvbnN0IGluZGV4ZWQgPSBpdGVtcy5tYXAoKGl0LCBpKSA9PiAoeyBpdCwgaSB9KSk7XG4gICAgLy8gUmVjb3JkIHRoZSBmaXJzdC1zZWVuIG9yZGVyIG9mIGVhY2ggZ3JvdXAgKHRyZWF0cyBgdW5kZWZpbmVkYCBhcyBhIHZhbGlkIGdyb3VwKS5cbiAgICBjb25zdCBncm91cE9yZGVyID0gbmV3IE1hcCgpO1xuICAgIGxldCBvcmRlciA9IDA7XG4gICAgZm9yIChjb25zdCB7IGl0IH0gb2YgaW5kZXhlZCkge1xuICAgICAgICBjb25zdCBnID0gaXQuZ3JvdXA7IC8vIGFsbG93IHVuZGVmaW5lZFxuICAgICAgICBpZiAoIWdyb3VwT3JkZXIuaGFzKGcpKVxuICAgICAgICAgICAgZ3JvdXBPcmRlci5zZXQoZywgb3JkZXIrKyk7XG4gICAgfVxuICAgIC8vIENvbXBhcmUgYnk6IGdyb3VwIGZpcnN0LXNlZW4gb3JkZXIg4oaSIGxhYmVsIGFzY2VuZGluZyDihpIgb3JpZ2luYWwgaW5kZXggKHN0YWJpbGl0eSkuXG4gICAgaW5kZXhlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhID0gZ3JvdXBPcmRlci5nZXQoYS5pdC5ncm91cCk7XG4gICAgICAgIGNvbnN0IGdiID0gZ3JvdXBPcmRlci5nZXQoYi5pdC5ncm91cCk7XG4gICAgICAgIGlmIChnYSAhPT0gZ2IpXG4gICAgICAgICAgICByZXR1cm4gZ2EgLSBnYjtcbiAgICAgICAgaWYgKGEuaXQubGFiZWwgIT09IGIuaXQubGFiZWwpXG4gICAgICAgICAgICByZXR1cm4gYS5pdC5sYWJlbCAtIGIuaXQubGFiZWw7XG4gICAgICAgIC8vIFRpZS1icmVha2VyIHRvIGVuc3VyZSBzdGFiaWxpdHkgZm9yIGlkZW50aWNhbCAoZ3JvdXAsIGxhYmVsKS5cbiAgICAgICAgcmV0dXJuIGEuaSAtIGIuaTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5kZXhlZC5tYXAoKHgpID0+IHguaXQpO1xufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG4vKipcbiAqIENyZWF0ZXMgYSBrZXktc2NvcGVkIOKAnG1hcCB0YWJsZeKAnSB0aGF0IHN0b3JlcyBhIHJlY29yZCBgeyBbcGFnZUtleV06IFQgfWBcbiAqIHVuZGVyIGEgc2luZ2xlIHJvb3Qga2V5IGluIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAuXG4gKlxuICogVXNlIHRoaXMgZm9yIHBlci1wYWdlIG9yIHBlci1zY29wZSBzdGF0ZSB3aGVyZSB2YWx1ZXMgYXJlIGRpc3Rpbmd1aXNoZWQgYnkgYSByb3cga2V5LlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIFZhbHVlIHR5cGUgc3RvcmVkIHBlciByb3cuXG4gKiBAcGFyYW0gcm9vdEtleSAtIFJvb3Qga2V5ICh3aXRob3V0IG5hbWVzcGFjZSBwcmVmaXgpIHVuZGVyIHdoaWNoIHRoZSBlbnRpcmUgbWFwIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSBkZWZhdWx0T2YgLSBPcHRpb25hbCBmYWN0b3J5IHRoYXQgcmV0dXJucyBhIGRlZmF1bHQgdmFsdWUgd2hlbiBhIHJvdyBpcyBtaXNzaW5nLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggQ1JVRCBoZWxwZXJzIGZvciB0aGUgdGFibGU6IGB7IGtleSwgcmVhZEFsbCwgd3JpdGVBbGwsIGdldCwgc2V0LCByZW1vdmUsIGNsZWFyIH1gLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWFwVGFibGUocm9vdEtleSwgZGVmYXVsdE9mKSB7XG4gICAgY29uc3QgS0VZID0gcm9vdEtleTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgZW50aXJlIHN0YXRlIG1hcCBmcm9tIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgZm9yIHRoaXMgdGFibGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgZnVsbCBzdGF0ZSBtYXA7IHJldHVybnMgYW4gZW1wdHkgb2JqZWN0IHdoZW4gbm90aGluZyBpcyBzdG9yZWQuXG4gICAgICogQHJlbWFya3MgUGVyZm9ybXMgc3RvcmFnZSBJL08gb24gZXZlcnkgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZWFkQWxsKCkge1xuICAgICAgICBjb25zdCByYXcgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoS0VZKTtcbiAgICAgICAgcmV0dXJuIHJhd1tLRVldID8/IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJzaXN0cyB0aGUgZW50aXJlIHN0YXRlIG1hcCB0byBgY2hyb21lLnN0b3JhZ2UubG9jYWxgIGZvciB0aGlzIHRhYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hcCAtIFRoZSBjb21wbGV0ZSBzdGF0ZSBtYXAgdG8gd3JpdGUuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHdyaXRlIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiB3cml0ZUFsbChtYXApIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW0tFWV06IG1hcCB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgc2luZ2xlIHJvdyBieSBpdHMgcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgKGUuZy4sIHBhZ2UgaWRlbnRpZmllcikuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHN0b3JlZCB2YWx1ZTsgaWYgbWlzc2luZyBhbmQgYGRlZmF1bHRPZmAgaXMgcHJvdmlkZWQsIHRoYXQgZGVmYXVsdCBpcyByZXR1cm5lZC5cbiAgICAgKiBAcmVtYXJrcyBXaGVuIGBkZWZhdWx0T2ZgIGlzIG5vdCBwcm92aWRlZCBhbmQgdGhlIHJvdyBpcyBtaXNzaW5nLCBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZCAodHlwZWQgYXMgYFRgKS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBnZXQocGFnZUtleSkge1xuICAgICAgICBjb25zdCBtYXAgPSBhd2FpdCByZWFkQWxsKCk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gbWFwW3BhZ2VLZXldO1xuICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgaWYgKGRlZmF1bHRPZilcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0T2YocGFnZUtleSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwc2VydHMgYSBzaW5nbGUgcm93IGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgdG8gd3JpdGUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gcGVyc2lzdC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXQocGFnZUtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBtYXBbcGFnZUtleV0gPSB2YWx1ZTtcbiAgICAgICAgYXdhaXQgd3JpdGVBbGwobWFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHNpbmdsZSByb3cgZm9yIHRoZSBnaXZlbiBwYWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlS2V5IC0gUm93IGtleSB0byBkZWxldGUuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHBhZ2VLZXkpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBpZiAocGFnZUtleSBpbiBtYXApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBtYXBbcGFnZUtleV07XG4gICAgICAgICAgICBhd2FpdCB3cml0ZUFsbChtYXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZW50aXJlIHRhYmxlIChyZW1vdmVzIGFsbCByb3dzIHVuZGVyIHRoaXMgcm9vdCBrZXkpLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICBhd2FpdCB3cml0ZUFsbCh7fSk7XG4gICAgfVxuICAgIHJldHVybiB7IGtleTogS0VZLCByZWFkQWxsLCB3cml0ZUFsbCwgZ2V0LCBzZXQsIHJlbW92ZSwgY2xlYXIgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGtleS1zY29wZWQg4oCcc2luZ2xldG9u4oCdIHN0b3JlIHRoYXQgc2F2ZXMgYSBzaW5nbGUgdmFsdWUgZGlyZWN0bHlcbiAqIHVuZGVyIHRoZSBnaXZlbiByb290IGtleSBpbiBgY2hyb21lLnN0b3JhZ2UubG9jYWxgLlxuICpcbiAqIFVzZSB0aGlzIGZvciBnbG9iYWwgc2V0dGluZ3Mgb3IgYW55IGNvbmZpZ3VyYXRpb24gdGhhdCBpcyBub3Qga2V5ZWQgYnkgcGFnZS5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgLSBWYWx1ZSB0eXBlIHN0b3JlZCBhcyBhIHNpbmdsZXRvbi5cbiAqIEBwYXJhbSByb290S2V5IC0gUm9vdCBrZXkgKHdpdGhvdXQgbmFtZXNwYWNlIHByZWZpeCkgdW5kZXIgd2hpY2ggdGhlIHZhbHVlIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSBkZWZhdWx0RmFjdG9yeSAtIEZhY3RvcnkgZnVuY3Rpb24gdG8gbGF6aWx5IHN1cHBseSB0aGUgZGVmYXVsdCB3aGVuIG5vIHZhbHVlIGV4aXN0cy5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIGhlbHBlcnMgZm9yIHRoZSBzaW5nbGV0b246IGB7IGtleSwgZ2V0LCBzZXQsIHJlbW92ZSB9YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNpbmdsZXRvbihyb290S2V5LCBkZWZhdWx0RmFjdG9yeSkge1xuICAgIGNvbnN0IEtFWSA9IHJvb3RLZXk7XG4gICAgLyoqXG4gICAgICogUmVhZHMgdGhlIHNpbmdsZXRvbiB2YWx1ZSBmcm9tIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgc3RvcmVkIHZhbHVlOyBmYWxscyBiYWNrIHRvIGBkZWZhdWx0RmFjdG9yeSgpYCB3aGVuIG1pc3NpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBjb25zdCByYXcgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoS0VZKTtcbiAgICAgICAgY29uc3QgdmFsID0gcmF3W0tFWV07XG4gICAgICAgIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRGYWN0b3J5KCkgOiB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgc2luZ2xldG9uIHZhbHVlIHRvIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBwZXJzaXN0LlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBbS0VZXTogdmFsdWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHNpbmdsZXRvbiB2YWx1ZSBmcm9tIHN0b3JhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoS0VZKTtcbiAgICB9XG4gICAgcmV0dXJuIHsga2V5OiBLRVksIGdldCwgc2V0LCByZW1vdmUgfTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRTY3JlZW5TdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgZGVmYXVsdFNpemU6IDE0LFxuICAgICAgICBkZWZhdWx0Q29sb3I6ICdCbHVlJyxcbiAgICAgICAgZGVmYXVsdFNoYXBlOiAnY2lyY2xlJyxcbiAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiAnTnVtYmVycycsXG4gICAgICAgIGRlZmF1bHRWaXNpYmxlOiB0cnVlLFxuICAgICAgICBkZWZhdWx0UG9zaXRpb246ICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAgICAgZGVmYXVsdEdyb3VwOiBVTkdST1VQRURfVkFMVUUsXG4gICAgfTtcbn1cbi8qKlxuICogVGFibGUgZm9yIHBlci1wYWdlIGBTY3JlZW5TdGF0ZWAgdmFsdWVzLlxuICogRWFjaCByb3cgaXMgYWRkcmVzc2VkIGJ5IGEgcGFnZSBrZXk7IG1pc3Npbmcgcm93cyBmYWxsIGJhY2sgdG8gYGRlZmF1bHRTY3JlZW5TdGF0ZSgpYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNjcmVlblN0YXRlVGFibGUgPSBjcmVhdGVNYXBUYWJsZSgnc2NyZWVuU3RhdGVCeVBhZ2UnLCAoKSA9PiBkZWZhdWx0U2NyZWVuU3RhdGUoKSk7XG4vKipcbiAqIFNpbmdsZXRvbiBmb3IgZ2xvYmFsIHRoZW1lIG1vZGUuXG4gKiBTdG9yZXMgYSBzaW5nbGUgYFRoZW1lTW9kZWAgdmFsdWU7IGRlZmF1bHRzIHRvIGAnZGV2aWNlJ2Agd2hlbiBub3Qgc2V0LlxuICovXG5leHBvcnQgY29uc3QgdGhlbWVUYWJsZSA9IGNyZWF0ZVNpbmdsZXRvbigndGhlbWVNb2RlJywgKCkgPT4gJ2RldmljZScpO1xuIiwiaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG4vKipcbiAqIEFwcGxpZXMgYSBwYXRjaCAoYWRkL3VwZGF0ZS9yZW1vdmUpIHRvIHRoZSBzdGF0ZSBmb3IgdGhlIGdpdmVuIHBhZ2Uga2V5LFxuICogcmVsYWJlbHMgc2VxdWVudGlhbGx5IGlmIGFueSByZW1vdmFsIG9jY3VycmVkLCBwZXJzaXN0cyB0aGUgcmVzdWx0LFxuICogYW5kIHJldHVybnMgdGhlIHVwZGF0ZWQgc3RhdGUuXG4gKlxuICogQHBhcmFtIHBhZ2VLZXlTdHIgLSBQYWdlIGtleSBvZiB0aGUgc3RhdGUgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHBhdGNoIC0gQ2hhbmdlcyB0byBhcHBseSB0byB0aGUgc3RhdGUuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgdXBkYXRlZCBTY3JlZW5TdGF0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5UGF0Y2gocGFnZUtleSwgcGF0Y2gpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHBhZ2VLZXkpO1xuICAgIGlmIChwYXRjaC5yZW1vdmVkSWRzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdG9SZW1vdmUgPSBuZXcgU2V0KHBhdGNoLnJlbW92ZWRJZHMpO1xuICAgICAgICBzdGF0ZS5pdGVtcyA9IHN0YXRlLml0ZW1zLmZpbHRlcigoaXQpID0+ICF0b1JlbW92ZS5oYXMoaXQuaWQpKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoLmFkZGVkPy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCBhIG9mIHBhdGNoLmFkZGVkKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHN0YXRlLm5leHRJZCsrO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGNvbnN0IGl0ID0ge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYS5hbmNob3IsXG4gICAgICAgICAgICAgICAgc2l6ZTogYS5zaXplID8/IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBhLmNvbG9yID8/IHN0YXRlLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBzaGFwZTogYS5zaGFwZSA/PyBzdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgbGFiZWxGb3JtYXQ6IGEubGFiZWxGb3JtYXQgPz8gc3RhdGUuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgIHZpc2libGU6IGEudmlzaWJsZSA/PyBzdGF0ZS5kZWZhdWx0VmlzaWJsZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYS5wb3NpdGlvbiA/PyBzdGF0ZS5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZ3JvdXA6IGEuZ3JvdXAgPz8gc3RhdGUuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGEuY29tbWVudCA/PyAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5pdGVtcy5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZS5pdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoc3RhdGUuaXRlbXMpO1xuICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUuc2V0KHBhZ2VLZXksIHN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGU7XG59XG4vKipcbiAqIFRvZ2dsZXMgc2VsZWN0aW9uIGZvciB0aGUgZ2l2ZW4gYW5jaG9ycyAoZnJvbSBDb250ZW50KTogaWYgYW4gYW5jaG9yIGFscmVhZHlcbiAqIGV4aXN0cywgcmVtb3ZlIGl0OyBvdGhlcndpc2UgYWRkIGl0LiBEZWR1cGUgaW5jb21pbmcgYW5jaG9ycyBieSBgdmFsdWVgLFxuICogYXBwbHkgdGhlIGNvcnJlc3BvbmRpbmcgcGF0Y2gsIHBlcnNpc3QsIGFuZCByZXR1cm4gdGhlIGxhdGVzdCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gcGFnZUtleVN0ciAtIFBhZ2Uga2V5IG9mIHRoZSBzdGF0ZSB0byB1cGRhdGUuXG4gKiBAcGFyYW0gYW5jaG9ycyAtIEFuY2hvcnMgcmVwb3J0ZWQgYnkgQ29udGVudC5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSB1cGRhdGVkIFNjcmVlblN0YXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWQocGFnZUtleSwgYW5jaG9ycykge1xuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQocGFnZUtleSk7XG4gICAgY29uc3QgdW5pcSA9IEFycmF5LmZyb20obmV3IFNldChhbmNob3JzLm1hcCgoYSkgPT4gYS52YWx1ZSkpKVxuICAgICAgICAubWFwKCh2KSA9PiBhbmNob3JzLmZpbmQoKGEpID0+IGEudmFsdWUgPT09IHYpKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGNvbnN0IHJlbW92ZWRJZHMgPSBbXTtcbiAgICBjb25zdCB0b0FkZCA9IFtdO1xuICAgIGZvciAoY29uc3QgYSBvZiB1bmlxKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gc3RhdGUuaXRlbXMuZmluZCgoaXQpID0+IGl0LmFuY2hvci5raW5kID09PSBhLmtpbmQgJiYgaXQuYW5jaG9yLnZhbHVlID09PSBhLnZhbHVlKTtcbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkSWRzLnB1c2goZm91bmQuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9BZGQucHVzaCh7IGFuY2hvcjogYSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXRjaCA9IHt9O1xuICAgIGlmIChyZW1vdmVkSWRzLmxlbmd0aClcbiAgICAgICAgcGF0Y2gucmVtb3ZlZElkcyA9IHJlbW92ZWRJZHM7XG4gICAgaWYgKHRvQWRkLmxlbmd0aClcbiAgICAgICAgcGF0Y2guYWRkZWQgPSB0b0FkZDtcbiAgICByZXR1cm4gYXBwbHlQYXRjaChwYWdlS2V5LCBwYXRjaCk7XG59XG4vKipcbiAqIFJlbGFiZWxzIGl0ZW1zIGNvbnNlY3V0aXZlbHkgKDEuLm4pICp3aXRoaW4gZWFjaCBncm91cCogYW5kIHJlcG9ydHNcbiAqIHRoZSBjdXJyZW50IHNpemUgb2YgdGhlIFwibm8gZ3JvdXBcIiBidWNrZXQuXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gVGhlIG9yaWdpbmFsIGxpc3Qgb2YgaXRlbXMgKHRyZWF0ZWQgaW1tdXRhYmx5KS5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBub3JtYWxpemVkIGl0ZW1zIGFuZCB0aGUgbm8tZ3JvdXAgY291bnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7IC8vICcnIGlzIHVuaWZpZWQgYXMgVW5Hcm91cFxuICAgIC8vIEJ1Y2tldCBbaW5kZXgsIGl0ZW1dIGZvciBlYWNoIGdyb3VwXG4gICAgY29uc3QgYnVja2V0cyA9IG5ldyBNYXAoKTtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBub3JtYWxpemUoaXRlbS5ncm91cCk7XG4gICAgICAgIGlmICghYnVja2V0cy5oYXMoa2V5KSlcbiAgICAgICAgICAgIGJ1Y2tldHMuc2V0KGtleSwgW10pO1xuICAgICAgICBidWNrZXRzLmdldChrZXkpLnB1c2goeyBpbmRleCwgaXRlbSB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBvdXQgPSBpdGVtcy5zbGljZSgpO1xuICAgIC8vIFNvcnQgZWFjaCBncm91cCDihpIgUmVhc3NpZ24gMS4ublxuICAgIGZvciAoY29uc3QgWywgYnVja2V0XSBvZiBidWNrZXRzKSB7XG4gICAgICAgIGJ1Y2tldC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5pdGVtLmxhYmVsICE9PSBiLml0ZW0ubGFiZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaXRlbS5sYWJlbCAtIGIuaXRlbS5sYWJlbDtcbiAgICAgICAgICAgIHJldHVybiBhLml0ZW0uaWQgLSBiLml0ZW0uaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBidWNrZXQuZm9yRWFjaCgoeyBpbmRleCwgaXRlbSB9LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXNpcmVkID0gaSArIDE7XG4gICAgICAgICAgICBpZiAoaXRlbS5sYWJlbCAhPT0gZGVzaXJlZCkge1xuICAgICAgICAgICAgICAgIG91dFtpbmRleF0gPSB7IC4uLml0ZW0sIGxhYmVsOiBkZXNpcmVkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiY29uc3QgaTE4biA9IHsgZ2V0LCBsb2NhbGl6ZSB9O1xuLyoqXG4gKiBSZXRyaWV2ZXMgYSBsb2NhbGl6ZWQgbWVzc2FnZSBieSBrZXkuIEZhbGxzIGJhY2sgdG8gdGhlIGtleSBpdHNlbGYgd2hlbiBub3QgZm91bmQuXG4gKlxuICogQHBhcmFtIGtleSAtIEtleSBkZWZpbmVkIGluIF9sb2NhbGVzL21lc3NhZ2VzLmpzb25cbiAqIEBwYXJhbSBzdWJzIC0gT3B0aW9uYWwgc3Vic3RpdHV0aW9uIGFyZ3VtZW50c1xuICogQHJldHVybnMgTG9jYWxpemVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBnZXQoa2V5LCBzdWJzKSB7XG4gICAgcmV0dXJuIGNocm9tZS5pMThuLmdldE1lc3NhZ2Uoa2V5LCBzdWJzKSB8fCBrZXk7XG59XG4vKipcbiAqIFdhbGtzIHRoZSBET00gYW5kIGFwcGxpZXMgbG9jYWxpemVkIHN0cmluZ3MgdG8gZWxlbWVudHMgd2l0aFxuICogYGRhdGEtaTE4bmAgYW5kIGBkYXRhLWkxOG4tYXR0cmAuXG4gKlxuICogQHBhcmFtIHJvb3QgLSBSb290IG5vZGUgdG8gbG9jYWxpemUgKGRlZmF1bHRzIHRvIGRvY3VtZW50KVxuICogQHJlbWFya3NcbiAqIC0gYGRhdGEtaTE4bmAgcmVwbGFjZXMgYHRleHRDb250ZW50YC5cbiAqIC0gYGRhdGEtaTE4bi1hdHRyYCB1c2VzIGBhdHRyOmtleTthdHRyOmtleTsuLi5gIHRvIHNldCBhdHRyaWJ1dGVzLlxuICogLSBNdXRhdGVzIHRoZSBET00gaW4gcGxhY2UuXG4gKi9cbmZ1bmN0aW9uIGxvY2FsaXplKHJvb3QgPSBkb2N1bWVudCkge1xuICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaTE4bl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bicpO1xuICAgICAgICBpZiAoa2V5KVxuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBnZXQoa2V5KTtcbiAgICB9KTtcbiAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWkxOG4tYXR0cl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBzcGVjID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWkxOG4tYXR0cicpO1xuICAgICAgICBpZiAoIXNwZWMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBzcGVjLnNwbGl0KCc7JykpIHtcbiAgICAgICAgICAgIGNvbnN0IFthdHRyLCBrZXldID0gcGFpci5zcGxpdCgnOicpLm1hcCgocykgPT4gcz8udHJpbSgpKTtcbiAgICAgICAgICAgIGlmIChhdHRyICYmIGtleSlcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ciwgZ2V0KGtleSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBpMThuO1xuIiwiaW1wb3J0IGkxOG4gZnJvbSAnQGNvbW1vbi9pMThuJztcbmV4cG9ydCBjb25zdCBTVEFUVVMgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ1JFU1RSSUNURUQnLFxuICAgIENPTk5FQ1RJTkc6ICdDT05ORUNUSU5HJyxcbiAgICBDT05ORUNURUQ6ICdDT05ORUNURUQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ0RJU0NPTk5FQ1RFRCcsXG59O1xuY29uc3QgU1RBVFVTX01TR19LRVkgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ3N0YXR1c19yZXN0cmljdGVkJyxcbiAgICBDT05ORUNUSU5HOiAnc3RhdHVzX2Nvbm5lY3RpbmcnLFxuICAgIENPTk5FQ1RFRDogJ3N0YXR1c19jb25uZWN0ZWQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ3N0YXR1c19kaXNjb25uZWN0ZWQnLFxufTtcbmV4cG9ydCBjb25zdCBTVEFUVVNfQ0xBU1NfQllfS0VZID0ge1xuICAgIFJFU1RSSUNURUQ6ICdjb25uZWN0LXN0YXR1cy0tcmVzdHJpY3RlZCcsXG4gICAgQ09OTkVDVElORzogJ2Nvbm5lY3Qtc3RhdHVzLS1jb25uZWN0aW5nJyxcbiAgICBDT05ORUNURUQ6ICdjb25uZWN0LXN0YXR1cy0tY29ubmVjdGVkJyxcbiAgICBESVNDT05ORUNURUQ6ICdjb25uZWN0LXN0YXR1cy0tZGlzY29ubmVjdGVkJyxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzTWVzc2FnZShrZXkpIHtcbiAgICBjb25zdCBtc2dLZXkgPSBTVEFUVVNfTVNHX0tFWVtrZXldO1xuICAgIHJldHVybiBpMThuLmdldChtc2dLZXkpIHx8IG1zZ0tleTtcbn1cbiIsIi8qKlxuICogQWN0aW9uVHlwZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFuIGV4aGF1c3RpdmUgbGlzdCBvZiAqYXBwbGljYXRpb24tbGV2ZWwgZXZlbnRzKiBjb25zdW1lZCBieSB0aGUgcmVkdWNlciAodXBkYXRlLnRzKS5cbiAqIE9yaWdpbnM6XG4gKiAgIC0gVmlldyBVSSBldmVudHMgKG5vcm1hbGl6ZWQgYnkgdGhlIENvbnRyb2xsZXIpXG4gKiAgIC0gTWVzc2FnZXMgZnJvbSBDb250ZW50L0JhY2tncm91bmQgc2NyaXB0c1xuICogICAtIFJlc3VsdHMgb2YgYXN5bmMgSS9PIChjYXB0dXJlIHN1Y2Nlc3MvZmFpbHVyZSwgZXRjLilcbiAqIFVzYWdlOlxuICogICAtIEFjdHMgYXMgdGhlIGRpc2NyaW1pbmFudCBmb3IgYHN3aXRjaChhY3Rpb24udHlwZSlgIGluIHRoZSByZWR1Y2VyXG4gKiAgIC0gUHVyZWx5IGRldGVybWluZXMgaG93IHRoZSBNb2RlbCB0cmFuc2l0aW9ucyAobm8gc2lkZSBlZmZlY3RzIGhlcmUpXG4gKi9cbmV4cG9ydCB2YXIgQWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoQWN0aW9uVHlwZSkge1xuICAgIC8qKiBBcHAgYm9vdHN0cmFwIC8gc3RhcnQgKi9cbiAgICBBY3Rpb25UeXBlW1wiSU5JVFwiXSA9IFwiSU5JVFwiO1xuICAgIC8qKiBBY3RpdmUgdGFiIHJlc29sdmVkIGFuZCBjb25uZWN0aW9uIGVzdGFibGlzaGVkICh0YWJJZC9wYWdlS2V5IGRlY2lkZWQpICovXG4gICAgQWN0aW9uVHlwZVtcIkNPTk5FQ1RFRFwiXSA9IFwiQ09OTkVDVEVEXCI7XG4gICAgLyoqIFVwZGF0ZSBwYW5lbCBzdGF0dXMgKENPTk5FQ1RJTkcgLyBDT05ORUNURUQgLyBSRVNUUklDVEVEIC8gRElTQ09OTkVDVEVELCBldGMuKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfU1RBVFVTXCJdID0gXCJTRVRfU1RBVFVTXCI7XG4gICAgLyoqIFJlc3RvcmUgcGVyc2lzdGVkIHN0YXRlOiBpdGVtcyBhbmQgZGVmYXVsdHMgKHNpemUvY29sb3Ivc2hhcGUpICovXG4gICAgQWN0aW9uVHlwZVtcIlJFU1RPUkVfU1RBVEVcIl0gPSBcIlJFU1RPUkVfU1RBVEVcIjtcbiAgICAvKiogT3ZlcndyaXRlcyB0aGUgc2V0IG9mIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBwcmVzZW50IGluIHRoZSBjb250ZW50ICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9NSVNTSU5HX0lEU1wiXSA9IFwiU0VUX01JU1NJTkdfSURTXCI7XG4gICAgLyoqIFRvZ2dsZSBzZWxlY3Rpb24gbW9kZSBvbiB0aGUgcGFnZSBvdmVybGF5ICovXG4gICAgQWN0aW9uVHlwZVtcIlRPR0dMRV9TRUxFQ1RcIl0gPSBcIlRPR0dMRV9TRUxFQ1RcIjtcbiAgICAvKiogQ2xlYXIgYWxsIHNlbGVjdGlvbnMgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0xFQVJfQUxMXCJdID0gXCJDTEVBUl9BTExcIjtcbiAgICAvKiogQ29udGVudCDihpIgUGFuZWw6IGFuY2hvcnMgd2VyZSB0b2dnbGVkIChzZWxlY3RlZC91bnNlbGVjdGVkKSBvbiB0aGUgcGFnZSAqL1xuICAgIEFjdGlvblR5cGVbXCJDT05URU5UX1NFTEVDVEVEXCJdID0gXCJDT05URU5UX1NFTEVDVEVEXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIHNpemUgKGFsc28gYXBwbHkgdG8gZXhpc3RpbmcgaXRlbXMpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9CQURHRV9TSVpFXCJdID0gXCJTRVRfQkFER0VfU0laRVwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBjb2xvciAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX0NPTE9SXCJdID0gXCJTRVRfQkFER0VfQ09MT1JcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2Ugc2hhcGUgKGFsc28gYXBwbHkgdG8gZXhpc3RpbmcgaXRlbXMpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9CQURHRV9TSEFQRVwiXSA9IFwiU0VUX0JBREdFX1NIQVBFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIGxhYmVsIGZvcm1hdCAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX0xBQkVMX0ZPUk1BVFwiXSA9IFwiU0VUX0JBREdFX0xBQkVMX0ZPUk1BVFwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSB2aXNhYmxlIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfVklTSUJMRVwiXSA9IFwiU0VUX0JBREdFX1ZJU0lCTEVcIjtcbiAgICAvKiogRGVsZXRlIHRoZSBzZWxlY3RlZCBiYWRnZSAqL1xuICAgIEFjdGlvblR5cGVbXCJCQURHRV9ERUxFVEVcIl0gPSBcIkJBREdFX0RFTEVURVwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBwb3NpdGlvbiAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1BPU0lUSU9OXCJdID0gXCJTRVRfQkFER0VfUE9TSVRJT05cIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgZm9ybWF0IChwbmcvanBlZykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfRk9STUFUXCJdID0gXCJTRVRfQ0FQVFVSRV9GT1JNQVRcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgYXJlYSAoZnVsbC92aWV3cG9ydCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfQVJFQVwiXSA9IFwiU0VUX0NBUFRVUkVfQVJFQVwiO1xuICAgIC8qKiBVcGRhdGUgSlBFRyBxdWFsaXR5ICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIl0gPSBcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgc2NhbGUgZmFjdG9yICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1NDQUxFXCJdID0gXCJTRVRfQ0FQVFVSRV9TQ0FMRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgQWN0aW9uVHlwZVtcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCJdID0gXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgQWN0aW9uVHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIHJ1biBhIGNhcHR1cmUgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0FQVFVSRV9SRVFVRVNURURcIl0gPSBcIkNBUFRVUkVfUkVRVUVTVEVEXCI7XG4gICAgLyoqIENhcHR1cmUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX1NVQ0NFRURFRFwiXSA9IFwiQ0FQVFVSRV9TVUNDRUVERURcIjtcbiAgICAvKiogQ2FwdHVyZSBmYWlsZWQgd2l0aCBhbiBlcnJvciAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX0ZBSUxFRFwiXSA9IFwiQ0FQVFVSRV9GQUlMRURcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVPUkRFUl9JVEVNU1wiXSA9IFwiUkVPUkRFUl9JVEVNU1wiO1xuICAgIC8qKiBVcGRhdGUgYSBncm91cCBvZiBlbGVtZW50cyAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfR1JPVVBcIl0gPSBcIlNFVF9HUk9VUFwiO1xuICAgIC8qKiBQb3J0IGRpc2Nvbm5lY3RlZCAobG9zdCBjb25uZWN0aW9uIHRvIENvbnRlbnQvU2VydmljZSBXb3JrZXIpICovXG4gICAgQWN0aW9uVHlwZVtcIlBPUlRfRElTQ09OTkVDVEVEXCJdID0gXCJQT1JUX0RJU0NPTk5FQ1RFRFwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIGNsb3NlIHRoZSBwYW5lbCB3aGVuIHRoZSB0YWJJZCBtYXRjaGVzIChCYWNrZ3JvdW5kIOKGkiBQYW5lbCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0xPU0VfUEFORUxfUkVRVUVTVEVEXCJdID0gXCJDTE9TRV9QQU5FTF9SRVFVRVNURURcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIl0gPSBcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIjtcbiAgICAvKiogU3RhcnQgaXRlbSBob3ZlciAqL1xuICAgIEFjdGlvblR5cGVbXCJJVEVNX0hPVkVSX0lOXCJdID0gXCJJVEVNX0hPVkVSX0lOXCI7XG4gICAgLyoqIEVuZCBpdGVtIGhvdmVyICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBQZXJzaXN0IHRoZSBlZGl0ZWQgY29tbWVudCB0ZXh0IGZvciB0aGUgdGFyZ2V0ZWQgaXRlbSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfSVRFTV9DT01NRU5UXCJdID0gXCJVUERBVEVfSVRFTV9DT01NRU5UXCI7XG4gICAgLyoqIFNldGUgVUkgdGhlbWUgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX1RIRU1FXCJdID0gXCJTRVRfVEhFTUVcIjtcbiAgICAvKiogVXBkYXRlIHRoZSBVSSB0aGVtZSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfVEhFTUVcIl0gPSBcIlVQREFURV9USEVNRVwiO1xuICAgIC8qKiBEaXNwYXRjaGVkIHRvIHJlcXVlc3QgcmVsb2FkaW5nIHRoZSBsYXRlc3QgZGF0YSAqL1xuICAgIEFjdGlvblR5cGVbXCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEXCJdID0gXCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEXCI7XG4gICAgLyoqIERpc3BhdGNoZWQgYWZ0ZXIgdGhlIHN0b3JlIGlzIHN1Y2Nlc3NmdWxseSByZWxvYWRlZCB3aXRoIHRoZSBsYXRlc3QgZGF0YSAqL1xuICAgIEFjdGlvblR5cGVbXCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEXCJdID0gXCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEXCI7XG4gICAgLyoqIEltcG9ydCBhIFNjcmVlblN0YXRlIGZyb20gYSBzZWxlY3RlZCBKU09OIGZpbGUuICovXG4gICAgQWN0aW9uVHlwZVtcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiXSA9IFwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCI7XG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgaW1wb3J0IG9wZXJhdGlvbiBzdWNjZWVkcy4gKi9cbiAgICBBY3Rpb25UeXBlW1wiSU1QT1JUX1NVQ0NFRURFRFwiXSA9IFwiSU1QT1JUX1NVQ0NFRURFRFwiO1xuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGltcG9ydCBvcGVyYXRpb24gZmFpbHMuICovXG4gICAgQWN0aW9uVHlwZVtcIklNUE9SVF9GQUlMRURcIl0gPSBcIklNUE9SVF9GQUlMRURcIjtcbiAgICAvKiogRGlzbWlzcyBhIHRvYXN0IGJ5IFVVSUQgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIl0gPSBcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCI7XG4gICAgLyoqIFJlbW92ZSBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFXCJdID0gXCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIjtcbiAgICAvKiogRXhwb3J0IHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEFjdGlvblR5cGVbXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIl0gPSBcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiO1xuICAgIC8qKiBFeHBvcnQgZmFpbGVkIHdpdGggYW4gZXJyb3IgKi9cbiAgICBBY3Rpb25UeXBlW1wiRVhQT1JUX0ZBSUxFRFwiXSA9IFwiRVhQT1JUX0ZBSUxFRFwiO1xufSkoQWN0aW9uVHlwZSB8fCAoQWN0aW9uVHlwZSA9IHt9KSk7XG4iLCIvKipcbiAqIEVmZmVjdFR5cGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIGRlY2xhcmF0aXZlIHNldCBvZiAqc2lkZS1lZmZlY3QgcmVxdWVzdHMqIHByb2R1Y2VkIGJ5IHRoZSByZWR1Y2VyLlxuICogRXhlY3V0b3I6XG4gKiAgIC0gVGhlIENvbnRyb2xsZXIgaW50ZXJwcmV0cyBhbmQgcGVyZm9ybXMgZWFjaCBlZmZlY3QgKEkvTywgUlBDLCBwZXJzaXN0ZW5jZSkuXG4gKiBQdXJwb3NlOlxuICogICAtIEtlZXAgdGhlIHJlZHVjZXIgcHVyZSB3aGlsZSBzdGlsbCBlbmFibGluZyBuZWNlc3NhcnkgZXh0ZXJuYWwgZWZmZWN0cy5cbiAqL1xuZXhwb3J0IHZhciBFZmZlY3RUeXBlO1xuKGZ1bmN0aW9uIChFZmZlY3RUeXBlKSB7XG4gICAgLyoqIFB1c2ggdGhlIGN1cnJlbnQgaXRlbXMgdG8gdGhlIENvbnRlbnQgc2NyaXB0IHRvIHJlbmRlciB0aGUgb3ZlcmxheSAqL1xuICAgIEVmZmVjdFR5cGVbXCJSRU5ERVJfQ09OVEVOVFwiXSA9IFwiUkVOREVSX0NPTlRFTlRcIjtcbiAgICAvKiogRW5hYmxlL2Rpc2FibGUgc2VsZWN0aW9uIG1vZGUgb24gdGhlIENvbnRlbnQgc2lkZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlRcIl0gPSBcIlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVFwiO1xuICAgIC8qKiBDbGVhciBvdmVybGF5IG9uIHRoZSBDb250ZW50IHNpZGUgKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0xFQVJfQ09OVEVOVFwiXSA9IFwiQ0xFQVJfQ09OVEVOVFwiO1xuICAgIC8qKiBpdGVtIGhvdmVyICovXG4gICAgRWZmZWN0VHlwZVtcIkhPVkVSXCJdID0gXCJIT1ZFUlwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgRWZmZWN0VHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSdW4gYSBjYXB0dXJlIHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnMgKHRhYklkL2Zvcm1hdC9hcmVhL3F1YWxpdHkvc2NhbGUpICovXG4gICAgRWZmZWN0VHlwZVtcIkNBUFRVUkVcIl0gPSBcIkNBUFRVUkVcIjtcbiAgICAvKiogUGVyc2lzdCB0aGUgc3RhdGUgdG8gc3RvcmFnZSB3aXRoIHNlbGVjdGVkIGl0ZW1zIHJlc2V0IChjbGVhcmVkKS4gKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0xFQVJfU1RBVEVcIl0gPSBcIkNMRUFSX1NUQVRFXCI7XG4gICAgLyoqXG4gICAgICogUGVyc2lzdCB0aGUgY3VycmVudCBzdGF0ZSB0byBzdG9yYWdlLlxuICAgICAqIE5PVEU6IE11c3QgcHJlc2VydmUgZXhpc3RpbmcgY291bnRlcnMgKG5leHRJZC9uZXh0TGFiZWwpOyBkbyBub3QgcmVzZXQgdGhlbS5cbiAgICAgKi9cbiAgICBFZmZlY3RUeXBlW1wiUEVSU0lTVF9TVEFURVwiXSA9IFwiUEVSU0lTVF9TVEFURVwiO1xuICAgIC8qKiBTZXRlIFVJIHRoZW1lICovXG4gICAgRWZmZWN0VHlwZVtcIlNFVF9USEVNRVwiXSA9IFwiU0VUX1RIRU1FXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBFZmZlY3RUeXBlW1wiVVBEQVRFX1RIRU1FXCJdID0gXCJVUERBVEVfVEhFTUVcIjtcbiAgICAvKiogUmVhZCB0aGUgc2NyZWVuLXN0YXRlIG1hcCBmcm9tIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkVcIl0gPSBcIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFXCI7XG4gICAgLyoqIEltcG9ydCBhIFNjcmVlblN0YXRlIGZyb20gYSBzZWxlY3RlZCBKU09OIGZpbGUuICovXG4gICAgRWZmZWN0VHlwZVtcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiXSA9IFwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCI7XG4gICAgLyoqIFJlbW92ZSBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWVwiXSA9IFwiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWVwiO1xuICAgIC8qKiBFeHBvcnQgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgRWZmZWN0VHlwZVtcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVlcIl0gPSBcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVlcIjtcbiAgICAvKiogUmVwb3J0L2xvZyBhbiBlcnJvciAoYW5kIG9wdGlvbmFsbHkgc3VyZmFjZSBpdCB0byB0aGUgVUkpICovXG4gICAgRWZmZWN0VHlwZVtcIk5PVElGWV9FUlJPUlwiXSA9IFwiTk9USUZZX0VSUk9SXCI7XG59KShFZmZlY3RUeXBlIHx8IChFZmZlY3RUeXBlID0ge30pKTtcbiIsImV4cG9ydCBjb25zdCBQUk9UT0NPTF9WRVJTSU9OID0gMTtcbmV4cG9ydCBjb25zdCBDSEFOTkVMID0ge1xuICAgIFBBTkVMX0NPTlRFTlQ6IGBzcHNrOnBhbmVsLWNvbnRlbnQ6diR7UFJPVE9DT0xfVkVSU0lPTn1gLFxufTtcbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIFBvcnQubmFtZSBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgY2hhbm5lbC5cbiAqIFVzZSB0aGlzIHRvIHNhZmVseSBkaXN0aW5ndWlzaCBjb25uZWN0aW9uIHR5cGVzIGJldHdlZW4gUGFuZWwgYW5kIENvbnRlbnQuXG4gKlxuICogQHBhcmFtIHBvcnQgLSBBIGNvbm5lY3RlZCBydW50aW1lLlBvcnRcbiAqIEBwYXJhbSBuYW1lIC0gVGFyZ2V0IGNoYW5uZWwgbmFtZSB0byBjb21wYXJlXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwb3J0IGJlbG9uZ3MgdG8gdGhlIGNoYW5uZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhbm5lbChwb3J0LCBuYW1lKSB7XG4gICAgcmV0dXJuIHBvcnQubmFtZSA9PT0gbmFtZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwb3J0IGlzIHVzZWQgZm9yIFBhbmVsIOKGlCBDb250ZW50IGNvbW11bmljYXRpb24uXG4gKiBBIGNvbnZlbmllbmNlIHdyYXBwZXIgZm9yIENIQU5ORUwuUEFORUxfQ09OVEVOVC5cbiAqXG4gKiBAcGFyYW0gcG9ydCAtIEEgY29ubmVjdGVkIHJ1bnRpbWUuUG9ydFxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcG9ydCBpcyB0aGUgUGFuZWzigJNDb250ZW50IGNoYW5uZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGFuZWxDb250ZW50UG9ydChwb3J0KSB7XG4gICAgcmV0dXJuIGlzQ2hhbm5lbChwb3J0LCBDSEFOTkVMLlBBTkVMX0NPTlRFTlQpO1xufVxuIiwiaW1wb3J0IHsgTVNHX1RZUEUgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbi8qKlxuICogVGhpbiBSUEMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIFBhbmVsIHRvIENvbnRlbnQuXG4gKiBFeHBvc2VzIGhpZ2gtbGV2ZWwgbWV0aG9kcyBmb3IgZWFjaCBtZXNzYWdlIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYW5lbEFwaSB7XG4gICAgcnBjO1xuICAgIGNvbnN0cnVjdG9yKHJwYykge1xuICAgICAgICB0aGlzLnJwYyA9IHJwYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2VuZCBoZWxwZXIgdGhhdCBhdHRhY2hlcyBhbiBSUEMgcmVxdWVzdCBpZCBhcyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYm9keSAtIE1lc3NhZ2UgcGF5bG9hZCB0byBzZW5kXG4gICAgICogQHJldHVybnMgVm9pZC1saWtlIHdoZW4gbm8gcmVwbHkgaXMgZXhwZWN0ZWQ7IG90aGVyd2lzZSByZXNvbHZlcyB3aXRoIGEgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBzZW5kKGJvZHkpIHtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBleHBlY3RSZXBseTogZmFsc2UsXG4gICAgICAgICAgICAuLi5ib2R5LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMuc2VuZChyZXEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBDb250ZW50IHRvIHJlbmRlciB0aGUgZ2l2ZW4gaXRlbXMuXG4gICAgICogQHBhcmFtIGl0ZW1zIC0gSXRlbXMgdG8gZHJhd1xuICAgICAqL1xuICAgIHJlbmRlcihpdGVtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuUkVOREVSLCBwYXlsb2FkOiB7IGl0ZW1zIH0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgc2VsZWN0aW9uIG1vZGUgaW4gQ29udGVudC5cbiAgICAgKiBAcGFyYW0gZW5hYmxlZCAtIFRydWUgdG8gZW5hYmxlXG4gICAgICovXG4gICAgdG9nZ2xlU2VsZWN0KGVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLlRPR0dMRV9TRUxFQ1QsIHBheWxvYWQ6IHsgZW5hYmxlZCB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIENvbnRlbnQgb3ZlcmxheS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLkNMRUFSIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGhvdmVyZWQgaXRlbSBhbmQgcmVxdWVzdCBhIHRyYW5zaWVudCBoaWdobGlnaHQgb24gQ29udGVudC5cbiAgICAgKiBQYXNzIGBudWxsYCB0byBjbGVhciB0aGUgY3VycmVudCBob3ZlciBoaWdobGlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUYXJnZXQgaXRlbSBJRCwgb3IgYG51bGxgIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIGhvdmVyKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5IT1ZFUiwgcGF5bG9hZDogeyBpZCB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgdG8gbWVhc3VyZSB0aGUgY3VycmVudCBjb250ZW50IHNpemUuXG4gICAgICovXG4gICAgbWVhc3VyZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5NRUFTVVJFX1NJWkUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgY29ubmVjdGl2aXR5IGhlYWx0aCBjaGVjayAocm91bmQtdHJpcCkuXG4gICAgICogU2VudCBhcyBhIHJlcXVlc3QgZXhwZWN0aW5nIGEgcmVwbHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UsIG9yIHVuZGVmaW5lZCBvbiB0aW1lb3V0XG4gICAgICovXG4gICAgcGluZygpIHtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBleHBlY3RSZXBseTogdHJ1ZSxcbiAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLlBJTkcsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy5zZW5kKHJlcSwgNTAwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZXNwb25zZSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuLyoqXG4gKiBJbXBsZW1lbnRzIGEgbWluaW1hbCByZXF1ZXN0L3Jlc3BvbnNlIFJQQyBvdmVyIGNocm9tZS5ydW50aW1lLlBvcnQuXG4gKiBUcmFja3MgcGVuZGluZyByZXF1ZXN0cyBieSBpZCBhbmQgaGFuZGxlcyB0aW1lb3V0cyBhbmQgZGlzY29ubmVjdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb3J0UnBjIHtcbiAgICBwb3J0O1xuICAgIHBlbmRpbmcgPSBuZXcgTWFwKCk7XG4gICAgYWxpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gcG9ydCBtZXNzYWdlIGFuZCBkaXNjb25uZWN0IGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gcG9ydCAtIFRoZSBydW50aW1lLlBvcnQgdXNlZCBmb3IgbWVzc2FnaW5nXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocG9ydCkge1xuICAgICAgICB0aGlzLnBvcnQgPSBwb3J0O1xuICAgICAgICB0aGlzLnBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKG1zZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZ2V0KG1zZy5pZCk/Lihtc2cpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUobXNnLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9ydC5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gUmVhc29ucyBzdWNoIGFzIEJGQ2FjaGUgbWF5IGJlIGluY2x1ZGVkXG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I/Lm1lc3NhZ2UgPz8gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgICAgICAgICAvLyBUcmVhdCBwZW5kaW5nIHN0YXR1cyBhcyBmYWlsdXJlIHdoZW4gYSBkaXNjb25uZWN0aW9uIG9jY3Vycy5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCByZXNvbHZlXSBvZiB0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgaWQsIG9rOiBmYWxzZSwgZXJyb3I6IHJlYXNvbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZy5jbGVhcigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gc3RhdHVzXG4gICAgZ2V0IGlzQWxpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaXZlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhbiBSUEMgcmVxdWVzdCBhbmQgb3B0aW9uYWxseSBhd2FpdHMgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXEgLSBUaGUgUlBDIHJlcXVlc3QgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB0aW1lb3V0TXMgLSBUaW1lb3V0IChtcykgd2hlbiB3YWl0aW5nIGZvciBhIHJlcGx5IChkZWZhdWx0IDUwMDApXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIHdoZW4gYGV4cGVjdFJlcGx5YCBpcyB0cnVlOyBvdGhlcndpc2UgdW5kZWZpbmVkXG4gICAgICovXG4gICAgc2VuZChyZXEsIHRpbWVvdXRNcyA9IDUwMDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBhbHJlYWR5IGRpc2Nvbm5lY3RlZCwgaW1tZWRpYXRlbHkgdGVybWluYXRlIChhdm9pZCBVbmNoZWNrZWQgcnVudGltZS5sYXN0RXJyb3IpXG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXEuZXhwZWN0UmVwbHkgPyB1bmRlZmluZWQgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcS5leHBlY3RSZXBseSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUocmVxLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnNldChyZXEuaWQsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UocmVxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICBpZiAocmVxLmV4cGVjdFJlcGx5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5pZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVxLmV4cGVjdFJlcGx5KVxuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IENEUF9WRVJTSU9OID0gJzEuMyc7XG4vKipcbiAqIFdyYXBzIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGludG8gYSBzdGFuZGFyZCBgRXJyb3JgIGluc3RhbmNlLlxuICpcbiAqIEByZXR1cm5zIEFuIGBFcnJvcmAgaWYgYSBsYXN0IGVycm9yIGV4aXN0czsgb3RoZXJ3aXNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gbGFzdEVycm9yKCkge1xuICAgIGNvbnN0IGVyciA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgICByZXR1cm4gZXJyID8gbmV3IEVycm9yKGVyci5tZXNzYWdlIHx8IFN0cmluZyhlcnIpKSA6IG51bGw7XG59XG4vKiogVHJhY2tzIHRhYklkcyB0aGF0IHRoaXMgZXh0ZW5zaW9uIGN1cnJlbnRseSBvd25zIChhdHRhY2hlZCBieSBpdHNlbGYpLiAqL1xuY29uc3QgT1dORUQgPSBuZXcgU2V0KCk7XG4vKiogQ2xlYXJzIG93bmVyc2hpcCBvbiBkZXRhY2ggKGNvdmVycyBleHRlcm5hbCBjYXVzZXMgbGlrZSBvcGVuaW5nL2Nsb3NpbmcgRGV2VG9vbHMpLiAqL1xuY2hyb21lLmRlYnVnZ2VyLm9uRGV0YWNoLmFkZExpc3RlbmVyKChkZWJ1Z2dlZSkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGVidWdnZWUudGFiSWQ7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpXG4gICAgICAgIE9XTkVELmRlbGV0ZShpZCk7XG59KTtcbi8qKlxuICogRGV0YWNoZXMgdGhlIENocm9tZSBEZWJ1Z2dlciAoQ0RQKSBmcm9tIHRoZSBnaXZlbiB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBkZXRhY2ggZnJvbS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgZGV0YWNobWVudCBjb21wbGV0ZXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRldGFjaCh0YXJnZXQpIHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuZGV0YWNoKHRhcmdldCwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcbn1cbi8qKlxuICogU2FmZWx5IGF0dGFjaGVzIHRvIHRoZSB0YXJnZXQuIElmIGEgcHJldmlvdXMgc2Vzc2lvbiBvd25lZCBieSB0aGlzIGV4dGVuc2lvblxuICogaXMgYWxyZWFkeSBhdHRhY2hlZCwgaXQgcmV1c2VzIGl0IGluc3RlYWQgb2YgZmFpbGluZy5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGF0dGFjaCB0byAoZS5nLiwgYHsgdGFiSWQgfWApLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYHRydWVgIHdoZW4gdGhpcyBjYWxsIHBlcmZvcm1lZCBhIG5ldyBhdHRhY2gsXG4gKiAgICAgICAgICBvciBgZmFsc2VgIHdoZW4gYW4gZXhpc3Rpbmcgb3duZWQgc2Vzc2lvbiBpcyByZXVzZWQuXG4gKiBAdGhyb3dzIElmIGFub3RoZXIgY2xpZW50IChEZXZUb29scy9hbm90aGVyIGV4dGVuc2lvbikgaXMgYXR0YWNoZWQsIG9yIG9uIG90aGVyIGF0dGFjaCBlcnJvcnMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHRhY2hPd25lZCh0YXJnZXQpIHtcbiAgICBjb25zdCB0YWJJZCA9IHRhcmdldC50YWJJZCA/PyBudWxsO1xuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNocm9tZS5kZWJ1Z2dlci5hdHRhY2godGFyZ2V0LCBDRFBfVkVSU0lPTiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO1xuICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFiSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgT1dORUQuYWRkKHRhYklkKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOyAvLyBuZXdseSBhdHRhY2hlZCBieSB0aGlzIGNhbGxcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBlcnIubWVzc2FnZSB8fCAnJztcbiAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoJ0Fub3RoZXIgZGVidWdnZXIgaXMgYWxyZWFkeSBhdHRhY2hlZCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBhdHRhY2hlZDogcmV1c2Ugb25seSBpZiBvd25lZCBieSB0aGlzIGV4dGVuc2lvbi5cbiAgICAgICAgICAgICAgICBpZiAodGFiSWQgIT0gbnVsbCAmJiBPV05FRC5oYXModGFiSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOyAvLyByZXVzZSBleGlzdGluZyBvd25lZCBzZXNzaW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdEZWJ1Z2dlciBpcyBhbHJlYWR5IGF0dGFjaGVkIGJ5IGFub3RoZXIgY2xpZW50IChEZXZUb29scy9leHRlbnNpb24pLicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKG1zZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qKlxuICogU2FmZWx5IGRldGFjaGVzIG9ubHkgd2hlbiB0aGUgY3VycmVudCBleHRlbnNpb24gb3ducyB0aGUgc2Vzc2lvbi5cbiAqIE5vLW9wcyBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBvd25lZC5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGRldGFjaCBmcm9tLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgZGV0YWNoaW5nIChvciBpbW1lZGlhdGVseSBpZiBub3Qgb3duZWQpLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGV0YWNoT3duZWQodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFiSWQgPSB0YXJnZXQudGFiSWQgPz8gbnVsbDtcbiAgICBpZiAodGFiSWQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICghT1dORUQuaGFzKHRhYklkKSlcbiAgICAgICAgcmV0dXJuOyAvLyBub3Qgb3duZWQgYnkgdGhpcyBleHRlbnNpb25cbiAgICBhd2FpdCBkZXRhY2godGFyZ2V0KTtcbiAgICBPV05FRC5kZWxldGUodGFiSWQpO1xufVxuLyoqXG4gKiBTZW5kcyBhIENEUCBjb21tYW5kIHRvIHRoZSBhdHRhY2hlZCB0YXJnZXQuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gRXhwZWN0ZWQgcmVzdWx0IHR5cGUgb2YgdGhlIGNvbW1hbmQuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIHdoaWNoIHRoZSBjb21tYW5kIGlzIHNlbnQuXG4gKiBAcGFyYW0gbWV0aG9kIC0gQ0RQIG1ldGhvZCBuYW1lIChlLmcuLCBgJ1BhZ2UuY2FwdHVyZVNjcmVlbnNob3QnYCkuXG4gKiBAcGFyYW0gcGFyYW1zIC0gT3B0aW9uYWwgcGFyYW1ldGVycyBvYmplY3QgZm9yIHRoZSBjb21tYW5kLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29tbWFuZCByZXN1bHQgb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kKHRhcmdldCwgbWV0aG9kLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuc2VuZENvbW1hbmQodGFyZ2V0LCBtZXRob2QsIHBhcmFtcyA/PyB7fSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbGFzdEVycm9yKCk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKChyZXN1bHQgPz8ge30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBpc1Jlc3RyaWN0ZWQgfSBmcm9tICdAY29tbW9uL3VybCc7XG5pbXBvcnQgeyBhdHRhY2hPd25lZCwgZGV0YWNoT3duZWQsIHNlbmQgfSBmcm9tICdAaW5mcmEvY2RwL2NkcF9jbGllbnQnO1xuLyoqXG4gKiBOb3JtYWxpemVzIGEgc3RyaW5nIGZvciBzYWZlIHVzZSBhcyBhIGZpbGVuYW1lOlxuICogcmVwbGFjZXMgcmVzZXJ2ZWQgY2hhcmFjdGVycywgY29sbGFwc2VzIHdoaXRlc3BhY2UsIGFuZCB0cmltcyBlbmRzLlxuICpcbiAqIEBwYXJhbSBzIC0gUmF3IHN0cmluZyB0byBzYW5pdGl6ZS5cbiAqIEByZXR1cm5zIFNhbml0aXplZCBmaWxlbmFtZS1zYWZlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVGb3JGaWxlbmFtZShzKSB7XG4gICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnXycpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAgICAgLnRyaW0oKTtcbn1cbi8qKlxuICogQnVpbGRzIGEgdGltZXN0YW1wZWQgZmlsZW5hbWUgZm9yIHRoZSBjYXB0dXJlIGJhc2VkIG9uIHRoZSB0YWIncyB0aXRsZSBvciBob3N0LlxuICogVHJ1bmNhdGVzIHRoZSBiYXNlIG5hbWUgdG8gODAgY2hhcmFjdGVycyBhbmQgYXBwZW5kcyB0aGUgcHJvcGVyIGV4dGVuc2lvbi5cbiAqXG4gKiBAcGFyYW0gdGFiIC0gU291cmNlIHRhYiAodGl0bGUvdXJsIHVzZWQgZm9yIG5hbWluZykuXG4gKiBAcGFyYW0gZm10IC0gVGFyZ2V0IGltYWdlIGZvcm1hdCAoJ3BuZycgfCAnanBlZycpLlxuICogQHJldHVybnMgQSBmaWxlbmFtZSBsaWtlIGBwYWdlLTIwMjUtMDgtMTNUMTAtMjAtMzAtMDAwWi5wbmdgLlxuICovXG5mdW5jdGlvbiBtYWtlRmlsZW5hbWUodGFiLCBmbXQpIHtcbiAgICBjb25zdCB0aXRsZSA9IHRhYi50aXRsZSAmJiB0YWIudGl0bGUudHJpbSgpID8gdGFiLnRpdGxlIDogJyc7XG4gICAgbGV0IGJhc2UgPSB0aXRsZSB8fFxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh0YWIudXJsID8/ICcnKS5ob3N0IHx8ICdwYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BhZ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIGJhc2UgPSBzYW5pdGl6ZUZvckZpbGVuYW1lKGJhc2UpO1xuICAgIGlmIChiYXNlLmxlbmd0aCA+IDgwKVxuICAgICAgICBiYXNlID0gYmFzZS5zbGljZSgwLCA4MCk7XG4gICAgY29uc3QgdHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICAgIHJldHVybiBgJHtiYXNlfS0ke3RzfS4ke2ZtdH1gO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpc3VhbCB2aWV3cG9ydCByZWN0YW5nbGUgaW4gQ1NTIHBpeGVscyAoZm9yIHZpZXdwb3J0IGNhcHR1cmUpLlxuICogQHBhcmFtIHRhcmdldCAtIERldlRvb2xzIFByb3RvY29sIHRhcmdldCB0YWIgKGBjaHJvbWUuZGVidWdnZXIuRGVidWdnZWVgKS5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIGB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfWAgaW4gQ1NTIHBpeGVscy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0Vmlld3BvcnRDc3NSZWN0KHRhcmdldCkge1xuICAgIGNvbnN0IGxtID0gYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmdldExheW91dE1ldHJpY3MnKTtcbiAgICBjb25zdCB2ID0gbG0uY3NzVmlzdWFsVmlld3BvcnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2LnBhZ2VYKSB8IDApLFxuICAgICAgICB5OiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHYucGFnZVkpIHwgMCksXG4gICAgICAgIHdpZHRoOiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodi5jbGllbnRXaWR0aCkgfCAwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodi5jbGllbnRIZWlnaHQpIHwgMCksXG4gICAgfTtcbn1cbi8qKlxuICogUmVzb2x2ZXMgc2NyZWVuc2hvdCBnZW9tZXRyeSBmb3IgdGhlIHNlbGVjdGVkIGNhcHR1cmUgYXJlYS5cbiAqIEBwYXJhbSB0YXJnZXQgLSBEZXZUb29scyBQcm90b2NvbCB0YXJnZXQgdGFiIChgY2hyb21lLmRlYnVnZ2VyLkRlYnVnZ2VlYCkuXG4gKiBAcGFyYW0gYXJlYSAtIENhcHR1cmUgYXJlYTogYCdmdWxsJ2AgKGVudGlyZSBwYWdlKSBvciBgJ3ZpZXdwb3J0J2AgKHZpc2libGUgYXJlYSkuXG4gKiBAcGFyYW0gc2NhbGUgLSBJbWFnZSBzY2FsZSBmYWN0b3IgYXBwbGllZCB0byBgY2xpcC5zY2FsZWAuXG4gKiBAcGFyYW0gY29udGVudFNpemUgLSBNZWFzdXJlZCBwYWdlIGNvbnRlbnQgc2l6ZSBpbiBDU1MgcGl4ZWxzIHVzZWQgd2hlbiBgYXJlYWAgaXMgYCdmdWxsJ2AuXG4gKiBAcmV0dXJucyBgQ2FwdHVyZUdlb21ldHJ5YCBkZXNjcmliaW5nIHdoZXRoZXIgZGV2aWNlIG1ldHJpY3Mgb3ZlcnJpZGUgaXMgcmVxdWlyZWQgYW5kIHRoZSBjbGlwIHJlY3RhbmdsZSBmb3IgYFBhZ2UuY2FwdHVyZVNjcmVlbnNob3RgLlxuICovXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlR2VvbWV0cnkodGFyZ2V0LCBhcmVhLCBzY2FsZSwgY29udGVudFNpemUpIHtcbiAgICBpZiAoYXJlYSA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICAvLyBObyBvdmVycmlkZSByZXF1aXJlZDogQ2xpcCB0aGUgY3VycmVudCBkaXNwbGF5IGFyZWEgd2l0aCBjbGlwXG4gICAgICAgIGNvbnN0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gYXdhaXQgZ2V0Vmlld3BvcnRDc3NSZWN0KHRhcmdldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VPdmVycmlkZTogZmFsc2UsXG4gICAgICAgICAgICBjbGlwOiB7IHgsIHksIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0sXG4gICAgICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IHRydWUsXG4gICAgICAgICAgICBzaG91bGRTY3JvbGxUb3A6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChjb250ZW50U2l6ZS53aWR0aCkgfCAwKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoY29udGVudFNpemUuaGVpZ2h0KSB8IDApO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZU92ZXJyaWRlOiB0cnVlLFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiAxLFxuICAgICAgICAgICAgbW9iaWxlOiBmYWxzZSxcbiAgICAgICAgICAgIHNjcmVlbldpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHNjcmVlbkhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgcG9zaXRpb25YOiAwLFxuICAgICAgICAgICAgcG9zaXRpb25ZOiAwLFxuICAgICAgICB9LFxuICAgICAgICBjbGlwOiB7IHg6IDAsIHk6IDAsIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0sXG4gICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogdHJ1ZSxcbiAgICAgICAgc2hvdWxkU2Nyb2xsVG9wOiB0cnVlLFxuICAgIH07XG59XG4vKipcbiAqIENhcHR1cmUgc2NyZWVuc2hvdHMgYW5kIHNhdmUgdGhlbSB2aWEgdGhlIGRvd25sb2FkIEFQSS5cbiAqXG4gKiBAcGFyYW0gb3B0cyAtIENhcHR1cmUgb3B0aW9ucyAodGFiIGlkLCBmb3JtYXQsIHF1YWxpdHksIHNjYWxlLCBldGMuKS5cbiAqIEByZXR1cm5zIFRoZSBgZG93bmxvYWRJZGAgd2hlbiBzYXZlZCBzdWNjZXNzZnVsbHk7IGB1bmRlZmluZWRgIHdoZW4gY2FwdHVyZSBpcyBza2lwcGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FwdHVyZShvcHRzKSB7XG4gICAgY29uc3QgdGFiID0gYXdhaXQgY2hyb21lLnRhYnMuZ2V0KG9wdHMudGFiSWQpO1xuICAgIGlmICghdGFiLmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NhcHR1cmluZyBpcyBub3QgcG9zc2libGUgZHVlIHRvIHJlc3RyaWN0ZWQgVVJMOicsIHRhYi51cmwpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IHsgdGFiSWQ6IHRhYi5pZCB9O1xuICAgIGNvbnN0IGZtdCA9IG9wdHMuZm9ybWF0ID8/ICdwbmcnO1xuICAgIGNvbnN0IHNldHRsZU1zID0gb3B0cy5zZXR0bGVNcyA/PyA1MDA7XG4gICAgY29uc3Qgc2NhbGUgPSBvcHRzLnNjYWxlID8/IDE7XG4gICAgY29uc3QgYXJlYSA9IG9wdHMuYXJlYSA/PyAnZnVsbCc7XG4gICAgbGV0IGRpZEF0dGFjaCA9IGZhbHNlO1xuICAgIGxldCB1c2VkT3ZlcnJpZGUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBkaWRBdHRhY2ggPSBhd2FpdCBhdHRhY2hPd25lZCh0YXJnZXQpO1xuICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuZW5hYmxlJyk7XG4gICAgICAgIGlmIChvcHRzLmJyaW5nVG9Gcm9udCA/PyB0cnVlKSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuYnJpbmdUb0Zyb250Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VvbSA9IGF3YWl0IHJlc29sdmVHZW9tZXRyeSh0YXJnZXQsIGFyZWEsIHNjYWxlLCBvcHRzLmNvbnRlbnRTaXplKTtcbiAgICAgICAgaWYgKGdlb20uc2hvdWxkU2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1J1bnRpbWUuZXZhbHVhdGUnLCB7IGV4cHJlc3Npb246ICd3aW5kb3cuc2Nyb2xsVG8oMCwwKScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlb20udXNlT3ZlcnJpZGUgJiYgZ2VvbS5tZXRyaWNzKSB7XG4gICAgICAgICAgICB1c2VkT3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRvcCAmIHdhaXQgYnJpZWZseSBmb3IgbGF5b3V0L2ltYWdlIHN0YWJpbGl6YXRpb25cbiAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnRW11bGF0aW9uLnNldERldmljZU1ldHJpY3NPdmVycmlkZScsIGdlb20ubWV0cmljcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgc2V0dGxlTXMpKTtcbiAgICAgICAgY29uc3QgY2FwUGFyYW1zID0ge1xuICAgICAgICAgICAgZm9ybWF0OiBmbXQsXG4gICAgICAgICAgICBmcm9tU3VyZmFjZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogZ2VvbS5jYXB0dXJlQmV5b25kVmlld3BvcnQsXG4gICAgICAgICAgICBjbGlwOiBnZW9tLmNsaXAsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmbXQgPT09ICdqcGVnJyAmJiB0eXBlb2Ygb3B0cy5xdWFsaXR5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY2FwUGFyYW1zLnF1YWxpdHkgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQob3B0cy5xdWFsaXR5KSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmNhcHR1cmVTY3JlZW5zaG90JywgY2FwUGFyYW1zKTtcbiAgICAgICAgY29uc3QgbWltZSA9IGZtdCA9PT0gJ3BuZycgPyAnaW1hZ2UvcG5nJyA6ICdpbWFnZS9qcGVnJztcbiAgICAgICAgY29uc3QgdXJsID0gYGRhdGE6JHttaW1lfTtiYXNlNjQsJHtkYXRhfWA7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gb3B0cy5maWxlbmFtZSA/PyBtYWtlRmlsZW5hbWUodGFiLCBmbXQpO1xuICAgICAgICByZXR1cm4gYXdhaXQgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybCwgZmlsZW5hbWUsIHNhdmVBczogZmFsc2UgfSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAodXNlZE92ZXJyaWRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnRW11bGF0aW9uLmNsZWFyRGV2aWNlTWV0cmljc092ZXJyaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlkQXR0YWNoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRldGFjaE93bmVkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHRpbWVzdGFtcCB9IGZyb20gJ0Bjb21tb24vdXRpbHMnO1xuLyoqXG4gKiBFeHBvcnRzIGEge0BsaW5rIFNjcmVlblN0YXRlfSBhcyBhIEpTT04gZmlsZSBhbmQgc2F2ZXNcbiAqXG4gKiBUaGUgSlNPTiBwYXlsb2FkIGluY2x1ZGVzIGJhc2ljIG1ldGFkYXRhIChmb3JtYXQva2luZC92ZXJzaW9uL2V4cG9ydGVkQXQvcGFnZUtleSlcbiAqIGFuZCB0aGUgc3RhdGUncyBgaXRlbXNgIGZvciBmdXR1cmUgY29tcGF0aWJpbGl0eSBhbmQgZWFzeSByZS1pbXBvcnQuXG4gKlxuICogQHBhcmFtIHN0YXRlIC0gVGhlIHNjcmVlbiBzdGF0ZSB0byBleHBvcnQuXG4gKiBAcGFyYW0gcGFnZUtleSAtIEEgcGFnZSBrZXkgdG8gZW1iZWQgaW50byB0aGUgZXhwb3J0ZWQgbWV0YWRhdGEgYW5kIHRvIGRlcml2ZSB0aGUgZmlsZW5hbWUuXG4gKiBAcGFyYW0gb3B0cyAtIEV4cG9ydCBvcHRpb25zIChlLmcuLCBgc2F2ZUFzYCwgYHByZWZpeGApLlxuICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgZG93bmxvYWQgSUQgcmV0dXJuZWQgYnkgYGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWRgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhwb3J0U2NyZWVuU3RhdGUoc3RhdGUsIHBhZ2VLZXksIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2F2ZUFzID0gZmFsc2UsIHByZWZpeCA9ICdzcGVjc2tldGNoLXNjcmVlbi1zdGF0ZScgfSA9IG9wdHM7XG4gICAgLy8gTWV0YWRhdGEgKyBwYXlsb2FkIChrZWVwIHZlcnNpb25pbmcgZm9yIGZvcndhcmQgY29tcGF0aWJpbGl0eSlcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBmb3JtYXQ6ICdzcGVjc2tldGNoLWV4cG9ydCcsXG4gICAgICAgIGtpbmQ6ICdzY3JlZW4tc3RhdGUnLFxuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICBleHBvcnRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHBhZ2VLZXksXG4gICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICB9O1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCAyKTtcbiAgICBjb25zdCBiYXNlNjQgPSB0b0Jhc2U2NFV0ZjgoanNvbik7XG4gICAgY29uc3QgbWltZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICBjb25zdCB1cmwgPSBgZGF0YToke21pbWV9O2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCR7YmFzZTY0fWA7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBtYWtlRmlsZW5hbWUocHJlZml4LCBwYWdlS2V5LCAnanNvbicpO1xuICAgIC8vIFNhdmUgdXNpbmcgdGhlIHNhbWUgQVBJIHBhdHRlcm4gYXMgaW1hZ2UgZG93bmxvYWRcbiAgICByZXR1cm4gYXdhaXQgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybCwgZmlsZW5hbWUsIHNhdmVBcyB9KTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZyB0byBCYXNlNjQgZm9yIHVzZSBpbiBhIGRhdGEgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gVGhlIFVURi04IHRleHQgdG8gZW5jb2RlLlxuICogQHJldHVybnMgQmFzZTY0IHN0cmluZyAobm8gZGF0YSBVUkwgcHJlZml4KS5cbiAqL1xuZnVuY3Rpb24gdG9CYXNlNjRVdGY4KHRleHQpIHtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTsgLy8gVWludDhBcnJheVxuICAgIGxldCBiaW4gPSAnJztcbiAgICBmb3IgKGNvbnN0IGIgb2YgYnl0ZXMpIHtcbiAgICAgICAgYmluICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYik7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGJpbik7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHNhbml0aXplZCBmaWxlbmFtZSBpbiB0aGUgZm9ybTpcbiAqIGB7cHJlZml4fV97c2FuaXRpemVkUGFnZUtleX1fe1lZWVktTU0tRERfSEgtbW0tc3MrMDkwMH0ue2V4dH1gXG4gKlxuICogQHBhcmFtIHByZWZpeCAtIEZpbGVuYW1lIHByZWZpeCAoZS5nLiwgcHJvZHVjdCBvciBmZWF0dXJlIG5hbWUpLlxuICogQHBhcmFtIHBhZ2VLZXkgLSBUaGUgb3JpZ2luYWwgcGFnZSBrZXkgc3RyaW5nIHRvIGRlcml2ZSBhIHNhZmUgZmlsZW5hbWUgcGFydC5cbiAqIEBwYXJhbSBleHQgLSBGaWxlIGV4dGVuc2lvbiB3aXRob3V0IGRvdCAoZS5nLiwgJ2pzb24nKS5cbiAqIEByZXR1cm5zIEEgc2FmZSBmaWxlbmFtZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG1ha2VGaWxlbmFtZShwcmVmaXgsIHBhZ2VLZXksIGV4dCkge1xuICAgIGNvbnN0IHNhZmVLZXkgPSAocGFnZUtleSA/PyAnJylcbiAgICAgICAgLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05Ll8tXSsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvLSsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvXi18LSQvZywgJycpXG4gICAgICAgIC5zbGljZSgwLCAxMjApIHx8ICdwYWdlJztcbiAgICByZXR1cm4gYCR7cHJlZml4fV8ke3NhZmVLZXl9XyR7dGltZXN0YW1wKCl9LiR7ZXh0fWA7XG59XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuaW1wb3J0IHsgaXNWYWxpZFBheWxvYWQgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IHNvcnRTY3JlZW5JdGVtc0J5R3JvdXBBbmRMYWJlbCB9IGZyb20gJ0Bjb21tb24vdXRpbHMnO1xuaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG5pbXBvcnQgeyBhcHBseVBhdGNoIH0gZnJvbSAnLi9zdGF0ZSc7XG4vKipcbiAqIEltcG9ydCBhIFNjcmVlblN0YXRlLWxpa2UgSlNPTiBmaWxlIGFuZCBtZXJnZSBpdHMgaXRlbXMgaW50byB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIC0gT25seSBgLmpzb25gIChieSBleHRlbnNpb24pIG9yIGBhcHBsaWNhdGlvbi9qc29uYCAvIGB0ZXh0L2pzb25gIChieSBNSU1FKSBpcyBhY2NlcHRlZC5cbiAqIC0gUGF5bG9hZCBtdXN0IG1hdGNoIHRoZSBcInNwZWNza2V0Y2gtZXhwb3J0IC8gc2NyZWVuLXN0YXRlXCIgY29udHJhY3QuXG4gKiAtIEl0ZW1zIGFyZSBtZXJnZWQgYnkgKiphbmNob3IqKiBpZGVudGl0eTsgYW4gaW1wb3J0ZWQgaXRlbSBpcyBza2lwcGVkIGlmIGFuIGl0ZW0gd2l0aCB0aGVcbiAqICAgc2FtZSBhbmNob3IgYHtraW5kLCB2ZXJzaW9uLCB2YWx1ZX1gIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogQHBhcmFtIGZpbGUgICAgIEEgdXNlci1zZWxlY3RlZCBKU09OIGZpbGUgdGhhdCBjb250YWlucyBleHBvcnQgcGF5bG9hZC5cbiAqIEBwYXJhbSBwYWdlS2V5ICBUaGUgdGFyZ2V0IHBhZ2Uga2V5IHRvIG1lcmdlIGludG8uXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgdXBkYXRlZCB7QGxpbmsgU2NyZWVuU3RhdGV9IGFuZCBhIGh1bWFuLXJlYWRhYmxlIHN1Y2Nlc3MgbWVzc2FnZS5cbiAqXG4gKiBAdGhyb3dzIEVycm9yIHdpdGggaTE4biBtZXNzYWdlIGBpbXBvcnRfZmlsZV9ub3RfanNvbmBcbiAqICAgICAgICAgd2hlbiB0aGUgZmlsZSBpcyBub3QgcmVjb2duaXplZCBhcyBKU09OLlxuICogQHRocm93cyBFcnJvciB3aXRoIGkxOG4gbWVzc2FnZSBgaW1wb3J0X3BheWxvYWRfaW52YWxpZGBcbiAqICAgICAgICAgd2hlbiB0aGUgcGFyc2VkIEpTT04gZG9lcyBub3Qgc2F0aXNmeSB0aGUgZXhwZWN0ZWQgcGF5bG9hZCBjb250cmFjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGltcG9ydFNjcmVhblN0YXRlKGZpbGUsIHBhZ2VLZXkpIHtcbiAgICAvLyBWYWxpZGF0ZSBmaWxlIHR5cGUgYXMgSlNPTiBieSBleHRlbnNpb24gb3IgTUlNRSAoZW1wdHkgTUlNRSBpcyBhbGxvd2VkIG9uIHNvbWUgYnJvd3NlcnMpLlxuICAgIGNvbnN0IGlzSnNvbkJ5RXh0ID0gL1xcLmpzb24kL2kudGVzdChmaWxlLm5hbWUpO1xuICAgIGNvbnN0IGlzSnNvbkJ5TWltZSA9IGZpbGUudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGZpbGUudHlwZSA9PT0gJ3RleHQvanNvbicgfHwgZmlsZS50eXBlID09PSAnJztcbiAgICBpZiAoIWlzSnNvbkJ5RXh0ICYmICFpc0pzb25CeU1pbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGkxOG4uZ2V0KCdpbXBvcnRfZmlsZV9ub3RfanNvbicpKTtcbiAgICB9XG4gICAgLy8gUGFyc2UgSlNPTiB0ZXh0IOKGkiB2YWx1ZS5cbiAgICBsZXQgcGFyc2VkO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBUcmVhdCBtYWxmb3JtZWQgSlNPTiB0aGUgc2FtZSBhcyBwYXlsb2FkIGludmFsaWQuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihpMThuLmdldCgnaW1wb3J0X3BheWxvYWRfaW52YWxpZCcpKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgcGF5bG9hZCBjb250cmFjdDogZm9ybWF0L2tpbmQvdmVyc2lvbi9wYWdlS2V5L2l0ZW1zIChpdGVtcyBtdXN0IGJlIGFycmF5LWxpa2UgU2NyZWVuSXRlbSkuXG4gICAgaWYgKCFpc1ZhbGlkUGF5bG9hZChwYXJzZWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihpMThuLmdldCgnaW1wb3J0X3BheWxvYWRfaW52YWxpZCcpKTtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZCA9IHBhcnNlZDtcbiAgICBjb25zdCBpdGVtcyA9IHNvcnRTY3JlZW5JdGVtc0J5R3JvdXBBbmRMYWJlbChwYXlsb2FkLml0ZW1zKTtcbiAgICAvLyBGZXRjaCBjdXJyZW50IHN0YXRlIChpZiBtaXNzaW5nLCB0cmVhdCBhcyBlbXB0eSBpdGVtcyBmb3IgY29tcGFyaXNvbikuXG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBjb25zdCBleGlzdGluZyA9IHN0YXRlPy5pdGVtcyA/PyBbXTtcbiAgICAvLyBCdWlsZCBhIGZhc3QgbG9va3VwIG9mIGV4aXN0aW5nIGFuY2hvcnMgKGlkZW50aXR5ID0ga2luZDp2ZXJzaW9uOnZhbHVlKS5cbiAgICBjb25zdCBrZXlPZiA9IChpdCkgPT4gYCR7aXQuYW5jaG9yLmtpbmR9OiR7aXQuYW5jaG9yLnZlcnNpb259OiR7aXQuYW5jaG9yLnZhbHVlfWA7XG4gICAgY29uc3QgZXhpc3RpbmdTZXQgPSBuZXcgU2V0KGV4aXN0aW5nLm1hcChrZXlPZikpO1xuICAgIC8vIENyZWF0ZSB0aGUgbWluaW1hbCBwYXRjaCBwYXlsb2FkIGZvciBgYXBwbHlQYXRjaGAg4oCUIG9ubHkgZmllbGRzIHN1cHBvcnRlZCBieSBcImFkZGVkXCIuXG4gICAgY29uc3QgYWRkZWQgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdCkgPT4gIWV4aXN0aW5nU2V0LmhhcyhrZXlPZihpdCkpKVxuICAgICAgICAubWFwKChpdCkgPT4gKHtcbiAgICAgICAgYW5jaG9yOiBpdC5hbmNob3IsXG4gICAgICAgIHNpemU6IGl0LnNpemUsXG4gICAgICAgIGNvbG9yOiBpdC5jb2xvcixcbiAgICAgICAgc2hhcGU6IGl0LnNoYXBlLFxuICAgICAgICBwb3NpdGlvbjogaXQucG9zaXRpb24sXG4gICAgICAgIGdyb3VwOiBpdC5ncm91cCxcbiAgICAgICAgY29tbWVudDogaXQuY29tbWVudCxcbiAgICB9KSk7XG4gICAgY29uc3QgbmV3U3RhdGUgPSBhd2FpdCBhcHBseVBhdGNoKHBhZ2VLZXksIHsgYWRkZWQgfSk7XG4gICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPSBpMThuLmdldCgnaW1wb3J0X3N1Y2NlZWRlZF93aXRoX2NvdW50JywgW1N0cmluZyhhZGRlZC5sZW5ndGgpXSk7XG4gICAgcmV0dXJuIHsgc3RhdGU6IG5ld1N0YXRlLCBzdWNjZXNzTWVzc2FnZSB9O1xufVxuIiwiLyoqXG4gKiBVSUV2ZW50VHlwZSAvIFVJRXZlbnRQYXlsb2FkTWFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQSB0eXBlZCBjYXRhbG9nIG9mICpwdXJlIFVJIGV2ZW50cyogZW1pdHRlZCBieSB0aGUgVmlldyAocGFuZWxfdmlldy50cykuXG4gKiAtIFRoZSBWaWV3IHJlYWRzIERPTSBzdGF0ZSwgbm9ybWFsaXplcyBpdCwgYW5kIGVtaXRzIG9uZSBvZiB0aGVzZSBldmVudHMuXG4gKiAtIFRoZSBDb250cm9sbGVyIG1hcHMgZWFjaCBVSSBldmVudCB0byBhbiBBY3Rpb25UeXBlIGFuZCBkaXNwYXRjaGVzIGl0LlxuICogLSBQYXlsb2FkcyBhcmUgc3Ryb25nbHkgdHlwZWQgdmlhIFVJRXZlbnRQYXlsb2FkTWFwOyB1c2UgYHVuZGVmaW5lZGAgZm9yIG5vIHBheWxvYWQuXG4gKi9cbmV4cG9ydCB2YXIgVUlFdmVudFR5cGU7XG4oZnVuY3Rpb24gKFVJRXZlbnRUeXBlKSB7XG4gICAgLyoqIFRvZ2dsZSBzZWxlY3Rpb24gbW9kZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0xFQVJcIl0gPSBcIkNMRUFSXCI7XG4gICAgLyoqIFRyaWdnZXIgcGFnZSBjYXB0dXJlICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFXCJdID0gXCJDQVBUVVJFXCI7XG4gICAgLyoqIEJhZGdlIHNpemUgY2hhbmdlZCAocmFuZ2UvbnVtYmVyIGlucHV0cykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1NJWkVfQ0hBTkdFXCJdID0gXCJCQURHRV9TSVpFX0NIQU5HRVwiO1xuICAgIC8qKiBCYWRnZSBjb2xvciBwaWNrZWQgKHBvcG92ZXIgYnV0dG9ucykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0NPTE9SX1NFTEVDVFwiXSA9IFwiQkFER0VfQ09MT1JfU0VMRUNUXCI7XG4gICAgLyoqIEJhZGdlIHNoYXBlIGNoYW5nZWQgKHNlbGVjdCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1NIQVBFX0NIQU5HRVwiXSA9IFwiQkFER0VfU0hBUEVfQ0hBTkdFXCI7XG4gICAgLyoqIEJhZGdlIGxhYmVsIGZvcm1hdCBjaGFuZ2VkIChzZWxlY3QpICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9MQUJFTF9GT1JNQVRfQ0hBTkdFXCJdID0gXCJCQURHRV9MQUJFTF9GT1JNQVRfQ0hBTkdFXCI7XG4gICAgLyoqIEJhZGdlIHZpc2libGUgZm9ybWF0IGNoYW5nZWQgKHNlbGVjdCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1ZJU0lCTEVfQ0hBTkdFXCJdID0gXCJCQURHRV9WSVNJQkxFX0NIQU5HRVwiO1xuICAgIC8qKiBEZWxldGUgdGhlIHNlbGVjdGVkIGJhZGdlICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9ERUxFVEVcIl0gPSBcIkJBREdFX0RFTEVURVwiO1xuICAgIC8qKiBCYWRnZSBwb3NpdGlvbiBwaWNrZWQgKHBvcG92ZXIgYnV0dG9ucykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1BPU0lUSU9OX1NFTEVDVFwiXSA9IFwiQkFER0VfUE9TSVRJT05fU0VMRUNUXCI7XG4gICAgLyoqIFVwZGF0ZSBhIGdyb3VwIG9mIGVsZW1lbnRzICovXG4gICAgVUlFdmVudFR5cGVbXCJTRVRfR1JPVVBcIl0gPSBcIlNFVF9HUk9VUFwiO1xuICAgIC8qKiBDYXB0dXJlIGZvcm1hdCBjaGFuZ2VkIChyYWRpbykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfRk9STUFUX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFXCI7XG4gICAgLyoqIENhcHR1cmUgYXJlYSBjaGFuZ2VkIChyYWRpbykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfQVJFQV9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfQVJFQV9DSEFOR0VcIjtcbiAgICAvKiogSlBFRyBxdWFsaXR5IGNoYW5nZWQgKHJhbmdlL251bWJlcikgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfUVVBTElUWV9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfUVVBTElUWV9DSEFOR0VcIjtcbiAgICAvKiogQ2FwdHVyZSBzY2FsZSBjaGFuZ2VkIChyYW5nZS9udW1iZXIpICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX1NDQUxFX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9TQ0FMRV9DSEFOR0VcIjtcbiAgICAvKiogVG9nZ2xlIGNhcHR1cmUgb3B0aW9ucyBkcm9wZG93biAoZXhwYW5kL2NvbGxhcHNlKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9HR0xFX0NBUFRVUkVfUEFORUxcIl0gPSBcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCI7XG4gICAgLyoqIFJlb3JkZXJpbmcgc2VsZWN0ZWQgaXRlbXMgKGRyYWcgYW5kIGRyb3ApICovXG4gICAgVUlFdmVudFR5cGVbXCJSRU9SREVSX0lURU1TXCJdID0gXCJSRU9SREVSX0lURU1TXCI7XG4gICAgLyoqIEVtaXR0ZWQgd2hlbiBhbiBpdGVtJ3MgZWRpdC1zZWxlY3Rpb24gY2hlY2tib3ggY2hhbmdlcyBzdGF0ZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiXSA9IFwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiO1xuICAgIC8qKiBTdGFydCBpdGVtIGhvdmVyICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX0hPVkVSX0lOXCJdID0gXCJJVEVNX0hPVkVSX0lOXCI7XG4gICAgLyoqIEVuZCBpdGVtIGhvdmVyICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX0hPVkVSX09VVFwiXSA9IFwiSVRFTV9IT1ZFUl9PVVRcIjtcbiAgICAvKiogQXBwbHkgcGVuZGluZyBjb21tZW50IGVkaXRzIHRvIHRoZSBzZWxlY3RlZCBpdGVtICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX0NPTU1FTlRfQVBQTFlcIl0gPSBcIklURU1fQ09NTUVOVF9BUFBMWVwiO1xuICAgIC8qKiBVcGRhdGUgdGhlIFVJIHRoZW1lICovXG4gICAgVUlFdmVudFR5cGVbXCJVUERBVEVfVEhFTUVcIl0gPSBcIlVQREFURV9USEVNRVwiO1xuICAgIC8qKiBFbWl0dGVkIGFmdGVyIHRoZSBTZXR0aW5ncyBtb2RhbCBpcyBzaG93ICovXG4gICAgVUlFdmVudFR5cGVbXCJTRVRUSU5HX01PREFMX1NIT1dcIl0gPSBcIlNFVFRJTkdfTU9EQUxfU0hPV1wiO1xuICAgIC8qKiBJbXBvcnQgYSBTY3JlZW5TdGF0ZSBmcm9tIGEgc2VsZWN0ZWQgSlNPTiBmaWxlICovXG4gICAgVUlFdmVudFR5cGVbXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIl0gPSBcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiO1xuICAgIC8qKiBEaXNtaXNzIGEgdG9hc3QgYnkgVVVJRCAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIl0gPSBcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCI7XG4gICAgLyoqIENsaWNrIHRvIHJlbW92ZSB0aGUgc2F2ZWQgcGFnZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiUkVNT1ZFX1BBR0VfQ0xJQ0tcIl0gPSBcIlJFTU9WRV9QQUdFX0NMSUNLXCI7XG4gICAgLyoqIENsaWNrIHRoZSBleHBvcnQgYnV0dG9uICovXG4gICAgVUlFdmVudFR5cGVbXCJFWFBPUlRfUEFHRV9DTElDS1wiXSA9IFwiRVhQT1JUX1BBR0VfQ0xJQ0tcIjtcbn0pKFVJRXZlbnRUeXBlIHx8IChVSUV2ZW50VHlwZSA9IHt9KSk7XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgaXNSZXN0cmljdGVkLCBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlVGFiIH0gZnJvbSAnQGluZnJhL2Nocm9tZS90YWJzJztcbmltcG9ydCB7IGluaXRpYWxNb2RlbCB9IGZyb20gJ0BwYW5lbC9hcHAvbW9kZWwnO1xuaW1wb3J0IHsgdXBkYXRlIH0gZnJvbSAnQHBhbmVsL2FwcC91cGRhdGUnO1xuaW1wb3J0IHsgY29ubmVjdFRvVGFiIH0gZnJvbSAnQHBhbmVsL21lc3NhZ2luZy9jb25uZWN0aW9uJztcbmltcG9ydCB7IGNhcHR1cmUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvY2FwdHVyZSc7XG5pbXBvcnQgeyBleHBvcnRTY3JlZW5TdGF0ZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9leHBvcnQnO1xuaW1wb3J0IHsgaW1wb3J0U2NyZWFuU3RhdGUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvaW1wb3J0JztcbmltcG9ydCB7IGhhbmRsZVNlbGVjdGVkIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL3N0YXRlJztcbmltcG9ydCB7IHNjcmVlblN0YXRlVGFibGUsIHRoZW1lVGFibGUgfSBmcm9tICdAcGFuZWwvc3RvcmFnZS90YWJsZXMnO1xuaW1wb3J0IHsgQWN0aW9uVHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHsgRWZmZWN0VHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy9lZmZlY3RfdHlwZXMnO1xuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3N0YXR1cyc7XG5pbXBvcnQgeyBVSUV2ZW50VHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy91aV9ldmVudF90eXBlcyc7XG5leHBvcnQgY2xhc3MgUGFuZWxDb250cm9sbGVyIHtcbiAgICB2aWV3O1xuICAgIG1vZGVsID0gc3RydWN0dXJlZENsb25lKGluaXRpYWxNb2RlbCk7XG4gICAgY29ubiA9IG51bGw7XG4gICAgY3VycmVudFdpbmRvd0lkID0gbnVsbDtcbiAgICBzdGF0aWMgUkVRVUlSRVNfQ09OTiA9IG5ldyBTZXQoW1xuICAgICAgICBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCxcbiAgICAgICAgRWZmZWN0VHlwZS5DTEVBUl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLkhPVkVSLFxuICAgIF0pO1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklOSVQgfSk7XG4gICAgICAgIGNvbnN0IHsgb2sgfSA9IGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKHsgZm9yY2VSZWNvbm5lY3Q6IHRydWUgfSk7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXdIYW5kbGVycygpO1xuICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICBjb25zdCB3ID0gYXdhaXQgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRXaW5kb3dJZCA9IHcuaWQgPz8gbnVsbDtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChtc2cudHlwZSAhPT0gTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VEKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNlbmRlcldpbmRvd0lkID0gbXNnLnBheWxvYWQud2luZG93SWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50V2luZG93SWQgPT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRXaW5kb3dJZCAhPT0gc2VuZGVyV2luZG93SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdm9pZCB0aGlzLmVuc3VyZUNvbm5lY3Rpb25BbGl2ZSh7IGZvcmNlUmVjb25uZWN0OiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJWaWV3SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5UT0dHTEVfU0VMRUNUIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNMRUFSLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DTEVBUl9BTEwgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRSwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfU0laRV9DSEFOR0UsICh7IHNpemUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1NJWkUsIHNpemUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCAoeyBjb2xvciB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfQ09MT1IsIGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgKHsgc2hhcGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFLCBzaGFwZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9MQUJFTF9GT1JNQVRfQ0hBTkdFLCAoeyBsYWJlbEZvcm1hdCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfTEFCRUxfRk9STUFULCBsYWJlbEZvcm1hdCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9WSVNJQkxFX0NIQU5HRSwgKHsgdmlzaWJsZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfVklTSUJMRSwgdmlzaWJsZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9ERUxFVEUsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkJBREdFX0RFTEVURSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9QT1NJVElPTl9TRUxFQ1QsICh7IHBvc2l0aW9uIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9QT1NJVElPTiwgcG9zaXRpb24gfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUwsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfRk9STUFUX0NIQU5HRSwgKHsgZm9ybWF0IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0ZPUk1BVCwgZm9ybWF0IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfQVJFQV9DSEFOR0UsICh7IGFyZWEgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQSwgYXJlYSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX1FVQUxJVFlfQ0hBTkdFLCAoeyBxdWFsaXR5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFksIHF1YWxpdHkgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9TQ0FMRV9DSEFOR0UsICh7IHNjYWxlIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1NDQUxFLCBzY2FsZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5SRU9SREVSX0lURU1TLCAoeyBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5SRU9SREVSX0lURU1TLCBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5TRVRfR1JPVVAsICh7IGdyb3VwIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9HUk9VUCwgZ3JvdXAgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgKHBheWxvYWQpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIC4uLnBheWxvYWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9JTiwgKHsgaWQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9JTiwgaWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklURU1fQ09NTUVOVF9BUFBMWSwgKHsgaWQsIGNvbW1lbnQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX0lURU1fQ09NTUVOVCwgaWQsIGNvbW1lbnQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVVBEQVRFX1RIRU1FLCAoeyB0aGVtZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfVEhFTUUsIHRoZW1lIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlNFVFRJTkdfTU9EQUxfU0hPVywgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1JFUVVFU1RFRCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsICh7IGZpbGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFLCBmaWxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCAoeyB1dWlkIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB1dWlkIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlJFTU9WRV9QQUdFX0NMSUNLLCAoeyBwYWdlS2V5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRSwgcGFnZUtleSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgKHsgcGFnZUtleSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0UsIHBhZ2VLZXkgfSkpO1xuICAgIH1cbiAgICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgeyBtb2RlbDogbmV4dCwgZWZmZWN0cyB9ID0gdXBkYXRlKHRoaXMubW9kZWwsIGFjdGlvbik7XG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXh0O1xuICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICB2b2lkIHRoaXMuZXhlY0VmZmVjdHMoZWZmZWN0cykuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWNFZmZlY3RzKGVmZmVjdHMpIHtcbiAgICAgICAgY29uc3QgbmVlZHNDb25uID0gZWZmZWN0cy5zb21lKChmeCkgPT4gUGFuZWxDb250cm9sbGVyLlJFUVVJUkVTX0NPTk4uaGFzKGZ4LmtpbmQpKTtcbiAgICAgICAgaWYgKG5lZWRzQ29ubikge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKCk7XG4gICAgICAgICAgICBpZiAoIXIub2sgfHwgci5jb250ZXh0Q2hhbmdlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBmeCBvZiBlZmZlY3RzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZ4LmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLnJlbmRlcihmeC5pdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLnRvZ2dsZVNlbGVjdChmeC5lbmFibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5IT1ZFUjpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuaG92ZXIoZnguaWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUuc2V0KHRoaXMubW9kZWwucGFnZUtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMubW9kZWwuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogdGhpcy5tb2RlbC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogdGhpcy5tb2RlbC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHRoaXMubW9kZWwuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiB0aGlzLm1vZGVsLmRlZmF1bHRMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWaXNpYmxlOiB0aGlzLm1vZGVsLmRlZmF1bHRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiB0aGlzLm1vZGVsLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogdGhpcy5tb2RlbC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQodGhpcy5tb2RlbC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQodGhpcy5tb2RlbC5wYWdlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMubW9kZWwuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogdGhpcy5tb2RlbC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogdGhpcy5tb2RlbC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHRoaXMubW9kZWwuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiB0aGlzLm1vZGVsLmRlZmF1bHRMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWaXNpYmxlOiB0aGlzLm1vZGVsLmRlZmF1bHRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiB0aGlzLm1vZGVsLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogdGhpcy5tb2RlbC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlNFVF9USEVNRToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IGF3YWl0IHRoZW1lVGFibGUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9USEVNRSwgdGhlbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuVVBEQVRFX1RIRU1FOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGVtZVRhYmxlLnNldChmeC50aGVtZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRUFEX1NDUkVFTl9TVEFURV9TVE9SRToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5TdGF0ZXMgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnJlYWRBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZUtleXMgPSBPYmplY3Qua2V5cyhzY3JlZW5TdGF0ZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1NVQ0NFRURFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIHN1Y2Nlc3NNZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnRTY3JlYW5TdGF0ZShmeC5maWxlLCB0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0YXRlLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogc3RhdGUuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZTogc3RhdGUuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3RhdGUuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0YXRlLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc3VjY2Vzc01lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuSU1QT1JUX1NVQ0NFRURFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2VzOiBbbWVzc2FnZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLklNUE9SVF9GQUlMRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlczogW21lc3NhZ2VdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZOiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVtb3ZlKGZ4LnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5TdGF0ZXMgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnJlYWRBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZUtleXMgPSBPYmplY3Qua2V5cyhzY3JlZW5TdGF0ZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1NVQ0NFRURFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3QgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldCh0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHN0Lml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzdC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0LmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHN0LmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6IHN0LmRlZmF1bHRMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZTogc3QuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiBzdC5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzdC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KGZ4LnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhwb3J0U2NyZWVuU3RhdGUoc3RhdGUsIGZ4LnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuRVhQT1JUX0ZBSUxFRCwgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRTpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkubWVhc3VyZVNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkNBUFRVUkU6XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYXB0dXJlKGZ4LnBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuQ0FQVFVSRV9TVUNDRUVERUQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfRkFJTEVELCBlcnJvcjogZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGZ4LmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZW5zdXJlQ29ubmVjdGlvbkFsaXZlKG9wdHMpIHtcbiAgICAgICAgY29uc3QgcHJldktleSA9IHRoaXMubW9kZWwucGFnZUtleTtcbiAgICAgICAgY29uc3QgZm9yY2UgPSBvcHRzPy5mb3JjZVJlY29ubmVjdCA9PT0gdHJ1ZTtcbiAgICAgICAgaWYgKCFmb3JjZSkge1xuICAgICAgICAgICAgY29uc3QgcG9uZyA9IGF3YWl0IHRoaXMuY29ubj8uYXBpLnBpbmcoKTtcbiAgICAgICAgICAgIGlmIChwb25nICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGNvbnRleHRDaGFuZ2VkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhYiA9IGF3YWl0IGdldEFjdGl2ZVRhYigpO1xuICAgICAgICBpZiAoIXRhYj8uaWQgfHwgaXNSZXN0cmljdGVkKHRhYi51cmwpKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfU1RBVFVTLCBzdGF0dXM6IFNUQVRVUy5SRVNUUklDVEVEIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3S2V5ID0gcGFnZUtleSh0YWIudXJsKTtcbiAgICAgICAgY29uc3QgdGFiSWQgPSB0YWIuaWQ7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNPTk5FQ1RFRCwgdGFiSWQsIHBhZ2VLZXk6IG5ld0tleSB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuQ09OTkVDVElORyB9KTtcbiAgICAgICAgLy8gRXhwbGljaXRseSBjbG9zZSB0aGUgb2xkIHBvcnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY29ubj8ucG9ydC5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm4gPSBhd2FpdCBjb25uZWN0VG9UYWIodGFiSWQpO1xuICAgICAgICB0aGlzLmNvbm4ub25EaXNjb25uZWN0KCgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlBPUlRfRElTQ09OTkVDVEVEIH0pKTtcbiAgICAgICAgdGhpcy5jb25uLnBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKGFzeW5jIChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLlNFTEVDVEVEKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGF3YWl0IGhhbmRsZVNlbGVjdGVkKHRoaXMubW9kZWwucGFnZUtleSwgbXNnLnBheWxvYWQuYW5jaG9ycyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHMuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHMuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogcy5kZWZhdWx0TGFiZWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZTogcy5kZWZhdWx0VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogcy5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHMuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5NSVNTSU5HX0lEUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlNFVF9NSVNTSU5HX0lEUyxcbiAgICAgICAgICAgICAgICAgICAgbWlzc2luZ0lkczogbXNnLnBheWxvYWQubWlzc2luZ0lkcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1zZz8udHlwZSA9PT0gTVNHX1RZUEUuQ09OVEVOVF9TSVpFX1JFU1VMVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfUkVRVUVTVEVELFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2l6ZTogbXNnLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdCA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KG5ld0tleSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogc3QuaXRlbXMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0LmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogc3QuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogc3QuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogc3QuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWaXNpYmxlOiBzdC5kZWZhdWx0VmlzaWJsZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHN0LmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0LmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfU1RBVFVTLCBzdGF0dXM6IFNUQVRVUy5DT05ORUNURUQgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRDaGFuZ2VkID0gISFwcmV2S2V5ICYmIHByZXZLZXkgIT09IG5ld0tleTtcbiAgICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGNvbnRleHRDaGFuZ2VkIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBzb3J0U2NyZWVuSXRlbXNCeUdyb3VwQW5kTGFiZWwgfSBmcm9tICdAY29tbW9uL3V0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvc3RhdGUnO1xuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3N0YXR1cyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vdHlwZXMvYWN0aW9uX3R5cGVzJztcbmltcG9ydCB7IEVmZmVjdFR5cGUgfSBmcm9tICcuLi90eXBlcy9lZmZlY3RfdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShtb2RlbCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU5JVDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlNFVF9USEVNRSB9XSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHRhYklkOiBhY3Rpb24udGFiSWQsIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfU1RBVFVTOiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IGFjdGlvbi5zdGF0dXMgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10sIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBhY3Rpb24uc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogYWN0aW9uLnN0YXRlLmRlZmF1bHRMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpc2libGU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiBhY3Rpb24uc3RhdGUuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtczogYWN0aW9uLnN0YXRlLml0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9NSVNTSU5HX0lEUzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIG1pc3NpbmdJZHM6IGFjdGlvbi5taXNzaW5nSWRzIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVE9HR0xFX1NFTEVDVDoge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9ICFtb2RlbC5zZWxlY3Rpb25FbmFibGVkO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0aW9uRW5hYmxlZDogbmV4dCB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuVE9HR0xFX1NFTEVDVF9PTl9DT05URU5ULCBlbmFibGVkOiBuZXh0IH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0xFQVJfQUxMOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXM6IFtdIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5DTEVBUl9DT05URU5UIH0sIHsga2luZDogRWZmZWN0VHlwZS5DTEVBUl9TVEFURSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DT05URU5UX1NFTEVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgcGFuZWxFeHBhbmRlZDogIW1vZGVsLmNhcHR1cmUucGFuZWxFeHBhbmRlZCB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1NJWkU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyBzaXplOiBhY3Rpb24uc2l6ZSB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFNpemU6IGFjdGlvbi5zaXplLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX0NPTE9SOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgY29sb3I6IGFjdGlvbi5jb2xvciB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdENvbG9yOiBhY3Rpb24uY29sb3IsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQkFER0VfU0hBUEU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyBzaGFwZTogYWN0aW9uLnNoYXBlIH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0U2hhcGU6IGFjdGlvbi5zaGFwZSwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9MQUJFTF9GT1JNQVQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyBsYWJlbEZvcm1hdDogYWN0aW9uLmxhYmVsRm9ybWF0IH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0TGFiZWxGb3JtYXQ6IGFjdGlvbi5sYWJlbEZvcm1hdCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9WSVNJQkxFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgdmlzaWJsZTogYWN0aW9uLnZpc2libGUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRWaXNpYmxlOiBhY3Rpb24udmlzaWJsZSwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkJBREdFX0RFTEVURToge1xuICAgICAgICAgICAgY29uc3QgaXRlbXNNYXJrZWRGb3JSZWxhYmVsID0gbW9kZWwuaXRlbXMuZmlsdGVyKChpdCkgPT4gIW1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXNNYXJrZWRGb3JSZWxhYmVsKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQkFER0VfUE9TSVRJT046IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyBwb3NpdGlvbjogYWN0aW9uLnBvc2l0aW9uIH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0UG9zaXRpb246IGFjdGlvbi5wb3NpdGlvbiwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9HUk9VUDoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXNNYXJrZWRGb3JSZWxhYmVsID0gdXBkYXRlR3JvdXBBbmREZWZlclJlbGFiZWwobW9kZWwuaXRlbXMsIG1vZGVsLnNlbGVjdEl0ZW1zLCBhY3Rpb24uZ3JvdXApO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zTWFya2VkRm9yUmVsYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0R3JvdXA6IGFjdGlvbi5ncm91cCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0ZPUk1BVDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgZm9ybWF0OiBhY3Rpb24uZm9ybWF0IH0gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9BUkVBOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgYXJlYTogYWN0aW9uLmFyZWEgfSB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfUVVBTElUWTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgcXVhbGl0eTogYWN0aW9uLnF1YWxpdHkgfSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1NDQUxFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBzY2FsZTogYWN0aW9uLnNjYWxlIH0gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DQVBUVVJFX1JFUVVFU1RFRDoge1xuICAgICAgICAgICAgaWYgKG1vZGVsLnRhYklkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiAnTm8gdGFiSWQnIH1dIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogRWZmZWN0VHlwZS5DQVBUVVJFLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYklkOiBtb2RlbC50YWJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IG1vZGVsLmNhcHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWE6IG1vZGVsLmNhcHR1cmUuYXJlYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBtb2RlbC5jYXB0dXJlLnF1YWxpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IG1vZGVsLmNhcHR1cmUuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNpemU6IGFjdGlvbi5jb250ZW50U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNBUFRVUkVfU1VDQ0VFREVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DQVBUVVJFX0ZBSUxFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUiwgZXJyb3I6IGFjdGlvbi5lcnJvciB9XSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUkVPUkRFUl9JVEVNUzoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXNNYXJrZWRGb3JSZWxhYmVsID0gcmVvcmRlckl0ZW1MYWJlbChtb2RlbC5pdGVtcywgYWN0aW9uLmZyb21JZCwgYWN0aW9uLmZyb21JbmRleCwgYWN0aW9uLnRvSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zTWFya2VkRm9yUmVsYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRDoge1xuICAgICAgICAgICAgaWYgKCdpZCcgaW4gYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0L2Rlc2VsZWN0IGEgc2luZ2xlIGl0ZW1cbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RJdGVtcyA9IGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRCeUlkKGFjdGlvbi5pZCwgYWN0aW9uLmlzQ2hlY2ssIG1vZGVsLnNlbGVjdEl0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCdncm91cCcgaW4gYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0L2Rlc2VsZWN0IGEgZ3JvdXBcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RJdGVtcyA9IGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JHcm91cChhY3Rpb24uZ3JvdXAsIGFjdGlvbi5pc0NoZWNrLCBtb2RlbC5zZWxlY3RJdGVtcywgbW9kZWwuaXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0IGFsbC9EZXNlbGVjdCBhbGxcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RJdGVtcyA9IGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JBbGwoYWN0aW9uLmFsbENoZWNrLCBtb2RlbC5pdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fSE9WRVJfSU46XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuSE9WRVIsIGlkOiBhY3Rpb24uaWQgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9PVVQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuSE9WRVIsIGlkOiBudWxsIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlVQREFURV9JVEVNX0NPTU1FTlQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4oaXQuaWQgPT09IGFjdGlvbi5pZCA/IHsgY29tbWVudDogYWN0aW9uLmNvbW1lbnQgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5QT1JUX0RJU0NPTk5FQ1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHN0YXR1czogU1RBVFVTLkRJU0NPTk5FQ1RFRCwgc2VsZWN0aW9uRW5hYmxlZDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCwgZW5hYmxlZDogZmFsc2UgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX1RIRU1FOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdGhlbWU6IGFjdGlvbi50aGVtZSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlVQREFURV9USEVNRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRoZW1lOiBhY3Rpb24udGhlbWUgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlVQREFURV9USEVNRSwgdGhlbWU6IGFjdGlvbi50aGVtZSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfUkVRVUVTVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUT1JFX1JFTE9BRF9TVUNDRUVERUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBwYWdlS2V5czogYWN0aW9uLnBhZ2VLZXlzIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgZmlsZTogYWN0aW9uLmZpbGUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU1QT1JUX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRvYXN0TWVzc2FnZXM6IGFjdGlvbi50b2FzdE1lc3NhZ2VzIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU1QT1JUX0ZBSUxFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRvYXN0TWVzc2FnZXM6IGFjdGlvbi50b2FzdE1lc3NhZ2VzIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVE9BU1RfRElTTUlTU19SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgIGNvbnN0IHRvYXN0TWVzc2FnZXMgPSBtb2RlbC50b2FzdE1lc3NhZ2VzLmZpbHRlcigodCkgPT4gdC51dWlkICE9PSBhY3Rpb24udXVpZCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0b2FzdE1lc3NhZ2VzIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0U6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBraW5kOiBFZmZlY3RUeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVksIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0U6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWSwgcGFnZUtleTogYWN0aW9uLnBhZ2VLZXkgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuRVhQT1JUX0ZBSUxFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUiwgZXJyb3I6IGFjdGlvbi5lcnJvciB9XSB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFtdIH07XG4gICAgfVxufVxuLyoqXG4gKiBSZWxhYmVsIGl0ZW1zIGFzIGlmIHRoZSBpdGVtIHdpdGggYGZyb21JZGAgd2FzIG1vdmVkIHRvIHRoZSBwb3NpdGlvblxuICogd2hvc2UgbGFiZWwgZXF1YWxzIGBpdGVtc1t0b0luZGV4XS5sYWJlbGAuIExhYmVscyBvZiB0aGUgaXRlbXMgaW4gYmV0d2VlblxuICogYXJlIHNoaWZ0ZWQgYnkgwrExIHRvIGtlZXAgbGFiZWxzIHVuaXF1ZSBhbmQgY29udGlndW91cyAoaWYgdGhleSB3ZXJlKS5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgICAtIFNvdXJjZSBpdGVtcyAobm90IG11dGF0ZWQpLlxuICogQHBhcmFtIGZyb21JZCAgLSBJRCBvZiB0aGUgaXRlbSB0byBtb3ZlLlxuICogQHBhcmFtIGZyb21JbmRleCAgLSBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgaXRlbSB0byBiZSBtb3ZlZC5cbiAqIEBwYXJhbSB0b0luZGV4IC0gVGFyZ2V0IGluZGV4IGluIGBpdGVtc2Agd2hvc2UgbGFiZWwgYmVjb21lcyB0aGUgbmV3IGxhYmVsLlxuICogQHJldHVybnMgQSBuZXcgYXJyYXkgd2l0aCB1cGRhdGVkIGxhYmVscy5cbiAqIEB0aHJvd3MgUmFuZ2VFcnJvciBpZiBgdG9JbmRleGAgaXMgb3V0IG9mIGJvdW5kcyBvciBFcnJvciBpZiBgZnJvbUlkYCBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIHJlb3JkZXJJdGVtTGFiZWwoaXRlbXMsIGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgaWYgKHRvSW5kZXggPCAwIHx8IHRvSW5kZXggPj0gaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGB0b0luZGV4IG91dCBvZiByYW5nZTogJHt0b0luZGV4fWApO1xuICAgIH1cbiAgICBjb25zdCBmcm9tSWR4ID0gaXRlbXMuZmluZEluZGV4KChpKSA9PiBpLmlkID09PSBmcm9tSWQpO1xuICAgIGlmIChmcm9tSWR4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEl0ZW0gbm90IGZvdW5kIGZvciBpZD0ke2Zyb21JZH1gKTtcbiAgICB9XG4gICAgaWYgKHRvSW5kZXggPCAwIHx8IHRvSW5kZXggPj0gaXRlbXMuZmlsdGVyKChpdCkgPT4gaXQuZ3JvdXAgPT09IGl0ZW1zW2Zyb21JZHhdLmdyb3VwKS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYHRvSW5kZXggb3V0IG9mIHJhbmdlOiAke3RvSW5kZXh9YCk7XG4gICAgfVxuICAgIGNvbnN0IE9GRlNFVF9BRlRFUiA9IDEuMTtcbiAgICBjb25zdCBPRkZTRVRfQkVGT1JFID0gMC4xO1xuICAgIGNvbnN0IG9mZnNldCA9IGZyb21JbmRleCA8IHRvSW5kZXggPyBPRkZTRVRfQUZURVIgOiBPRkZTRVRfQkVGT1JFO1xuICAgIGNvbnN0IGxhYmVsID0gdG9JbmRleCArIG9mZnNldDtcbiAgICByZXR1cm4gaXRlbXMubWFwKChpdCkgPT4gKGl0LmlkID09PSBmcm9tSWQgPyB7IC4uLml0LCBsYWJlbCB9IDogaXQpKTtcbn1cbi8qKlxuICogQnVtcHMgdGhlIGxhYmVsIG9mIHNlbGVjdGVkIGl0ZW1zIHRoYXQgYWxyZWFkeSBiZWxvbmcgdG8gdGhlIHRyaW1tZWQgdGFyZ2V0IGdyb3VwLCB3aGlsZSBkZWZlcnJpbmcgbGFiZWwgbm9ybWFsaXphdGlvbi5cbiAqXG4gKiBOb3Rlc1xuICogLSBUaGUgZnVuY3Rpb24gb25seSB0b3VjaGVzIGl0ZW1zIHdob3NlIGBpZGAgaXMgaW4gYHNlbGVjdEl0ZW1zYCBhbmQgd2hvc2UgY3VycmVudCBgZ3JvdXBgIG1hdGNoZXMgYG5leHRHcm91cFJhd2AgKGFmdGVyIHRyaW1taW5nKS5cbiAqIC0gTGFiZWxzIGFyZSByZWFzc2lnbmVkIHRvIGxhcmdlIGRlc2NlbmRpbmcgbnVtYmVycyBzbyB0aGF0IGByZWxhYmVsQ29uc2VjdXRpdmVQZXJHcm91cCgpYCBjYW4gbGF0ZXIgY29tcGFjdCB0aGVtLlxuICpcbiAqIEBwYXJhbSBpdGVtcyAtIEZ1bGwgbGlzdCBvZiBzY3JlZW4gaXRlbXMuXG4gKiBAcGFyYW0gc2VsZWN0SXRlbXMgLSBJRHMgb2YgdGhlIGl0ZW1zIHRoYXQgc2hvdWxkIHJlY2VpdmUgYSB0ZW1wb3JhcnkgbGFiZWwgYnVtcC5cbiAqIEBwYXJhbSBuZXh0R3JvdXBSYXcgLSBUYXJnZXQgZ3JvdXAgbmFtZTsgdHJpbW1lZCBiZWZvcmUgY29tcGFyaXNvbi5cbiAqIEByZXR1cm5zIEEgbmV3IGFycmF5IHdoZXJlIHRoZSBtYXRjaGluZyBpdGVtcyBnYWluIGEgdGVtcG9yYXJ5IGhpZ2gtcHJpb3JpdHkgbGFiZWw7IG90aGVyIGl0ZW1zIGFyZSB1bnRvdWNoZWQuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsKGl0ZW1zLCBzZWxlY3RJdGVtcywgbmV4dEdyb3VwUmF3KSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7XG4gICAgY29uc3QgbmV4dEdyb3VwID0gbm9ybWFsaXplKG5leHRHcm91cFJhdyk7XG4gICAgbGV0IHVwZGF0ZUl0ZW1DbnQgPSAwO1xuICAgIGNvbnN0IHNvcnRlZEl0ZW1zID0gc29ydFNjcmVlbkl0ZW1zQnlHcm91cEFuZExhYmVsKGl0ZW1zKTtcbiAgICByZXR1cm4gc29ydGVkSXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdGVtLmlkKSAmJiBpdGVtLmdyb3VwICE9PSBuZXh0R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSB1cGRhdGVJdGVtQ250Kys7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtLCBncm91cDogbmV4dEdyb3VwLCBsYWJlbCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQoaWQsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zKSB7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgaWYgKCFzZWxlY3RJdGVtcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4uc2VsZWN0SXRlbXMsIGlkXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBpZCk7XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoZ3JvdXAsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zLCBpdGVtcykge1xuICAgIGNvbnN0IGcgPSBncm91cC50cmltKCk7XG4gICAgY29uc3QgZ3JvdXBJZHMgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdCkgPT4gKGl0Lmdyb3VwID8/IFVOR1JPVVBFRF9WQUxVRSkudHJpbSgpID09PSBnKVxuICAgICAgICAubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIGlmIChncm91cElkcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBzZWxlY3RJdGVtcztcbiAgICBpZiAoaXNDaGVjaykge1xuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KHNlbGVjdEl0ZW1zKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBncm91cElkcylcbiAgICAgICAgICAgIHNldC5hZGQoaWQpO1xuICAgICAgICByZXR1cm4gWy4uLnNldF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBncm91cFNldCA9IG5ldyBTZXQoZ3JvdXBJZHMpO1xuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpZCkgPT4gIWdyb3VwU2V0LmhhcyhpZCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JBbGwoYWxsQ2hlY2ssIGl0ZW1zKSB7XG4gICAgaWYgKGFsbENoZWNrKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiBpdC5pZCk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZVRhYigpIHtcbiAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRhYnNbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBY3RpdmVUYWJCcm9hZGNhc3QoKSB7XG4gICAgLy8gVGFiIHN3aXRjaGluZ1xuICAgIGNvbnN0IG9uQWN0aXZhdGVkID0gYXN5bmMgKHsgdGFiSWQsIHdpbmRvd0lkIH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFt0YWJdID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIHdpbmRvd0lkIH0pO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gdGFiPy51cmw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB1cmwgPyBwYWdlS2V5KHVybCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgdGFiSWQsIHdpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVsb2FkL3RyYW5zaXRpb24gZGV0ZWN0aW9uIHdpdGhpbiB0aGUgc2FtZSB0YWJcbiAgICBjb25zdCBvblVwZGF0ZWQgPSBhc3luYyAodGFiSWQsIGluZm8sIHRhYikgPT4ge1xuICAgICAgICBpZiAoIXRhYj8uYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaW5mby5zdGF0dXMgPT09ICdsb2FkaW5nJyB8fCB0eXBlb2YgaW5mby51cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYi51cmw7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZDogdGFiLndpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNocm9tZS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKG9uQWN0aXZhdGVkKTtcbiAgICBjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIob25VcGRhdGVkKTtcbn1cbiIsImltcG9ydCB7IENIQU5ORUwgfSBmcm9tICdAY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBQYW5lbEFwaSB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IFBvcnRScGMgfSBmcm9tICcuL3BvcnRfcnBjJztcbi8qKlxuICogSW5qZWN0cyB0aGUgY29udGVudCBzY3JpcHQgaW50byB0aGUgdGFiIGlmIG5lZWRlZCwgYW5kXG4gKiBpbml0aWFsaXplcyB0aGUgUG9ydCBjb25uZWN0aW9uIGFuZCBSUEMgZm9yIFBhbmVsIOKGlCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSB0YWJJZCAtIFRhcmdldCB0YWIgaWRcbiAqIEByZXR1cm5zIEEgY29ubmVjdGlvbiBvYmplY3QgYnVuZGxpbmcgQVBJLCBQb3J0LCBhbmQgUlBDXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9UYWIodGFiSWQpIHtcbiAgICBhd2FpdCBjaHJvbWUuc2NyaXB0aW5nXG4gICAgICAgIC5leGVjdXRlU2NyaXB0KHtcbiAgICAgICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgICAgIGZpbGVzOiBbJ2NvbnRlbnQvbWFpbi5qcyddLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIC8qIElnbm9yZSBpZiBhbHJlYWR5IGluamVjdGVkICovXG4gICAgfSk7XG4gICAgY29uc3QgcG9ydCA9IGNocm9tZS50YWJzLmNvbm5lY3QodGFiSWQsIHsgbmFtZTogQ0hBTk5FTC5QQU5FTF9DT05URU5UIH0pO1xuICAgIGNvbnN0IHJwYyA9IG5ldyBQb3J0UnBjKHBvcnQpO1xuICAgIGNvbnN0IGFwaSA9IG5ldyBQYW5lbEFwaShycGMpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IGxpc3RlbmVycy5mb3JFYWNoKChmbikgPT4gZm4oKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwaSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgcnBjLFxuICAgICAgICBvbkRpc2Nvbm5lY3Q6IChjYikgPT4gbGlzdGVuZXJzLnB1c2goY2IpLFxuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBJQ09OUyA9IHtcbiAgICBjYXJldERvd246IHtcbiAgICAgICAgZDogJ001LjIzIDcuMjFhLjc1Ljc1IDAgMDExLjA2LjAyTDEwIDEwLjkzOWwzLjcxLTMuNzFhLjc1Ljc1IDAgMTExLjA2IDEuMDYyTDEwLjUzIDEyLjUzYS43NS43NSAwIDAxLTEuMDYgMEw1LjIzIDguMjdhLjc1Ljc1IDAgMDEuMDItMS4wNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0RG93bkZpbGw6IHtcbiAgICAgICAgZDogJ003LjI0NyAxMS4xNCAyLjQ1MSA1LjY1OEMxLjg4NSA1LjAxMyAyLjM0NSA0IDMuMjA0IDRoOS41OTJhMSAxIDAgMCAxIC43NTMgMS42NTlsLTQuNzk2IDUuNDhhMSAxIDAgMCAxLTEuNTA2IDB6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBjYXJldFJpZ2h0OiB7XG4gICAgICAgIGQ6ICdNNy4yOTMgMTQuNzA3YTEgMSAwIDAxLTEuNDE0LTEuNDE0TDEwLjE3MiA5IDUuODc5IDQuNzA3YTEgMSAwIDAxMS40MTQtMS40MTRsNSA1YTEgMSAwIDAxMCAxLjQxNGwtNSA1eicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodEZpbGw6IHtcbiAgICAgICAgZDogJ20xMi4xNCA4Ljc1My01LjQ4MiA0Ljc5NmMtLjY0Ni41NjYtMS42NTguMTA2LTEuNjU4LS43NTNWMy4yMDRhMSAxIDAgMCAxIDEuNjU5LS43NTNsNS40OCA0Ljc5NmExIDEgMCAwIDEgMCAxLjUwNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgZDogJ00xNiA4QTggOCAwIDEgMSAwIDhhOCA4IDAgMCAxIDE2IDBtLTMuOTctMy4wM2EuNzUuNzUgMCAwIDAtMS4wOC4wMjJMNy40NzcgOS40MTcgNS4zODQgNy4zMjNhLjc1Ljc1IDAgMCAwLTEuMDYgMS4wNkw2Ljk3IDExLjAzYS43NS43NSAwIDAgMCAxLjA3OS0uMDJsMy45OTItNC45OWEuNzUuNzUgMCAwIDAtLjAxLTEuMDV6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBlcnJvcjoge1xuICAgICAgICBkOiAnTTE2IDhBOCA4IDAgMSAxIDAgOGE4IDggMCAwIDEgMTYgME04IDRhLjkwNS45MDUgMCAwIDAtLjkuOTk1bC4zNSAzLjUwN2EuNTUyLjU1MiAwIDAgMCAxLjEgMGwuMzUtMy41MDdBLjkwNS45MDUgMCAwIDAgOCA0bS4wMDIgNmExIDEgMCAxIDAgMCAyIDEgMSAwIDAgMCAwLTInLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHdhcm46IHtcbiAgICAgICAgZDogJ005LjA0OSAyLjkyN2ExLjUgMS41IDAgMDEyLjkwMiAwbDYuNDEgMTEuOTRBMS41IDEuNSAwIDAxMTcuMDEgMTdIMi45OWExLjUgMS41IDAgMDEtMS4zNTEtMi4xMzNsNi40MS0xMS45NHpNMTEgMTNhMSAxIDAgMTAtMiAwIDEgMSAwIDAwMiAwem0tMS0yYTEgMSAwIDAwMS0xVjdhMSAxIDAgMTAtMiAwdjNhMSAxIDAgMDAxIDF6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjb21tZW50OiB7XG4gICAgICAgIGQ6ICdNMCAyYTIgMiAwIDAgMSAyLTJoMTJhMiAyIDAgMCAxIDIgMnY4YTIgMiAwIDAgMS0yIDJINC40MTRhMSAxIDAgMCAwLS43MDcuMjkzTC44NTQgMTUuMTQ2QS41LjUgMCAwIDEgMCAxNC43OTN6bTUgNGExIDEgMCAxIDAtMiAwIDEgMSAwIDAgMCAyIDBtNCAwYTEgMSAwIDEgMC0yIDAgMSAxIDAgMCAwIDIgMG0zIDFhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICByZW1vdmU6IHtcbiAgICAgICAgZDogJ003IDNhMSAxIDAgMCAxIDEtMWg0YTEgMSAwIDAgMSAxIDF2MWgzYTEgMSAwIDEgMSAwIDJoLTFsLTEgMTBhMiAyIDAgMCAxLTIgMkg4YTIgMiAwIDAgMS0yLTJMNSA2SDRhMSAxIDAgMSAxIDAtMmgzVjNabTEgM2ExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMSAwIDIgMFY3YTEgMSAwIDAgMC0xLTFabTQgMGExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMSAwIDIgMFY3YTEgMSAwIDAgMC0xLTFaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBleHBvcnQ6IHtcbiAgICAgICAgZDogJ00zIDE2LjI1YS43NS43NSAwIDAgMSAuNzUtLjc1aDEyLjVhLjc1Ljc1IDAgMCAxIDAgMS41SDMuNzVhLjc1Ljc1IDAgMCAxLS43NS0uNzVabTcuNTMtMi4wM2EuNzUuNzUgMCAwIDEtMS4wNiAwbC0zLTNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwxLjcyIDEuNzJWMy43NWEuNzUuNzUgMCAwIDEgMS41IDB2OC4xM2wxLjcyLTEuNzJhLjc1Ljc1IDAgMSAxIDEuMDYgMS4wNmwtMyAzWicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2xvc2U6IHtcbiAgICAgICAgZDogJ001LjIzIDUuMjNhLjc1Ljc1IDAgMCAxIDEuMDYgMEwxMCA4Ljk0bDMuNzEtMy43MWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2TDExLjA2IDEwbDMuNzEgMy43MWEuNzUuNzUgMCAxIDEtMS4wNiAxLjA2TDEwIDExLjA2bC0zLjcxIDMuNzFhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNkw4Ljk0IDEwIDUuMjMgNi4yOWEuNzUuNzUgMCAwIDEgMC0xLjA2WicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24obmFtZSkge1xuICAgIGNvbnN0IHsgZCwgdmlld0JveCA9ICcwIDAgMjAgMjAnIH0gPSBJQ09OU1tuYW1lXTtcbiAgICByZXR1cm4geyBkLCB2aWV3Qm94IH07XG59XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuaW1wb3J0IHsgZ2V0SWNvbiB9IGZyb20gJ0Bjb21tb24vaWNvbnMnO1xuaW1wb3J0IHsgaXNJdGVtQ29sb3IsIGlzSXRlbVBvc2l0aW9uLCBpc0l0ZW1TaGFwZSwgaXNMYWJlbEZvcm1hdCwgVU5HUk9VUEVELCBVTkdST1VQRURfVkFMVUUsIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdGF0dXNNZXNzYWdlLCBTVEFUVVMsIFNUQVRVU19DTEFTU19CWV9LRVkgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnLi4vdHlwZXMvdWlfZXZlbnRfdHlwZXMnO1xuZnVuY3Rpb24gYnlMYWJlbFRoZW5JZChhLCBiKSB7XG4gICAgaWYgKGEubGFiZWwgIT09IGIubGFiZWwpXG4gICAgICAgIHJldHVybiBhLmxhYmVsIC0gYi5sYWJlbDtcbiAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XG59XG5leHBvcnQgY2xhc3MgUGFuZWxWaWV3IHtcbiAgICBkb2M7XG4gICAgbGlzdGVuZXJzID0ge307XG4gICAgZWxzO1xuICAgIE5FV19HUk9VUCA9ICdfX25ld2dyb3VwX18nO1xuICAgIEhPVkVSX09VVF9ERUxBWSA9IDEwMDA7XG4gICAgZHJhZ0VsID0gbnVsbDtcbiAgICBkcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgIGRyYWdTdGFydEluZGV4ID0gLTE7XG4gICAgaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgY29sbGFwc2VkR3JvdXBzID0gbmV3IFNldCgpO1xuICAgIFRPQVNUX0FVVE9fRElTTUlTUyA9IDEwMDAwO1xuICAgIGNvbnN0cnVjdG9yKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgaTE4bi5sb2NhbGl6ZShkb2MpO1xuICAgICAgICB0aGlzLmVscyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy4kKCcjc3RhdHVzJyksXG4gICAgICAgICAgICB0b2dnbGVCdG46IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QnKSxcbiAgICAgICAgICAgIHRvZ2dsZUljb246IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtaWNvbicpLFxuICAgICAgICAgICAgdG9nZ2xlTGFiZWw6IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtbGFiZWwnKSxcbiAgICAgICAgICAgIGNsZWFyQnRuOiB0aGlzLiQoJyNjbGVhcicpLFxuICAgICAgICAgICAgY2FwdHVyZUJ0bjogdGhpcy4kKCcjY2FwdHVyZScpLFxuICAgICAgICAgICAgbGlzdDogdGhpcy4kKCcjc2VsZWN0LWxpc3QnKSxcbiAgICAgICAgICAgIGVtcHR5OiB0aGlzLiQoJyNzZWxlY3QtZW1wdHknKSxcbiAgICAgICAgICAgIGNvdW50OiB0aGlzLiQoJyNzZWxlY3QtY291bnQnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zVG9nZ2xlOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMtdG9nZ2xlJyksXG4gICAgICAgICAgICBjYXB0dXJlT3B0aW9uc1BhbmVsOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMnKSxcbiAgICAgICAgICAgIGNhcHR1cmVGbXRSYWRpb3M6IHRoaXMuJGFsbCgnaW5wdXRbbmFtZT1cImNhcHR1cmUtZm9ybWF0XCJdJyksXG4gICAgICAgICAgICBjYXB0dXJlQXJlYVJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1hcmVhXCJdJyksXG4gICAgICAgICAgICBqcGVnT25seUVsczogdGhpcy4kYWxsKCcuanBlZy1vbmx5JyksXG4gICAgICAgICAgICBqcGVnUXVhbGl0eVJhbmdlOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktcmFuZ2UnKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5TnVtYmVyOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktbnVtYmVyJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVSYW5nZTogdGhpcy4kKCcjY2FwdHVyZS1zY2FsZS1yYW5nZScpLFxuICAgICAgICAgICAgY2FwdHVyZVNjYWxlTnVtYmVyOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VTaXplUmFuZ2U6IHRoaXMuJCgnI2JhZGdlLXNpemUtcmFuZ2UnKSxcbiAgICAgICAgICAgIGJhZGdlU2l6ZU51bWJlcjogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1udW1iZXInKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JCdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1jb2xvci1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yTGFiZWw6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yRG90OiB0aGlzLiQoJyNiYWRnZS1jb2xvci1kb3QnKSxcbiAgICAgICAgICAgIGJhZGdlU2hhcGVTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLXNoYXBlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VMYWJlbEZvcm1hdFNlbGVjdDogdGhpcy4kKCcjYmFkZ2UtbGFiZWwtZm9ybWF0LXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VWaXNpYmxlU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS12aXNpYmxlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VEZWxldGVCdXR0b246IHRoaXMuJCgnI2JhZGdlLWRlbGV0ZS1idXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25CdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1wb3NpdGlvbi1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZVBvc2l0aW9uTGFiZWw6IHRoaXMuJCgnI2JhZGdlLXBvc2l0aW9uLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUdyb3VwU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS1ncm91cC1zZWxlY3QnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZU1vZGFsOiB0aGlzLiQoJyNncm91cC1uYW1lLW1vZGFsJyksXG4gICAgICAgICAgICBncm91cE5hbWVJbnB1dDogdGhpcy4kKCcjZ3JvdXAtbmFtZS1pbnB1dCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ2FuY2VsQnRuOiB0aGlzLiQoJyNncm91cC1uYW1lLWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUNyZWF0ZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY3JlYXRlLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRNb2RhbDogdGhpcy4kKCcjaXRlbS1jb21tZW50LW1vZGFsJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SWRJbnB1dDogdGhpcy4kKCcjaXRlbS1jb21tZW50LWlkLWlucHV0JyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudENhbmNlbEJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50QXBwbHlCdG46IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1hcHBseS1idG4nKSxcbiAgICAgICAgICAgIHNlbGVjdEl0ZW1BbGxDaGVja2JveDogdGhpcy4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cIml0ZW0tc2VsZWN0XCJdW3ZhbHVlPVwiYWxsXCJdJyksXG4gICAgICAgICAgICBzZXR0aW5nTW9kYWw6IHRoaXMuJCgnI3NldHRpbmctbW9kYWwnKSxcbiAgICAgICAgICAgIHNldHRpbmdCdXR0b246IHRoaXMuJCgnI3NldHRpbmctYnV0dG9uJyksXG4gICAgICAgICAgICBzZXR0aW5nQ2xvc2VCdXR0b246IHRoaXMuJCgnI3NldHRpbmctY2xvc2UtYnRuJyksXG4gICAgICAgICAgICB0aGVtZUxpZ2h0QnRuOiB0aGlzLiQoJyN0aGVtZS1saWdodC1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGFya0J0bjogdGhpcy4kKCcjdGhlbWUtZGFyay1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGV2aWNlQnRuOiB0aGlzLiQoJyN0aGVtZS1kZXZpY2UtYnRuJyksXG4gICAgICAgICAgICBpbXBvcnRGaWxlSW5wdXQ6IHRoaXMuJCgnI2ltcG9ydC1maWxlLWlucHV0JyksXG4gICAgICAgICAgICBpbXBvcnRCdG46IHRoaXMuJCgnI2ltcG9ydC1idG4nKSxcbiAgICAgICAgICAgIHN0b3JlQ291bnQ6IHRoaXMuJCgnI3N0b3JlLWNvdW50JyksXG4gICAgICAgICAgICBzdG9yZUxpc3Q6IHRoaXMuJCgnI3N0b3JlLWxpc3QnKSxcbiAgICAgICAgICAgIHN0b3JlRW1wdHk6IHRoaXMuJCgnI3N0b3JlLWVtcHR5JyksXG4gICAgICAgICAgICB0b2FzdFBhcmVudDogdGhpcy4kKCcjdG9hc3QtcGFyZW50JyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5lbHMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0xFQVIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAvLyA9PT0gQ2FwdHVyZSBvcHRpb25zID09PVxuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MuZm9yRWFjaCgocikgPT4gci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCB7IGZvcm1hdDogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCB7IGFyZWE6IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZSwgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgeyBxdWFsaXR5OiB2IH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZSwgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLCAodikgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCB7IHNjYWxlOiB2IH0pKTtcbiAgICAgICAgLy8gPT09IEJhZGdlID09PVxuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLCB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIpO1xuICAgICAgICBjb25zdCBmaXJlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBOdW1iZXIodGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCB7IHNpemU6IHYgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQuY29sb3JOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaXNJdGVtQ29sb3IocmF3KSA/IHJhdyA6ICdCbHVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCB7IGNvbG9yIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGlzSXRlbVNoYXBlKHYpID8gdiA6ICdjaXJjbGUnO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgeyBzaGFwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QudmFsdWUgPz8gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsRm9ybWF0ID0gaXNMYWJlbEZvcm1hdCh2KSA/IHYgOiAnTnVtYmVycyc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfTEFCRUxfRk9STUFUX0NIQU5HRSwgeyBsYWJlbEZvcm1hdCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlVmlzaWJsZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gdGhpcy5lbHMuYmFkZ2VWaXNpYmxlU2VsZWN0LnZhbHVlID09PSAndHJ1ZSc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfVklTSUJMRV9DSEFOR0UsIHsgdmlzaWJsZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGJ0bi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGlzSXRlbVBvc2l0aW9uKHJhdykgPyByYXcgOiAnbGVmdC10b3Atb3V0c2lkZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QudmFsdWUgPz8gVU5HUk9VUEVEO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YWx1ZSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT09IHRoaXMuTkVXX0dST1VQKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDcmVhdGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgfHwgdmFsdWUgPT09IHRoaXMuTkVXX0dST1VQID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRBcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGhpcy5lbHMuaXRlbUNvbW1lbnRJZElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksIHsgaWQsIGNvbW1lbnQgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuc2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnNldHRpbmdNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRUSU5HX01PREFMX1NIT1csIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5zZXR0aW5nQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5zZXR0aW5nTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2xpZ2h0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGFya0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RhcmsnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEZXZpY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUoJ2RldmljZScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RldmljZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5pbXBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBubyBmaWxlIGlzIHNlbGVjdGVkLCBvcGVuIHRoZSBkaWFsb2dcbiAgICAgICAgICAgIGlmICghdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzIHx8IHRoaXMuZWxzLmltcG9ydEZpbGVJbnB1dC5maWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5pbXBvcnRGaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzWzBdO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgeyBmaWxlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLmVscy5zZWxlY3RJdGVtQWxsQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCB7IGFsbENoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgKCkgPT4gdGhpcy5jYW5jZWxIb3Zlck91dCgpKTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB0aGlzLnNjaGVkdWxlSG92ZXJPdXQoKSk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEhvdmVyT3V0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGFyciA9ICh0aGlzLmxpc3RlbmVyc1t0eXBlXSA/Pz0gW10pO1xuICAgICAgICBhcnIucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCBlKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBhcnI/LmZvckVhY2goKGgpID0+IGgoZSkpO1xuICAgIH1cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgdGhpcy5hcHBseVRvYXN0TWVzc2FnZXMobW9kZWwudG9hc3RNZXNzYWdlcyk7XG4gICAgICAgIHRoaXMuYXBwbHlUaGVtZShtb2RlbC50aGVtZSk7XG4gICAgICAgIHRoaXMuYXBwbHlTdG9yZShtb2RlbC5wYWdlS2V5cyk7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdHVzKG1vZGVsLnN0YXR1cyk7XG4gICAgICAgIHRoaXMucmVuZGVyVG9nZ2xlKG1vZGVsLnNlbGVjdGlvbkVuYWJsZWQpO1xuICAgICAgICB0aGlzLnJlbmRlckxpc3QobW9kZWwuaXRlbXMsIG1vZGVsLnNlbGVjdEl0ZW1zLCBtb2RlbC5taXNzaW5nSWRzKTtcbiAgICAgICAgdGhpcy5zZWxlY3RSYWRpb0J5VmFsdWUodGhpcy5lbHMuY2FwdHVyZUZtdFJhZGlvcywgbW9kZWwuY2FwdHVyZS5mb3JtYXQpO1xuICAgICAgICB0aGlzLnNlbGVjdFJhZGlvQnlWYWx1ZSh0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcywgbW9kZWwuY2FwdHVyZS5hcmVhKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5xdWFsaXR5KTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnF1YWxpdHkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlU2NhbGVOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5zY2FsZSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVTY2FsZVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUuc2NhbGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KG1vZGVsLmNhcHR1cmUuZm9ybWF0KTtcbiAgICAgICAgdGhpcy5hcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkobW9kZWwuY2FwdHVyZS5wYW5lbEV4cGFuZGVkKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlID0gU3RyaW5nKG1vZGVsLmRlZmF1bHRTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplUmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFNpemUpO1xuICAgICAgICB0aGlzLmFwcGx5QmFkZ2VDb2xvclVJKG1vZGVsLmRlZmF1bHRDb2xvcik7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2hhcGVTZWxlY3QudmFsdWUgPSBtb2RlbC5kZWZhdWx0U2hhcGU7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QudmFsdWUgPSBtb2RlbC5kZWZhdWx0TGFiZWxGb3JtYXQgPz8gJ051bWJlcnMnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVZpc2libGVTZWxlY3QudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFZpc2libGUgPz8gJ3RydWUnKTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlUG9zaXRvblVJKG1vZGVsLmRlZmF1bHRQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkodGhpcy5nZXRFeGlzdGluZ0dyb3Vwcyhtb2RlbC5pdGVtcyksIG1vZGVsLmRlZmF1bHRHcm91cCk7XG4gICAgfVxuICAgIHJlbmRlclN0YXR1cyhrZXkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBTVEFUVVNfQ0xBU1NfQllfS0VZW2tleV07XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHMuc3RhdHVzO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gYGNvbm5lY3Qtc3RhdHVzICR7c3R5bGV9YDtcbiAgICAgICAgY29uc3QgZG90ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZCgnY29ubmVjdC1zdGF0dXMtZG90Jyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBnZXRTdGF0dXNNZXNzYWdlKGtleSk7XG4gICAgICAgIGVsLnJlcGxhY2VDaGlsZHJlbihkb3QsIHRleHQpO1xuICAgICAgICB0aGlzLmRpc2FibGVGb3JtQ29udHJvbHMoa2V5KTtcbiAgICB9XG4gICAgcmVuZGVyVG9nZ2xlKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZWxzLnRvZ2dsZUljb247XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXRvZ2dsZS1pY29uJywgZW5hYmxlZCA/ICdiZy1pbmRpZ28tNTAwJyA6ICdiZy1zbGF0ZS0zMDAnKTtcbiAgICAgICAgdGhpcy5lbHMudG9nZ2xlTGFiZWwudGV4dENvbnRlbnQgPSBpMThuLmdldChlbmFibGVkID8gJ3RvZ2dsZV9vbicgOiAndG9nZ2xlX29mZicpO1xuICAgIH1cbiAgICByZW5kZXJMaXN0KGl0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICB0aGlzLmVscy5jb3VudC50ZXh0Q29udGVudCA9IFN0cmluZyhpdGVtcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBhbGxDaGVja2VkID0gaXRlbXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiBpdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5jaGVja2VkID0gYWxsQ2hlY2tlZDtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5lbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cEJ5R3JvdXAoaXRlbXMpO1xuICAgICAgICBjb25zdCBncm91cEtleXMgPSBBcnJheS5mcm9tKGdyb3Vwcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhID09PSBVTkdST1VQRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGIgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmcmFnID0gdGhpcy5kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGdLZXkgb2YgZ3JvdXBLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5yZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ3JvdXBzLmdldChnS2V5KSwgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbihmcmFnKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXBTZWN0aW9uKGdLZXksIGdJdGVtcywgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpIHtcbiAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmVsKCdzZWN0aW9uJywgJ3NlbGVjdC1pdGVtLXNlY3Rpb24nKTtcbiAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuZWwoJ2RpdicsICdzZWxlY3QtaXRlbS1oZWFkZXInKTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCAnc3Bzay1jaGVja2JveCBzcHNrLWNoZWNrYm94LS1ub3JtYWwnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBnSXRlbXMuZXZlcnkoKGl0KSA9PiBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogZ0tleSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogZ0tleSxcbiAgICAgICAgICAgICAgICBpc0NoZWNrOiBzZWxlY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC10aXRsZScsIGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXkpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWdoLWxlZnQnKTtcbiAgICAgICAgbGVmdC5hcHBlbmQoY2hlY2tib3hXcmFwLCB0aXRsZSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC1jb3VudCcsIFN0cmluZyhnSXRlbXMubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IHRoaXMuZWwoJ2J1dHRvbicsICdzZWxlY3QtaXRlbS1naC10b2dnbGUnKTtcbiAgICAgICAgdG9nZ2xlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghaXNDb2xsYXBzZWQpKTtcbiAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBpc0NvbGxhcHNlZCA/IGdldEljb24oJ2NhcmV0UmlnaHQnKSA6IGdldEljb24oJ2NhcmV0RG93bicpO1xuICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgY2xhc3NOYW1lOiAnaWNvbi1zbScsIHZpZXdCb3ggfSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZVBhdGggPSB0b2dnbGVJY29uLnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKTtcbiAgICAgICAgdG9nZ2xlQnRuLmFwcGVuZCh0b2dnbGVJY29uKTtcbiAgICAgICAgaGVhZGVyLmFwcGVuZChsZWZ0LCBjb3VudCwgdG9nZ2xlQnRuKTtcbiAgICAgICAgLy8gdWxcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLmVsKCd1bCcsICdzZWxlY3QtaXRlbS1saXN0Jyk7XG4gICAgICAgIGlmIChpc0NvbGxhcHNlZClcbiAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmF0dGFjaFVsRG5ESGFuZGxlcnModWwpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGdJdGVtcy5zb3J0KGJ5TGFiZWxUaGVuSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RDaGVja2VkID0gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudGx5Q29sbGFwc2VkID0gdGhpcy5jb2xsYXBzZWRHcm91cHMuaGFzKGdLZXkpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRseUNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2VkR3JvdXBzLmRlbGV0ZShnS2V5KTtcbiAgICAgICAgICAgICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGdldEljb24oJ2NhcmV0RG93bicpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuYWRkKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXRSaWdodCcpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kKGhlYWRlciwgdWwpO1xuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgcmVuZGVySXRlbShpdCwgc2VsZWN0Q2hlY2tlZCwgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc01pc3NpbmcgPSBtaXNzaW5nSWRzLmluY2x1ZGVzKGl0LmlkKTtcbiAgICAgICAgY29uc3QgbGlCYXNlID0gJ3NlbGVjdC1pdGVtJztcbiAgICAgICAgY29uc3QgbGkgPSB0aGlzLmVsKCdsaScsIGlzTWlzc2luZyA/IGBncm91cCAke2xpQmFzZX0gc2VsZWN0LWl0ZW0tLXdhcm5gIDogbGlCYXNlKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGxpLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIC8vIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwgPSBsaTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbGkucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGxpLnBhcmVudEVsZW1lbnQ/LmNoaWxkcmVuID8/IFtdLCBsaSk7XG4gICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpXG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZHJhZ0VsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHBhcmVudCA/IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCB0aGlzLmRyYWdFbCkgOiAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JZCA9IHRoaXMuZHJhZ0VsLmRhdGFzZXQuaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZnJvbUlkICYmIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPj0gMCAmJiBlbmRJbmRleCA+PSAwICYmIGVuZEluZGV4ICE9PSB0aGlzLmRyYWdTdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUlkOiBOdW1iZXIoZnJvbUlkKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbUluZGV4OiB0aGlzLmRyYWdTdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0b0luZGV4OiBlbmRJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoZWNrYm94XG4gICAgICAgIGNvbnN0IGNoZWNrYm94V3JhcCA9IHRoaXMuZWwoJ2RpdicsICdzcHNrLWNoZWNrd3JhcCcpO1xuICAgICAgICBjb25zdCBjaGVja2JveFN0eWxlID0gaXNNaXNzaW5nXG4gICAgICAgICAgICA/ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLXdhcm4nXG4gICAgICAgICAgICA6ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCc7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCBjaGVja2JveFN0eWxlKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzZWxlY3RDaGVja2VkO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgaWQ6IGl0LmlkLCBpc0NoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrYm94V3JhcC5hcHBlbmQoY2hlY2tib3gpO1xuICAgICAgICAvLyBiYWRnZVxuICAgICAgICBjb25zdCBiYWRnZVN0eWxlID0gaXNNaXNzaW5nID8gJ3Nwc2stYmFkZ2Ugc3Bzay1iYWRnZS0td2FybicgOiAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS1ub3JtJztcbiAgICAgICAgY29uc3QgYmFkZ2UgPSB0aGlzLmVsKCdzcGFuJywgYmFkZ2VTdHlsZSwgU3RyaW5nKGl0LmxhYmVsKSk7XG4gICAgICAgIC8vIG1haW4gKG1pc3NpbmdJY29uLCBhbmNob3IpXG4gICAgICAgIGNvbnN0IG1haW4gPSB0aGlzLmVsKCdkaXYnLCAnbWluLXctMCBmbGV4LTEnKTtcbiAgICAgICAgbWFpbi5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgfHwgaXNNaXNzaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCB7IGlkOiBpdC5pZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc01pc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaXAgPSB0aGlzLmVsKCdzcGFuJywgJ2NoaXAtd2FybicpO1xuICAgICAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBnZXRJY29uKCd3YXJuJyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICAgICAgdmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsKCdzcGFuJywgdW5kZWZpbmVkLCBpMThuLmdldCgnbWlzc2luZ19pdGVtJykpO1xuICAgICAgICAgICAgY2hpcC5hcHBlbmQoaWNvbiwgbGFiZWwpO1xuICAgICAgICAgICAgbWFpbi5hcHBlbmQoY2hpcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5lbCgnZGl2JywgJ2FuY2hvcicsIGl0LmFuY2hvci52YWx1ZSk7XG4gICAgICAgIG1haW4uYXBwZW5kKGFuY2hvcik7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRCdG4gPSB0aGlzLmdlbmVyYXRlQ29tbWVudEJ0bihpdCk7XG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveFdyYXAsIGJhZGdlLCBtYWluLCBjb21tZW50QnRuKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbW1lbnRCdG4oaXQpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuLWljb24nO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ2NvbW1lbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihkLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRJbnB1dC52YWx1ZSA9IGl0LmNvbW1lbnQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElkSW5wdXQudmFsdWUgPSBTdHJpbmcoaXQuaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ0bjtcbiAgICB9XG4gICAgc2NoZWR1bGVIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSwgdGhpcy5IT1ZFUl9PVVRfREVMQVkpO1xuICAgIH1cbiAgICBjYW5jZWxIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhvdmVyT3V0VGltZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTCBEJkQgSGFuZGxlclxuICAgICAqIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAqIEBwYXJhbSB1bFxuICAgICAqL1xuICAgIGF0dGFjaFVsRG5ESGFuZGxlcnModWwpIHtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYWdFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgJiYgdWwgIT09IHRoaXMuZHJhZ1N0YXJ0UGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpID0gZS50YXJnZXQ/LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TGkgJiYgdGFyZ2V0TGkgIT09IHRoaXMuZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldExpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQWZ0ZXIgPSBlLmNsaWVudFkgLSByZWN0LnRvcCA+IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB1bC5pbnNlcnRCZWZvcmUodGhpcy5kcmFnRWwsIGlzQWZ0ZXIgPyB0YXJnZXRMaS5uZXh0U2libGluZyA6IHRhcmdldExpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0YXJnZXRMaSkge1xuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKHRoaXMuZHJhZ0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG4gICAgZ2V0RXhpc3RpbmdHcm91cHMoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChpdGVtcy5tYXAoKGkpID0+IChpLmdyb3VwID8/ICcnKS50cmltKCkpLmZpbHRlcigoZykgPT4gZy5sZW5ndGggPiAwKSkpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XG4gICAgfVxuICAgIGdyb3VwQnlHcm91cChpdGVtcykge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSAoaXQuZ3JvdXAgPz8gVU5HUk9VUEVEX1ZBTFVFKS50cmltKCkgfHwgVU5HUk9VUEVEO1xuICAgICAgICAgICAgaWYgKCFtLmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgIG0uc2V0KGtleSwgW10pO1xuICAgICAgICAgICAgbS5nZXQoa2V5KS5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ2pwZWcnID8gJ2pwZWcnIDogJ3BuZyc7XG4gICAgfVxuICAgIGdldFNlbGVjdGVkQ2FwdHVyZUFyZWEoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ3ZpZXdwb3J0JyA/ICd2aWV3cG9ydCcgOiAnZnVsbCc7XG4gICAgfVxuICAgIHVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KGZvcm1hdCkge1xuICAgICAgICBjb25zdCBmID0gZm9ybWF0ID8/IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCk7XG4gICAgICAgIGNvbnN0IGlzSnBlZyA9IGYgPT09ICdqcGVnJztcbiAgICAgICAgdGhpcy5lbHMuanBlZ09ubHlFbHMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc0pwZWcpKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS5kaXNhYmxlZCA9ICFpc0pwZWc7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5TnVtYmVyLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICB9XG4gICAgc2VsZWN0UmFkaW9CeVZhbHVlKHJhZGlvcywgdmFsdWUpIHtcbiAgICAgICAgcmFkaW9zLmZvckVhY2goKHIpID0+IChyLmNoZWNrZWQgPSByLnZhbHVlID09PSB2YWx1ZSkpO1xuICAgIH1cbiAgICBiaW5kU3luYyhyYW5nZUVsLCBudW1iZXJFbCwgb25WYWx1ZSkge1xuICAgICAgICBjb25zdCByZWFkTnVtID0gKHMsIGZhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gcyAhPSBudWxsICYmIHMgIT09ICcnID8gTnVtYmVyKHMpIDogTmFOO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSA/IHYgOiBmYWxsYmFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodiwgbWluLCBtYXgpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAocmF3U3RyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSByZWFkTnVtKG51bWJlckVsLm1pbiB8fCByYW5nZUVsLm1pbiwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IHJlYWROdW0obnVtYmVyRWwubWF4IHx8IHJhbmdlRWwubWF4LCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHJlYWROdW0obnVtYmVyRWwuc3RlcCB8fCByYW5nZUVsLnN0ZXAsIDEpO1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gTnVtYmVyKHJhd1N0cik7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXAoTnVtYmVyLmlzRmluaXRlKHJhdykgPyByYXcgOiAwLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBjb25zdCByb3VuZGVkID0gTWF0aC5yb3VuZChjbGFtcGVkIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSBOdW1iZXIocm91bmRlZC50b0ZpeGVkKDYpKTtcbiAgICAgICAgICAgIG51bWJlckVsLnZhbHVlID0gU3RyaW5nKGZpeGVkKTtcbiAgICAgICAgICAgIHJhbmdlRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgb25WYWx1ZT8uKGZpeGVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmFuZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMocmFuZ2VFbC52YWx1ZSkpO1xuICAgICAgICBudW1iZXJFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMobnVtYmVyRWwudmFsdWUpKTtcbiAgICB9XG4gICAgZGlzYWJsZUZvcm1Db250cm9scyhzdGF0dXMpIHtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24sIHNlbGVjdCwgaW5wdXQsIHRleHRhcmVhJyk7XG4gICAgICAgIC8vIERldGVybWluZSBlbmFibGVtZW50IHBvbGljeSBwZXIgc3RhdHVzXG4gICAgICAgIGNvbnN0IGVuYWJsZUFsbCA9IHN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRDtcbiAgICAgICAgY29uc3QgZW5hYmxlSWdub3JlT25seSA9IHN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RJTkcgfHwgc3RhdHVzID09PSBTVEFUVVMuRElTQ09OTkVDVEVEO1xuICAgICAgICBjb25zdCBlbmFibGVOb25lID0gc3RhdHVzID09PSBTVEFUVVMuUkVTVFJJQ1RFRDtcbiAgICAgICAgY29udHJvbHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9IChlbmFibGVBbGwgJiYgdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICAoZW5hYmxlSWdub3JlT25seSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtaWdub3JlLWRpc2FibGUnKSkgfHxcbiAgICAgICAgICAgICAgICAoZW5hYmxlTm9uZSAmJiBmYWxzZSk7XG4gICAgICAgICAgICBlbC5kaXNhYmxlZCA9ICFzaG91bGRFbmFibGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkoZXhwYW5kZWQpIHtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKGV4cGFuZGVkKSk7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZXhwYW5kZWQgPyBnZXRJY29uKCdjYXJldERvd25GaWxsJykgOiBnZXRJY29uKCdjYXJldFJpZ2h0RmlsbCcpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgdmlld0JveCwgY2xhc3NOYW1lOiAnaC00IHctNCcgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFleHBhbmRlZCk7XG4gICAgfVxuICAgIGdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpIHtcbiAgICAgICAgY29uc3QgY29sb3JOYW1lID0gY29sb3IgPT09ICdHcmF5JyA/ICdzbGF0ZScgOiBjb2xvcjtcbiAgICAgICAgcmV0dXJuIGBiZy0ke2NvbG9yTmFtZS50b0xvd2VyQ2FzZSgpfS01MDBgO1xuICAgIH1cbiAgICBhcHBseUJhZGdlQ29sb3JVSShjb2xvcikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQuY29sb3JOYW1lID09PSBjb2xvcjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckxhYmVsLnRleHRDb250ZW50ID0gY29sb3I7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NOYW1lID0gJ2lubGluZS1ibG9jayB3LTQgaC00IHJvdW5kZWQtZnVsbCc7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NMaXN0LmFkZCh0aGlzLmdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpKTtcbiAgICB9XG4gICAgYXBwbHlCYWRnZVBvc2l0b25VSShwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZVBvc2l0aW9uQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQucG9zaXRpb25OYW1lID09PSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkxhYmVsLnRleHRDb250ZW50ID0gcG9zaXRpb24ucmVwbGFjZUFsbCgnLScsICcgJyk7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJKGV4aXN0aW5nR3JvdXBzLCBkZWZhdXRHcm91cCkge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQoVU5HUk9VUEVELCBpMThuLmdldCgnZ3JvdXBfdW5ncm91cGVkJyksIGRlZmF1dEdyb3VwID09PSBVTkdST1VQRUQpKTtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBleGlzdGluZ0dyb3Vwcykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vcm1hbGl6ZShncm91cCk7XG4gICAgICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQodmFsdWUsIGdyb3VwLCBkZWZhdXRHcm91cCA9PT0gZ3JvdXApKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVPcHQgPSB0aGlzLm1ha2VPcHQodGhpcy5ORVdfR1JPVVAsIGkxOG4uZ2V0KCdjb21tb25fY3JlYXRlJykpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZChjcmVhdGVPcHQpO1xuICAgIH1cbiAgICBhcHBseVRoZW1lKHRoZW1lKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRGFyayA9IHRoZW1lID09PSAnZGV2aWNlJ1xuICAgICAgICAgICAgPyB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXNcbiAgICAgICAgICAgIDogdGhlbWUgPT09ICdkYXJrJztcbiAgICAgICAgaWYgKGlzRGFyaykge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb290LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdsaWdodCcpKTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEYXJrQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdkYXJrJykpO1xuICAgICAgICB0aGlzLmVscy50aGVtZURldmljZUJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgU3RyaW5nKHRoZW1lID09PSAnZGV2aWNlJykpO1xuICAgIH1cbiAgICBhcHBseVN0b3JlKHBhZ2VLZXlzKSB7XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlQ291bnQudGV4dENvbnRlbnQgPSBTdHJpbmcocGFnZUtleXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBpZiAocGFnZUtleXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYWdlS2V5IG9mIHBhZ2VLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBsaUVsZW0gPSB0aGlzLmVsKCdsaScsICdzZWxlY3QtaXRlbScpO1xuICAgICAgICAgICAgY29uc3QgYVdyYXBFbGVtID0gdGhpcy5lbCgnZGl2JywgJ21pbi13LTAgZmxleC0xJyk7XG4gICAgICAgICAgICBjb25zdCBhRWxlbSA9IHRoaXMuZWwoJ2EnLCAnYW5jaG9yIHdoaXRlc3BhY2Utbm9ybWFsIGJyZWFrLXdvcmRzJywgcGFnZUtleSk7XG4gICAgICAgICAgICBhRWxlbS5ocmVmID0gcGFnZUtleTtcbiAgICAgICAgICAgIGFFbGVtLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgYVdyYXBFbGVtLmFwcGVuZENoaWxkKGFFbGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEJ0bkVsZW0gPSB0aGlzLmVsKCdidXR0b24nLCAnYnRuLWljb24nKTtcbiAgICAgICAgICAgIGV4cG9ydEJ0bkVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlnbm9yZS1kaXNhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb25EZWYgPSBnZXRJY29uKCdleHBvcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZXhwb3J0SWNvbkRlZi5kLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnaWNvbi1zbScsXG4gICAgICAgICAgICAgICAgdmlld0JveDogZXhwb3J0SWNvbkRlZi52aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFwcGVuZENoaWxkKGV4cG9ydEljb24pO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlQnRuRWxlbSA9IHRoaXMuZWwoJ2J1dHRvbicsICdidG4taWNvbiBidG4taWNvbi0tZGFuZ2VyJyk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uRGVmID0gZ2V0SWNvbigncmVtb3ZlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKHJlbW92ZUljb25EZWYuZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ljb24tc20nLFxuICAgICAgICAgICAgICAgIHZpZXdCb3g6IHJlbW92ZUljb25EZWYudmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlQnRuRWxlbS5hcHBlbmRDaGlsZChyZW1vdmVJY29uKTtcbiAgICAgICAgICAgIGxpRWxlbS5hcHBlbmRDaGlsZChhV3JhcEVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKGV4cG9ydEJ0bkVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKHJlbW92ZUJ0bkVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmFwcGVuZENoaWxkKGxpRWxlbSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5SRU1PVkVfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmVscy5zdG9yZUVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBhcHBseVRvYXN0TWVzc2FnZXModG9hc3RNZXNzYWdlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHRvYXN0TWVzc2FnZSBvZiB0b2FzdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmVscy50b2FzdFBhcmVudC5hcHBlbmRDaGlsZCh0b2FzdEVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB7IHV1aWQ6IHRvYXN0TWVzc2FnZS51dWlkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSkge1xuICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmVsKCdkaXYnLCBgdG9hc3QgdG9hc3QtLSR7dG9hc3RNZXNzYWdlLmtpbmR9YCk7XG4gICAgICAgIGNvbnN0IHRvYXN0SWNvbkRlZiA9IGdldEljb24odG9hc3RNZXNzYWdlLmtpbmQpO1xuICAgICAgICBjb25zdCB0b2FzdEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24odG9hc3RJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3RvYXN0LWljb24nLFxuICAgICAgICAgICAgdmlld0JveDogdG9hc3RJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgICAgICB2YXJpYW50OiAnc29saWQnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdG9hc3RCb2R5ID0gdGhpcy5lbCgnZGl2JywgJ3RvYXN0LWJvZHknKTtcbiAgICAgICAgY29uc3QgZGVzYyA9IHRoaXMuZWwoJ3AnLCAndG9hc3QtZGVzYycsIHRvYXN0TWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgdG9hc3RCb2R5LmFwcGVuZENoaWxkKGRlc2MpO1xuICAgICAgICBjb25zdCBjbG9zZUJ0biA9IHRoaXMuZWwoJ2J1dHRvbicsIGB0b2FzdC1jbG9zZSB0b2FzdC1jbG9zZS0tJHt0b2FzdE1lc3NhZ2Uua2luZH1gKTtcbiAgICAgICAgY29uc3QgY2xvc2VJY29uRGVmID0gZ2V0SWNvbignY2xvc2UnKTtcbiAgICAgICAgY29uc3QgY2xvc2VJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGNsb3NlSWNvbkRlZi5kLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICB2aWV3Qm94OiBjbG9zZUljb25EZWYudmlld0JveCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNsb3NlQnRuLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgICAgIHRvYXN0RWxlbS5hcHBlbmRDaGlsZCh0b2FzdEljb24pO1xuICAgICAgICB0b2FzdEVsZW0uYXBwZW5kQ2hpbGQodG9hc3RCb2R5KTtcbiAgICAgICAgdG9hc3RFbGVtLmFwcGVuZENoaWxkKGNsb3NlQnRuKTtcbiAgICAgICAgY29uc3QgdGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0b2FzdEVsZW0uaXNDb25uZWN0ZWQpXG4gICAgICAgICAgICAgICAgdG9hc3RFbGVtLnJlbW92ZSgpO1xuICAgICAgICB9LCB0aGlzLlRPQVNUX0FVVE9fRElTTUlTUyk7XG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgaWYgKHRvYXN0RWxlbS5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgICAgICB0b2FzdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdG9hc3RFbGVtO1xuICAgIH1cbiAgICAkKHNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5kb2MucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIGlmICghZWwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtQYW5lbFZpZXddIE1pc3NpbmcgZWxlbWVudDogJHtzZWxlY3Rvcn1gKTtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICAkYWxsKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgZWwodGFnLCBjbGFzc05hbWUsIHRleHQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSlcbiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICBpZiAodGV4dCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBtYWtlT3B0KHZhbHVlLCBsYWJlbCwgc2VsZWN0ZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBvID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgby50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBpZiAoc2VsZWN0ZWQpXG4gICAgICAgICAgICBvLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIGNyZWF0ZVN2Z0ljb24oZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAnc3ZnJyk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBvcHRzLnZpZXdCb3ggPz8gJzAgMCAyMCAyMCcpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIGlmIChvcHRzLmNsYXNzTmFtZSlcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgb3B0cy5jbGFzc05hbWUpO1xuICAgICAgICBjb25zdCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAncGF0aCcpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGQpO1xuICAgICAgICBpZiAob3B0cy52YXJpYW50ID09PSAnb3V0bGluZScpIHtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnY3VycmVudENvbG9yJyk7XG4gICAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzEuNScpO1xuICAgICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lY2FwJywgJ3JvdW5kJyk7XG4gICAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVqb2luJywgJ3JvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdjdXJyZW50Q29sb3InKTtcbiAgICAgICAgfVxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFuZWxDb250cm9sbGVyIH0gZnJvbSAnQHBhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlcic7XG5pbXBvcnQgeyBQYW5lbFZpZXcgfSBmcm9tICcuLi92aWV3L3BhbmVsX3ZpZXcnO1xuLyoqXG4gKiBPcmNoZXN0cmF0ZXMgVUkgaW5pdGlhbGl6YXRpb24gYW5kIGNvbm5lY3Rpb24gbGlmZWN5Y2xlLlxuICogLSBBcHBseSBpMThuXG4gKiAtIERldGVjdCBhbmQgY29ubmVjdCB0byB0aGUgYWN0aXZlIHRhYlxuICogLSBSZXN0b3JlIHN0YXRlIGFuZCBwZXJmb3JtIGluaXRpYWwgcmVuZGVyXG4gKiAtIEJpbmQgVUkgZXZlbnRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgUGFuZWxWaWV3KGRvY3VtZW50KTtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IFBhbmVsQ29udHJvbGxlcih2aWV3KTtcbiAgICBhd2FpdCBjb250cm9sbGVyLnN0YXJ0KCk7XG59XG4oZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7XG4gICAgICAgIHZvaWQgc3RhcnQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYW5lbCBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHZvaWQgc3RhcnQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYW5lbCBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbImlzUmVzdHJpY3RlZCIsInJhdyIsInN0YXJ0c1dpdGgiLCJ1cmwiLCJVUkwiLCJTZXQiLCJoYXMiLCJwcm90b2NvbCIsImhvc3RuYW1lIiwiSVRFTV9DT0xPUlMiLCJJVEVNX1NIQVBFIiwiSVRFTV9QT1NJVElPTl9WQUxVRVMiLCJVTkdST1VQRUQiLCJVTkdST1VQRURfVkFMVUUiLCJMQUJFTF9GT1JNQVQiLCJpc1NjcmVlbkl0ZW1MaWtlIiwidiIsImFuY2hvciIsImEiLCJpbml0aWFsTW9kZWwiLCJzdGF0dXMiLCJ0YWJJZCIsInBhZ2VLZXkiLCJwYWdlS2V5cyIsInRoZW1lIiwic2VsZWN0aW9uRW5hYmxlZCIsIml0ZW1zIiwiZGVmYXVsdFNpemUiLCJkZWZhdWx0Q29sb3IiLCJkZWZhdWx0U2hhcGUiLCJkZWZhdWx0TGFiZWxGb3JtYXQiLCJkZWZhdWx0VmlzaWJsZSIsImRlZmF1bHRQb3NpdGlvbiIsImRlZmF1bHRHcm91cCIsImNhcHR1cmUiLCJmb3JtYXQiLCJhcmVhIiwicXVhbGl0eSIsInNjYWxlIiwicGFuZWxFeHBhbmRlZCIsInNlbGVjdEl0ZW1zIiwibWlzc2luZ0lkcyIsInRvYXN0TWVzc2FnZXMiLCJzb3J0U2NyZWVuSXRlbXNCeUdyb3VwQW5kTGFiZWwiLCJpbmRleGVkIiwibWFwIiwiaXQiLCJpIiwiZ3JvdXBPcmRlciIsIk1hcCIsIm9yZGVyIiwiZyIsImdyb3VwIiwic2V0Iiwic29ydCIsImIiLCJnYSIsImdldCIsImdiIiwibGFiZWwiLCJ4Iiwic2NyZWVuU3RhdGVUYWJsZSIsInJvb3RLZXkiLCJkZWZhdWx0T2YiLCJLRVkiLCJhc3luYyIsInJlYWRBbGwiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJ3cml0ZUFsbCIsImtleSIsImZvdW5kIiwidW5kZWZpbmVkIiwidmFsdWUiLCJyZW1vdmUiLCJjbGVhciIsImNyZWF0ZU1hcFRhYmxlIiwibmV4dElkIiwidGhlbWVUYWJsZSIsInZhbCIsImNyZWF0ZVNpbmdsZXRvbiIsImFwcGx5UGF0Y2giLCJwYXRjaCIsInN0YXRlIiwicmVtb3ZlZElkcyIsImxlbmd0aCIsInRvUmVtb3ZlIiwiZmlsdGVyIiwiaWQiLCJhZGRlZCIsIkluZmluaXR5Iiwic2l6ZSIsImNvbG9yIiwic2hhcGUiLCJsYWJlbEZvcm1hdCIsInZpc2libGUiLCJwb3NpdGlvbiIsImNvbW1lbnQiLCJwdXNoIiwibm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZCIsImJ1Y2tldHMiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwidHJpbSIsIm91dCIsInNsaWNlIiwiYnVja2V0IiwiZGVzaXJlZCIsInN1YnMiLCJpMThuIiwiZ2V0TWVzc2FnZSIsImxvY2FsaXplIiwicm9vdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiZ2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJzcGVjIiwicGFpciIsInNwbGl0IiwiYXR0ciIsInMiLCJzZXRBdHRyaWJ1dGUiLCJTVEFUVVMiLCJTVEFUVVNfTVNHX0tFWSIsIlJFU1RSSUNURUQiLCJDT05ORUNUSU5HIiwiQ09OTkVDVEVEIiwiRElTQ09OTkVDVEVEIiwiU1RBVFVTX0NMQVNTX0JZX0tFWSIsIkFjdGlvblR5cGUiLCJFZmZlY3RUeXBlIiwiQ0hBTk5FTCIsIlBhbmVsQXBpIiwicnBjIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwic2VuZCIsImJvZHkiLCJyZXEiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZXhwZWN0UmVwbHkiLCJyZW5kZXIiLCJ0eXBlIiwicGF5bG9hZCIsInRvZ2dsZVNlbGVjdCIsImVuYWJsZWQiLCJob3ZlciIsIm1lYXN1cmVTaXplIiwicGluZyIsIlBvcnRScGMiLCJwb3J0IiwicGVuZGluZyIsImFsaXZlIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiLCJtc2ciLCJpc1Jlc3BvbnNlIiwiZGVsZXRlIiwib25EaXNjb25uZWN0IiwicmVhc29uIiwicnVudGltZSIsImxhc3RFcnJvciIsIm1lc3NhZ2UiLCJyZXNvbHZlIiwib2siLCJlcnJvciIsImlzQWxpdmUiLCJ0aW1lb3V0TXMiLCJQcm9taXNlIiwidGltZXIiLCJzZXRUaW1lb3V0IiwicmVzIiwiY2xlYXJUaW1lb3V0IiwicG9zdE1lc3NhZ2UiLCJPV05FRCIsInRhcmdldCIsIm1ldGhvZCIsInBhcmFtcyIsInJlamVjdCIsImRlYnVnZ2VyIiwic2VuZENvbW1hbmQiLCJyZXN1bHQiLCJlcnIiLCJFcnJvciIsIlN0cmluZyIsIm9wdHMiLCJ0YWIiLCJ0YWJzIiwiY29uc29sZSIsIndhcm4iLCJmbXQiLCJzZXR0bGVNcyIsImRpZEF0dGFjaCIsInVzZWRPdmVycmlkZSIsImF0dGFjaCIsImFkZCIsImluY2x1ZGVzIiwiYXR0YWNoT3duZWQiLCJicmluZ1RvRnJvbnQiLCJnZW9tIiwiY29udGVudFNpemUiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJjc3NWaXN1YWxWaWV3cG9ydCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsInBhZ2VYIiwicGFnZVkiLCJjZWlsIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRWaWV3cG9ydENzc1JlY3QiLCJ1c2VPdmVycmlkZSIsImNsaXAiLCJjYXB0dXJlQmV5b25kVmlld3BvcnQiLCJzaG91bGRTY3JvbGxUb3AiLCJtZXRyaWNzIiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJtb2JpbGUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsInJlc29sdmVHZW9tZXRyeSIsImV4cHJlc3Npb24iLCJyIiwiY2FwUGFyYW1zIiwiZnJvbVN1cmZhY2UiLCJtaW4iLCJyb3VuZCIsImRhdGEiLCJmaWxlbmFtZSIsImJhc2UiLCJ0aXRsZSIsImhvc3QiLCJyZXBsYWNlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWFrZUZpbGVuYW1lIiwiZG93bmxvYWRzIiwiZG93bmxvYWQiLCJzYXZlQXMiLCJkZXRhY2giLCJkZXRhY2hPd25lZCIsImV4cG9ydFNjcmVlblN0YXRlIiwicHJlZml4Iiwia2luZCIsInZlcnNpb24iLCJleHBvcnRlZEF0IiwidGV4dCIsImJ5dGVzIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJiaW4iLCJmcm9tQ2hhckNvZGUiLCJidG9hIiwidG9CYXNlNjRVdGY4IiwiSlNPTiIsInN0cmluZ2lmeSIsImQiLCJwYWQiLCJuIiwidyIsInBhZFN0YXJ0IiwidHpvIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzaWduIiwiaGgiLCJhYnMiLCJtbSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsInRpbWVzdGFtcCIsImltcG9ydFNjcmVhblN0YXRlIiwiZmlsZSIsImlzSnNvbkJ5RXh0IiwidGVzdCIsIm5hbWUiLCJpc0pzb25CeU1pbWUiLCJwYXJzZWQiLCJwYXJzZSIsIm8iLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImlzVmFsaWRQYXlsb2FkIiwia2V5T2YiLCJleGlzdGluZ1NldCIsInN1Y2Nlc3NNZXNzYWdlIiwiVUlFdmVudFR5cGUiLCJvbkRldGFjaCIsImRlYnVnZ2VlIiwiUGFuZWxDb250cm9sbGVyIiwidmlldyIsIm1vZGVsIiwic3RydWN0dXJlZENsb25lIiwiY29ubiIsImN1cnJlbnRXaW5kb3dJZCIsInN0YXRpYyIsIlJFTkRFUl9DT05URU5UIiwiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UIiwiQ0xFQVJfQ09OVEVOVCIsIkhPVkVSIiwic3RhcnQiLCJkaXNwYXRjaCIsIklOSVQiLCJlbnN1cmVDb25uZWN0aW9uQWxpdmUiLCJmb3JjZVJlY29ubmVjdCIsInJlZ2lzdGVyVmlld0hhbmRsZXJzIiwid2luZG93cyIsImdldEN1cnJlbnQiLCJzZW5kZXJXaW5kb3dJZCIsIndpbmRvd0lkIiwib24iLCJUT0dHTEVfU0VMRUNUIiwiQ0xFQVIiLCJDTEVBUl9BTEwiLCJDQVBUVVJFIiwiTUVBU1VSRV9DT05URU5UX1NJWkUiLCJCQURHRV9TSVpFX0NIQU5HRSIsIlNFVF9CQURHRV9TSVpFIiwiQkFER0VfQ09MT1JfU0VMRUNUIiwiU0VUX0JBREdFX0NPTE9SIiwiQkFER0VfU0hBUEVfQ0hBTkdFIiwiU0VUX0JBREdFX1NIQVBFIiwiQkFER0VfTEFCRUxfRk9STUFUX0NIQU5HRSIsIlNFVF9CQURHRV9MQUJFTF9GT1JNQVQiLCJCQURHRV9WSVNJQkxFX0NIQU5HRSIsIlNFVF9CQURHRV9WSVNJQkxFIiwiQkFER0VfREVMRVRFIiwiQkFER0VfUE9TSVRJT05fU0VMRUNUIiwiU0VUX0JBREdFX1BPU0lUSU9OIiwiVE9HR0xFX0NBUFRVUkVfUEFORUwiLCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9GT1JNQVQiLCJDQVBUVVJFX0FSRUFfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfQVJFQSIsIkNBUFRVUkVfUVVBTElUWV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9RVUFMSVRZIiwiQ0FQVFVSRV9TQ0FMRV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9TQ0FMRSIsIlJFT1JERVJfSVRFTVMiLCJmcm9tSWQiLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwiU0VUX0dST1VQIiwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCIsIklURU1fSE9WRVJfSU4iLCJJVEVNX0hPVkVSX09VVCIsIklURU1fQ09NTUVOVF9BUFBMWSIsIlVQREFURV9JVEVNX0NPTU1FTlQiLCJVUERBVEVfVEhFTUUiLCJTRVRUSU5HX01PREFMX1NIT1ciLCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEIiwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFIiwiVE9BU1RfRElTTUlTU19SRVFVRVNURUQiLCJ1dWlkIiwiUkVNT1ZFX1BBR0VfQ0xJQ0siLCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0UiLCJFWFBPUlRfUEFHRV9DTElDSyIsIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRSIsImFjdGlvbiIsIm5leHQiLCJlZmZlY3RzIiwiU0VUX1RIRU1FIiwiU0VUX1NUQVRVUyIsIlJFU1RPUkVfU1RBVEUiLCJTRVRfTUlTU0lOR19JRFMiLCJDTEVBUl9TVEFURSIsIkNPTlRFTlRfU0VMRUNURUQiLCJQRVJTSVNUX1NUQVRFIiwiaXRlbXNNYXJrZWRGb3JSZWxhYmVsIiwibmV4dEdyb3VwUmF3IiwibmV4dEdyb3VwIiwidXBkYXRlSXRlbUNudCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbCIsIkNBUFRVUkVfUkVRVUVTVEVEIiwiTk9USUZZX0VSUk9SIiwiQ0FQVFVSRV9TVUNDRUVERUQiLCJDQVBUVVJFX0ZBSUxFRCIsIlJhbmdlRXJyb3IiLCJmcm9tSWR4IiwiZmluZEluZGV4IiwicmVvcmRlckl0ZW1MYWJlbCIsImlzQ2hlY2siLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZCIsImdyb3VwSWRzIiwiZ3JvdXBTZXQiLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAiLCJhbGxDaGVjayIsIlBPUlRfRElTQ09OTkVDVEVEIiwiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkUiLCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEIiwiSU1QT1JUX1NVQ0NFRURFRCIsIklNUE9SVF9GQUlMRUQiLCJ0IiwiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWSIsIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVkiLCJFWFBPUlRfRkFJTEVEIiwidXBkYXRlIiwiZXhlY0VmZmVjdHMiLCJjYXRjaCIsInNvbWUiLCJmeCIsIlJFUVVJUkVTX0NPTk4iLCJjb250ZXh0Q2hhbmdlZCIsImFwaSIsInByZXYiLCJzY3JlZW5TdGF0ZXMiLCJPYmplY3QiLCJrZXlzIiwiZSIsInN0IiwicHJldktleSIsInF1ZXJ5IiwiYWN0aXZlIiwiY3VycmVudFdpbmRvdyIsImdldEFjdGl2ZVRhYiIsIm5ld0tleSIsImluY2x1ZGVIYXNoIiwidSIsIm9yaWdpbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImRpc2Nvbm5lY3QiLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwiZmlsZXMiLCJjb25uZWN0IiwibGlzdGVuZXJzIiwiZm4iLCJjYiIsImRpc3Bvc2UiLCJjb25uZWN0VG9UYWIiLCJhbmNob3JzIiwidW5pcSIsImZyb20iLCJmaW5kIiwiQm9vbGVhbiIsInRvQWRkIiwiaGFuZGxlU2VsZWN0ZWQiLCJJQ09OUyIsImNhcmV0RG93biIsInZpZXdCb3giLCJjYXJldERvd25GaWxsIiwiY2FyZXRSaWdodCIsImNhcmV0UmlnaHRGaWxsIiwic3VjY2VzcyIsImV4cG9ydCIsImNsb3NlIiwiZ2V0SWNvbiIsImJ5TGFiZWxUaGVuSWQiLCJQYW5lbFZpZXciLCJkb2MiLCJlbHMiLCJORVdfR1JPVVAiLCJIT1ZFUl9PVVRfREVMQVkiLCJkcmFnRWwiLCJkcmFnU3RhcnRQYXJlbnQiLCJkcmFnU3RhcnRJbmRleCIsImhvdmVyT3V0VGltZXIiLCJjb2xsYXBzZWRHcm91cHMiLCJUT0FTVF9BVVRPX0RJU01JU1MiLCIkIiwidG9nZ2xlQnRuIiwidG9nZ2xlSWNvbiIsInRvZ2dsZUxhYmVsIiwiY2xlYXJCdG4iLCJjYXB0dXJlQnRuIiwibGlzdCIsImVtcHR5IiwiY291bnQiLCJjYXB0dXJlT3B0aW9uc1RvZ2dsZSIsImNhcHR1cmVPcHRpb25zUGFuZWwiLCJjYXB0dXJlRm10UmFkaW9zIiwiJGFsbCIsImNhcHR1cmVBcmVhUmFkaW9zIiwianBlZ09ubHlFbHMiLCJqcGVnUXVhbGl0eVJhbmdlIiwianBlZ1F1YWxpdHlOdW1iZXIiLCJjYXB0dXJlU2NhbGVSYW5nZSIsImNhcHR1cmVTY2FsZU51bWJlciIsImJhZGdlU2l6ZVJhbmdlIiwiYmFkZ2VTaXplTnVtYmVyIiwiYmFkZ2VDb2xvckJ1dHRvbnMiLCJiYWRnZUNvbG9yTGFiZWwiLCJiYWRnZUNvbG9yRG90IiwiYmFkZ2VTaGFwZVNlbGVjdCIsImJhZGdlTGFiZWxGb3JtYXRTZWxlY3QiLCJiYWRnZVZpc2libGVTZWxlY3QiLCJiYWRnZURlbGV0ZUJ1dHRvbiIsImJhZGdlUG9zaXRpb25CdXR0b25zIiwiYmFkZ2VQb3NpdGlvbkxhYmVsIiwiYmFkZ2VHcm91cFNlbGVjdCIsImdyb3VwTmFtZU1vZGFsIiwiZ3JvdXBOYW1lSW5wdXQiLCJncm91cE5hbWVDYW5jZWxCdG4iLCJncm91cE5hbWVDcmVhdGVsQnRuIiwiaXRlbUNvbW1lbnRNb2RhbCIsIml0ZW1Db21tZW50SW5wdXQiLCJpdGVtQ29tbWVudElkSW5wdXQiLCJpdGVtQ29tbWVudENhbmNlbEJ0biIsIml0ZW1Db21tZW50QXBwbHlCdG4iLCJzZWxlY3RJdGVtQWxsQ2hlY2tib3giLCJzZXR0aW5nTW9kYWwiLCJzZXR0aW5nQnV0dG9uIiwic2V0dGluZ0Nsb3NlQnV0dG9uIiwidGhlbWVMaWdodEJ0biIsInRoZW1lRGFya0J0biIsInRoZW1lRGV2aWNlQnRuIiwiaW1wb3J0RmlsZUlucHV0IiwiaW1wb3J0QnRuIiwic3RvcmVDb3VudCIsInN0b3JlTGlzdCIsInN0b3JlRW1wdHkiLCJ0b2FzdFBhcmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbWl0IiwidXBkYXRlUXVhbGl0eVZpc2liaWxpdHkiLCJnZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQiLCJnZXRTZWxlY3RlZENhcHR1cmVBcmVhIiwiYmluZFN5bmMiLCJmaXJlU2l6ZSIsImlzRmluaXRlIiwiYnRuIiwiZGF0YXNldCIsImNvbG9yTmFtZSIsImlzSXRlbVNoYXBlIiwiaXNMYWJlbEZvcm1hdCIsInBvc2l0aW9uTmFtZSIsImNsYXNzTGlzdCIsImFwcGx5VGhlbWUiLCJjbGljayIsInNlbGVjdGVkIiwiY2hlY2tlZCIsImNhbmNlbEhvdmVyT3V0Iiwic2NoZWR1bGVIb3Zlck91dCIsImhhbmRsZXIiLCJhcnIiLCJoIiwiYXBwbHlUb2FzdE1lc3NhZ2VzIiwiYXBwbHlTdG9yZSIsInJlbmRlclN0YXR1cyIsInJlbmRlclRvZ2dsZSIsInJlbmRlckxpc3QiLCJzZWxlY3RSYWRpb0J5VmFsdWUiLCJhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkiLCJhcHBseUJhZGdlQ29sb3JVSSIsImFwcGx5QmFkZ2VQb3NpdG9uVUkiLCJhcHBseUJhZGdlR3JvdXBTZWxlY3RVSSIsImdldEV4aXN0aW5nR3JvdXBzIiwic3R5bGUiLCJjbGFzc05hbWUiLCJkb3QiLCJjcmVhdGVFbGVtZW50IiwibXNnS2V5IiwiZ2V0U3RhdHVzTWVzc2FnZSIsInJlcGxhY2VDaGlsZHJlbiIsImRpc2FibGVGb3JtQ29udHJvbHMiLCJpY29uIiwiYWxsQ2hlY2tlZCIsImdyb3VwcyIsImdyb3VwQnlHcm91cCIsImdyb3VwS2V5cyIsImxvY2FsZUNvbXBhcmUiLCJmcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImdLZXkiLCJzZWN0aW9uIiwicmVuZGVyR3JvdXBTZWN0aW9uIiwiYXBwZW5kQ2hpbGQiLCJnSXRlbXMiLCJpc0NvbGxhcHNlZCIsImhlYWRlciIsImNoZWNrYm94V3JhcCIsImNoZWNrYm94IiwiYXBwZW5kIiwibGVmdCIsImNyZWF0ZVN2Z0ljb24iLCJ0b2dnbGVQYXRoIiwicXVlcnlTZWxlY3RvciIsInVsIiwiYXR0YWNoVWxEbkRIYW5kbGVycyIsInNlbGVjdENoZWNrZWQiLCJyZW5kZXJJdGVtIiwiaXNNaXNzaW5nIiwibGlCYXNlIiwibGkiLCJkcmFnZ2FibGUiLCJwYXJlbnRFbGVtZW50IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsImNhbGwiLCJjaGlsZHJlbiIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJwYXJlbnQiLCJlbmRJbmRleCIsImNoZWNrYm94U3R5bGUiLCJiYWRnZVN0eWxlIiwiYmFkZ2UiLCJtYWluIiwiY2hpcCIsImNvbW1lbnRCdG4iLCJnZW5lcmF0ZUNvbW1lbnRCdG4iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldExpIiwiY2xvc2VzdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJpc0FmdGVyIiwiY2xpZW50WSIsInRvcCIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwibSIsImlzSnBlZyIsInRvZ2dsZSIsImRpc2FibGVkIiwicmFkaW9zIiwicmFuZ2VFbCIsIm51bWJlckVsIiwib25WYWx1ZSIsInJlYWROdW0iLCJmYWxsYmFjayIsIk5hTiIsInN5bmMiLCJyYXdTdHIiLCJORUdBVElWRV9JTkZJTklUWSIsIlBPU0lUSVZFX0lORklOSVRZIiwic3RlcCIsImNsYW1wZWQiLCJjbGFtcCIsInJvdW5kZWQiLCJmaXhlZCIsInRvRml4ZWQiLCJjb250cm9scyIsImVuYWJsZUFsbCIsImVuYWJsZUlnbm9yZU9ubHkiLCJlbmFibGVOb25lIiwic2hvdWxkRW5hYmxlIiwiaGFzQXR0cmlidXRlIiwiZXhwYW5kZWQiLCJpbm5lckhUTUwiLCJnZXRCYWRnZUNvbG9yU3R5bGVOYW1lIiwidG9Mb3dlckNhc2UiLCJidXR0b24iLCJyZXBsYWNlQWxsIiwiZXhpc3RpbmdHcm91cHMiLCJkZWZhdXRHcm91cCIsIm1ha2VPcHQiLCJub3JtYWxpemUiLCJjcmVhdGVPcHQiLCJkb2N1bWVudEVsZW1lbnQiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImxpRWxlbSIsImFXcmFwRWxlbSIsImFFbGVtIiwiaHJlZiIsImV4cG9ydEJ0bkVsZW0iLCJleHBvcnRJY29uRGVmIiwiZXhwb3J0SWNvbiIsInJlbW92ZUJ0bkVsZW0iLCJyZW1vdmVJY29uRGVmIiwicmVtb3ZlSWNvbiIsInRvYXN0TWVzc2FnZSIsInRvYXN0RWxlbSIsImdlbmVyYXRlVG9hc3RNZXNzYWdlIiwidG9hc3RJY29uRGVmIiwidG9hc3RJY29uIiwidmFyaWFudCIsInRvYXN0Qm9keSIsImRlc2MiLCJjbG9zZUJ0biIsImNsb3NlSWNvbkRlZiIsImNsb3NlSWNvbiIsInRpbWVySWQiLCJpc0Nvbm5lY3RlZCIsInNlbGVjdG9yIiwidGFnIiwibm9kZSIsInN2Z05TIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwicGF0aCIsImNvbnRyb2xsZXIiLCJyZWFkeVN0YXRlIiwib25jZSJdLCJzb3VyY2VSb290IjoiIn0=