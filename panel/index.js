(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",s="RENDER",i="CLEAR",a="HOVER",n="MEASURE_SIZE",o="SELECTED",r="MISSING_IDS",l="CONTENT_SIZE_RESULT",c="ACTIVE_TAB_CHANGED";function d(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const E=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],h=["circle","square"],u=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",T="";function m(e){if(!e||"object"!=typeof e)return!1;const t=e.anchor;if(!t||"object"!=typeof t)return!1;const s=t;return"css"===s.kind&&"string"==typeof s.value&&("number"==typeof s.version||1===s.version)}const _={status:"DISCONNECTED",tabId:null,pageKey:"",pageKeys:[],theme:"device",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:T,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[],toastMessages:[]},S=function(e,t){const s="screenStateByPage";async function i(){return(await chrome.storage.local.get(s))[s]??{}}async function a(e){await chrome.storage.local.set({[s]:e})}return{key:s,readAll:i,writeAll:a,get:async function(e){const s=(await i())[e];return void 0!==s?s:t?t():void 0},set:async function(e,t){const s=await i();s[e]=t,await a(s)},remove:async function(e){const t=await i();e in t&&(delete t[e],await a(t))},clear:async function(){await a({})}}}(0,()=>({items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:T})),g=function(){const e="themeMode";return{key:e,get:async function(){const t=(await chrome.storage.local.get(e))[e];return void 0===t?"device":t},set:async function(t){await chrome.storage.local.set({[e]:t})},remove:async function(){await chrome.storage.local.remove(e)}}}();async function A(e,t){const s=await S.get(e);if(t.removedIds?.length){const e=new Set(t.removedIds);s.items=s.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:s.nextId++,label:1/0,anchor:e.anchor,size:e.size??s.defaultSize,color:e.color??s.defaultColor,shape:e.shape??s.defaultShape,position:e.position??s.defaultPosition,group:e.group??s.defaultGroup,comment:e.comment??""};s.items.push(t)}return s.items=f(s.items),await S.set(e,s),s}function f(e){const t=new Map;e.forEach((e,s)=>{const i=(e.group??"").trim();t.has(i)||t.set(i,[]),t.get(i).push({index:s,item:e})});const s=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},i)=>{const a=i+1;t.label!==a&&(s[e]={...t,label:a})});return s}function C(e,t){return chrome.i18n.getMessage(e,t)||e}const R={get:C,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=C(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const s of t.split(";")){const[t,i]=s.split(":").map(e=>e?.trim());t&&i&&e.setAttribute(t,C(i))}})}},O="CONNECTED",I={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},N={RESTRICTED:{body:["bg-amber-50","border-amber-200","text-amber-700","dark:bg-amber-950","dark:border-amber-900/50","dark:text-amber-300"],dot:["bg-amber-500"]},CONNECTING:{body:["bg-sky-50","border-sky-200","text-sky-700","dark:bg-sky-950","dark:border-sky-900/50","dark:text-sky-300"],dot:["bg-sky-500"]},CONNECTED:{body:["bg-emerald-50","border-emerald-200","text-emerald-700","dark:bg-emerald-950","dark:border-emerald-900/50","dark:text-emerald-300"],dot:["bg-emerald-500"]},DISCONNECTED:{body:["bg-rose-50","border-rose-200","text-rose-700","dark:bg-rose-950","dark:border-rose-900/50","dark:text-rose-300"],dot:["bg-rose-500"]}};var y,b;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.STORE_RELOAD_REQUESTED="STORE_RELOAD_REQUESTED",e.STORE_RELOAD_SUCCEEDED="STORE_RELOAD_SUCCEEDED",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.IMPORT_FAILED="IMPORT_FAILED",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_SCREEN_STATE_BY_PAGE="REMOVE_SCREEN_STATE_BY_PAGE",e.EXPORT_SCREEN_STATE_BY_PAGE="EXPORT_SCREEN_STATE_BY_PAGE",e.EXPORT_FAILED="EXPORT_FAILED"}(y||(y={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.READ_SCREEN_STATE_STORE="READ_SCREEN_STATE_STORE",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY="REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY",e.EXPORT_SCREEN_STATE_BY_PAGE_KEY="EXPORT_SCREEN_STATE_BY_PAGE_KEY",e.NOTIFY_ERROR="NOTIFY_ERROR"}(b||(b={}));const L="spsk:panel-content:v1";class v{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:s,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:i})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class D{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,s]of this.pending)s({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(s=>{if(!this.alive)return s(void e.expectReply);if(e.expectReply){const i=setTimeout(()=>{this.pending.delete(e.id),s(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(i),s(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void s(void 0)}e.expectReply||s(void 0)})}}const P=new Set;async function w(e,t,s){return await new Promise((i,a)=>{chrome.debugger.sendCommand(e,t,s??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):i(e??{})})})}async function M(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||d(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const s={tabId:t.id},i=e.format??"png",a=e.settleMs??500,n=e.scale??1,o=e.area??"full";let r=!1,l=!1;try{r=await async function(e){const t=e.tabId??null;return await new Promise((s,i)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&P.add(t),void s(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&P.has(t)?s(!1):i(new Error("Debugger is already attached by another client (DevTools/extension).")):i(new Error(a))})})}(s),await w(s,"Page.enable"),(e.bringToFront??1)&&await w(s,"Page.bringToFront");const c=await async function(e,t,s,i){if("viewport"===t){const{x:t,y:i,width:a,height:n}=await async function(e){const t=(await w(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:i,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(i.width)),n=Math.max(1,0|Math.ceil(i.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!0}}(s,o,n,e.contentSize);c.shouldScrollTop&&await w(s,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),c.useOverride&&c.metrics&&(l=!0,await w(s,"Emulation.setDeviceMetricsOverride",c.metrics)),await new Promise(e=>setTimeout(e,a));const d={format:i,fromSurface:!0,captureBeyondViewport:c.captureBeyondViewport,clip:c.clip};"jpeg"===i&&"number"==typeof e.quality&&(d.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:E}=await w(s,"Page.captureScreenshot",d),h=`data:${"png"===i?"image/png":"image/jpeg"};base64,${E}`,u=e.filename??function(e,t){let s=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return s=s.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),s.length>80&&(s=s.slice(0,80)),`${s}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,i);return await chrome.downloads.download({url:h,filename:u,saveAs:!1})}finally{if(l)try{await w(s,"Emulation.clearDeviceMetricsOverride")}catch{}if(r)try{await async function(e){const t=e.tabId??null;null!=t&&P.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),P.delete(t))}(s)}catch{}}}async function G(e,t,s={}){const{saveAs:i=!1,prefix:a="specsketch-screen-state"}=s,n={format:"specsketch-export",kind:"screen-state",version:1,exportedAt:(new Date).toISOString(),pageKey:t,items:e.items},o=`data:application/json;charset=utf-8;base64,${function(e){const t=(new TextEncoder).encode(e);let s="";for(const e of t)s+=String.fromCharCode(e);return btoa(s)}(JSON.stringify(n,null,2))}`,r=function(e,t){return`${e}_${(t??"").replace(/https?:\/\//,"").replace(/[^a-zA-Z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,120)||"page"}_${function(e=new Date){const t=(e,t=2)=>String(e).padStart(t,"0"),s=-e.getTimezoneOffset(),i=s>=0?"+":"-",a=t(Math.floor(Math.abs(s)/60)),n=t(Math.abs(s)%60);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}_${t(e.getHours())}-${t(e.getMinutes())}-${t(e.getSeconds())}${i}${a}${n}`}()}.json`}(a,t);return await chrome.downloads.download({url:o,filename:r,saveAs:i})}async function k(e,t){const s=/\.json$/i.test(e.name),i="application/json"===e.type||"text/json"===e.type||""===e.type;if(!s&&!i)throw new Error(R.get("import_file_not_json"));let a;try{const t=await e.text();a=JSON.parse(t)}catch{throw new Error(R.get("import_payload_invalid"))}if(!function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"specsketch-export"===t.format&&"screen-state"===t.kind&&"number"==typeof t.version&&"string"==typeof t.pageKey&&!!Array.isArray(t.items)&&t.items.every(m)}(a))throw new Error(R.get("import_payload_invalid"));const n=a.items,o=await S.get(t),r=e=>`${e.anchor.kind}:${e.anchor.version}:${e.anchor.value}`,l=new Set((o?.items??[]).map(r)),c=n.filter(e=>!l.has(r(e))).sort((e,t)=>t.id-e.id).map(e=>({anchor:e.anchor,size:e.size,color:e.color,shape:e.shape,position:e.position,group:e.group,comment:e.comment}));return await A(t,{added:c})}var U;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&P.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY",e.UPDATE_THEME="UPDATE_THEME",e.SETTING_MODAL_SHOW="SETTING_MODAL_SHOW",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_PAGE_CLICK="REMOVE_PAGE_CLICK",e.EXPORT_PAGE_CLICK="EXPORT_PAGE_CLICK"}(U||(U={}));class B{view;model=structuredClone(_);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([b.RENDER_CONTENT,b.TOGGLE_SELECT_ON_CONTENT,b.CLEAR_CONTENT,b.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:y.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==c)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(U.TOGGLE_SELECT,()=>this.dispatch({type:y.TOGGLE_SELECT})),this.view.on(U.CLEAR,()=>this.dispatch({type:y.CLEAR_ALL})),this.view.on(U.CAPTURE,()=>this.dispatch({type:y.MEASURE_CONTENT_SIZE})),this.view.on(U.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:y.SET_BADGE_SIZE,size:e})),this.view.on(U.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:y.SET_BADGE_COLOR,color:e})),this.view.on(U.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:y.SET_BADGE_SHAPE,shape:e})),this.view.on(U.BADGE_DELETE,()=>this.dispatch({type:y.BADGE_DELETE})),this.view.on(U.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:y.SET_BADGE_POSITION,position:e})),this.view.on(U.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:y.TOGGLE_CAPTURE_PANEL})),this.view.on(U.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:y.SET_CAPTURE_FORMAT,format:e})),this.view.on(U.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:y.SET_CAPTURE_AREA,area:e})),this.view.on(U.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:y.SET_CAPTURE_QUALITY,quality:e})),this.view.on(U.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:y.SET_CAPTURE_SCALE,scale:e})),this.view.on(U.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:s})=>this.dispatch({type:y.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:s})),this.view.on(U.SET_GROUP,({group:e})=>this.dispatch({type:y.SET_GROUP,group:e})),this.view.on(U.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:y.ITEM_SELECTION_CHANGED,...e})),this.view.on(U.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:y.ITEM_HOVER_IN,id:e})),this.view.on(U.ITEM_HOVER_OUT,()=>this.dispatch({type:y.ITEM_HOVER_OUT})),this.view.on(U.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:y.UPDATE_ITEM_COMMENT,id:e,comment:t})),this.view.on(U.UPDATE_THEME,({theme:e})=>this.dispatch({type:y.UPDATE_THEME,theme:e})),this.view.on(U.SETTING_MODAL_SHOW,()=>this.dispatch({type:y.STORE_RELOAD_REQUESTED})),this.view.on(U.IMPORT_SCREAN_STATE_FILE,({file:e})=>this.dispatch({type:y.IMPORT_SCREAN_STATE_FILE,file:e})),this.view.on(U.TOAST_DISMISS_REQUESTED,({uuid:e})=>this.dispatch({type:y.TOAST_DISMISS_REQUESTED,uuid:e})),this.view.on(U.REMOVE_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:y.REMOVE_SCREEN_STATE_BY_PAGE,pageKey:e})),this.view.on(U.EXPORT_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:y.EXPORT_SCREEN_STATE_BY_PAGE,pageKey:e}))}dispatch(e){const{model:t,effects:s}=function(e,t){switch(t.type){case y.INIT:return{model:e,effects:[{kind:b.SET_THEME}]};case y.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case y.SET_STATUS:return t.status===O?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case y.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:b.RENDER_CONTENT,items:t.state.items}]};case y.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case y.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:b.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case y.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:b.CLEAR_CONTENT},{kind:b.CLEAR_STATE}]};case y.CONTENT_SELECTED:return{model:e,effects:[]};case y.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case y.SET_BADGE_SIZE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:s},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:s}]}}case y.SET_BADGE_COLOR:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:s},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:s}]}}case y.SET_BADGE_SHAPE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:s},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:s}]}}case y.BADGE_DELETE:{const t=f(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:t}]}}case y.SET_BADGE_POSITION:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:s},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:s}]}}case y.SET_GROUP:{const s=function(e,t,s){const i=(s??"").trim();let a=0;return e.sort((e,t)=>t.id-e.id).map(e=>{if(t.includes(e.id)&&e.group!==i){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:i,label:t}}return e})}(e.items,e.selectItems,t.group),i=f(s);return{model:{...e,defaultGroup:t.group,items:i},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:i}]}}case y.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case y.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case y.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case y.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case y.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:b.MEASURE_CONTENT_SIZE}]};case y.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:b.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:b.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case y.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case y.CAPTURE_FAILED:return{model:e,effects:[{kind:b.NOTIFY_ERROR,error:t.error}]};case y.REORDER_ITEMS:{const s=function(e,t,s,i){if(i<0||i>=e.length)throw new RangeError(`toIndex out of range: ${i}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(i<0||i>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${i}`);const n=i+(s<i?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),i=f(s);return{model:{...e,items:i},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:i}]}}case y.ITEM_SELECTION_CHANGED:if("id"in t){const s=function(e,t,s){return t&&!s.includes(e)?[...s,e]:s.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:s},effects:[]}}if("group"in t){const s=function(e,t,s,i){const a=e.trim(),n=i.filter(e=>(e.group??T).trim()===a).map(e=>e.id);if(0===n.length)return s;if(t){const e=new Set(s);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return s.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:s},effects:[]}}{const a=(s=t.allCheck,i=e.items,s?i.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case y.ITEM_HOVER_IN:return{model:e,effects:[{kind:b.HOVER,id:t.id}]};case y.ITEM_HOVER_OUT:return{model:e,effects:[{kind:b.HOVER,id:null}]};case y.UPDATE_ITEM_COMMENT:{const s=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:s},effects:[{kind:b.PERSIST_STATE},{kind:b.RENDER_CONTENT,items:s}]}}case y.PORT_DISCONNECTED:return{model:{...e,status:"DISCONNECTED",selectionEnabled:!1},effects:[{kind:b.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};case y.SET_THEME:return{model:{...e,theme:t.theme},effects:[]};case y.UPDATE_THEME:return{model:{...e,theme:t.theme},effects:[{kind:b.UPDATE_THEME,theme:t.theme}]};case y.STORE_RELOAD_REQUESTED:return{model:e,effects:[{kind:b.READ_SCREEN_STATE_STORE}]};case y.STORE_RELOAD_SUCCEEDED:return{model:{...e,pageKeys:t.pageKeys},effects:[]};case y.IMPORT_SCREAN_STATE_FILE:return{model:e,effects:[{kind:b.IMPORT_SCREAN_STATE_FILE,file:t.file}]};case y.IMPORT_FAILED:return{model:{...e,toastMessages:t.toastMessages},effects:[]};case y.TOAST_DISMISS_REQUESTED:{const s=e.toastMessages.filter(e=>e.uuid!==t.uuid);return{model:{...e,toastMessages:s},effects:[]}}case y.REMOVE_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:b.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY,pageKey:t.pageKey}]};case y.EXPORT_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:b.EXPORT_SCREEN_STATE_BY_PAGE_KEY,pageKey:t.pageKey}]};case y.EXPORT_FAILED:return{model:e,effects:[{kind:b.NOTIFY_ERROR,error:t.error}]};default:return{model:e,effects:[]}}var s,i}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(s).catch(console.error)}async execEffects(e){if(e.some(e=>B.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case b.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case b.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case b.CLEAR_CONTENT:await(this.conn?.api.clear());break;case b.HOVER:await(this.conn?.api.hover(t.id));break;case b.CLEAR_STATE:await S.set(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case b.PERSIST_STATE:{const e=await S.get(this.model.pageKey);await S.set(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case b.SET_THEME:{const e=await g.get();this.dispatch({type:y.SET_THEME,theme:e});break}case b.UPDATE_THEME:await g.set(t.theme);break;case b.READ_SCREEN_STATE_STORE:{const e=await S.readAll(),t=Object.keys(e);this.dispatch({type:y.STORE_RELOAD_SUCCEEDED,pageKeys:t});break}case b.IMPORT_SCREAN_STATE_FILE:try{const e=await k(t.file,this.model.pageKey);this.dispatch({type:y.RESTORE_STATE,state:{items:e.items,defaultSize:e.defaultSize,defaultColor:e.defaultColor,defaultShape:e.defaultShape,defaultPosition:e.defaultPosition,defaultGroup:e.defaultGroup}})}catch(e){const t=e,s={uuid:crypto.randomUUID(),message:t.message,kind:"error"};this.dispatch({type:y.IMPORT_FAILED,toastMessages:[s]})}break;case b.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY:{await S.remove(t.pageKey);const e=await S.readAll(),s=Object.keys(e);this.dispatch({type:y.STORE_RELOAD_SUCCEEDED,pageKeys:s});const i=await S.get(this.model.pageKey);this.dispatch({type:y.RESTORE_STATE,state:{items:i.items,defaultSize:i.defaultSize,defaultColor:i.defaultColor,defaultShape:i.defaultShape,defaultPosition:i.defaultPosition,defaultGroup:i.defaultGroup}});break}case b.EXPORT_SCREEN_STATE_BY_PAGE_KEY:try{const e=await S.get(t.pageKey);await G(e,t.pageKey)}catch(e){this.dispatch({type:y.EXPORT_FAILED,error:e})}break;case b.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case b.CAPTURE:try{await M(t.payload),this.dispatch({type:y.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:y.CAPTURE_FAILED,error:e})}break;case b.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const s=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!s?.id||d(s.url))return this.dispatch({type:y.SET_STATUS,status:"RESTRICTED"}),{ok:!1};const i=function(e,t=!1){try{const s=new URL(e);return t?`${s.origin}${s.pathname}${s.search}${s.hash}`:`${s.origin}${s.pathname}${s.search}`}catch{return e}}(s.url),a=s.id;this.dispatch({type:y.CONNECTED,tabId:a,pageKey:i}),this.dispatch({type:y.SET_STATUS,status:"CONNECTING"});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:L}),s=new D(t),i=new v(s),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:i,port:t,rpc:s,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:y.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===o){const t=await async function(e,t){const s=await S.get(e),i=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of i){const t=s.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const o={};return a.length&&(o.removedIds=a),n.length&&(o.added=n),A(e,o)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:y.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===r?this.dispatch({type:y.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===l&&this.dispatch({type:y.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await S.get(i);return this.dispatch({type:y.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:y.SET_STATUS,status:O}),{ok:!0,contextChanged:!!t&&t!==i}}}const x={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},success:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.707-8.707a1 1 0 0 0-1.414-1.414L9 11.172 7.707 9.879a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4Z",viewBox:"0 0 20 20"},error:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-11.5a.75.75 0 0 1 1.5 0v5a.75.75 0 0 1-1.5 0v-5Zm.75 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",viewBox:"0 0 20 20"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"},remove:{d:"M7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h3a1 1 0 1 1 0 2h-1l-1 10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6H4a1 1 0 1 1 0-2h3V3Zm1 3a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z",viewBox:"0 0 20 20"},export:{d:"M3 16.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm7.53-2.03a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V3.75a.75.75 0 0 1 1.5 0v8.13l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3Z",viewBox:"0 0 20 20"},close:{d:"M5.23 5.23a.75.75 0 0 1 1.06 0L10 8.94l3.71-3.71a.75.75 0 1 1 1.06 1.06L11.06 10l3.71 3.71a.75.75 0 1 1-1.06 1.06L10 11.06l-3.71 3.71a.75.75 0 1 1-1.06-1.06L8.94 10 5.23 6.29a.75.75 0 0 1 0-1.06Z",viewBox:"0 0 20 20"}};function H(e){const{d:t,viewBox:s="0 0 20 20"}=x[e];return{d:t,viewBox:s}}function $(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class F{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;TOAST_AUTO_DISMISS=1e4;constructor(e){this.doc=e,R.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]'),settingModal:this.$("#setting-modal"),settingButton:this.$("#setting-button"),settingCloseButton:this.$("#setting-close-btn"),themeLightBtn:this.$("#theme-light-btn"),themeDarkBtn:this.$("#theme-dark-btn"),themeDeviceBtn:this.$("#theme-device-btn"),importFileInput:this.$("#import-file-input"),importBtn:this.$("#import-btn"),storeCount:this.$("#store-count"),storeList:this.$("#store-list"),storeEmpty:this.$("#store-empty"),toastParent:this.$("#toast-parent")},this.els.toggleBtn.addEventListener("click",()=>this.emit(U.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(U.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(U.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(U.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(U.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(U.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(U.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(U.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(U.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",s="string"==typeof(i=t)&&E.includes(i)?t:"Blue";var i;this.emit(U.BADGE_COLOR_SELECT,{color:s})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&h.includes(e)}(e)?e:"circle";this.emit(U.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(U.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",s="string"==typeof(i=t)&&u.includes(i)?t:"left-top-outside";var i;this.emit(U.BADGE_POSITION_SELECT,{position:s})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?T:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(U.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?T:e;this.emit(U.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(U.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.els.settingButton.addEventListener("click",()=>{this.els.settingModal.classList.remove("hidden"),this.emit(U.SETTING_MODAL_SHOW,void 0)}),this.els.settingCloseButton.addEventListener("click",()=>{this.els.settingModal.classList.add("hidden")}),this.els.themeLightBtn.addEventListener("click",()=>{this.applyTheme("light"),this.emit(U.UPDATE_THEME,{theme:"light"})}),this.els.themeDarkBtn.addEventListener("click",()=>{this.applyTheme("dark"),this.emit(U.UPDATE_THEME,{theme:"dark"})}),this.els.themeDeviceBtn.addEventListener("click",()=>{this.applyTheme("device"),this.emit(U.UPDATE_THEME,{theme:"device"})}),this.els.importBtn.addEventListener("click",()=>{if(!this.els.importFileInput.files||0===this.els.importFileInput.files.length)return void this.els.importFileInput.click();const e=this.els.importFileInput.files[0];this.emit(U.IMPORT_SCREAN_STATE_FILE,{file:e})}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(U.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(U.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const s=this.listeners[e];s?.forEach(e=>e(t))}render(e){this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup),this.applyTheme(e.theme),this.applyStore(e.pageKeys),this.applyToastMessages(e.toastMessages)}renderStatus(e){const t=N[e],s=this.els.status;s.className="",s.classList.add("connect-status",...t.body);const i=this.doc.createElement("span");i.classList.add("connect-status-dot",...t.dot);const a=this.doc.createElement("span");a.textContent=function(e){const t=I[e];return R.get(t)||t}(e),s.replaceChildren(i,a),this.disableFormControls(e!==O)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=R.get(e?"toggle_on":"toggle_off")}renderList(e,t,s){this.els.count.textContent=String(e.length);const i=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=i,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),o=this.doc.createDocumentFragment();for(const e of n){const i=this.renderGroupSection(e,a.get(e),t,s);o.appendChild(i)}this.els.list.replaceChildren(o)}renderGroupSection(e,t,s,i){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),o=this.el("div","select-item-header"),r=this.el("div","spsk-checkwrap"),l=this.el("input","spsk-checkbox spsk-checkbox--normal");l.type="checkbox",l.name="item-select",l.value=e===p?R.get("group_ungrouped"):e,l.checked=t.every(e=>s.includes(e.id)),l.addEventListener("change",t=>{const s=t.target.checked;this.emit(U.ITEM_SELECTION_CHANGED,{group:e===p?T:e,isCheck:s})}),r.append(l);const c=this.el("span","select-item-gh-title",e===p?R.get("group_ungrouped"):e),d=this.el("div","select-item-gh-left");d.append(r,c);const E=this.el("span","select-item-gh-count",String(t.length)),h=this.el("button","select-item-gh-toggle");h.type="button",h.setAttribute("aria-expanded",String(!a));const{d:u,viewBox:m}=H(a?"caretRight":"caretDown"),_=this.createSvgIcon(u,{className:"icon-sm",viewBox:m}),S=_.querySelector("path");h.append(_),o.append(d,E,h);const g=this.el("ul","select-item-list");a&&g.classList.add("hidden"),this.attachUlDnDHandlers(g);for(const e of t.sort($)){const t=s.includes(e.id);g.appendChild(this.renderItem(e,t,i))}return h.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),g.classList.remove("hidden"),S.setAttribute("d",H("caretDown").d),h.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),g.classList.add("hidden"),S.setAttribute("d",H("caretRight").d),h.setAttribute("aria-expanded","false"))}),n.append(o,g),n}renderItem(e,t,s){const i=s.includes(e.id),a="select-item",n=this.el("li",i?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const s=this.dragEl.dataset.id??"";this.dragEl=null,s&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(U.REORDER_ITEMS,{fromId:Number(s),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const o=this.el("div","spsk-checkwrap"),r=i?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",l=this.el("input",r);l.type="checkbox",l.name="item-select",l.value=String(e.id),l.checked=t,l.addEventListener("change",t=>{const s=t.target.checked;this.emit(U.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:s})}),o.append(l);const c=i?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",d=this.el("span",c,String(e.label)),E=this.el("div","min-w-0 flex-1");if(E.addEventListener("pointerenter",()=>{this.dragStartParent||i||(this.cancelHoverOut(),this.emit(U.ITEM_HOVER_IN,{id:e.id}))}),i){const e=this.el("span","chip-warn"),{d:t,viewBox:s}=H("warn"),i=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:s}),a=this.el("span",void 0,R.get("missing_item"));e.append(i,a),E.append(e)}const h=this.el("div","anchor",e.anchor.value);E.append(h);const u=this.generateCommentBtn(e);return n.append(o,d,E,u),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:s,viewBox:i}=H("comment"),a=this.createSvgIcon(s,{className:"h-3.5 w-3.5",viewBox:i});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(U.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const s=t.target?.closest("li");if(s&&s!==this.dragEl){const i=s.getBoundingClientRect(),a=t.clientY-i.top>i.height/2;e.insertBefore(this.dragEl,a?s.nextSibling:s)}else s||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const s of e){const e=(s.group??T).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,s){const i=(e,t)=>{const s=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(s)?s:t},a=a=>{const n=i(t.min||e.min,Number.NEGATIVE_INFINITY),o=i(t.max||e.max,Number.POSITIVE_INFINITY),r=i(t.step||e.step,1),l=Number(a),c=((e,t,s)=>Math.min(Math.max(e,t),s))(Number.isFinite(l)?l:0,n,o),d=Math.round(c/r)*r,E=Number(d.toFixed(6));t.value=String(E),e.value=String(E),s?.(E)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disableFormControls(e){this.doc.querySelectorAll("button, select, input, textarea").forEach(t=>{t.hasAttribute("data-ignore-disable")||"disabled"in t&&(t.disabled=e)})}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:s}=H(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:s,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const s=t.dataset.colorName===e;t.setAttribute("aria-selected",s?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const s=t.dataset.positionName===e;t.setAttribute("data-selected",s?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,R.get("group_ungrouped"),t===p));for(const s of e){const e=(e=>(e??"").trim())(s);this.els.badgeGroupSelect.append(this.makeOpt(e,s,t===s))}const s=this.makeOpt(this.NEW_GROUP,R.get("common_create"));this.els.badgeGroupSelect.append(s)}applyTheme(e){const t=document.documentElement;("device"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e)?t.classList.add("dark"):t.classList.remove("dark"),this.els.themeLightBtn.setAttribute("data-active",String("light"===e)),this.els.themeDarkBtn.setAttribute("data-active",String("dark"===e)),this.els.themeDeviceBtn.setAttribute("data-active",String("device"===e))}applyStore(e){if(this.els.storeCount.textContent=String(e.length),this.els.storeList.innerHTML="",e.length<=0)return this.els.storeList.classList.add("hidden"),void this.els.storeEmpty.classList.remove("hidden");for(const t of e){const e=this.el("li","select-item"),s=this.el("div","min-w-0 flex-1"),i=this.el("a","anchor whitespace-normal break-words",t);i.href=t,i.target="_blank",s.appendChild(i);const a=this.el("button","btn-icon");a.setAttribute("data-ignore-disable","true");const n=H("export"),o=this.createSvgIcon(n.d,{className:"icon-sm",viewBox:n.viewBox});a.appendChild(o);const r=this.el("button","btn-icon btn-icon--danger");r.setAttribute("data-ignore-disable","true");const l=H("remove"),c=this.createSvgIcon(l.d,{className:"icon-sm",viewBox:l.viewBox});r.appendChild(c),e.appendChild(s),e.appendChild(a),e.appendChild(r),this.els.storeList.appendChild(e),a.addEventListener("click",()=>{this.emit(U.EXPORT_PAGE_CLICK,{pageKey:t})}),r.addEventListener("click",()=>{this.emit(U.REMOVE_PAGE_CLICK,{pageKey:t})})}this.els.storeList.classList.remove("hidden"),this.els.storeEmpty.classList.add("hidden")}applyToastMessages(e){for(const t of e){const e=this.generateToastMessage(t);this.els.toastParent.appendChild(e),this.emit(U.TOAST_DISMISS_REQUESTED,{uuid:t.uuid})}}generateToastMessage(e){const t=this.el("div",`toast toast--${e.kind}`),s=H(e.kind),i=this.createSvgIcon(s.d,{className:"toast-icon",viewBox:s.viewBox}),a=this.el("div","toast-body"),n=this.el("p","toast-desc",e.message);a.appendChild(n);const o=this.el("button",`toast-close toast-close--${e.kind}`),r=H("close"),l=this.createSvgIcon(r.d,{className:"h-3.5 w-3.5",viewBox:r.viewBox});o.appendChild(l),t.appendChild(i),t.appendChild(a),t.appendChild(o);const c=window.setTimeout(()=>{t.isConnected&&t.remove()},this.TOAST_AUTO_DISMISS);return o.addEventListener("click",()=>{clearTimeout(c),t.isConnected&&t.remove()}),t}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,s){const i=this.doc.createElement(e);return t&&(i.className=t),void 0!==s&&(i.textContent=s),i}makeOpt(e,t,s=!1){const i=this.doc.createElement("option");return i.value=e,i.textContent=t,s&&(i.selected=!0),i}createSvgIcon(e,t={}){const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");if(i.setAttribute("viewBox",t.viewBox??"0 0 20 20"),i.setAttribute("class",t.className??"h-3.5 w-3.5"),i.setAttribute("fill","currentColor"),i.setAttribute("aria-hidden","true"),t.attrs)for(const[e,s]of Object.entries(t.attrs))i.setAttribute(e,s);const a=document.createElementNS(s,"path");return a.setAttribute("d",e),i.appendChild(a),i}}async function V(){const e=new F(document),t=new B(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?V().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{V().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0zakIsU0FBUzRqQixnQkFBZ0JGLEVBQVEsT0FLN0MsR0FKQUMsRUFBSWpqQixhQUFhLFVBQVdrRSxFQUFLdVEsU0FBVyxhQUM1Q3dPLEVBQUlqakIsYUFBYSxRQUFTa0UsRUFBS2lYLFdBQWEsZUFDNUM4SCxFQUFJampCLGFBQWEsT0FBUSxnQkFDekJpakIsRUFBSWpqQixhQUFhLGNBQWUsUUFDNUJrRSxFQUFLaWYsTUFDTCxJQUFLLE1BQU9DLEVBQUdycEIsS0FBTXVZLE9BQU8rUSxRQUFRbmYsRUFBS2lmLE9BQ3JDRixFQUFJampCLGFBQWFvakIsRUFBR3JwQixHQUU1QixNQUFNdXBCLEVBQVNoa0IsU0FBUzRqQixnQkFBZ0JGLEVBQVEsUUFHaEQsT0FGQU0sRUFBT3RqQixhQUFhLElBQUsrSSxHQUN6QmthLEVBQUk3RyxZQUFZa0gsR0FDVEwsQ0FDWCxFQzNxQkpybkIsZUFBZWtRLElBQ1gsTUFBTVYsRUFBTyxJQUFJOEosRUFBVTVWLFVBQ3JCaWtCLEVBQWEsSUFBSXBZLEVBQWdCQyxTQUNqQ21ZLEVBQVd6WCxPQUNyQixDQUVnQyxhQUF4QnhNLFNBQVNra0IsWUFBcUQsZ0JBQXhCbGtCLFNBQVNra0IsV0FDMUMxWCxJQUFRZ0csTUFBTy9OLElBQ2hCTSxRQUFRdkIsTUFBTSwwQkFBMkJpQixLQUk3Q3pFLFNBQVMwWixpQkFBaUIsbUJBQW9CLEtBQVdsTixJQUFRZ0csTUFBTy9OLElBQ3BFTSxRQUFRdkIsTUFBTSwwQkFBMkJpQixNQUN6QyxDQUNBMGYsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29tbW9uL21lc3NhZ2VzLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi91cmwudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvYXBwL21vZGVsLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc3RvcmFnZS90YWJsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9zdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaTE4bi50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3ZpZXcvc3RhdHVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdHlwZXMvYWN0aW9uX3R5cGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdHlwZXMvZWZmZWN0X3R5cGVzLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvYXBpLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvbWVzc2FnaW5nL3BvcnRfcnBjLnRzIiwid2VicGFjazovLy8uL2luZnJhL2NkcC9jZHBfY2xpZW50LnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvY2FwdHVyZS50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL2V4cG9ydC50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9pbXBvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy91aV9ldmVudF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC91cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vaW5mcmEvY2hyb21lL3RhYnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvY29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaWNvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC92aWV3L3BhbmVsX3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUDJDID0ge1xuICAgIFBJTkc6ICdQSU5HJyxcbiAgICBUT0dHTEVfU0VMRUNUOiAnVE9HR0xFX1NFTEVDVCcsXG4gICAgUkVOREVSOiAnUkVOREVSJyxcbiAgICBDTEVBUjogJ0NMRUFSJyxcbiAgICBIT1ZFUjogJ0hPVkVSJyxcbiAgICBNRUFTVVJFX1NJWkU6ICdNRUFTVVJFX1NJWkUnLFxufTtcbmNvbnN0IEMyUCA9IHtcbiAgICBTRUxFQ1RFRDogJ1NFTEVDVEVEJyxcbiAgICBNSVNTSU5HX0lEUzogJ01JU1NJTkdfSURTJyxcbiAgICBDT05URU5UX1NJWkVfUkVTVUxUOiAnQ09OVEVOVF9TSVpFX1JFU1VMVCcsXG59O1xuY29uc3QgQjJQID0ge1xuICAgIEFDVElWRV9UQUJfQ0hBTkdFRDogJ0FDVElWRV9UQUJfQ0hBTkdFRCcsXG59O1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFID0geyAuLi5QMkMsIC4uLkMyUCwgLi4uQjJQIH07XG5leHBvcnQgZnVuY3Rpb24gaXNSZXNwb25zZShtc2cpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1zZyA9PT0gJ29iamVjdCcgJiYgbXNnICE9PSBudWxsICYmICdpZCcgaW4gbXNnICYmICdvaycgaW4gbXNnO1xufVxuIiwiLyoqXG4gKiBCdWlsZHMgYSBwYWdlIGtleSBmcm9tIGEgVVJMLiBCeSBkZWZhdWx0IGV4Y2x1ZGVzIHRoZSBoYXNoIGFuZCB1c2VzXG4gKiBvcmlnaW4gKyBwYXRobmFtZSArIHNlYXJjaC5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gSW5wdXQgVVJMIChyZXR1cm5lZCBhcy1pcyBpZiBpbnZhbGlkKVxuICogQHBhcmFtIGluY2x1ZGVIYXNoIC0gV2hldGhlciB0byBpbmNsdWRlIHRoZSBoYXNoIChkZWZhdWx0OiBmYWxzZSlcbiAqIEByZXR1cm5zIFBhZ2Uga2V5IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFnZUtleSh1cmwsIGluY2x1ZGVIYXNoID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICByZXR1cm4gaW5jbHVkZUhhc2hcbiAgICAgICAgICAgID8gYCR7dS5vcmlnaW59JHt1LnBhdGhuYW1lfSR7dS5zZWFyY2h9JHt1Lmhhc2h9YFxuICAgICAgICAgICAgOiBgJHt1Lm9yaWdpbn0ke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBVUkwgc2hvdWxkIGJlIGV4Y2x1ZGVkIGZyb20gZXh0ZW5zaW9uIG9wZXJhdGlvbi5cbiAqXG4gKiBVbnBhcnNlYWJsZS91bmtub3duIHNjaGVtZXMgYXJlIHRyZWF0ZWQgYXMgcmVzdHJpY3RlZC5cbiAqIE5vbi13ZWIgc2NoZW1lcyAoZS5nLiwgdmlldy1zb3VyY2U6LCBkYXRhOiwgYmxvYjosIGZpbGVzeXN0ZW06KSBhcmUgYmxvY2tlZCBlYXJseS5cbiAqIENocm9tZSBXZWIgU3RvcmUgcGFnZXMgYXJlIGFsd2F5cyBleGNsdWRlZCAoY29udGVudCBzY3JpcHRzIGFyZSBub3QgYWxsb3dlZCB0aGVyZSkuXG4gKlxuICogQHBhcmFtIHJhdyAtIFVSTCBzdHJpbmcgdG8gZXZhbHVhdGUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBzaG91bGQgYmUgc2tpcHBlZCBieSB0aGUgZXh0ZW5zaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZXN0cmljdGVkKHJhdykge1xuICAgIGlmICghcmF3KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJ3ZpZXctc291cmNlOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdkYXRhOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdibG9iOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdmaWxlc3lzdGVtOicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXJsO1xuICAgIHRyeSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwocmF3KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBJbnZhbGlkIG9yIG5vbi1zdGFuZGFyZCBVUkwg4oaSIHNraXAgZm9yIHNhZmV0eS5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEFsbG93LWxpc3QgcG9saWN5OiBvbmx5IG9wZXJhdGUgb24gdHlwaWNhbCB3ZWIgcGFnZXMuXG4gICAgY29uc3QgYWxsb3dlZCA9IG5ldyBTZXQoWydodHRwOicsICdodHRwczonLCAnZmlsZTonXSk7XG4gICAgaWYgKCFhbGxvd2VkLmhhcyh1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgV2ViIFN0b3JlIChjdXJyZW50IGFuZCBsZWdhY3kgaG9zdCkg4oCUIGNvbnRlbnQgc2NyaXB0cyBhcmUgZGlzYWxsb3dlZCBieSBwbGF0Zm9ybSBwb2xpY3kuXG4gICAgY29uc3Qgd2ViU3RvcmVIb3N0cyA9IG5ldyBTZXQoWydjaHJvbWV3ZWJzdG9yZS5nb29nbGUuY29tJywgJ2Nocm9tZS5nb29nbGUuY29tJ10pO1xuICAgIGlmICh3ZWJTdG9yZUhvc3RzLmhhcyh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJjb25zdCBJVEVNX0NPTE9SUyA9IFtcbiAgICAnR3JheScsXG4gICAgJ1JlZCcsXG4gICAgJ1llbGxvdycsXG4gICAgJ0dyZWVuJyxcbiAgICAnQmx1ZScsXG4gICAgJ0xpbWUnLFxuICAgICdQdXJwbGUnLFxuICAgICdQaW5rJyxcbiAgICAnT3JhbmdlJyxcbiAgICAnQ3lhbicsXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbUNvbG9yKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fQ09MT1JTLmluY2x1ZGVzKHYpO1xufVxuY29uc3QgSVRFTV9TSEFQRSA9IFsnY2lyY2xlJywgJ3NxdWFyZSddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbVNoYXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fU0hBUEUuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgSVRFTV9QT1NJVElPTl9WQUxVRVMgPSBbXG4gICAgJ3JpZ2h0LXRvcC1vdXRzaWRlJyxcbiAgICAncmlnaHQtdG9wLWluc2lkZScsXG4gICAgJ3JpZ2h0LW91dHNpZGUnLFxuICAgICdyaWdodC1pbnNpZGUnLFxuICAgICdyaWdodC1ib3R0b20tb3V0c2lkZScsXG4gICAgJ3JpZ2h0LWJvdHRvbS1pbnNpZGUnLFxuICAgICd0b3Atb3V0c2lkZScsXG4gICAgJ3RvcC1pbnNpZGUnLFxuICAgICdjZW50ZXInLFxuICAgICdib3R0b20tb3V0c2lkZScsXG4gICAgJ2JvdHRvbS1pbnNpZGUnLFxuICAgICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAnbGVmdC10b3AtaW5zaWRlJyxcbiAgICAnbGVmdC1vdXRzaWRlJyxcbiAgICAnbGVmdC1pbnNpZGUnLFxuICAgICdsZWZ0LWJvdHRvbS1vdXRzaWRlJyxcbiAgICAnbGVmdC1ib3R0b20taW5zaWRlJyxcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtUG9zaXRpb24odikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9QT1NJVElPTl9WQUxVRVMuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgVU5HUk9VUEVEID0gJ19fdW5ncm91cGVkX18nO1xuZXhwb3J0IGNvbnN0IFVOR1JPVVBFRF9WQUxVRSA9ICcnO1xuLyoqXG4gKiBOYXJyb3dpbmcgZ3VhcmQgZm9yIGEgbWluaW1hbCBgU2NyZWVuSXRlbWAtbGlrZSBzaGFwZS5cbiAqIENoZWNrcyBvbmx5IHRoZSBmaWVsZHMgcmVxdWlyZWQgYnkgdGhpcyBpbXBvcnQgcGF0aCAoYW5jaG9yIHN0cnVjdHVyZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjcmVlbkl0ZW1MaWtlKHYpIHtcbiAgICBpZiAoIXYgfHwgdHlwZW9mIHYgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbyA9IHY7XG4gICAgY29uc3QgYW5jaG9yID0gb1snYW5jaG9yJ107XG4gICAgaWYgKCFhbmNob3IgfHwgdHlwZW9mIGFuY2hvciAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhID0gYW5jaG9yO1xuICAgIHJldHVybiAoYVsna2luZCddID09PSAnY3NzJyAmJlxuICAgICAgICB0eXBlb2YgYVsndmFsdWUnXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgKHR5cGVvZiBhWyd2ZXJzaW9uJ10gPT09ICdudW1iZXInIHx8IGFbJ3ZlcnNpb24nXSA9PT0gMSkpO1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBwYXJzZWQgSlNPTiB2YWx1ZSBhZ2FpbnN0IHRoZSBleHBlY3RlZCBleHBvcnQgcGF5bG9hZCBjb250cmFjdC5cbiAqIFJlcXVpcmVzOiBgZm9ybWF0ID09PSAnc3BlY3NrZXRjaC1leHBvcnQnYCwgYGtpbmQgPT09ICdzY3JlZW4tc3RhdGUnYCxcbiAqIGB2ZXJzaW9uOiBudW1iZXJgLCBgcGFnZUtleTogc3RyaW5nYCwgYW5kIGBpdGVtczogU2NyZWVuSXRlbVtdYC1saWtlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFBheWxvYWQodikge1xuICAgIGlmICghdiB8fCB0eXBlb2YgdiAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBvID0gdjtcbiAgICBpZiAob1snZm9ybWF0J10gIT09ICdzcGVjc2tldGNoLWV4cG9ydCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAob1sna2luZCddICE9PSAnc2NyZWVuLXN0YXRlJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb1sndmVyc2lvbiddICE9PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb1sncGFnZUtleSddICE9PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvWydpdGVtcyddKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBvWydpdGVtcyddLmV2ZXJ5KGlzU2NyZWVuSXRlbUxpa2UpO1xufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFLCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxNb2RlbCA9IHtcbiAgICBzdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgIHRhYklkOiBudWxsLFxuICAgIHBhZ2VLZXk6ICcnLFxuICAgIHBhZ2VLZXlzOiBbXSxcbiAgICB0aGVtZTogJ2RldmljZScsXG4gICAgc2VsZWN0aW9uRW5hYmxlZDogZmFsc2UsXG4gICAgaXRlbXM6IFtdLFxuICAgIGRlZmF1bHRTaXplOiAxNCxcbiAgICBkZWZhdWx0Q29sb3I6ICdCbHVlJyxcbiAgICBkZWZhdWx0U2hhcGU6ICdjaXJjbGUnLFxuICAgIGRlZmF1bHRQb3NpdGlvbjogJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgIGRlZmF1bHRHcm91cDogVU5HUk9VUEVEX1ZBTFVFLFxuICAgIGNhcHR1cmU6IHtcbiAgICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICAgICAgYXJlYTogJ2Z1bGwnLFxuICAgICAgICBxdWFsaXR5OiA5MCxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHBhbmVsRXhwYW5kZWQ6IGZhbHNlLFxuICAgIH0sXG4gICAgc2VsZWN0SXRlbXM6IFtdLFxuICAgIG1pc3NpbmdJZHM6IFtdLFxuICAgIHRvYXN0TWVzc2FnZXM6IFtdLFxufTtcbiIsImltcG9ydCB7IFVOR1JPVVBFRF9WQUxVRSB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuLyoqXG4gKiBDcmVhdGVzIGEga2V5LXNjb3BlZCDigJxtYXAgdGFibGXigJ0gdGhhdCBzdG9yZXMgYSByZWNvcmQgYHsgW3BhZ2VLZXldOiBUIH1gXG4gKiB1bmRlciBhIHNpbmdsZSByb290IGtleSBpbiBgY2hyb21lLnN0b3JhZ2UubG9jYWxgLlxuICpcbiAqIFVzZSB0aGlzIGZvciBwZXItcGFnZSBvciBwZXItc2NvcGUgc3RhdGUgd2hlcmUgdmFsdWVzIGFyZSBkaXN0aW5ndWlzaGVkIGJ5IGEgcm93IGtleS5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgLSBWYWx1ZSB0eXBlIHN0b3JlZCBwZXIgcm93LlxuICogQHBhcmFtIHJvb3RLZXkgLSBSb290IGtleSAod2l0aG91dCBuYW1lc3BhY2UgcHJlZml4KSB1bmRlciB3aGljaCB0aGUgZW50aXJlIG1hcCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gZGVmYXVsdE9mIC0gT3B0aW9uYWwgZmFjdG9yeSB0aGF0IHJldHVybnMgYSBkZWZhdWx0IHZhbHVlIHdoZW4gYSByb3cgaXMgbWlzc2luZy5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIENSVUQgaGVscGVycyBmb3IgdGhlIHRhYmxlOiBgeyBrZXksIHJlYWRBbGwsIHdyaXRlQWxsLCBnZXQsIHNldCwgcmVtb3ZlLCBjbGVhciB9YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hcFRhYmxlKHJvb3RLZXksIGRlZmF1bHRPZikge1xuICAgIGNvbnN0IEtFWSA9IHJvb3RLZXk7XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGVudGlyZSBzdGF0ZSBtYXAgZnJvbSBgY2hyb21lLnN0b3JhZ2UubG9jYWxgIGZvciB0aGlzIHRhYmxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIGZ1bGwgc3RhdGUgbWFwOyByZXR1cm5zIGFuIGVtcHR5IG9iamVjdCB3aGVuIG5vdGhpbmcgaXMgc3RvcmVkLlxuICAgICAqIEByZW1hcmtzIFBlcmZvcm1zIHN0b3JhZ2UgSS9PIG9uIGV2ZXJ5IGNhbGwuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVhZEFsbCgpIHtcbiAgICAgICAgY29uc3QgcmF3ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KEtFWSk7XG4gICAgICAgIHJldHVybiByYXdbS0VZXSA/PyB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyc2lzdHMgdGhlIGVudGlyZSBzdGF0ZSBtYXAgdG8gYGNocm9tZS5zdG9yYWdlLmxvY2FsYCBmb3IgdGhpcyB0YWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtYXAgLSBUaGUgY29tcGxldGUgc3RhdGUgbWFwIHRvIHdyaXRlLlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSB3cml0ZSBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gd3JpdGVBbGwobWFwKSB7XG4gICAgICAgIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IFtLRVldOiBtYXAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHNpbmdsZSByb3cgYnkgaXRzIHBhZ2Uga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VLZXkgLSBSb3cga2V5IChlLmcuLCBwYWdlIGlkZW50aWZpZXIpLlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBzdG9yZWQgdmFsdWU7IGlmIG1pc3NpbmcgYW5kIGBkZWZhdWx0T2ZgIGlzIHByb3ZpZGVkLCB0aGF0IGRlZmF1bHQgaXMgcmV0dXJuZWQuXG4gICAgICogQHJlbWFya3MgV2hlbiBgZGVmYXVsdE9mYCBpcyBub3QgcHJvdmlkZWQgYW5kIHRoZSByb3cgaXMgbWlzc2luZywgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQgKHR5cGVkIGFzIGBUYCkuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0KHBhZ2VLZXkpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBjb25zdCBmb3VuZCA9IG1hcFtwYWdlS2V5XTtcbiAgICAgICAgaWYgKGZvdW5kICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgIGlmIChkZWZhdWx0T2YpXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdE9mKHBhZ2VLZXkpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcHNlcnRzIGEgc2luZ2xlIHJvdyBmb3IgdGhlIGdpdmVuIHBhZ2Uga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VLZXkgLSBSb3cga2V5IHRvIHdyaXRlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFZhbHVlIHRvIHBlcnNpc3QuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc2V0KHBhZ2VLZXksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGF3YWl0IHJlYWRBbGwoKTtcbiAgICAgICAgbWFwW3BhZ2VLZXldID0gdmFsdWU7XG4gICAgICAgIGF3YWl0IHdyaXRlQWxsKG1hcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBzaW5nbGUgcm93IGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgdG8gZGVsZXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShwYWdlS2V5KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGF3YWl0IHJlYWRBbGwoKTtcbiAgICAgICAgaWYgKHBhZ2VLZXkgaW4gbWFwKSB7XG4gICAgICAgICAgICBkZWxldGUgbWFwW3BhZ2VLZXldO1xuICAgICAgICAgICAgYXdhaXQgd3JpdGVBbGwobWFwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGVudGlyZSB0YWJsZSAocmVtb3ZlcyBhbGwgcm93cyB1bmRlciB0aGlzIHJvb3Qga2V5KS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgYXdhaXQgd3JpdGVBbGwoe30pO1xuICAgIH1cbiAgICByZXR1cm4geyBrZXk6IEtFWSwgcmVhZEFsbCwgd3JpdGVBbGwsIGdldCwgc2V0LCByZW1vdmUsIGNsZWFyIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBrZXktc2NvcGVkIOKAnHNpbmdsZXRvbuKAnSBzdG9yZSB0aGF0IHNhdmVzIGEgc2luZ2xlIHZhbHVlIGRpcmVjdGx5XG4gKiB1bmRlciB0aGUgZ2l2ZW4gcm9vdCBrZXkgaW4gYGNocm9tZS5zdG9yYWdlLmxvY2FsYC5cbiAqXG4gKiBVc2UgdGhpcyBmb3IgZ2xvYmFsIHNldHRpbmdzIG9yIGFueSBjb25maWd1cmF0aW9uIHRoYXQgaXMgbm90IGtleWVkIGJ5IHBhZ2UuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gVmFsdWUgdHlwZSBzdG9yZWQgYXMgYSBzaW5nbGV0b24uXG4gKiBAcGFyYW0gcm9vdEtleSAtIFJvb3Qga2V5ICh3aXRob3V0IG5hbWVzcGFjZSBwcmVmaXgpIHVuZGVyIHdoaWNoIHRoZSB2YWx1ZSBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gZGVmYXVsdEZhY3RvcnkgLSBGYWN0b3J5IGZ1bmN0aW9uIHRvIGxhemlseSBzdXBwbHkgdGhlIGRlZmF1bHQgd2hlbiBubyB2YWx1ZSBleGlzdHMuXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBoZWxwZXJzIGZvciB0aGUgc2luZ2xldG9uOiBgeyBrZXksIGdldCwgc2V0LCByZW1vdmUgfWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaW5nbGV0b24ocm9vdEtleSwgZGVmYXVsdEZhY3RvcnkpIHtcbiAgICBjb25zdCBLRVkgPSByb290S2V5O1xuICAgIC8qKlxuICAgICAqIFJlYWRzIHRoZSBzaW5nbGV0b24gdmFsdWUgZnJvbSBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHN0b3JlZCB2YWx1ZTsgZmFsbHMgYmFjayB0byBgZGVmYXVsdEZhY3RvcnkoKWAgd2hlbiBtaXNzaW5nLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgY29uc3QgcmF3ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KEtFWSk7XG4gICAgICAgIGNvbnN0IHZhbCA9IHJhd1tLRVldO1xuICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RmFjdG9yeSgpIDogdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgdGhlIHNpbmdsZXRvbiB2YWx1ZSB0byBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gcGVyc2lzdC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW0tFWV06IHZhbHVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzaW5nbGV0b24gdmFsdWUgZnJvbSBzdG9yYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKEtFWSk7XG4gICAgfVxuICAgIHJldHVybiB7IGtleTogS0VZLCBnZXQsIHNldCwgcmVtb3ZlIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0U2NyZWVuU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICBuZXh0SWQ6IDEsXG4gICAgICAgIGRlZmF1bHRTaXplOiAxNCxcbiAgICAgICAgZGVmYXVsdENvbG9yOiAnQmx1ZScsXG4gICAgICAgIGRlZmF1bHRTaGFwZTogJ2NpcmNsZScsXG4gICAgICAgIGRlZmF1bHRQb3NpdGlvbjogJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgICAgICBkZWZhdWx0R3JvdXA6IFVOR1JPVVBFRF9WQUxVRSxcbiAgICB9O1xufVxuLyoqXG4gKiBUYWJsZSBmb3IgcGVyLXBhZ2UgYFNjcmVlblN0YXRlYCB2YWx1ZXMuXG4gKiBFYWNoIHJvdyBpcyBhZGRyZXNzZWQgYnkgYSBwYWdlIGtleTsgbWlzc2luZyByb3dzIGZhbGwgYmFjayB0byBgZGVmYXVsdFNjcmVlblN0YXRlKClgLlxuICovXG5leHBvcnQgY29uc3Qgc2NyZWVuU3RhdGVUYWJsZSA9IGNyZWF0ZU1hcFRhYmxlKCdzY3JlZW5TdGF0ZUJ5UGFnZScsICgpID0+IGRlZmF1bHRTY3JlZW5TdGF0ZSgpKTtcbi8qKlxuICogU2luZ2xldG9uIGZvciBnbG9iYWwgdGhlbWUgbW9kZS5cbiAqIFN0b3JlcyBhIHNpbmdsZSBgVGhlbWVNb2RlYCB2YWx1ZTsgZGVmYXVsdHMgdG8gYCdkZXZpY2UnYCB3aGVuIG5vdCBzZXQuXG4gKi9cbmV4cG9ydCBjb25zdCB0aGVtZVRhYmxlID0gY3JlYXRlU2luZ2xldG9uKCd0aGVtZU1vZGUnLCAoKSA9PiAnZGV2aWNlJyk7XG4iLCJpbXBvcnQgeyBzY3JlZW5TdGF0ZVRhYmxlIH0gZnJvbSAnQHBhbmVsL3N0b3JhZ2UvdGFibGVzJztcbi8qKlxuICogQXBwbGllcyBhIHBhdGNoIChhZGQvdXBkYXRlL3JlbW92ZSkgdG8gdGhlIHN0YXRlIGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXksXG4gKiByZWxhYmVscyBzZXF1ZW50aWFsbHkgaWYgYW55IHJlbW92YWwgb2NjdXJyZWQsIHBlcnNpc3RzIHRoZSByZXN1bHQsXG4gKiBhbmQgcmV0dXJucyB0aGUgdXBkYXRlZCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gcGFnZUtleVN0ciAtIFBhZ2Uga2V5IG9mIHRoZSBzdGF0ZSB0byBtb2RpZnkuXG4gKiBAcGFyYW0gcGF0Y2ggLSBDaGFuZ2VzIHRvIGFwcGx5IHRvIHRoZSBzdGF0ZS5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSB1cGRhdGVkIFNjcmVlblN0YXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlQYXRjaChwYWdlS2V5LCBwYXRjaCkge1xuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQocGFnZUtleSk7XG4gICAgaWYgKHBhdGNoLnJlbW92ZWRJZHM/Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCB0b1JlbW92ZSA9IG5ldyBTZXQocGF0Y2gucmVtb3ZlZElkcyk7XG4gICAgICAgIHN0YXRlLml0ZW1zID0gc3RhdGUuaXRlbXMuZmlsdGVyKChpdCkgPT4gIXRvUmVtb3ZlLmhhcyhpdC5pZCkpO1xuICAgIH1cbiAgICBpZiAocGF0Y2guYWRkZWQ/Lmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgcGF0Y2guYWRkZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gc3RhdGUubmV4dElkKys7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IEluZmluaXR5O1xuICAgICAgICAgICAgY29uc3QgaXQgPSB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhLmFuY2hvcixcbiAgICAgICAgICAgICAgICBzaXplOiBhLnNpemUgPz8gc3RhdGUuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgY29sb3I6IGEuY29sb3IgPz8gc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgIHNoYXBlOiBhLnNoYXBlID8/IHN0YXRlLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYS5wb3NpdGlvbiA/PyBzdGF0ZS5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZ3JvdXA6IGEuZ3JvdXAgPz8gc3RhdGUuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGEuY29tbWVudCA/PyAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5pdGVtcy5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZS5pdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoc3RhdGUuaXRlbXMpO1xuICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUuc2V0KHBhZ2VLZXksIHN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGU7XG59XG4vKipcbiAqIFRvZ2dsZXMgc2VsZWN0aW9uIGZvciB0aGUgZ2l2ZW4gYW5jaG9ycyAoZnJvbSBDb250ZW50KTogaWYgYW4gYW5jaG9yIGFscmVhZHlcbiAqIGV4aXN0cywgcmVtb3ZlIGl0OyBvdGhlcndpc2UgYWRkIGl0LiBEZWR1cGUgaW5jb21pbmcgYW5jaG9ycyBieSBgdmFsdWVgLFxuICogYXBwbHkgdGhlIGNvcnJlc3BvbmRpbmcgcGF0Y2gsIHBlcnNpc3QsIGFuZCByZXR1cm4gdGhlIGxhdGVzdCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gcGFnZUtleVN0ciAtIFBhZ2Uga2V5IG9mIHRoZSBzdGF0ZSB0byB1cGRhdGUuXG4gKiBAcGFyYW0gYW5jaG9ycyAtIEFuY2hvcnMgcmVwb3J0ZWQgYnkgQ29udGVudC5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSB1cGRhdGVkIFNjcmVlblN0YXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWQocGFnZUtleSwgYW5jaG9ycykge1xuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQocGFnZUtleSk7XG4gICAgY29uc3QgdW5pcSA9IEFycmF5LmZyb20obmV3IFNldChhbmNob3JzLm1hcCgoYSkgPT4gYS52YWx1ZSkpKVxuICAgICAgICAubWFwKCh2KSA9PiBhbmNob3JzLmZpbmQoKGEpID0+IGEudmFsdWUgPT09IHYpKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGNvbnN0IHJlbW92ZWRJZHMgPSBbXTtcbiAgICBjb25zdCB0b0FkZCA9IFtdO1xuICAgIGZvciAoY29uc3QgYSBvZiB1bmlxKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gc3RhdGUuaXRlbXMuZmluZCgoaXQpID0+IGl0LmFuY2hvci5raW5kID09PSBhLmtpbmQgJiYgaXQuYW5jaG9yLnZhbHVlID09PSBhLnZhbHVlKTtcbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkSWRzLnB1c2goZm91bmQuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9BZGQucHVzaCh7IGFuY2hvcjogYSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXRjaCA9IHt9O1xuICAgIGlmIChyZW1vdmVkSWRzLmxlbmd0aClcbiAgICAgICAgcGF0Y2gucmVtb3ZlZElkcyA9IHJlbW92ZWRJZHM7XG4gICAgaWYgKHRvQWRkLmxlbmd0aClcbiAgICAgICAgcGF0Y2guYWRkZWQgPSB0b0FkZDtcbiAgICByZXR1cm4gYXBwbHlQYXRjaChwYWdlS2V5LCBwYXRjaCk7XG59XG4vKipcbiAqIFJlbGFiZWxzIGl0ZW1zIGNvbnNlY3V0aXZlbHkgKDEuLm4pICp3aXRoaW4gZWFjaCBncm91cCogYW5kIHJlcG9ydHNcbiAqIHRoZSBjdXJyZW50IHNpemUgb2YgdGhlIFwibm8gZ3JvdXBcIiBidWNrZXQuXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gVGhlIG9yaWdpbmFsIGxpc3Qgb2YgaXRlbXMgKHRyZWF0ZWQgaW1tdXRhYmx5KS5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBub3JtYWxpemVkIGl0ZW1zIGFuZCB0aGUgbm8tZ3JvdXAgY291bnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7IC8vICcnIGlzIHVuaWZpZWQgYXMgVW5Hcm91cFxuICAgIC8vIEJ1Y2tldCBbaW5kZXgsIGl0ZW1dIGZvciBlYWNoIGdyb3VwXG4gICAgY29uc3QgYnVja2V0cyA9IG5ldyBNYXAoKTtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBub3JtYWxpemUoaXRlbS5ncm91cCk7XG4gICAgICAgIGlmICghYnVja2V0cy5oYXMoa2V5KSlcbiAgICAgICAgICAgIGJ1Y2tldHMuc2V0KGtleSwgW10pO1xuICAgICAgICBidWNrZXRzLmdldChrZXkpLnB1c2goeyBpbmRleCwgaXRlbSB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBvdXQgPSBpdGVtcy5zbGljZSgpO1xuICAgIC8vIFNvcnQgZWFjaCBncm91cCDihpIgUmVhc3NpZ24gMS4ublxuICAgIGZvciAoY29uc3QgWywgYnVja2V0XSBvZiBidWNrZXRzKSB7XG4gICAgICAgIGJ1Y2tldC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5pdGVtLmxhYmVsICE9PSBiLml0ZW0ubGFiZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaXRlbS5sYWJlbCAtIGIuaXRlbS5sYWJlbDtcbiAgICAgICAgICAgIHJldHVybiBhLml0ZW0uaWQgLSBiLml0ZW0uaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBidWNrZXQuZm9yRWFjaCgoeyBpbmRleCwgaXRlbSB9LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXNpcmVkID0gaSArIDE7XG4gICAgICAgICAgICBpZiAoaXRlbS5sYWJlbCAhPT0gZGVzaXJlZCkge1xuICAgICAgICAgICAgICAgIG91dFtpbmRleF0gPSB7IC4uLml0ZW0sIGxhYmVsOiBkZXNpcmVkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiY29uc3QgaTE4biA9IHsgZ2V0LCBsb2NhbGl6ZSB9O1xuLyoqXG4gKiBSZXRyaWV2ZXMgYSBsb2NhbGl6ZWQgbWVzc2FnZSBieSBrZXkuIEZhbGxzIGJhY2sgdG8gdGhlIGtleSBpdHNlbGYgd2hlbiBub3QgZm91bmQuXG4gKlxuICogQHBhcmFtIGtleSAtIEtleSBkZWZpbmVkIGluIF9sb2NhbGVzL21lc3NhZ2VzLmpzb25cbiAqIEBwYXJhbSBzdWJzIC0gT3B0aW9uYWwgc3Vic3RpdHV0aW9uIGFyZ3VtZW50c1xuICogQHJldHVybnMgTG9jYWxpemVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBnZXQoa2V5LCBzdWJzKSB7XG4gICAgcmV0dXJuIGNocm9tZS5pMThuLmdldE1lc3NhZ2Uoa2V5LCBzdWJzKSB8fCBrZXk7XG59XG4vKipcbiAqIFdhbGtzIHRoZSBET00gYW5kIGFwcGxpZXMgbG9jYWxpemVkIHN0cmluZ3MgdG8gZWxlbWVudHMgd2l0aFxuICogYGRhdGEtaTE4bmAgYW5kIGBkYXRhLWkxOG4tYXR0cmAuXG4gKlxuICogQHBhcmFtIHJvb3QgLSBSb290IG5vZGUgdG8gbG9jYWxpemUgKGRlZmF1bHRzIHRvIGRvY3VtZW50KVxuICogQHJlbWFya3NcbiAqIC0gYGRhdGEtaTE4bmAgcmVwbGFjZXMgYHRleHRDb250ZW50YC5cbiAqIC0gYGRhdGEtaTE4bi1hdHRyYCB1c2VzIGBhdHRyOmtleTthdHRyOmtleTsuLi5gIHRvIHNldCBhdHRyaWJ1dGVzLlxuICogLSBNdXRhdGVzIHRoZSBET00gaW4gcGxhY2UuXG4gKi9cbmZ1bmN0aW9uIGxvY2FsaXplKHJvb3QgPSBkb2N1bWVudCkge1xuICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaTE4bl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bicpO1xuICAgICAgICBpZiAoa2V5KVxuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBnZXQoa2V5KTtcbiAgICB9KTtcbiAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWkxOG4tYXR0cl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBzcGVjID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWkxOG4tYXR0cicpO1xuICAgICAgICBpZiAoIXNwZWMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBzcGVjLnNwbGl0KCc7JykpIHtcbiAgICAgICAgICAgIGNvbnN0IFthdHRyLCBrZXldID0gcGFpci5zcGxpdCgnOicpLm1hcCgocykgPT4gcz8udHJpbSgpKTtcbiAgICAgICAgICAgIGlmIChhdHRyICYmIGtleSlcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ciwgZ2V0KGtleSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBpMThuO1xuIiwiaW1wb3J0IGkxOG4gZnJvbSAnQGNvbW1vbi9pMThuJztcbmV4cG9ydCBjb25zdCBTVEFUVVMgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ1JFU1RSSUNURUQnLFxuICAgIENPTk5FQ1RJTkc6ICdDT05ORUNUSU5HJyxcbiAgICBDT05ORUNURUQ6ICdDT05ORUNURUQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ0RJU0NPTk5FQ1RFRCcsXG59O1xuY29uc3QgU1RBVFVTX01TR19LRVkgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ3N0YXR1c19yZXN0cmljdGVkJyxcbiAgICBDT05ORUNUSU5HOiAnc3RhdHVzX2Nvbm5lY3RpbmcnLFxuICAgIENPTk5FQ1RFRDogJ3N0YXR1c19jb25uZWN0ZWQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ3N0YXR1c19kaXNjb25uZWN0ZWQnLFxufTtcbmV4cG9ydCBjb25zdCBTVEFUVVNfTEFCRUxfU1RZTEUgPSB7XG4gICAgUkVTVFJJQ1RFRDoge1xuICAgICAgICBib2R5OiBbXG4gICAgICAgICAgICAnYmctYW1iZXItNTAnLFxuICAgICAgICAgICAgJ2JvcmRlci1hbWJlci0yMDAnLFxuICAgICAgICAgICAgJ3RleHQtYW1iZXItNzAwJyxcbiAgICAgICAgICAgICdkYXJrOmJnLWFtYmVyLTk1MCcsXG4gICAgICAgICAgICAnZGFyazpib3JkZXItYW1iZXItOTAwLzUwJyxcbiAgICAgICAgICAgICdkYXJrOnRleHQtYW1iZXItMzAwJyxcbiAgICAgICAgXSxcbiAgICAgICAgZG90OiBbJ2JnLWFtYmVyLTUwMCddLFxuICAgIH0sXG4gICAgQ09OTkVDVElORzoge1xuICAgICAgICBib2R5OiBbXG4gICAgICAgICAgICAnYmctc2t5LTUwJyxcbiAgICAgICAgICAgICdib3JkZXItc2t5LTIwMCcsXG4gICAgICAgICAgICAndGV4dC1za3ktNzAwJyxcbiAgICAgICAgICAgICdkYXJrOmJnLXNreS05NTAnLFxuICAgICAgICAgICAgJ2Rhcms6Ym9yZGVyLXNreS05MDAvNTAnLFxuICAgICAgICAgICAgJ2Rhcms6dGV4dC1za3ktMzAwJyxcbiAgICAgICAgXSxcbiAgICAgICAgZG90OiBbJ2JnLXNreS01MDAnXSxcbiAgICB9LFxuICAgIENPTk5FQ1RFRDoge1xuICAgICAgICBib2R5OiBbXG4gICAgICAgICAgICAnYmctZW1lcmFsZC01MCcsXG4gICAgICAgICAgICAnYm9yZGVyLWVtZXJhbGQtMjAwJyxcbiAgICAgICAgICAgICd0ZXh0LWVtZXJhbGQtNzAwJyxcbiAgICAgICAgICAgICdkYXJrOmJnLWVtZXJhbGQtOTUwJyxcbiAgICAgICAgICAgICdkYXJrOmJvcmRlci1lbWVyYWxkLTkwMC81MCcsXG4gICAgICAgICAgICAnZGFyazp0ZXh0LWVtZXJhbGQtMzAwJyxcbiAgICAgICAgXSxcbiAgICAgICAgZG90OiBbJ2JnLWVtZXJhbGQtNTAwJ10sXG4gICAgfSxcbiAgICBESVNDT05ORUNURUQ6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLXJvc2UtNTAnLFxuICAgICAgICAgICAgJ2JvcmRlci1yb3NlLTIwMCcsXG4gICAgICAgICAgICAndGV4dC1yb3NlLTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1yb3NlLTk1MCcsXG4gICAgICAgICAgICAnZGFyazpib3JkZXItcm9zZS05MDAvNTAnLFxuICAgICAgICAgICAgJ2Rhcms6dGV4dC1yb3NlLTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1yb3NlLTUwMCddLFxuICAgIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXR1c01lc3NhZ2Uoa2V5KSB7XG4gICAgY29uc3QgbXNnS2V5ID0gU1RBVFVTX01TR19LRVlba2V5XTtcbiAgICByZXR1cm4gaTE4bi5nZXQobXNnS2V5KSB8fCBtc2dLZXk7XG59XG4iLCIvKipcbiAqIEFjdGlvblR5cGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbiBleGhhdXN0aXZlIGxpc3Qgb2YgKmFwcGxpY2F0aW9uLWxldmVsIGV2ZW50cyogY29uc3VtZWQgYnkgdGhlIHJlZHVjZXIgKHVwZGF0ZS50cykuXG4gKiBPcmlnaW5zOlxuICogICAtIFZpZXcgVUkgZXZlbnRzIChub3JtYWxpemVkIGJ5IHRoZSBDb250cm9sbGVyKVxuICogICAtIE1lc3NhZ2VzIGZyb20gQ29udGVudC9CYWNrZ3JvdW5kIHNjcmlwdHNcbiAqICAgLSBSZXN1bHRzIG9mIGFzeW5jIEkvTyAoY2FwdHVyZSBzdWNjZXNzL2ZhaWx1cmUsIGV0Yy4pXG4gKiBVc2FnZTpcbiAqICAgLSBBY3RzIGFzIHRoZSBkaXNjcmltaW5hbnQgZm9yIGBzd2l0Y2goYWN0aW9uLnR5cGUpYCBpbiB0aGUgcmVkdWNlclxuICogICAtIFB1cmVseSBkZXRlcm1pbmVzIGhvdyB0aGUgTW9kZWwgdHJhbnNpdGlvbnMgKG5vIHNpZGUgZWZmZWN0cyBoZXJlKVxuICovXG5leHBvcnQgdmFyIEFjdGlvblR5cGU7XG4oZnVuY3Rpb24gKEFjdGlvblR5cGUpIHtcbiAgICAvKiogQXBwIGJvb3RzdHJhcCAvIHN0YXJ0ICovXG4gICAgQWN0aW9uVHlwZVtcIklOSVRcIl0gPSBcIklOSVRcIjtcbiAgICAvKiogQWN0aXZlIHRhYiByZXNvbHZlZCBhbmQgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCAodGFiSWQvcGFnZUtleSBkZWNpZGVkKSAqL1xuICAgIEFjdGlvblR5cGVbXCJDT05ORUNURURcIl0gPSBcIkNPTk5FQ1RFRFwiO1xuICAgIC8qKiBVcGRhdGUgcGFuZWwgc3RhdHVzIChDT05ORUNUSU5HIC8gQ09OTkVDVEVEIC8gUkVTVFJJQ1RFRCAvIERJU0NPTk5FQ1RFRCwgZXRjLikgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX1NUQVRVU1wiXSA9IFwiU0VUX1NUQVRVU1wiO1xuICAgIC8qKiBSZXN0b3JlIHBlcnNpc3RlZCBzdGF0ZTogaXRlbXMgYW5kIGRlZmF1bHRzIChzaXplL2NvbG9yL3NoYXBlKSAqL1xuICAgIEFjdGlvblR5cGVbXCJSRVNUT1JFX1NUQVRFXCJdID0gXCJSRVNUT1JFX1NUQVRFXCI7XG4gICAgLyoqIE92ZXJ3cml0ZXMgdGhlIHNldCBvZiBlbGVtZW50cyB0aGF0IGFyZSBub3QgcHJlc2VudCBpbiB0aGUgY29udGVudCAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfTUlTU0lOR19JRFNcIl0gPSBcIlNFVF9NSVNTSU5HX0lEU1wiO1xuICAgIC8qKiBUb2dnbGUgc2VsZWN0aW9uIG1vZGUgb24gdGhlIHBhZ2Ugb3ZlcmxheSAqL1xuICAgIEFjdGlvblR5cGVbXCJUT0dHTEVfU0VMRUNUXCJdID0gXCJUT0dHTEVfU0VMRUNUXCI7XG4gICAgLyoqIENsZWFyIGFsbCBzZWxlY3Rpb25zICovXG4gICAgQWN0aW9uVHlwZVtcIkNMRUFSX0FMTFwiXSA9IFwiQ0xFQVJfQUxMXCI7XG4gICAgLyoqIENvbnRlbnQg4oaSIFBhbmVsOiBhbmNob3JzIHdlcmUgdG9nZ2xlZCAoc2VsZWN0ZWQvdW5zZWxlY3RlZCkgb24gdGhlIHBhZ2UgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ09OVEVOVF9TRUxFQ1RFRFwiXSA9IFwiQ09OVEVOVF9TRUxFQ1RFRFwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBzaXplIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfU0laRVwiXSA9IFwiU0VUX0JBREdFX1NJWkVcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2UgY29sb3IgKGFsc28gYXBwbHkgdG8gZXhpc3RpbmcgaXRlbXMpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9CQURHRV9DT0xPUlwiXSA9IFwiU0VUX0JBREdFX0NPTE9SXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIHNoYXBlIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfU0hBUEVcIl0gPSBcIlNFVF9CQURHRV9TSEFQRVwiO1xuICAgIC8qKiBEZWxldGUgdGhlIHNlbGVjdGVkIGJhZGdlICovXG4gICAgQWN0aW9uVHlwZVtcIkJBREdFX0RFTEVURVwiXSA9IFwiQkFER0VfREVMRVRFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIHBvc2l0aW9uIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfUE9TSVRJT05cIl0gPSBcIlNFVF9CQURHRV9QT1NJVElPTlwiO1xuICAgIC8qKiBVcGRhdGUgY2FwdHVyZSBmb3JtYXQgKHBuZy9qcGVnKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQ0FQVFVSRV9GT1JNQVRcIl0gPSBcIlNFVF9DQVBUVVJFX0ZPUk1BVFwiO1xuICAgIC8qKiBVcGRhdGUgY2FwdHVyZSBhcmVhIChmdWxsL3ZpZXdwb3J0KSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQ0FQVFVSRV9BUkVBXCJdID0gXCJTRVRfQ0FQVFVSRV9BUkVBXCI7XG4gICAgLyoqIFVwZGF0ZSBKUEVHIHF1YWxpdHkgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfUVVBTElUWVwiXSA9IFwiU0VUX0NBUFRVUkVfUVVBTElUWVwiO1xuICAgIC8qKiBVcGRhdGUgY2FwdHVyZSBzY2FsZSBmYWN0b3IgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfU0NBTEVcIl0gPSBcIlNFVF9DQVBUVVJFX1NDQUxFXCI7XG4gICAgLyoqIFRvZ2dsZSBjYXB0dXJlIG9wdGlvbnMgZHJvcGRvd24gKGV4cGFuZC9jb2xsYXBzZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX0NBUFRVUkVfUEFORUxcIl0gPSBcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCI7XG4gICAgLyoqIHJlcXVlc3QgbWVhc3VyaW5nIHRoZSBjb250ZW50IHNpemUgKi9cbiAgICBBY3Rpb25UeXBlW1wiTUVBU1VSRV9DT05URU5UX1NJWkVcIl0gPSBcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCI7XG4gICAgLyoqIFJlcXVlc3QgdG8gcnVuIGEgY2FwdHVyZSAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX1JFUVVFU1RFRFwiXSA9IFwiQ0FQVFVSRV9SRVFVRVNURURcIjtcbiAgICAvKiogQ2FwdHVyZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5ICovXG4gICAgQWN0aW9uVHlwZVtcIkNBUFRVUkVfU1VDQ0VFREVEXCJdID0gXCJDQVBUVVJFX1NVQ0NFRURFRFwiO1xuICAgIC8qKiBDYXB0dXJlIGZhaWxlZCB3aXRoIGFuIGVycm9yICovXG4gICAgQWN0aW9uVHlwZVtcIkNBUFRVUkVfRkFJTEVEXCJdID0gXCJDQVBUVVJFX0ZBSUxFRFwiO1xuICAgIC8qKiBSZW9yZGVyaW5nIHNlbGVjdGVkIGl0ZW1zIChkcmFnIGFuZCBkcm9wKSAqL1xuICAgIEFjdGlvblR5cGVbXCJSRU9SREVSX0lURU1TXCJdID0gXCJSRU9SREVSX0lURU1TXCI7XG4gICAgLyoqIFVwZGF0ZSBhIGdyb3VwIG9mIGVsZW1lbnRzICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9HUk9VUFwiXSA9IFwiU0VUX0dST1VQXCI7XG4gICAgLyoqIFBvcnQgZGlzY29ubmVjdGVkIChsb3N0IGNvbm5lY3Rpb24gdG8gQ29udGVudC9TZXJ2aWNlIFdvcmtlcikgKi9cbiAgICBBY3Rpb25UeXBlW1wiUE9SVF9ESVNDT05ORUNURURcIl0gPSBcIlBPUlRfRElTQ09OTkVDVEVEXCI7XG4gICAgLyoqIFJlcXVlc3QgdG8gY2xvc2UgdGhlIHBhbmVsIHdoZW4gdGhlIHRhYklkIG1hdGNoZXMgKEJhY2tncm91bmQg4oaSIFBhbmVsKSAqL1xuICAgIEFjdGlvblR5cGVbXCJDTE9TRV9QQU5FTF9SRVFVRVNURURcIl0gPSBcIkNMT1NFX1BBTkVMX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBFbWl0dGVkIHdoZW4gYW4gaXRlbSdzIGVkaXQtc2VsZWN0aW9uIGNoZWNrYm94IGNoYW5nZXMgc3RhdGUgKi9cbiAgICBBY3Rpb25UeXBlW1wiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiXSA9IFwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiO1xuICAgIC8qKiBTdGFydCBpdGVtIGhvdmVyICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fSE9WRVJfSU5cIl0gPSBcIklURU1fSE9WRVJfSU5cIjtcbiAgICAvKiogRW5kIGl0ZW0gaG92ZXIgKi9cbiAgICBBY3Rpb25UeXBlW1wiSVRFTV9IT1ZFUl9PVVRcIl0gPSBcIklURU1fSE9WRVJfT1VUXCI7XG4gICAgLyoqIFBlcnNpc3QgdGhlIGVkaXRlZCBjb21tZW50IHRleHQgZm9yIHRoZSB0YXJnZXRlZCBpdGVtICovXG4gICAgQWN0aW9uVHlwZVtcIlVQREFURV9JVEVNX0NPTU1FTlRcIl0gPSBcIlVQREFURV9JVEVNX0NPTU1FTlRcIjtcbiAgICAvKiogU2V0ZSBVSSB0aGVtZSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfVEhFTUVcIl0gPSBcIlNFVF9USEVNRVwiO1xuICAgIC8qKiBVcGRhdGUgdGhlIFVJIHRoZW1lICovXG4gICAgQWN0aW9uVHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIERpc3BhdGNoZWQgdG8gcmVxdWVzdCByZWxvYWRpbmcgdGhlIGxhdGVzdCBkYXRhICovXG4gICAgQWN0aW9uVHlwZVtcIlNUT1JFX1JFTE9BRF9SRVFVRVNURURcIl0gPSBcIlNUT1JFX1JFTE9BRF9SRVFVRVNURURcIjtcbiAgICAvKiogRGlzcGF0Y2hlZCBhZnRlciB0aGUgc3RvcmUgaXMgc3VjY2Vzc2Z1bGx5IHJlbG9hZGVkIHdpdGggdGhlIGxhdGVzdCBkYXRhICovXG4gICAgQWN0aW9uVHlwZVtcIlNUT1JFX1JFTE9BRF9TVUNDRUVERURcIl0gPSBcIlNUT1JFX1JFTE9BRF9TVUNDRUVERURcIjtcbiAgICAvKiogSW1wb3J0IGEgU2NyZWVuU3RhdGUgZnJvbSBhIHNlbGVjdGVkIEpTT04gZmlsZS4gKi9cbiAgICBBY3Rpb25UeXBlW1wiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCJdID0gXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBpbXBvcnQgb3BlcmF0aW9uIGZhaWxzLiAqL1xuICAgIEFjdGlvblR5cGVbXCJJTVBPUlRfRkFJTEVEXCJdID0gXCJJTVBPUlRfRkFJTEVEXCI7XG4gICAgLyoqIERpc21pc3MgYSB0b2FzdCBieSBVVUlEICovXG4gICAgQWN0aW9uVHlwZVtcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCJdID0gXCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBSZW1vdmUgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgQWN0aW9uVHlwZVtcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiXSA9IFwiUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFXCI7XG4gICAgLyoqIEV4cG9ydCBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFXCJdID0gXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIjtcbiAgICAvKiogRXhwb3J0IGZhaWxlZCB3aXRoIGFuIGVycm9yICovXG4gICAgQWN0aW9uVHlwZVtcIkVYUE9SVF9GQUlMRURcIl0gPSBcIkVYUE9SVF9GQUlMRURcIjtcbn0pKEFjdGlvblR5cGUgfHwgKEFjdGlvblR5cGUgPSB7fSkpO1xuIiwiLyoqXG4gKiBFZmZlY3RUeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQSBkZWNsYXJhdGl2ZSBzZXQgb2YgKnNpZGUtZWZmZWN0IHJlcXVlc3RzKiBwcm9kdWNlZCBieSB0aGUgcmVkdWNlci5cbiAqIEV4ZWN1dG9yOlxuICogICAtIFRoZSBDb250cm9sbGVyIGludGVycHJldHMgYW5kIHBlcmZvcm1zIGVhY2ggZWZmZWN0IChJL08sIFJQQywgcGVyc2lzdGVuY2UpLlxuICogUHVycG9zZTpcbiAqICAgLSBLZWVwIHRoZSByZWR1Y2VyIHB1cmUgd2hpbGUgc3RpbGwgZW5hYmxpbmcgbmVjZXNzYXJ5IGV4dGVybmFsIGVmZmVjdHMuXG4gKi9cbmV4cG9ydCB2YXIgRWZmZWN0VHlwZTtcbihmdW5jdGlvbiAoRWZmZWN0VHlwZSkge1xuICAgIC8qKiBQdXNoIHRoZSBjdXJyZW50IGl0ZW1zIHRvIHRoZSBDb250ZW50IHNjcmlwdCB0byByZW5kZXIgdGhlIG92ZXJsYXkgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVOREVSX0NPTlRFTlRcIl0gPSBcIlJFTkRFUl9DT05URU5UXCI7XG4gICAgLyoqIEVuYWJsZS9kaXNhYmxlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBDb250ZW50IHNpZGUgKi9cbiAgICBFZmZlY3RUeXBlW1wiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UXCJdID0gXCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlRcIjtcbiAgICAvKiogQ2xlYXIgb3ZlcmxheSBvbiB0aGUgQ29udGVudCBzaWRlICovXG4gICAgRWZmZWN0VHlwZVtcIkNMRUFSX0NPTlRFTlRcIl0gPSBcIkNMRUFSX0NPTlRFTlRcIjtcbiAgICAvKiogaXRlbSBob3ZlciAqL1xuICAgIEVmZmVjdFR5cGVbXCJIT1ZFUlwiXSA9IFwiSE9WRVJcIjtcbiAgICAvKiogcmVxdWVzdCBtZWFzdXJpbmcgdGhlIGNvbnRlbnQgc2l6ZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiXSA9IFwiTUVBU1VSRV9DT05URU5UX1NJWkVcIjtcbiAgICAvKiogUnVuIGEgY2FwdHVyZSB3aXRoIHRoZSBnaXZlbiBwYXJhbWV0ZXJzICh0YWJJZC9mb3JtYXQvYXJlYS9xdWFsaXR5L3NjYWxlKSAqL1xuICAgIEVmZmVjdFR5cGVbXCJDQVBUVVJFXCJdID0gXCJDQVBUVVJFXCI7XG4gICAgLyoqIFBlcnNpc3QgdGhlIHN0YXRlIHRvIHN0b3JhZ2Ugd2l0aCBzZWxlY3RlZCBpdGVtcyByZXNldCAoY2xlYXJlZCkuICovXG4gICAgRWZmZWN0VHlwZVtcIkNMRUFSX1NUQVRFXCJdID0gXCJDTEVBUl9TVEFURVwiO1xuICAgIC8qKlxuICAgICAqIFBlcnNpc3QgdGhlIGN1cnJlbnQgc3RhdGUgdG8gc3RvcmFnZS5cbiAgICAgKiBOT1RFOiBNdXN0IHByZXNlcnZlIGV4aXN0aW5nIGNvdW50ZXJzIChuZXh0SWQvbmV4dExhYmVsKTsgZG8gbm90IHJlc2V0IHRoZW0uXG4gICAgICovXG4gICAgRWZmZWN0VHlwZVtcIlBFUlNJU1RfU1RBVEVcIl0gPSBcIlBFUlNJU1RfU1RBVEVcIjtcbiAgICAvKiogU2V0ZSBVSSB0aGVtZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJTRVRfVEhFTUVcIl0gPSBcIlNFVF9USEVNRVwiO1xuICAgIC8qKiBVcGRhdGUgdGhlIFVJIHRoZW1lICovXG4gICAgRWZmZWN0VHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIFJlYWQgdGhlIHNjcmVlbi1zdGF0ZSBtYXAgZnJvbSBgY2hyb21lLnN0b3JhZ2UubG9jYWxgICovXG4gICAgRWZmZWN0VHlwZVtcIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFXCJdID0gXCJSRUFEX1NDUkVFTl9TVEFURV9TVE9SRVwiO1xuICAgIC8qKiBJbXBvcnQgYSBTY3JlZW5TdGF0ZSBmcm9tIGEgc2VsZWN0ZWQgSlNPTiBmaWxlLiAqL1xuICAgIEVmZmVjdFR5cGVbXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIl0gPSBcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiO1xuICAgIC8qKiBSZW1vdmUgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgRWZmZWN0VHlwZVtcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVlcIl0gPSBcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVlcIjtcbiAgICAvKiogRXhwb3J0IHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEVmZmVjdFR5cGVbXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZXCJdID0gXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZXCI7XG4gICAgLyoqIFJlcG9ydC9sb2cgYW4gZXJyb3IgKGFuZCBvcHRpb25hbGx5IHN1cmZhY2UgaXQgdG8gdGhlIFVJKSAqL1xuICAgIEVmZmVjdFR5cGVbXCJOT1RJRllfRVJST1JcIl0gPSBcIk5PVElGWV9FUlJPUlwiO1xufSkoRWZmZWN0VHlwZSB8fCAoRWZmZWN0VHlwZSA9IHt9KSk7XG4iLCJleHBvcnQgY29uc3QgUFJPVE9DT0xfVkVSU0lPTiA9IDE7XG5leHBvcnQgY29uc3QgQ0hBTk5FTCA9IHtcbiAgICBQQU5FTF9DT05URU5UOiBgc3BzazpwYW5lbC1jb250ZW50OnYke1BST1RPQ09MX1ZFUlNJT059YCxcbn07XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBQb3J0Lm5hbWUgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGNoYW5uZWwuXG4gKiBVc2UgdGhpcyB0byBzYWZlbHkgZGlzdGluZ3Vpc2ggY29ubmVjdGlvbiB0eXBlcyBiZXR3ZWVuIFBhbmVsIGFuZCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSBwb3J0IC0gQSBjb25uZWN0ZWQgcnVudGltZS5Qb3J0XG4gKiBAcGFyYW0gbmFtZSAtIFRhcmdldCBjaGFubmVsIG5hbWUgdG8gY29tcGFyZVxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcG9ydCBiZWxvbmdzIHRvIHRoZSBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0NoYW5uZWwocG9ydCwgbmFtZSkge1xuICAgIHJldHVybiBwb3J0Lm5hbWUgPT09IG5hbWU7XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcG9ydCBpcyB1c2VkIGZvciBQYW5lbCDihpQgQ29udGVudCBjb21tdW5pY2F0aW9uLlxuICogQSBjb252ZW5pZW5jZSB3cmFwcGVyIGZvciBDSEFOTkVMLlBBTkVMX0NPTlRFTlQuXG4gKlxuICogQHBhcmFtIHBvcnQgLSBBIGNvbm5lY3RlZCBydW50aW1lLlBvcnRcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvcnQgaXMgdGhlIFBhbmVs4oCTQ29udGVudCBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BhbmVsQ29udGVudFBvcnQocG9ydCkge1xuICAgIHJldHVybiBpc0NoYW5uZWwocG9ydCwgQ0hBTk5FTC5QQU5FTF9DT05URU5UKTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG4vKipcbiAqIFRoaW4gUlBDIHdyYXBwZXIgZm9yIHNlbmRpbmcgbWVzc2FnZXMgZnJvbSBQYW5lbCB0byBDb250ZW50LlxuICogRXhwb3NlcyBoaWdoLWxldmVsIG1ldGhvZHMgZm9yIGVhY2ggbWVzc2FnZSB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgUGFuZWxBcGkge1xuICAgIHJwYztcbiAgICBjb25zdHJ1Y3RvcihycGMpIHtcbiAgICAgICAgdGhpcy5ycGMgPSBycGM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNlbmQgaGVscGVyIHRoYXQgYXR0YWNoZXMgYW4gUlBDIHJlcXVlc3QgaWQgYXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZHkgLSBNZXNzYWdlIHBheWxvYWQgdG8gc2VuZFxuICAgICAqIEByZXR1cm5zIFZvaWQtbGlrZSB3aGVuIG5vIHJlcGx5IGlzIGV4cGVjdGVkOyBvdGhlcndpc2UgcmVzb2x2ZXMgd2l0aCBhIHJlc3BvbnNlXG4gICAgICovXG4gICAgc2VuZChib2R5KSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZXhwZWN0UmVwbHk6IGZhbHNlLFxuICAgICAgICAgICAgLi4uYm9keSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnNlbmQocmVxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgQ29udGVudCB0byByZW5kZXIgdGhlIGdpdmVuIGl0ZW1zLlxuICAgICAqIEBwYXJhbSBpdGVtcyAtIEl0ZW1zIHRvIGRyYXdcbiAgICAgKi9cbiAgICByZW5kZXIoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLlJFTkRFUiwgcGF5bG9hZDogeyBpdGVtcyB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHNlbGVjdGlvbiBtb2RlIGluIENvbnRlbnQuXG4gICAgICogQHBhcmFtIGVuYWJsZWQgLSBUcnVlIHRvIGVuYWJsZVxuICAgICAqL1xuICAgIHRvZ2dsZVNlbGVjdChlbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5UT0dHTEVfU0VMRUNULCBwYXlsb2FkOiB7IGVuYWJsZWQgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBDb250ZW50IG92ZXJsYXkuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5DTEVBUiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBob3ZlcmVkIGl0ZW0gYW5kIHJlcXVlc3QgYSB0cmFuc2llbnQgaGlnaGxpZ2h0IG9uIENvbnRlbnQuXG4gICAgICogUGFzcyBgbnVsbGAgdG8gY2xlYXIgdGhlIGN1cnJlbnQgaG92ZXIgaGlnaGxpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIC0gVGFyZ2V0IGl0ZW0gSUQsIG9yIGBudWxsYCB0byBjbGVhci5cbiAgICAgKi9cbiAgICBob3ZlcihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuSE9WRVIsIHBheWxvYWQ6IHsgaWQgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IHRvIG1lYXN1cmUgdGhlIGN1cnJlbnQgY29udGVudCBzaXplLlxuICAgICAqL1xuICAgIG1lYXN1cmVTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuTUVBU1VSRV9TSVpFIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGNvbm5lY3Rpdml0eSBoZWFsdGggY2hlY2sgKHJvdW5kLXRyaXApLlxuICAgICAqIFNlbnQgYXMgYSByZXF1ZXN0IGV4cGVjdGluZyBhIHJlcGx5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlLCBvciB1bmRlZmluZWQgb24gdGltZW91dFxuICAgICAqL1xuICAgIHBpbmcoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZXhwZWN0UmVwbHk6IHRydWUsXG4gICAgICAgICAgICB0eXBlOiBNU0dfVFlQRS5QSU5HLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMuc2VuZChyZXEsIDUwMDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGlzUmVzcG9uc2UgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbi8qKlxuICogSW1wbGVtZW50cyBhIG1pbmltYWwgcmVxdWVzdC9yZXNwb25zZSBSUEMgb3ZlciBjaHJvbWUucnVudGltZS5Qb3J0LlxuICogVHJhY2tzIHBlbmRpbmcgcmVxdWVzdHMgYnkgaWQgYW5kIGhhbmRsZXMgdGltZW91dHMgYW5kIGRpc2Nvbm5lY3RzLlxuICovXG5leHBvcnQgY2xhc3MgUG9ydFJwYyB7XG4gICAgcG9ydDtcbiAgICBwZW5kaW5nID0gbmV3IE1hcCgpO1xuICAgIGFsaXZlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRvIHBvcnQgbWVzc2FnZSBhbmQgZGlzY29ubmVjdCBldmVudHMuXG4gICAgICogQHBhcmFtIHBvcnQgLSBUaGUgcnVudGltZS5Qb3J0IHVzZWQgZm9yIG1lc3NhZ2luZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBvcnQpIHtcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgdGhpcy5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShtc2cpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmdldChtc2cuaWQpPy4obXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKG1zZy5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFJlYXNvbnMgc3VjaCBhcyBCRkNhY2hlIG1heSBiZSBpbmNsdWRlZFxuICAgICAgICAgICAgY29uc3QgcmVhc29uID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yPy5tZXNzYWdlID8/ICdkaXNjb25uZWN0ZWQnO1xuICAgICAgICAgICAgLy8gVHJlYXQgcGVuZGluZyBzdGF0dXMgYXMgZmFpbHVyZSB3aGVuIGEgZGlzY29ubmVjdGlvbiBvY2N1cnMuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgcmVzb2x2ZV0gb2YgdGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGlkLCBvazogZmFsc2UsIGVycm9yOiByZWFzb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEdldCB0aGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXR1c1xuICAgIGdldCBpc0FsaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGl2ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYW4gUlBDIHJlcXVlc3QgYW5kIG9wdGlvbmFsbHkgYXdhaXRzIGEgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxIC0gVGhlIFJQQyByZXF1ZXN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0gdGltZW91dE1zIC0gVGltZW91dCAobXMpIHdoZW4gd2FpdGluZyBmb3IgYSByZXBseSAoZGVmYXVsdCA1MDAwKVxuICAgICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSB3aGVuIGBleHBlY3RSZXBseWAgaXMgdHJ1ZTsgb3RoZXJ3aXNlIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHNlbmQocmVxLCB0aW1lb3V0TXMgPSA1MDAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgYWxyZWFkeSBkaXNjb25uZWN0ZWQsIGltbWVkaWF0ZWx5IHRlcm1pbmF0ZSAoYXZvaWQgVW5jaGVja2VkIHJ1bnRpbWUubGFzdEVycm9yKVxuICAgICAgICAgICAgaWYgKCF0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVxLmV4cGVjdFJlcGx5ID8gdW5kZWZpbmVkIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXEuZXhwZWN0UmVwbHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5zZXQocmVxLmlkLCAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHJlcSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcS5leHBlY3RSZXBseSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShyZXEuaWQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlcS5leHBlY3RSZXBseSlcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBDRFBfVkVSU0lPTiA9ICcxLjMnO1xuLyoqXG4gKiBXcmFwcyBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBpbnRvIGEgc3RhbmRhcmQgYEVycm9yYCBpbnN0YW5jZS5cbiAqXG4gKiBAcmV0dXJucyBBbiBgRXJyb3JgIGlmIGEgbGFzdCBlcnJvciBleGlzdHM7IG90aGVyd2lzZSBgbnVsbGAuXG4gKi9cbmZ1bmN0aW9uIGxhc3RFcnJvcigpIHtcbiAgICBjb25zdCBlcnIgPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I7XG4gICAgcmV0dXJuIGVyciA/IG5ldyBFcnJvcihlcnIubWVzc2FnZSB8fCBTdHJpbmcoZXJyKSkgOiBudWxsO1xufVxuLyoqIFRyYWNrcyB0YWJJZHMgdGhhdCB0aGlzIGV4dGVuc2lvbiBjdXJyZW50bHkgb3ducyAoYXR0YWNoZWQgYnkgaXRzZWxmKS4gKi9cbmNvbnN0IE9XTkVEID0gbmV3IFNldCgpO1xuLyoqIENsZWFycyBvd25lcnNoaXAgb24gZGV0YWNoIChjb3ZlcnMgZXh0ZXJuYWwgY2F1c2VzIGxpa2Ugb3BlbmluZy9jbG9zaW5nIERldlRvb2xzKS4gKi9cbmNocm9tZS5kZWJ1Z2dlci5vbkRldGFjaC5hZGRMaXN0ZW5lcigoZGVidWdnZWUpID0+IHtcbiAgICBjb25zdCBpZCA9IGRlYnVnZ2VlLnRhYklkO1xuICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKVxuICAgICAgICBPV05FRC5kZWxldGUoaWQpO1xufSk7XG4vKipcbiAqIERldGFjaGVzIHRoZSBDaHJvbWUgRGVidWdnZXIgKENEUCkgZnJvbSB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgZGVidWdnZWUgdG8gZGV0YWNoIGZyb20uXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGRldGFjaG1lbnQgY29tcGxldGVzLlxuICovXG5hc3luYyBmdW5jdGlvbiBkZXRhY2godGFyZ2V0KSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLmRldGFjaCh0YXJnZXQsICgpID0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFNhZmVseSBhdHRhY2hlcyB0byB0aGUgdGFyZ2V0LiBJZiBhIHByZXZpb3VzIHNlc3Npb24gb3duZWQgYnkgdGhpcyBleHRlbnNpb25cbiAqIGlzIGFscmVhZHkgYXR0YWNoZWQsIGl0IHJldXNlcyBpdCBpbnN0ZWFkIG9mIGZhaWxpbmcuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBhdHRhY2ggdG8gKGUuZy4sIGB7IHRhYklkIH1gKS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGB0cnVlYCB3aGVuIHRoaXMgY2FsbCBwZXJmb3JtZWQgYSBuZXcgYXR0YWNoLFxuICogICAgICAgICAgb3IgYGZhbHNlYCB3aGVuIGFuIGV4aXN0aW5nIG93bmVkIHNlc3Npb24gaXMgcmV1c2VkLlxuICogQHRocm93cyBJZiBhbm90aGVyIGNsaWVudCAoRGV2VG9vbHMvYW5vdGhlciBleHRlbnNpb24pIGlzIGF0dGFjaGVkLCBvciBvbiBvdGhlciBhdHRhY2ggZXJyb3JzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXR0YWNoT3duZWQodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFiSWQgPSB0YXJnZXQudGFiSWQgPz8gbnVsbDtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuYXR0YWNoKHRhcmdldCwgQ0RQX1ZFUlNJT04sICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhYklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIE9XTkVELmFkZCh0YWJJZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsgLy8gbmV3bHkgYXR0YWNoZWQgYnkgdGhpcyBjYWxsXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbXNnID0gZXJyLm1lc3NhZ2UgfHwgJyc7XG4gICAgICAgICAgICBpZiAobXNnLmluY2x1ZGVzKCdBbm90aGVyIGRlYnVnZ2VyIGlzIGFscmVhZHkgYXR0YWNoZWQnKSkge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgYXR0YWNoZWQ6IHJldXNlIG9ubHkgaWYgb3duZWQgYnkgdGhpcyBleHRlbnNpb24uXG4gICAgICAgICAgICAgICAgaWYgKHRhYklkICE9IG51bGwgJiYgT1dORUQuaGFzKHRhYklkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsgLy8gcmV1c2UgZXhpc3Rpbmcgb3duZWQgc2Vzc2lvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRGVidWdnZXIgaXMgYWxyZWFkeSBhdHRhY2hlZCBieSBhbm90aGVyIGNsaWVudCAoRGV2VG9vbHMvZXh0ZW5zaW9uKS4nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihtc2cpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFNhZmVseSBkZXRhY2hlcyBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgZXh0ZW5zaW9uIG93bnMgdGhlIHNlc3Npb24uXG4gKiBOby1vcHMgaWYgdGhlIHRhcmdldCBpcyBub3Qgb3duZWQuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBkZXRhY2ggZnJvbS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGRldGFjaGluZyAob3IgaW1tZWRpYXRlbHkgaWYgbm90IG93bmVkKS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRldGFjaE93bmVkKHRhcmdldCkge1xuICAgIGNvbnN0IHRhYklkID0gdGFyZ2V0LnRhYklkID8/IG51bGw7XG4gICAgaWYgKHRhYklkID09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoIU9XTkVELmhhcyh0YWJJZCkpXG4gICAgICAgIHJldHVybjsgLy8gbm90IG93bmVkIGJ5IHRoaXMgZXh0ZW5zaW9uXG4gICAgYXdhaXQgZGV0YWNoKHRhcmdldCk7XG4gICAgT1dORUQuZGVsZXRlKHRhYklkKTtcbn1cbi8qKlxuICogU2VuZHMgYSBDRFAgY29tbWFuZCB0byB0aGUgYXR0YWNoZWQgdGFyZ2V0LlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIEV4cGVjdGVkIHJlc3VsdCB0eXBlIG9mIHRoZSBjb21tYW5kLlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byB3aGljaCB0aGUgY29tbWFuZCBpcyBzZW50LlxuICogQHBhcmFtIG1ldGhvZCAtIENEUCBtZXRob2QgbmFtZSAoZS5nLiwgYCdQYWdlLmNhcHR1cmVTY3JlZW5zaG90J2ApLlxuICogQHBhcmFtIHBhcmFtcyAtIE9wdGlvbmFsIHBhcmFtZXRlcnMgb2JqZWN0IGZvciB0aGUgY29tbWFuZC5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbW1hbmQgcmVzdWx0IG9yIHJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZCh0YXJnZXQsIG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLnNlbmRDb21tYW5kKHRhcmdldCwgbWV0aG9kLCBwYXJhbXMgPz8ge30sIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGxhc3RFcnJvcigpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgocmVzdWx0ID8/IHt9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgaXNSZXN0cmljdGVkIH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgYXR0YWNoT3duZWQsIGRldGFjaE93bmVkLCBzZW5kIH0gZnJvbSAnQGluZnJhL2NkcC9jZHBfY2xpZW50Jztcbi8qKlxuICogTm9ybWFsaXplcyBhIHN0cmluZyBmb3Igc2FmZSB1c2UgYXMgYSBmaWxlbmFtZTpcbiAqIHJlcGxhY2VzIHJlc2VydmVkIGNoYXJhY3RlcnMsIGNvbGxhcHNlcyB3aGl0ZXNwYWNlLCBhbmQgdHJpbXMgZW5kcy5cbiAqXG4gKiBAcGFyYW0gcyAtIFJhdyBzdHJpbmcgdG8gc2FuaXRpemUuXG4gKiBAcmV0dXJucyBTYW5pdGl6ZWQgZmlsZW5hbWUtc2FmZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplRm9yRmlsZW5hbWUocykge1xuICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9bXFxcXC86Kj9cIjw+fF0vZywgJ18nKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAgIC50cmltKCk7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHRpbWVzdGFtcGVkIGZpbGVuYW1lIGZvciB0aGUgY2FwdHVyZSBiYXNlZCBvbiB0aGUgdGFiJ3MgdGl0bGUgb3IgaG9zdC5cbiAqIFRydW5jYXRlcyB0aGUgYmFzZSBuYW1lIHRvIDgwIGNoYXJhY3RlcnMgYW5kIGFwcGVuZHMgdGhlIHByb3BlciBleHRlbnNpb24uXG4gKlxuICogQHBhcmFtIHRhYiAtIFNvdXJjZSB0YWIgKHRpdGxlL3VybCB1c2VkIGZvciBuYW1pbmcpLlxuICogQHBhcmFtIGZtdCAtIFRhcmdldCBpbWFnZSBmb3JtYXQgKCdwbmcnIHwgJ2pwZWcnKS5cbiAqIEByZXR1cm5zIEEgZmlsZW5hbWUgbGlrZSBgcGFnZS0yMDI1LTA4LTEzVDEwLTIwLTMwLTAwMFoucG5nYC5cbiAqL1xuZnVuY3Rpb24gbWFrZUZpbGVuYW1lKHRhYiwgZm10KSB7XG4gICAgY29uc3QgdGl0bGUgPSB0YWIudGl0bGUgJiYgdGFiLnRpdGxlLnRyaW0oKSA/IHRhYi50aXRsZSA6ICcnO1xuICAgIGxldCBiYXNlID0gdGl0bGUgfHxcbiAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwodGFiLnVybCA/PyAnJykuaG9zdCB8fCAncGFnZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdwYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICBiYXNlID0gc2FuaXRpemVGb3JGaWxlbmFtZShiYXNlKTtcbiAgICBpZiAoYmFzZS5sZW5ndGggPiA4MClcbiAgICAgICAgYmFzZSA9IGJhc2Uuc2xpY2UoMCwgODApO1xuICAgIGNvbnN0IHRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcbiAgICByZXR1cm4gYCR7YmFzZX0tJHt0c30uJHtmbXR9YDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCB2aXN1YWwgdmlld3BvcnQgcmVjdGFuZ2xlIGluIENTUyBwaXhlbHMgKGZvciB2aWV3cG9ydCBjYXB0dXJlKS5cbiAqIEBwYXJhbSB0YXJnZXQgLSBEZXZUb29scyBQcm90b2NvbCB0YXJnZXQgdGFiIChgY2hyb21lLmRlYnVnZ2VyLkRlYnVnZ2VlYCkuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH1gIGluIENTUyBwaXhlbHMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZpZXdwb3J0Q3NzUmVjdCh0YXJnZXQpIHtcbiAgICBjb25zdCBsbSA9IGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5nZXRMYXlvdXRNZXRyaWNzJyk7XG4gICAgY29uc3QgdiA9IGxtLmNzc1Zpc3VhbFZpZXdwb3J0O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IE1hdGgubWF4KDAsIE1hdGguZmxvb3Iodi5wYWdlWCkgfCAwKSxcbiAgICAgICAgeTogTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2LnBhZ2VZKSB8IDApLFxuICAgICAgICB3aWR0aDogTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHYuY2xpZW50V2lkdGgpIHwgMCksXG4gICAgICAgIGhlaWdodDogTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHYuY2xpZW50SGVpZ2h0KSB8IDApLFxuICAgIH07XG59XG4vKipcbiAqIFJlc29sdmVzIHNjcmVlbnNob3QgZ2VvbWV0cnkgZm9yIHRoZSBzZWxlY3RlZCBjYXB0dXJlIGFyZWEuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gRGV2VG9vbHMgUHJvdG9jb2wgdGFyZ2V0IHRhYiAoYGNocm9tZS5kZWJ1Z2dlci5EZWJ1Z2dlZWApLlxuICogQHBhcmFtIGFyZWEgLSBDYXB0dXJlIGFyZWE6IGAnZnVsbCdgIChlbnRpcmUgcGFnZSkgb3IgYCd2aWV3cG9ydCdgICh2aXNpYmxlIGFyZWEpLlxuICogQHBhcmFtIHNjYWxlIC0gSW1hZ2Ugc2NhbGUgZmFjdG9yIGFwcGxpZWQgdG8gYGNsaXAuc2NhbGVgLlxuICogQHBhcmFtIGNvbnRlbnRTaXplIC0gTWVhc3VyZWQgcGFnZSBjb250ZW50IHNpemUgaW4gQ1NTIHBpeGVscyB1c2VkIHdoZW4gYGFyZWFgIGlzIGAnZnVsbCdgLlxuICogQHJldHVybnMgYENhcHR1cmVHZW9tZXRyeWAgZGVzY3JpYmluZyB3aGV0aGVyIGRldmljZSBtZXRyaWNzIG92ZXJyaWRlIGlzIHJlcXVpcmVkIGFuZCB0aGUgY2xpcCByZWN0YW5nbGUgZm9yIGBQYWdlLmNhcHR1cmVTY3JlZW5zaG90YC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZUdlb21ldHJ5KHRhcmdldCwgYXJlYSwgc2NhbGUsIGNvbnRlbnRTaXplKSB7XG4gICAgaWYgKGFyZWEgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgLy8gTm8gb3ZlcnJpZGUgcmVxdWlyZWQ6IENsaXAgdGhlIGN1cnJlbnQgZGlzcGxheSBhcmVhIHdpdGggY2xpcFxuICAgICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGF3YWl0IGdldFZpZXdwb3J0Q3NzUmVjdCh0YXJnZXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlT3ZlcnJpZGU6IGZhbHNlLFxuICAgICAgICAgICAgY2xpcDogeyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9LFxuICAgICAgICAgICAgY2FwdHVyZUJleW9uZFZpZXdwb3J0OiB0cnVlLFxuICAgICAgICAgICAgc2hvdWxkU2Nyb2xsVG9wOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoY29udGVudFNpemUud2lkdGgpIHwgMCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGNvbnRlbnRTaXplLmhlaWdodCkgfCAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VPdmVycmlkZTogdHJ1ZSxcbiAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBkZXZpY2VTY2FsZUZhY3RvcjogMSxcbiAgICAgICAgICAgIG1vYmlsZTogZmFsc2UsXG4gICAgICAgICAgICBzY3JlZW5XaWR0aDogd2lkdGgsXG4gICAgICAgICAgICBzY3JlZW5IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHBvc2l0aW9uWDogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uWTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgY2xpcDogeyB4OiAwLCB5OiAwLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9LFxuICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IHRydWUsXG4gICAgICAgIHNob3VsZFNjcm9sbFRvcDogdHJ1ZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDYXB0dXJlIHNjcmVlbnNob3RzIGFuZCBzYXZlIHRoZW0gdmlhIHRoZSBkb3dubG9hZCBBUEkuXG4gKlxuICogQHBhcmFtIG9wdHMgLSBDYXB0dXJlIG9wdGlvbnMgKHRhYiBpZCwgZm9ybWF0LCBxdWFsaXR5LCBzY2FsZSwgZXRjLikuXG4gKiBAcmV0dXJucyBUaGUgYGRvd25sb2FkSWRgIHdoZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5OyBgdW5kZWZpbmVkYCB3aGVuIGNhcHR1cmUgaXMgc2tpcHBlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhcHR1cmUob3B0cykge1xuICAgIGNvbnN0IHRhYiA9IGF3YWl0IGNocm9tZS50YWJzLmdldChvcHRzLnRhYklkKTtcbiAgICBpZiAoIXRhYi5pZCB8fCBpc1Jlc3RyaWN0ZWQodGFiLnVybCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDYXB0dXJpbmcgaXMgbm90IHBvc3NpYmxlIGR1ZSB0byByZXN0cmljdGVkIFVSTDonLCB0YWIudXJsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSB7IHRhYklkOiB0YWIuaWQgfTtcbiAgICBjb25zdCBmbXQgPSBvcHRzLmZvcm1hdCA/PyAncG5nJztcbiAgICBjb25zdCBzZXR0bGVNcyA9IG9wdHMuc2V0dGxlTXMgPz8gNTAwO1xuICAgIGNvbnN0IHNjYWxlID0gb3B0cy5zY2FsZSA/PyAxO1xuICAgIGNvbnN0IGFyZWEgPSBvcHRzLmFyZWEgPz8gJ2Z1bGwnO1xuICAgIGxldCBkaWRBdHRhY2ggPSBmYWxzZTtcbiAgICBsZXQgdXNlZE92ZXJyaWRlID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlkQXR0YWNoID0gYXdhaXQgYXR0YWNoT3duZWQodGFyZ2V0KTtcbiAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmVuYWJsZScpO1xuICAgICAgICBpZiAob3B0cy5icmluZ1RvRnJvbnQgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmJyaW5nVG9Gcm9udCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlb20gPSBhd2FpdCByZXNvbHZlR2VvbWV0cnkodGFyZ2V0LCBhcmVhLCBzY2FsZSwgb3B0cy5jb250ZW50U2l6ZSk7XG4gICAgICAgIGlmIChnZW9tLnNob3VsZFNjcm9sbFRvcCkge1xuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdSdW50aW1lLmV2YWx1YXRlJywgeyBleHByZXNzaW9uOiAnd2luZG93LnNjcm9sbFRvKDAsMCknIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZW9tLnVzZU92ZXJyaWRlICYmIGdlb20ubWV0cmljcykge1xuICAgICAgICAgICAgdXNlZE92ZXJyaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0b3AgJiB3YWl0IGJyaWVmbHkgZm9yIGxheW91dC9pbWFnZSBzdGFiaWxpemF0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ0VtdWxhdGlvbi5zZXREZXZpY2VNZXRyaWNzT3ZlcnJpZGUnLCBnZW9tLm1ldHJpY3MpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIHNldHRsZU1zKSk7XG4gICAgICAgIGNvbnN0IGNhcFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZvcm1hdDogZm10LFxuICAgICAgICAgICAgZnJvbVN1cmZhY2U6IHRydWUsXG4gICAgICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IGdlb20uY2FwdHVyZUJleW9uZFZpZXdwb3J0LFxuICAgICAgICAgICAgY2xpcDogZ2VvbS5jbGlwLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZm10ID09PSAnanBlZycgJiYgdHlwZW9mIG9wdHMucXVhbGl0eSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNhcFBhcmFtcy5xdWFsaXR5ID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKG9wdHMucXVhbGl0eSkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5jYXB0dXJlU2NyZWVuc2hvdCcsIGNhcFBhcmFtcyk7XG4gICAgICAgIGNvbnN0IG1pbWUgPSBmbXQgPT09ICdwbmcnID8gJ2ltYWdlL3BuZycgOiAnaW1hZ2UvanBlZyc7XG4gICAgICAgIGNvbnN0IHVybCA9IGBkYXRhOiR7bWltZX07YmFzZTY0LCR7ZGF0YX1gO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IG9wdHMuZmlsZW5hbWUgPz8gbWFrZUZpbGVuYW1lKHRhYiwgZm10KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoeyB1cmwsIGZpbGVuYW1lLCBzYXZlQXM6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHVzZWRPdmVycmlkZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ0VtdWxhdGlvbi5jbGVhckRldmljZU1ldHJpY3NPdmVycmlkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZEF0dGFjaCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBkZXRhY2hPd25lZCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyB0aW1lc3RhbXAgfSBmcm9tICdAY29tbW9uL3V0aWxzJztcbi8qKlxuICogRXhwb3J0cyBhIHtAbGluayBTY3JlZW5TdGF0ZX0gYXMgYSBKU09OIGZpbGUgYW5kIHNhdmVzXG4gKlxuICogVGhlIEpTT04gcGF5bG9hZCBpbmNsdWRlcyBiYXNpYyBtZXRhZGF0YSAoZm9ybWF0L2tpbmQvdmVyc2lvbi9leHBvcnRlZEF0L3BhZ2VLZXkpXG4gKiBhbmQgdGhlIHN0YXRlJ3MgYGl0ZW1zYCBmb3IgZnV0dXJlIGNvbXBhdGliaWxpdHkgYW5kIGVhc3kgcmUtaW1wb3J0LlxuICpcbiAqIEBwYXJhbSBzdGF0ZSAtIFRoZSBzY3JlZW4gc3RhdGUgdG8gZXhwb3J0LlxuICogQHBhcmFtIHBhZ2VLZXkgLSBBIHBhZ2Uga2V5IHRvIGVtYmVkIGludG8gdGhlIGV4cG9ydGVkIG1ldGFkYXRhIGFuZCB0byBkZXJpdmUgdGhlIGZpbGVuYW1lLlxuICogQHBhcmFtIG9wdHMgLSBFeHBvcnQgb3B0aW9ucyAoZS5nLiwgYHNhdmVBc2AsIGBwcmVmaXhgKS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIGRvd25sb2FkIElEIHJldHVybmVkIGJ5IGBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkYC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydFNjcmVlblN0YXRlKHN0YXRlLCBwYWdlS2V5LCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB7IHNhdmVBcyA9IGZhbHNlLCBwcmVmaXggPSAnc3BlY3NrZXRjaC1zY3JlZW4tc3RhdGUnIH0gPSBvcHRzO1xuICAgIC8vIE1ldGFkYXRhICsgcGF5bG9hZCAoa2VlcCB2ZXJzaW9uaW5nIGZvciBmb3J3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgZm9ybWF0OiAnc3BlY3NrZXRjaC1leHBvcnQnLFxuICAgICAgICBraW5kOiAnc2NyZWVuLXN0YXRlJyxcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgZXhwb3J0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBwYWdlS2V5LFxuICAgICAgICBpdGVtczogc3RhdGUuaXRlbXMsXG4gICAgfTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgMik7XG4gICAgY29uc3QgYmFzZTY0ID0gdG9CYXNlNjRVdGY4KGpzb24pO1xuICAgIGNvbnN0IG1pbWUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgY29uc3QgdXJsID0gYGRhdGE6JHttaW1lfTtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwke2Jhc2U2NH1gO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gbWFrZUZpbGVuYW1lKHByZWZpeCwgcGFnZUtleSwgJ2pzb24nKTtcbiAgICAvLyBTYXZlIHVzaW5nIHRoZSBzYW1lIEFQSSBwYXR0ZXJuIGFzIGltYWdlIGRvd25sb2FkXG4gICAgcmV0dXJuIGF3YWl0IGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoeyB1cmwsIGZpbGVuYW1lLCBzYXZlQXMgfSk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcgdG8gQmFzZTY0IGZvciB1c2UgaW4gYSBkYXRhIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRoZSBVVEYtOCB0ZXh0IHRvIGVuY29kZS5cbiAqIEByZXR1cm5zIEJhc2U2NCBzdHJpbmcgKG5vIGRhdGEgVVJMIHByZWZpeCkuXG4gKi9cbmZ1bmN0aW9uIHRvQmFzZTY0VXRmOCh0ZXh0KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCk7IC8vIFVpbnQ4QXJyYXlcbiAgICBsZXQgYmluID0gJyc7XG4gICAgZm9yIChjb25zdCBiIG9mIGJ5dGVzKSB7XG4gICAgICAgIGJpbiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShiaW4pO1xufVxuLyoqXG4gKiBCdWlsZHMgYSBzYW5pdGl6ZWQgZmlsZW5hbWUgaW4gdGhlIGZvcm06XG4gKiBge3ByZWZpeH1fe3Nhbml0aXplZFBhZ2VLZXl9X3tZWVlZLU1NLUREX0hILW1tLXNzKzA5MDB9LntleHR9YFxuICpcbiAqIEBwYXJhbSBwcmVmaXggLSBGaWxlbmFtZSBwcmVmaXggKGUuZy4sIHByb2R1Y3Qgb3IgZmVhdHVyZSBuYW1lKS5cbiAqIEBwYXJhbSBwYWdlS2V5IC0gVGhlIG9yaWdpbmFsIHBhZ2Uga2V5IHN0cmluZyB0byBkZXJpdmUgYSBzYWZlIGZpbGVuYW1lIHBhcnQuXG4gKiBAcGFyYW0gZXh0IC0gRmlsZSBleHRlbnNpb24gd2l0aG91dCBkb3QgKGUuZy4sICdqc29uJykuXG4gKiBAcmV0dXJucyBBIHNhZmUgZmlsZW5hbWUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBtYWtlRmlsZW5hbWUocHJlZml4LCBwYWdlS2V5LCBleHQpIHtcbiAgICBjb25zdCBzYWZlS2V5ID0gKHBhZ2VLZXkgPz8gJycpXG4gICAgICAgIC5yZXBsYWNlKC9odHRwcz86XFwvXFwvLywgJycpXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOS5fLV0rL2csICctJylcbiAgICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcbiAgICAgICAgLnJlcGxhY2UoL14tfC0kL2csICcnKVxuICAgICAgICAuc2xpY2UoMCwgMTIwKSB8fCAncGFnZSc7XG4gICAgcmV0dXJuIGAke3ByZWZpeH1fJHtzYWZlS2V5fV8ke3RpbWVzdGFtcCgpfS4ke2V4dH1gO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdGFtcChkID0gbmV3IERhdGUoKSkge1xuICAgIGNvbnN0IHBhZCA9IChuLCB3ID0gMikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KHcsICcwJyk7XG4gICAgY29uc3QgdHpvID0gLWQuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICBjb25zdCBzaWduID0gdHpvID49IDAgPyAnKycgOiAnLSc7XG4gICAgY29uc3QgaGggPSBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyh0em8pIC8gNjApKTtcbiAgICBjb25zdCBtbSA9IHBhZChNYXRoLmFicyh0em8pICUgNjApO1xuICAgIHJldHVybiBgJHtkLmdldEZ1bGxZZWFyKCl9LSR7cGFkKGQuZ2V0TW9udGgoKSArIDEpfS0ke3BhZChkLmdldERhdGUoKSl9XyR7cGFkKGQuZ2V0SG91cnMoKSl9LSR7cGFkKGQuZ2V0TWludXRlcygpKX0tJHtwYWQoZC5nZXRTZWNvbmRzKCkpfSR7c2lnbn0ke2hofSR7bW19YDtcbn1cbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5pbXBvcnQgeyBpc1ZhbGlkUGF5bG9hZCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG5pbXBvcnQgeyBhcHBseVBhdGNoIH0gZnJvbSAnLi9zdGF0ZSc7XG4vKipcbiAqIEltcG9ydCBhIFNjcmVlblN0YXRlLWxpa2UgSlNPTiBmaWxlIGFuZCBtZXJnZSBpdHMgaXRlbXMgaW50byB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIC0gT25seSBgLmpzb25gIChieSBleHRlbnNpb24pIG9yIGBhcHBsaWNhdGlvbi9qc29uYCAvIGB0ZXh0L2pzb25gIChieSBNSU1FKSBpcyBhY2NlcHRlZC5cbiAqIC0gUGF5bG9hZCBtdXN0IG1hdGNoIHRoZSBcInNwZWNza2V0Y2gtZXhwb3J0IC8gc2NyZWVuLXN0YXRlXCIgY29udHJhY3QuXG4gKiAtIEl0ZW1zIGFyZSBtZXJnZWQgYnkgKiphbmNob3IqKiBpZGVudGl0eTsgYW4gaW1wb3J0ZWQgaXRlbSBpcyBza2lwcGVkIGlmIGFuIGl0ZW0gd2l0aCB0aGVcbiAqICAgc2FtZSBhbmNob3IgYHtraW5kLCB2ZXJzaW9uLCB2YWx1ZX1gIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogQHBhcmFtIGZpbGUgICAgIEEgdXNlci1zZWxlY3RlZCBKU09OIGZpbGUgdGhhdCBjb250YWlucyBleHBvcnQgcGF5bG9hZC5cbiAqIEBwYXJhbSBwYWdlS2V5ICBUaGUgdGFyZ2V0IHBhZ2Uga2V5IHRvIG1lcmdlIGludG8uXG4gKiBAcmV0dXJucyAgICAgICAgVGhlIHVwZGF0ZWQge0BsaW5rIFNjcmVlblN0YXRlfSBhZnRlciBhcHBseWluZyB0aGUgcGF0Y2guXG4gKlxuICogQHRocm93cyBFcnJvciB3aXRoIGkxOG4gbWVzc2FnZSBgaW1wb3J0X2ZpbGVfbm90X2pzb25gXG4gKiAgICAgICAgIHdoZW4gdGhlIGZpbGUgaXMgbm90IHJlY29nbml6ZWQgYXMgSlNPTi5cbiAqIEB0aHJvd3MgRXJyb3Igd2l0aCBpMThuIG1lc3NhZ2UgYGltcG9ydF9wYXlsb2FkX2ludmFsaWRgXG4gKiAgICAgICAgIHdoZW4gdGhlIHBhcnNlZCBKU09OIGRvZXMgbm90IHNhdGlzZnkgdGhlIGV4cGVjdGVkIHBheWxvYWQgY29udHJhY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbXBvcnRTY3JlYW5TdGF0ZShmaWxlLCBwYWdlS2V5KSB7XG4gICAgLy8gVmFsaWRhdGUgZmlsZSB0eXBlIGFzIEpTT04gYnkgZXh0ZW5zaW9uIG9yIE1JTUUgKGVtcHR5IE1JTUUgaXMgYWxsb3dlZCBvbiBzb21lIGJyb3dzZXJzKS5cbiAgICBjb25zdCBpc0pzb25CeUV4dCA9IC9cXC5qc29uJC9pLnRlc3QoZmlsZS5uYW1lKTtcbiAgICBjb25zdCBpc0pzb25CeU1pbWUgPSBmaWxlLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmaWxlLnR5cGUgPT09ICd0ZXh0L2pzb24nIHx8IGZpbGUudHlwZSA9PT0gJyc7XG4gICAgaWYgKCFpc0pzb25CeUV4dCAmJiAhaXNKc29uQnlNaW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihpMThuLmdldCgnaW1wb3J0X2ZpbGVfbm90X2pzb24nKSk7XG4gICAgfVxuICAgIC8vIFBhcnNlIEpTT04gdGV4dCDihpIgdmFsdWUuXG4gICAgbGV0IHBhcnNlZDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgLy8gVHJlYXQgbWFsZm9ybWVkIEpTT04gdGhlIHNhbWUgYXMgcGF5bG9hZCBpbnZhbGlkLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaTE4bi5nZXQoJ2ltcG9ydF9wYXlsb2FkX2ludmFsaWQnKSk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHBheWxvYWQgY29udHJhY3Q6IGZvcm1hdC9raW5kL3ZlcnNpb24vcGFnZUtleS9pdGVtcyAoaXRlbXMgbXVzdCBiZSBhcnJheS1saWtlIFNjcmVlbkl0ZW0pLlxuICAgIGlmICghaXNWYWxpZFBheWxvYWQocGFyc2VkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaTE4bi5nZXQoJ2ltcG9ydF9wYXlsb2FkX2ludmFsaWQnKSk7XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBwYXJzZWQ7XG4gICAgY29uc3QgaXRlbXMgPSBwYXlsb2FkLml0ZW1zO1xuICAgIC8vIEZldGNoIGN1cnJlbnQgc3RhdGUgKGlmIG1pc3NpbmcsIHRyZWF0IGFzIGVtcHR5IGl0ZW1zIGZvciBjb21wYXJpc29uKS5cbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHBhZ2VLZXkpO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gc3RhdGU/Lml0ZW1zID8/IFtdO1xuICAgIC8vIEJ1aWxkIGEgZmFzdCBsb29rdXAgb2YgZXhpc3RpbmcgYW5jaG9ycyAoaWRlbnRpdHkgPSBraW5kOnZlcnNpb246dmFsdWUpLlxuICAgIGNvbnN0IGtleU9mID0gKGl0KSA9PiBgJHtpdC5hbmNob3Iua2luZH06JHtpdC5hbmNob3IudmVyc2lvbn06JHtpdC5hbmNob3IudmFsdWV9YDtcbiAgICBjb25zdCBleGlzdGluZ1NldCA9IG5ldyBTZXQoZXhpc3RpbmcubWFwKGtleU9mKSk7XG4gICAgLy8gQ3JlYXRlIHRoZSBtaW5pbWFsIHBhdGNoIHBheWxvYWQgZm9yIGBhcHBseVBhdGNoYCDigJQgb25seSBmaWVsZHMgc3VwcG9ydGVkIGJ5IFwiYWRkZWRcIi5cbiAgICBjb25zdCBhZGRlZCA9IGl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0KSA9PiAhZXhpc3RpbmdTZXQuaGFzKGtleU9mKGl0KSkpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmlkIC0gYS5pZClcbiAgICAgICAgLm1hcCgoaXQpID0+ICh7XG4gICAgICAgIGFuY2hvcjogaXQuYW5jaG9yLFxuICAgICAgICBzaXplOiBpdC5zaXplLFxuICAgICAgICBjb2xvcjogaXQuY29sb3IsXG4gICAgICAgIHNoYXBlOiBpdC5zaGFwZSxcbiAgICAgICAgcG9zaXRpb246IGl0LnBvc2l0aW9uLFxuICAgICAgICBncm91cDogaXQuZ3JvdXAsXG4gICAgICAgIGNvbW1lbnQ6IGl0LmNvbW1lbnQsXG4gICAgfSkpO1xuICAgIHJldHVybiBhd2FpdCBhcHBseVBhdGNoKHBhZ2VLZXksIHsgYWRkZWQgfSk7XG59XG4iLCIvKipcbiAqIFVJRXZlbnRUeXBlIC8gVUlFdmVudFBheWxvYWRNYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIHR5cGVkIGNhdGFsb2cgb2YgKnB1cmUgVUkgZXZlbnRzKiBlbWl0dGVkIGJ5IHRoZSBWaWV3IChwYW5lbF92aWV3LnRzKS5cbiAqIC0gVGhlIFZpZXcgcmVhZHMgRE9NIHN0YXRlLCBub3JtYWxpemVzIGl0LCBhbmQgZW1pdHMgb25lIG9mIHRoZXNlIGV2ZW50cy5cbiAqIC0gVGhlIENvbnRyb2xsZXIgbWFwcyBlYWNoIFVJIGV2ZW50IHRvIGFuIEFjdGlvblR5cGUgYW5kIGRpc3BhdGNoZXMgaXQuXG4gKiAtIFBheWxvYWRzIGFyZSBzdHJvbmdseSB0eXBlZCB2aWEgVUlFdmVudFBheWxvYWRNYXA7IHVzZSBgdW5kZWZpbmVkYCBmb3Igbm8gcGF5bG9hZC5cbiAqL1xuZXhwb3J0IHZhciBVSUV2ZW50VHlwZTtcbihmdW5jdGlvbiAoVUlFdmVudFR5cGUpIHtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0dHTEVfU0VMRUNUXCJdID0gXCJUT0dHTEVfU0VMRUNUXCI7XG4gICAgLyoqIENsZWFyIGFsbCBzZWxlY3Rpb25zICovXG4gICAgVUlFdmVudFR5cGVbXCJDTEVBUlwiXSA9IFwiQ0xFQVJcIjtcbiAgICAvKiogVHJpZ2dlciBwYWdlIGNhcHR1cmUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVcIl0gPSBcIkNBUFRVUkVcIjtcbiAgICAvKiogQmFkZ2Ugc2l6ZSBjaGFuZ2VkIChyYW5nZS9udW1iZXIgaW5wdXRzKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfU0laRV9DSEFOR0VcIl0gPSBcIkJBREdFX1NJWkVfQ0hBTkdFXCI7XG4gICAgLyoqIEJhZGdlIGNvbG9yIHBpY2tlZCAocG9wb3ZlciBidXR0b25zKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfQ09MT1JfU0VMRUNUXCJdID0gXCJCQURHRV9DT0xPUl9TRUxFQ1RcIjtcbiAgICAvKiogQmFkZ2Ugc2hhcGUgY2hhbmdlZCAoc2VsZWN0KSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfU0hBUEVfQ0hBTkdFXCJdID0gXCJCQURHRV9TSEFQRV9DSEFOR0VcIjtcbiAgICAvKiogRGVsZXRlIHRoZSBzZWxlY3RlZCBiYWRnZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfREVMRVRFXCJdID0gXCJCQURHRV9ERUxFVEVcIjtcbiAgICAvKiogQmFkZ2UgcG9zaXRpb24gcGlja2VkIChwb3BvdmVyIGJ1dHRvbnMpICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9QT1NJVElPTl9TRUxFQ1RcIl0gPSBcIkJBREdFX1BPU0lUSU9OX1NFTEVDVFwiO1xuICAgIC8qKiBVcGRhdGUgYSBncm91cCBvZiBlbGVtZW50cyAqL1xuICAgIFVJRXZlbnRUeXBlW1wiU0VUX0dST1VQXCJdID0gXCJTRVRfR1JPVVBcIjtcbiAgICAvKiogQ2FwdHVyZSBmb3JtYXQgY2hhbmdlZCAocmFkaW8pICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfRk9STUFUX0NIQU5HRVwiO1xuICAgIC8qKiBDYXB0dXJlIGFyZWEgY2hhbmdlZCAocmFkaW8pICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX0FSRUFfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX0FSRUFfQ0hBTkdFXCI7XG4gICAgLyoqIEpQRUcgcXVhbGl0eSBjaGFuZ2VkIChyYW5nZS9udW1iZXIpICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX1FVQUxJVFlfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX1FVQUxJVFlfQ0hBTkdFXCI7XG4gICAgLyoqIENhcHR1cmUgc2NhbGUgY2hhbmdlZCAocmFuZ2UvbnVtYmVyKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9TQ0FMRV9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfU0NBTEVfQ0hBTkdFXCI7XG4gICAgLyoqIFRvZ2dsZSBjYXB0dXJlIG9wdGlvbnMgZHJvcGRvd24gKGV4cGFuZC9jb2xsYXBzZSkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCJdID0gXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiO1xuICAgIC8qKiBSZW9yZGVyaW5nIHNlbGVjdGVkIGl0ZW1zIChkcmFnIGFuZCBkcm9wKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiUkVPUkRFUl9JVEVNU1wiXSA9IFwiUkVPUkRFUl9JVEVNU1wiO1xuICAgIC8qKiBFbWl0dGVkIHdoZW4gYW4gaXRlbSdzIGVkaXQtc2VsZWN0aW9uIGNoZWNrYm94IGNoYW5nZXMgc3RhdGUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIl0gPSBcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIjtcbiAgICAvKiogU3RhcnQgaXRlbSBob3ZlciAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9IT1ZFUl9JTlwiXSA9IFwiSVRFTV9IT1ZFUl9JTlwiO1xuICAgIC8qKiBFbmQgaXRlbSBob3ZlciAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9IT1ZFUl9PVVRcIl0gPSBcIklURU1fSE9WRVJfT1VUXCI7XG4gICAgLyoqIEFwcGx5IHBlbmRpbmcgY29tbWVudCBlZGl0cyB0byB0aGUgc2VsZWN0ZWQgaXRlbSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9DT01NRU5UX0FQUExZXCJdID0gXCJJVEVNX0NPTU1FTlRfQVBQTFlcIjtcbiAgICAvKiogVXBkYXRlIHRoZSBVSSB0aGVtZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVVBEQVRFX1RIRU1FXCJdID0gXCJVUERBVEVfVEhFTUVcIjtcbiAgICAvKiogRW1pdHRlZCBhZnRlciB0aGUgU2V0dGluZ3MgbW9kYWwgaXMgc2hvdyAqL1xuICAgIFVJRXZlbnRUeXBlW1wiU0VUVElOR19NT0RBTF9TSE9XXCJdID0gXCJTRVRUSU5HX01PREFMX1NIT1dcIjtcbiAgICAvKiogSW1wb3J0IGEgU2NyZWVuU3RhdGUgZnJvbSBhIHNlbGVjdGVkIEpTT04gZmlsZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCJdID0gXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIjtcbiAgICAvKiogRGlzbWlzcyBhIHRvYXN0IGJ5IFVVSUQgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCJdID0gXCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBDbGljayB0byByZW1vdmUgdGhlIHNhdmVkIHBhZ2UgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlJFTU9WRV9QQUdFX0NMSUNLXCJdID0gXCJSRU1PVkVfUEFHRV9DTElDS1wiO1xuICAgIC8qKiBDbGljayB0aGUgZXhwb3J0IGJ1dHRvbiAqL1xuICAgIFVJRXZlbnRUeXBlW1wiRVhQT1JUX1BBR0VfQ0xJQ0tcIl0gPSBcIkVYUE9SVF9QQUdFX0NMSUNLXCI7XG59KShVSUV2ZW50VHlwZSB8fCAoVUlFdmVudFR5cGUgPSB7fSkpO1xuIiwiaW1wb3J0IHsgTVNHX1RZUEUgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCB7IGlzUmVzdHJpY3RlZCwgcGFnZUtleSB9IGZyb20gJ0Bjb21tb24vdXJsJztcbmltcG9ydCB7IGdldEFjdGl2ZVRhYiB9IGZyb20gJ0BpbmZyYS9jaHJvbWUvdGFicyc7XG5pbXBvcnQgeyBpbml0aWFsTW9kZWwgfSBmcm9tICdAcGFuZWwvYXBwL21vZGVsJztcbmltcG9ydCB7IHVwZGF0ZSB9IGZyb20gJ0BwYW5lbC9hcHAvdXBkYXRlJztcbmltcG9ydCB7IGNvbm5lY3RUb1RhYiB9IGZyb20gJ0BwYW5lbC9tZXNzYWdpbmcvY29ubmVjdGlvbic7XG5pbXBvcnQgeyBjYXB0dXJlIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL2NhcHR1cmUnO1xuaW1wb3J0IHsgZXhwb3J0U2NyZWVuU3RhdGUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvZXhwb3J0JztcbmltcG9ydCB7IGltcG9ydFNjcmVhblN0YXRlIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL2ltcG9ydCc7XG5pbXBvcnQgeyBoYW5kbGVTZWxlY3RlZCB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9zdGF0ZSc7XG5pbXBvcnQgeyBzY3JlZW5TdGF0ZVRhYmxlLCB0aGVtZVRhYmxlIH0gZnJvbSAnQHBhbmVsL3N0b3JhZ2UvdGFibGVzJztcbmltcG9ydCB7IEFjdGlvblR5cGUgfSBmcm9tICdAcGFuZWwvdHlwZXMvYWN0aW9uX3R5cGVzJztcbmltcG9ydCB7IEVmZmVjdFR5cGUgfSBmcm9tICdAcGFuZWwvdHlwZXMvZWZmZWN0X3R5cGVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3VpX2V2ZW50X3R5cGVzJztcbmltcG9ydCB7IFNUQVRVUyB9IGZyb20gJ0BwYW5lbC92aWV3L3N0YXR1cyc7XG5leHBvcnQgY2xhc3MgUGFuZWxDb250cm9sbGVyIHtcbiAgICB2aWV3O1xuICAgIG1vZGVsID0gc3RydWN0dXJlZENsb25lKGluaXRpYWxNb2RlbCk7XG4gICAgY29ubiA9IG51bGw7XG4gICAgY3VycmVudFdpbmRvd0lkID0gbnVsbDtcbiAgICBzdGF0aWMgUkVRVUlSRVNfQ09OTiA9IG5ldyBTZXQoW1xuICAgICAgICBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCxcbiAgICAgICAgRWZmZWN0VHlwZS5DTEVBUl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLkhPVkVSLFxuICAgIF0pO1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklOSVQgfSk7XG4gICAgICAgIGNvbnN0IHsgb2sgfSA9IGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKHsgZm9yY2VSZWNvbm5lY3Q6IHRydWUgfSk7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXdIYW5kbGVycygpO1xuICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICBjb25zdCB3ID0gYXdhaXQgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRXaW5kb3dJZCA9IHcuaWQgPz8gbnVsbDtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChtc2cudHlwZSAhPT0gTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VEKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNlbmRlcldpbmRvd0lkID0gbXNnLnBheWxvYWQud2luZG93SWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50V2luZG93SWQgPT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRXaW5kb3dJZCAhPT0gc2VuZGVyV2luZG93SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdm9pZCB0aGlzLmVuc3VyZUNvbm5lY3Rpb25BbGl2ZSh7IGZvcmNlUmVjb25uZWN0OiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJWaWV3SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5UT0dHTEVfU0VMRUNUIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNMRUFSLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DTEVBUl9BTEwgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRSwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfU0laRV9DSEFOR0UsICh7IHNpemUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1NJWkUsIHNpemUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCAoeyBjb2xvciB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfQ09MT1IsIGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgKHsgc2hhcGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFLCBzaGFwZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9ERUxFVEUsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkJBREdFX0RFTEVURSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9QT1NJVElPTl9TRUxFQ1QsICh7IHBvc2l0aW9uIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9QT1NJVElPTiwgcG9zaXRpb24gfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUwsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfRk9STUFUX0NIQU5HRSwgKHsgZm9ybWF0IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0ZPUk1BVCwgZm9ybWF0IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfQVJFQV9DSEFOR0UsICh7IGFyZWEgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQSwgYXJlYSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX1FVQUxJVFlfQ0hBTkdFLCAoeyBxdWFsaXR5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFksIHF1YWxpdHkgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9TQ0FMRV9DSEFOR0UsICh7IHNjYWxlIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1NDQUxFLCBzY2FsZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5SRU9SREVSX0lURU1TLCAoeyBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5SRU9SREVSX0lURU1TLCBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5TRVRfR1JPVVAsICh7IGdyb3VwIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9HUk9VUCwgZ3JvdXAgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgKHBheWxvYWQpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIC4uLnBheWxvYWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9JTiwgKHsgaWQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9JTiwgaWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklURU1fQ09NTUVOVF9BUFBMWSwgKHsgaWQsIGNvbW1lbnQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX0lURU1fQ09NTUVOVCwgaWQsIGNvbW1lbnQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVVBEQVRFX1RIRU1FLCAoeyB0aGVtZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfVEhFTUUsIHRoZW1lIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlNFVFRJTkdfTU9EQUxfU0hPVywgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1JFUVVFU1RFRCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsICh7IGZpbGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFLCBmaWxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCAoeyB1dWlkIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB1dWlkIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlJFTU9WRV9QQUdFX0NMSUNLLCAoeyBwYWdlS2V5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRSwgcGFnZUtleSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgKHsgcGFnZUtleSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0UsIHBhZ2VLZXkgfSkpO1xuICAgIH1cbiAgICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgeyBtb2RlbDogbmV4dCwgZWZmZWN0cyB9ID0gdXBkYXRlKHRoaXMubW9kZWwsIGFjdGlvbik7XG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXh0O1xuICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICB2b2lkIHRoaXMuZXhlY0VmZmVjdHMoZWZmZWN0cykuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWNFZmZlY3RzKGVmZmVjdHMpIHtcbiAgICAgICAgY29uc3QgbmVlZHNDb25uID0gZWZmZWN0cy5zb21lKChmeCkgPT4gUGFuZWxDb250cm9sbGVyLlJFUVVJUkVTX0NPTk4uaGFzKGZ4LmtpbmQpKTtcbiAgICAgICAgaWYgKG5lZWRzQ29ubikge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKCk7XG4gICAgICAgICAgICBpZiAoIXIub2sgfHwgci5jb250ZXh0Q2hhbmdlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBmeCBvZiBlZmZlY3RzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZ4LmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLnJlbmRlcihmeC5pdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLnRvZ2dsZVNlbGVjdChmeC5lbmFibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5IT1ZFUjpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuaG92ZXIoZnguaWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUuc2V0KHRoaXMubW9kZWwucGFnZUtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMubW9kZWwuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogdGhpcy5tb2RlbC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogdGhpcy5tb2RlbC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHRoaXMubW9kZWwuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiB0aGlzLm1vZGVsLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogdGhpcy5tb2RlbC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQodGhpcy5tb2RlbC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQodGhpcy5tb2RlbC5wYWdlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMubW9kZWwuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogdGhpcy5tb2RlbC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogdGhpcy5tb2RlbC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHRoaXMubW9kZWwuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiB0aGlzLm1vZGVsLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogdGhpcy5tb2RlbC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlNFVF9USEVNRToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IGF3YWl0IHRoZW1lVGFibGUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9USEVNRSwgdGhlbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuVVBEQVRFX1RIRU1FOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGVtZVRhYmxlLnNldChmeC50aGVtZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRUFEX1NDUkVFTl9TVEFURV9TVE9SRToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5TdGF0ZXMgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnJlYWRBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZUtleXMgPSBPYmplY3Qua2V5cyhzY3JlZW5TdGF0ZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1NVQ0NFRURFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgaW1wb3J0U2NyZWFuU3RhdGUoZnguZmlsZSwgdGhpcy5tb2RlbC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogc3RhdGUuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzdGF0ZS5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogc3RhdGUuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuSU1QT1JUX0ZBSUxFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2VzOiBbbWVzc2FnZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVk6IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5yZW1vdmUoZngucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdCA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHRoaXMubW9kZWwucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogc3QuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0LmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogc3QuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogc3QuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3QuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogc3QuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cG9ydFNjcmVlblN0YXRlKHN0YXRlLCBmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9GQUlMRUQsIGVycm9yIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLm1lYXN1cmVTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DQVBUVVJFOlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FwdHVyZShmeC5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfU1VDQ0VFREVEIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX0ZBSUxFRCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihmeC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGVuc3VyZUNvbm5lY3Rpb25BbGl2ZShvcHRzKSB7XG4gICAgICAgIGNvbnN0IHByZXZLZXkgPSB0aGlzLm1vZGVsLnBhZ2VLZXk7XG4gICAgICAgIGNvbnN0IGZvcmNlID0gb3B0cz8uZm9yY2VSZWNvbm5lY3QgPT09IHRydWU7XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbmcgPSBhd2FpdCB0aGlzLmNvbm4/LmFwaS5waW5nKCk7XG4gICAgICAgICAgICBpZiAocG9uZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWIgPSBhd2FpdCBnZXRBY3RpdmVUYWIoKTtcbiAgICAgICAgaWYgKCF0YWI/LmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuUkVTVFJJQ1RFRCB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHBhZ2VLZXkodGFiLnVybCk7XG4gICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DT05ORUNURUQsIHRhYklkLCBwYWdlS2V5OiBuZXdLZXkgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9TVEFUVVMsIHN0YXR1czogU1RBVFVTLkNPTk5FQ1RJTkcgfSk7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgY2xvc2UgdGhlIG9sZCBwb3J0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4/LnBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uID0gYXdhaXQgY29ubmVjdFRvVGFiKHRhYklkKTtcbiAgICAgICAgdGhpcy5jb25uLm9uRGlzY29ubmVjdCgoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5QT1JUX0RJU0NPTk5FQ1RFRCB9KSk7XG4gICAgICAgIHRoaXMuY29ubi5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihhc3luYyAobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5TRUxFQ1RFRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBoYW5kbGVTZWxlY3RlZCh0aGlzLm1vZGVsLnBhZ2VLZXksIG1zZy5wYXlsb2FkLmFuY2hvcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogcy5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogcy5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHMuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1zZz8udHlwZSA9PT0gTVNHX1RZUEUuTUlTU0lOR19JRFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFMsXG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdJZHM6IG1zZy5wYXlsb2FkLm1pc3NpbmdJZHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLkNPTlRFTlRfU0laRV9SRVNVTFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX1JFUVVFU1RFRCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFNpemU6IG1zZy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3QgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChuZXdLZXkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHN0Lml0ZW1zLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzdC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0LmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHN0LmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHN0LmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0LmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfU1RBVFVTLCBzdGF0dXM6IFNUQVRVUy5DT05ORUNURUQgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRDaGFuZ2VkID0gISFwcmV2S2V5ICYmIHByZXZLZXkgIT09IG5ld0tleTtcbiAgICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGNvbnRleHRDaGFuZ2VkIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL3N0YXRlJztcbmltcG9ydCB7IFNUQVRVUyB9IGZyb20gJ0BwYW5lbC92aWV3L3N0YXR1cyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vdHlwZXMvYWN0aW9uX3R5cGVzJztcbmltcG9ydCB7IEVmZmVjdFR5cGUgfSBmcm9tICcuLi90eXBlcy9lZmZlY3RfdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShtb2RlbCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU5JVDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlNFVF9USEVNRSB9XSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHRhYklkOiBhY3Rpb24udGFiSWQsIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfU1RBVFVTOiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IGFjdGlvbi5zdGF0dXMgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10sIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBhY3Rpb24uc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogYWN0aW9uLnN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBhY3Rpb24uc3RhdGUuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFM6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBtaXNzaW5nSWRzOiBhY3Rpb24ubWlzc2luZ0lkcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1Q6IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSAhbW9kZWwuc2VsZWN0aW9uRW5hYmxlZDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdGlvbkVuYWJsZWQ6IG5leHQgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCwgZW5hYmxlZDogbmV4dCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNMRUFSX0FMTDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zOiBbXSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVCB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OVEVOVF9TRUxFQ1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHBhbmVsRXhwYW5kZWQ6ICFtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSVpFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2l6ZTogYWN0aW9uLnNpemUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRTaXplOiBhY3Rpb24uc2l6ZSwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUjoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IGNvbG9yOiBhY3Rpb24uY29sb3IgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRDb2xvcjogYWN0aW9uLmNvbG9yLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2hhcGU6IGFjdGlvbi5zaGFwZSB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFNoYXBlOiBhY3Rpb24uc2hhcGUsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5CQURHRV9ERUxFVEU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IG1vZGVsLml0ZW1zLmZpbHRlcigoaXQpID0+ICFtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zTWFya2VkRm9yUmVsYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgcG9zaXRpb246IGFjdGlvbi5wb3NpdGlvbiB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFBvc2l0aW9uOiBhY3Rpb24ucG9zaXRpb24sIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfR1JPVVA6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsKG1vZGVsLml0ZW1zLCBtb2RlbC5zZWxlY3RJdGVtcywgYWN0aW9uLmdyb3VwKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdEdyb3VwOiBhY3Rpb24uZ3JvdXAsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9GT1JNQVQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGZvcm1hdDogYWN0aW9uLmZvcm1hdCB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQTpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGFyZWE6IGFjdGlvbi5hcmVhIH0gfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHF1YWxpdHk6IGFjdGlvbi5xdWFsaXR5IH0gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9TQ0FMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgc2NhbGU6IGFjdGlvbi5zY2FsZSB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgIGlmIChtb2RlbC50YWJJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogJ05vIHRhYklkJyB9XSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IEVmZmVjdFR5cGUuQ0FQVFVSRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJZDogbW9kZWwudGFiSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBtb2RlbC5jYXB0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiBtb2RlbC5jYXB0dXJlLmFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogbW9kZWwuY2FwdHVyZS5xdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBtb2RlbC5jYXB0dXJlLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTaXplOiBhY3Rpb24uY29udGVudFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DQVBUVVJFX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiBhY3Rpb24uZXJyb3IgfV0gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVM6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHJlb3JkZXJJdGVtTGFiZWwobW9kZWwuaXRlbXMsIGFjdGlvbi5mcm9tSWQsIGFjdGlvbi5mcm9tSW5kZXgsIGFjdGlvbi50b0luZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQ6IHtcbiAgICAgICAgICAgIGlmICgnaWQnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIHNpbmdsZSBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZChhY3Rpb24uaWQsIGFjdGlvbi5pc0NoZWNrLCBtb2RlbC5zZWxlY3RJdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgnZ3JvdXAnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIGdyb3VwXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoYWN0aW9uLmdyb3VwLCBhY3Rpb24uaXNDaGVjaywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLml0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBhbGwvRGVzZWxlY3QgYWxsXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFjdGlvbi5hbGxDaGVjaywgbW9kZWwuaXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogYWN0aW9uLmlkIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogbnVsbCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5UOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKGl0LmlkID09PSBhY3Rpb24uaWQgPyB7IGNvbW1lbnQ6IGFjdGlvbi5jb21tZW50IH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUE9SVF9ESVNDT05ORUNURUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IFNUQVRVUy5ESVNDT05ORUNURUQsIHNlbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsIGVuYWJsZWQ6IGZhbHNlIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9USEVNRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRoZW1lOiBhY3Rpb24udGhlbWUgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0aGVtZTogYWN0aW9uLnRoZW1lIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5VUERBVEVfVEhFTUUsIHRoZW1lOiBhY3Rpb24udGhlbWUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1JFUVVFU1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRUFEX1NDUkVFTl9TVEFURV9TVE9SRSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgcGFnZUtleXM6IGFjdGlvbi5wYWdlS2V5cyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsIGZpbGU6IGFjdGlvbi5maWxlIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklNUE9SVF9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0b2FzdE1lc3NhZ2VzOiBhY3Rpb24udG9hc3RNZXNzYWdlcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEOiB7XG4gICAgICAgICAgICBjb25zdCB0b2FzdE1lc3NhZ2VzID0gbW9kZWwudG9hc3RNZXNzYWdlcy5maWx0ZXIoKHQpID0+IHQudXVpZCAhPT0gYWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdG9hc3RNZXNzYWdlcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIHsga2luZDogRWZmZWN0VHlwZS5SRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZLCBwYWdlS2V5OiBhY3Rpb24ucGFnZUtleSB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVksIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkVYUE9SVF9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiBhY3Rpb24uZXJyb3IgfV0gfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgIH1cbn1cbi8qKlxuICogUmVsYWJlbCBpdGVtcyBhcyBpZiB0aGUgaXRlbSB3aXRoIGBmcm9tSWRgIHdhcyBtb3ZlZCB0byB0aGUgcG9zaXRpb25cbiAqIHdob3NlIGxhYmVsIGVxdWFscyBgaXRlbXNbdG9JbmRleF0ubGFiZWxgLiBMYWJlbHMgb2YgdGhlIGl0ZW1zIGluIGJldHdlZW5cbiAqIGFyZSBzaGlmdGVkIGJ5IMKxMSB0byBrZWVwIGxhYmVscyB1bmlxdWUgYW5kIGNvbnRpZ3VvdXMgKGlmIHRoZXkgd2VyZSkuXG4gKlxuICogQHBhcmFtIGl0ZW1zICAgLSBTb3VyY2UgaXRlbXMgKG5vdCBtdXRhdGVkKS5cbiAqIEBwYXJhbSBmcm9tSWQgIC0gSUQgb2YgdGhlIGl0ZW0gdG8gbW92ZS5cbiAqIEBwYXJhbSBmcm9tSW5kZXggIC0gVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGl0ZW0gdG8gYmUgbW92ZWQuXG4gKiBAcGFyYW0gdG9JbmRleCAtIFRhcmdldCBpbmRleCBpbiBgaXRlbXNgIHdob3NlIGxhYmVsIGJlY29tZXMgdGhlIG5ldyBsYWJlbC5cbiAqIEByZXR1cm5zIEEgbmV3IGFycmF5IHdpdGggdXBkYXRlZCBsYWJlbHMuXG4gKiBAdGhyb3dzIFJhbmdlRXJyb3IgaWYgYHRvSW5kZXhgIGlzIG91dCBvZiBib3VuZHMgb3IgRXJyb3IgaWYgYGZyb21JZGAgbm90IGZvdW5kLlxuICovXG5mdW5jdGlvbiByZW9yZGVySXRlbUxhYmVsKGl0ZW1zLCBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgdG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7dG9JbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgZnJvbUlkeCA9IGl0ZW1zLmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gZnJvbUlkKTtcbiAgICBpZiAoZnJvbUlkeCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJdGVtIG5vdCBmb3VuZCBmb3IgaWQ9JHtmcm9tSWR9YCk7XG4gICAgfVxuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGl0ZW1zLmZpbHRlcigoaXQpID0+IGl0Lmdyb3VwID09PSBpdGVtc1tmcm9tSWR4XS5ncm91cCkubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGB0b0luZGV4IG91dCBvZiByYW5nZTogJHt0b0luZGV4fWApO1xuICAgIH1cbiAgICBjb25zdCBPRkZTRVRfQUZURVIgPSAxLjE7XG4gICAgY29uc3QgT0ZGU0VUX0JFRk9SRSA9IDAuMTtcbiAgICBjb25zdCBvZmZzZXQgPSBmcm9tSW5kZXggPCB0b0luZGV4ID8gT0ZGU0VUX0FGVEVSIDogT0ZGU0VUX0JFRk9SRTtcbiAgICBjb25zdCBsYWJlbCA9IHRvSW5kZXggKyBvZmZzZXQ7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXQpID0+IChpdC5pZCA9PT0gZnJvbUlkID8geyAuLi5pdCwgbGFiZWwgfSA6IGl0KSk7XG59XG4vKipcbiAqIEJ1bXBzIHRoZSBsYWJlbCBvZiBzZWxlY3RlZCBpdGVtcyB0aGF0IGFscmVhZHkgYmVsb25nIHRvIHRoZSB0cmltbWVkIHRhcmdldCBncm91cCwgd2hpbGUgZGVmZXJyaW5nIGxhYmVsIG5vcm1hbGl6YXRpb24uXG4gKlxuICogTm90ZXNcbiAqIC0gVGhlIGZ1bmN0aW9uIG9ubHkgdG91Y2hlcyBpdGVtcyB3aG9zZSBgaWRgIGlzIGluIGBzZWxlY3RJdGVtc2AgYW5kIHdob3NlIGN1cnJlbnQgYGdyb3VwYCBtYXRjaGVzIGBuZXh0R3JvdXBSYXdgIChhZnRlciB0cmltbWluZykuXG4gKiAtIExhYmVscyBhcmUgcmVhc3NpZ25lZCB0byBsYXJnZSBkZXNjZW5kaW5nIG51bWJlcnMgc28gdGhhdCBgcmVsYWJlbENvbnNlY3V0aXZlUGVyR3JvdXAoKWAgY2FuIGxhdGVyIGNvbXBhY3QgdGhlbS5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBGdWxsIGxpc3Qgb2Ygc2NyZWVuIGl0ZW1zLlxuICogQHBhcmFtIHNlbGVjdEl0ZW1zIC0gSURzIG9mIHRoZSBpdGVtcyB0aGF0IHNob3VsZCByZWNlaXZlIGEgdGVtcG9yYXJ5IGxhYmVsIGJ1bXAuXG4gKiBAcGFyYW0gbmV4dEdyb3VwUmF3IC0gVGFyZ2V0IGdyb3VwIG5hbWU7IHRyaW1tZWQgYmVmb3JlIGNvbXBhcmlzb24uXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSB3aGVyZSB0aGUgbWF0Y2hpbmcgaXRlbXMgZ2FpbiBhIHRlbXBvcmFyeSBoaWdoLXByaW9yaXR5IGxhYmVsOyBvdGhlciBpdGVtcyBhcmUgdW50b3VjaGVkLlxuICovXG5mdW5jdGlvbiB1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbChpdGVtcywgc2VsZWN0SXRlbXMsIG5leHRHcm91cFJhdykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChnKSA9PiAoZyA/PyAnJykudHJpbSgpO1xuICAgIGNvbnN0IG5leHRHcm91cCA9IG5vcm1hbGl6ZShuZXh0R3JvdXBSYXcpO1xuICAgIGxldCB1cGRhdGVJdGVtQ250ID0gMDtcbiAgICByZXR1cm4gaXRlbXNcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuaWQgLSBhLmlkKVxuICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdGVtLmlkKSAmJiBpdGVtLmdyb3VwICE9PSBuZXh0R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSB1cGRhdGVJdGVtQ250Kys7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtLCBncm91cDogbmV4dEdyb3VwLCBsYWJlbCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQoaWQsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zKSB7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgaWYgKCFzZWxlY3RJdGVtcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4uc2VsZWN0SXRlbXMsIGlkXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBpZCk7XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoZ3JvdXAsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zLCBpdGVtcykge1xuICAgIGNvbnN0IGcgPSBncm91cC50cmltKCk7XG4gICAgY29uc3QgZ3JvdXBJZHMgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdCkgPT4gKGl0Lmdyb3VwID8/IFVOR1JPVVBFRF9WQUxVRSkudHJpbSgpID09PSBnKVxuICAgICAgICAubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIGlmIChncm91cElkcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBzZWxlY3RJdGVtcztcbiAgICBpZiAoaXNDaGVjaykge1xuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KHNlbGVjdEl0ZW1zKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBncm91cElkcylcbiAgICAgICAgICAgIHNldC5hZGQoaWQpO1xuICAgICAgICByZXR1cm4gWy4uLnNldF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBncm91cFNldCA9IG5ldyBTZXQoZ3JvdXBJZHMpO1xuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpZCkgPT4gIWdyb3VwU2V0LmhhcyhpZCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JBbGwoYWxsQ2hlY2ssIGl0ZW1zKSB7XG4gICAgaWYgKGFsbENoZWNrKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiBpdC5pZCk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZVRhYigpIHtcbiAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRhYnNbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBY3RpdmVUYWJCcm9hZGNhc3QoKSB7XG4gICAgLy8gVGFiIHN3aXRjaGluZ1xuICAgIGNvbnN0IG9uQWN0aXZhdGVkID0gYXN5bmMgKHsgdGFiSWQsIHdpbmRvd0lkIH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFt0YWJdID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIHdpbmRvd0lkIH0pO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gdGFiPy51cmw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB1cmwgPyBwYWdlS2V5KHVybCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgdGFiSWQsIHdpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVsb2FkL3RyYW5zaXRpb24gZGV0ZWN0aW9uIHdpdGhpbiB0aGUgc2FtZSB0YWJcbiAgICBjb25zdCBvblVwZGF0ZWQgPSBhc3luYyAodGFiSWQsIGluZm8sIHRhYikgPT4ge1xuICAgICAgICBpZiAoIXRhYj8uYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaW5mby5zdGF0dXMgPT09ICdsb2FkaW5nJyB8fCB0eXBlb2YgaW5mby51cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYi51cmw7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZDogdGFiLndpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNocm9tZS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKG9uQWN0aXZhdGVkKTtcbiAgICBjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIob25VcGRhdGVkKTtcbn1cbiIsImltcG9ydCB7IENIQU5ORUwgfSBmcm9tICdAY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBQYW5lbEFwaSB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IFBvcnRScGMgfSBmcm9tICcuL3BvcnRfcnBjJztcbi8qKlxuICogSW5qZWN0cyB0aGUgY29udGVudCBzY3JpcHQgaW50byB0aGUgdGFiIGlmIG5lZWRlZCwgYW5kXG4gKiBpbml0aWFsaXplcyB0aGUgUG9ydCBjb25uZWN0aW9uIGFuZCBSUEMgZm9yIFBhbmVsIOKGlCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSB0YWJJZCAtIFRhcmdldCB0YWIgaWRcbiAqIEByZXR1cm5zIEEgY29ubmVjdGlvbiBvYmplY3QgYnVuZGxpbmcgQVBJLCBQb3J0LCBhbmQgUlBDXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9UYWIodGFiSWQpIHtcbiAgICBhd2FpdCBjaHJvbWUuc2NyaXB0aW5nXG4gICAgICAgIC5leGVjdXRlU2NyaXB0KHtcbiAgICAgICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgICAgIGZpbGVzOiBbJ2NvbnRlbnQvbWFpbi5qcyddLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIC8qIElnbm9yZSBpZiBhbHJlYWR5IGluamVjdGVkICovXG4gICAgfSk7XG4gICAgY29uc3QgcG9ydCA9IGNocm9tZS50YWJzLmNvbm5lY3QodGFiSWQsIHsgbmFtZTogQ0hBTk5FTC5QQU5FTF9DT05URU5UIH0pO1xuICAgIGNvbnN0IHJwYyA9IG5ldyBQb3J0UnBjKHBvcnQpO1xuICAgIGNvbnN0IGFwaSA9IG5ldyBQYW5lbEFwaShycGMpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IGxpc3RlbmVycy5mb3JFYWNoKChmbikgPT4gZm4oKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwaSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgcnBjLFxuICAgICAgICBvbkRpc2Nvbm5lY3Q6IChjYikgPT4gbGlzdGVuZXJzLnB1c2goY2IpLFxuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBJQ09OUyA9IHtcbiAgICBjYXJldERvd246IHtcbiAgICAgICAgZDogJ001LjIzIDcuMjFhLjc1Ljc1IDAgMDExLjA2LjAyTDEwIDEwLjkzOWwzLjcxLTMuNzFhLjc1Ljc1IDAgMTExLjA2IDEuMDYyTDEwLjUzIDEyLjUzYS43NS43NSAwIDAxLTEuMDYgMEw1LjIzIDguMjdhLjc1Ljc1IDAgMDEuMDItMS4wNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0RG93bkZpbGw6IHtcbiAgICAgICAgZDogJ003LjI0NyAxMS4xNCAyLjQ1MSA1LjY1OEMxLjg4NSA1LjAxMyAyLjM0NSA0IDMuMjA0IDRoOS41OTJhMSAxIDAgMCAxIC43NTMgMS42NTlsLTQuNzk2IDUuNDhhMSAxIDAgMCAxLTEuNTA2IDB6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBjYXJldFJpZ2h0OiB7XG4gICAgICAgIGQ6ICdNNy4yOTMgMTQuNzA3YTEgMSAwIDAxLTEuNDE0LTEuNDE0TDEwLjE3MiA5IDUuODc5IDQuNzA3YTEgMSAwIDAxMS40MTQtMS40MTRsNSA1YTEgMSAwIDAxMCAxLjQxNGwtNSA1eicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodEZpbGw6IHtcbiAgICAgICAgZDogJ20xMi4xNCA4Ljc1My01LjQ4MiA0Ljc5NmMtLjY0Ni41NjYtMS42NTguMTA2LTEuNjU4LS43NTNWMy4yMDRhMSAxIDAgMCAxIDEuNjU5LS43NTNsNS40OCA0Ljc5NmExIDEgMCAwIDEgMCAxLjUwNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgZDogJ00xMCAxOGE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNlptMy43MDctOC43MDdhMSAxIDAgMCAwLTEuNDE0LTEuNDE0TDkgMTEuMTcyIDcuNzA3IDkuODc5YTEgMSAwIDEgMC0xLjQxNCAxLjQxNGwyIDJhMSAxIDAgMCAwIDEuNDE0IDBsNC00WicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgZXJyb3I6IHtcbiAgICAgICAgZDogJ00xMCAxOGE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNlptLS43NS0xMS41YS43NS43NSAwIDAgMSAxLjUgMHY1YS43NS43NSAwIDAgMS0xLjUgMHYtNVptLjc1IDhhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyWicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgd2Fybjoge1xuICAgICAgICBkOiAnTTkuMDQ5IDIuOTI3YTEuNSAxLjUgMCAwMTIuOTAyIDBsNi40MSAxMS45NEExLjUgMS41IDAgMDExNy4wMSAxN0gyLjk5YTEuNSAxLjUgMCAwMS0xLjM1MS0yLjEzM2w2LjQxLTExLjk0ek0xMSAxM2ExIDEgMCAxMC0yIDAgMSAxIDAgMDAyIDB6bS0xLTJhMSAxIDAgMDAxLTFWN2ExIDEgMCAxMC0yIDB2M2ExIDEgMCAwMDEgMXonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgZDogJ00wIDJhMiAyIDAgMCAxIDItMmgxMmEyIDIgMCAwIDEgMiAydjhhMiAyIDAgMCAxLTIgMkg0LjQxNGExIDEgMCAwIDAtLjcwNy4yOTNMLjg1NCAxNS4xNDZBLjUuNSAwIDAgMSAwIDE0Ljc5M3ptNSA0YTEgMSAwIDEgMC0yIDAgMSAxIDAgMCAwIDIgMG00IDBhMSAxIDAgMSAwLTIgMCAxIDEgMCAwIDAgMiAwbTMgMWExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDInLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHJlbW92ZToge1xuICAgICAgICBkOiAnTTcgM2ExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXYxaDNhMSAxIDAgMSAxIDAgMmgtMWwtMSAxMGEyIDIgMCAwIDEtMiAySDhhMiAyIDAgMCAxLTItMkw1IDZINGExIDEgMCAxIDEgMC0yaDNWM1ptMSAzYTEgMSAwIDAgMC0xIDF2OGExIDEgMCAxIDAgMiAwVjdhMSAxIDAgMCAwLTEtMVptNCAwYTEgMSAwIDAgMC0xIDF2OGExIDEgMCAxIDAgMiAwVjdhMSAxIDAgMCAwLTEtMVonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGV4cG9ydDoge1xuICAgICAgICBkOiAnTTMgMTYuMjVhLjc1Ljc1IDAgMCAxIC43NS0uNzVoMTIuNWEuNzUuNzUgMCAwIDEgMCAxLjVIMy43NWEuNzUuNzUgMCAwIDEtLjc1LS43NVptNy41My0yLjAzYS43NS43NSAwIDAgMS0xLjA2IDBsLTMtM2EuNzUuNzUgMCAxIDEgMS4wNi0xLjA2bDEuNzIgMS43MlYzLjc1YS43NS43NSAwIDAgMSAxLjUgMHY4LjEzbDEuNzItMS43MmEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2bC0zIDNaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjbG9zZToge1xuICAgICAgICBkOiAnTTUuMjMgNS4yM2EuNzUuNzUgMCAwIDEgMS4wNiAwTDEwIDguOTRsMy43MS0zLjcxYS43NS43NSAwIDEgMSAxLjA2IDEuMDZMMTEuMDYgMTBsMy43MSAzLjcxYS43NS43NSAwIDEgMS0xLjA2IDEuMDZMMTAgMTEuMDZsLTMuNzEgMy43MWEuNzUuNzUgMCAxIDEtMS4wNi0xLjA2TDguOTQgMTAgNS4yMyA2LjI5YS43NS43NSAwIDAgMSAwLTEuMDZaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihuYW1lKSB7XG4gICAgY29uc3QgeyBkLCB2aWV3Qm94ID0gJzAgMCAyMCAyMCcgfSA9IElDT05TW25hbWVdO1xuICAgIHJldHVybiB7IGQsIHZpZXdCb3ggfTtcbn1cbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5pbXBvcnQgeyBnZXRJY29uIH0gZnJvbSAnQGNvbW1vbi9pY29ucyc7XG5pbXBvcnQgeyBpc0l0ZW1Db2xvciwgaXNJdGVtUG9zaXRpb24sIGlzSXRlbVNoYXBlLCBVTkdST1VQRUQsIFVOR1JPVVBFRF9WQUxVRSwgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IGdldFN0YXR1c01lc3NhZ2UsIFNUQVRVUywgU1RBVFVTX0xBQkVMX1NUWUxFIH0gZnJvbSAnQHBhbmVsL3ZpZXcvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnLi4vdHlwZXMvdWlfZXZlbnRfdHlwZXMnO1xuZnVuY3Rpb24gYnlMYWJlbFRoZW5JZChhLCBiKSB7XG4gICAgaWYgKGEubGFiZWwgIT09IGIubGFiZWwpXG4gICAgICAgIHJldHVybiBhLmxhYmVsIC0gYi5sYWJlbDtcbiAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XG59XG5leHBvcnQgY2xhc3MgUGFuZWxWaWV3IHtcbiAgICBkb2M7XG4gICAgbGlzdGVuZXJzID0ge307XG4gICAgZWxzO1xuICAgIE5FV19HUk9VUCA9ICdfX25ld2dyb3VwX18nO1xuICAgIEhPVkVSX09VVF9ERUxBWSA9IDEwMDA7XG4gICAgZHJhZ0VsID0gbnVsbDtcbiAgICBkcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgIGRyYWdTdGFydEluZGV4ID0gLTE7XG4gICAgaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgY29sbGFwc2VkR3JvdXBzID0gbmV3IFNldCgpO1xuICAgIFRPQVNUX0FVVE9fRElTTUlTUyA9IDEwMDAwO1xuICAgIGNvbnN0cnVjdG9yKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgaTE4bi5sb2NhbGl6ZShkb2MpO1xuICAgICAgICB0aGlzLmVscyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy4kKCcjc3RhdHVzJyksXG4gICAgICAgICAgICB0b2dnbGVCdG46IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QnKSxcbiAgICAgICAgICAgIHRvZ2dsZUljb246IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtaWNvbicpLFxuICAgICAgICAgICAgdG9nZ2xlTGFiZWw6IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtbGFiZWwnKSxcbiAgICAgICAgICAgIGNsZWFyQnRuOiB0aGlzLiQoJyNjbGVhcicpLFxuICAgICAgICAgICAgY2FwdHVyZUJ0bjogdGhpcy4kKCcjY2FwdHVyZScpLFxuICAgICAgICAgICAgbGlzdDogdGhpcy4kKCcjc2VsZWN0LWxpc3QnKSxcbiAgICAgICAgICAgIGVtcHR5OiB0aGlzLiQoJyNzZWxlY3QtZW1wdHknKSxcbiAgICAgICAgICAgIGNvdW50OiB0aGlzLiQoJyNzZWxlY3QtY291bnQnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zVG9nZ2xlOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMtdG9nZ2xlJyksXG4gICAgICAgICAgICBjYXB0dXJlT3B0aW9uc1BhbmVsOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMnKSxcbiAgICAgICAgICAgIGNhcHR1cmVGbXRSYWRpb3M6IHRoaXMuJGFsbCgnaW5wdXRbbmFtZT1cImNhcHR1cmUtZm9ybWF0XCJdJyksXG4gICAgICAgICAgICBjYXB0dXJlQXJlYVJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1hcmVhXCJdJyksXG4gICAgICAgICAgICBqcGVnT25seUVsczogdGhpcy4kYWxsKCcuanBlZy1vbmx5JyksXG4gICAgICAgICAgICBqcGVnUXVhbGl0eVJhbmdlOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktcmFuZ2UnKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5TnVtYmVyOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktbnVtYmVyJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVSYW5nZTogdGhpcy4kKCcjY2FwdHVyZS1zY2FsZS1yYW5nZScpLFxuICAgICAgICAgICAgY2FwdHVyZVNjYWxlTnVtYmVyOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VTaXplUmFuZ2U6IHRoaXMuJCgnI2JhZGdlLXNpemUtcmFuZ2UnKSxcbiAgICAgICAgICAgIGJhZGdlU2l6ZU51bWJlcjogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1udW1iZXInKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JCdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1jb2xvci1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yTGFiZWw6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yRG90OiB0aGlzLiQoJyNiYWRnZS1jb2xvci1kb3QnKSxcbiAgICAgICAgICAgIGJhZGdlU2hhcGVTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLXNoYXBlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VEZWxldGVCdXR0b246IHRoaXMuJCgnI2JhZGdlLWRlbGV0ZS1idXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25CdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1wb3NpdGlvbi1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZVBvc2l0aW9uTGFiZWw6IHRoaXMuJCgnI2JhZGdlLXBvc2l0aW9uLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUdyb3VwU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS1ncm91cC1zZWxlY3QnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZU1vZGFsOiB0aGlzLiQoJyNncm91cC1uYW1lLW1vZGFsJyksXG4gICAgICAgICAgICBncm91cE5hbWVJbnB1dDogdGhpcy4kKCcjZ3JvdXAtbmFtZS1pbnB1dCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ2FuY2VsQnRuOiB0aGlzLiQoJyNncm91cC1uYW1lLWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUNyZWF0ZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY3JlYXRlLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRNb2RhbDogdGhpcy4kKCcjaXRlbS1jb21tZW50LW1vZGFsJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SWRJbnB1dDogdGhpcy4kKCcjaXRlbS1jb21tZW50LWlkLWlucHV0JyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudENhbmNlbEJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50QXBwbHlCdG46IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1hcHBseS1idG4nKSxcbiAgICAgICAgICAgIHNlbGVjdEl0ZW1BbGxDaGVja2JveDogdGhpcy4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cIml0ZW0tc2VsZWN0XCJdW3ZhbHVlPVwiYWxsXCJdJyksXG4gICAgICAgICAgICBzZXR0aW5nTW9kYWw6IHRoaXMuJCgnI3NldHRpbmctbW9kYWwnKSxcbiAgICAgICAgICAgIHNldHRpbmdCdXR0b246IHRoaXMuJCgnI3NldHRpbmctYnV0dG9uJyksXG4gICAgICAgICAgICBzZXR0aW5nQ2xvc2VCdXR0b246IHRoaXMuJCgnI3NldHRpbmctY2xvc2UtYnRuJyksXG4gICAgICAgICAgICB0aGVtZUxpZ2h0QnRuOiB0aGlzLiQoJyN0aGVtZS1saWdodC1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGFya0J0bjogdGhpcy4kKCcjdGhlbWUtZGFyay1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGV2aWNlQnRuOiB0aGlzLiQoJyN0aGVtZS1kZXZpY2UtYnRuJyksXG4gICAgICAgICAgICBpbXBvcnRGaWxlSW5wdXQ6IHRoaXMuJCgnI2ltcG9ydC1maWxlLWlucHV0JyksXG4gICAgICAgICAgICBpbXBvcnRCdG46IHRoaXMuJCgnI2ltcG9ydC1idG4nKSxcbiAgICAgICAgICAgIHN0b3JlQ291bnQ6IHRoaXMuJCgnI3N0b3JlLWNvdW50JyksXG4gICAgICAgICAgICBzdG9yZUxpc3Q6IHRoaXMuJCgnI3N0b3JlLWxpc3QnKSxcbiAgICAgICAgICAgIHN0b3JlRW1wdHk6IHRoaXMuJCgnI3N0b3JlLWVtcHR5JyksXG4gICAgICAgICAgICB0b2FzdFBhcmVudDogdGhpcy4kKCcjdG9hc3QtcGFyZW50JyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5lbHMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0xFQVIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAvLyA9PT0gQ2FwdHVyZSBvcHRpb25zID09PVxuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MuZm9yRWFjaCgocikgPT4gci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCB7IGZvcm1hdDogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCB7IGFyZWE6IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZSwgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgeyBxdWFsaXR5OiB2IH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZSwgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLCAodikgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCB7IHNjYWxlOiB2IH0pKTtcbiAgICAgICAgLy8gPT09IEJhZGdlID09PVxuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLCB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIpO1xuICAgICAgICBjb25zdCBmaXJlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBOdW1iZXIodGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCB7IHNpemU6IHYgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQuY29sb3JOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaXNJdGVtQ29sb3IocmF3KSA/IHJhdyA6ICdCbHVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCB7IGNvbG9yIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGlzSXRlbVNoYXBlKHYpID8gdiA6ICdjaXJjbGUnO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgeyBzaGFwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGJ0bi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGlzSXRlbVBvc2l0aW9uKHJhdykgPyByYXcgOiAnbGVmdC10b3Atb3V0c2lkZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QudmFsdWUgPz8gVU5HUk9VUEVEO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YWx1ZSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT09IHRoaXMuTkVXX0dST1VQKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDcmVhdGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgfHwgdmFsdWUgPT09IHRoaXMuTkVXX0dST1VQID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRBcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGhpcy5lbHMuaXRlbUNvbW1lbnRJZElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksIHsgaWQsIGNvbW1lbnQgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuc2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnNldHRpbmdNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRUSU5HX01PREFMX1NIT1csIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5zZXR0aW5nQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5zZXR0aW5nTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2xpZ2h0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGFya0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RhcmsnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEZXZpY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUoJ2RldmljZScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RldmljZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5pbXBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBubyBmaWxlIGlzIHNlbGVjdGVkLCBvcGVuIHRoZSBkaWFsb2dcbiAgICAgICAgICAgIGlmICghdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzIHx8IHRoaXMuZWxzLmltcG9ydEZpbGVJbnB1dC5maWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5pbXBvcnRGaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzWzBdO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgeyBmaWxlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLmVscy5zZWxlY3RJdGVtQWxsQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCB7IGFsbENoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgKCkgPT4gdGhpcy5jYW5jZWxIb3Zlck91dCgpKTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB0aGlzLnNjaGVkdWxlSG92ZXJPdXQoKSk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEhvdmVyT3V0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGFyciA9ICh0aGlzLmxpc3RlbmVyc1t0eXBlXSA/Pz0gW10pO1xuICAgICAgICBhcnIucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCBlKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBhcnI/LmZvckVhY2goKGgpID0+IGgoZSkpO1xuICAgIH1cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0dXMobW9kZWwuc3RhdHVzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJUb2dnbGUobW9kZWwuc2VsZWN0aW9uRW5hYmxlZCk7XG4gICAgICAgIHRoaXMucmVuZGVyTGlzdChtb2RlbC5pdGVtcywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLm1pc3NpbmdJZHMpO1xuICAgICAgICB0aGlzLnNlbGVjdFJhZGlvQnlWYWx1ZSh0aGlzLmVscy5jYXB0dXJlRm10UmFkaW9zLCBtb2RlbC5jYXB0dXJlLmZvcm1hdCk7XG4gICAgICAgIHRoaXMuc2VsZWN0UmFkaW9CeVZhbHVlKHRoaXMuZWxzLmNhcHR1cmVBcmVhUmFkaW9zLCBtb2RlbC5jYXB0dXJlLmFyZWEpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnF1YWxpdHkpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUucXVhbGl0eSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVTY2FsZU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnNjYWxlKTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZVNjYWxlUmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5zY2FsZSk7XG4gICAgICAgIHRoaXMudXBkYXRlUXVhbGl0eVZpc2liaWxpdHkobW9kZWwuY2FwdHVyZS5mb3JtYXQpO1xuICAgICAgICB0aGlzLmFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSShtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFNpemUpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5kZWZhdWx0U2l6ZSk7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUNvbG9yVUkobW9kZWwuZGVmYXVsdENvbG9yKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaGFwZVNlbGVjdC52YWx1ZSA9IG1vZGVsLmRlZmF1bHRTaGFwZTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlUG9zaXRvblVJKG1vZGVsLmRlZmF1bHRQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkodGhpcy5nZXRFeGlzdGluZ0dyb3Vwcyhtb2RlbC5pdGVtcyksIG1vZGVsLmRlZmF1bHRHcm91cCk7XG4gICAgICAgIHRoaXMuYXBwbHlUaGVtZShtb2RlbC50aGVtZSk7XG4gICAgICAgIHRoaXMuYXBwbHlTdG9yZShtb2RlbC5wYWdlS2V5cyk7XG4gICAgICAgIHRoaXMuYXBwbHlUb2FzdE1lc3NhZ2VzKG1vZGVsLnRvYXN0TWVzc2FnZXMpO1xuICAgIH1cbiAgICByZW5kZXJTdGF0dXMoa2V5KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gU1RBVFVTX0xBQkVMX1NUWUxFW2tleV07XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHMuc3RhdHVzO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnY29ubmVjdC1zdGF0dXMnLCAuLi5zdHlsZS5ib2R5KTtcbiAgICAgICAgY29uc3QgZG90ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZCgnY29ubmVjdC1zdGF0dXMtZG90JywgLi4uc3R5bGUuZG90KTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGdldFN0YXR1c01lc3NhZ2Uoa2V5KTtcbiAgICAgICAgZWwucmVwbGFjZUNoaWxkcmVuKGRvdCwgdGV4dCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZUZvcm1Db250cm9scyhrZXkgIT09IFNUQVRVUy5DT05ORUNURUQpO1xuICAgIH1cbiAgICByZW5kZXJUb2dnbGUoZW5hYmxlZCkge1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5lbHMudG9nZ2xlSWNvbjtcbiAgICAgICAgaWNvbi5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3QtdG9nZ2xlLWljb24nLCBlbmFibGVkID8gJ2JnLWluZGlnby01MDAnIDogJ2JnLXNsYXRlLTMwMCcpO1xuICAgICAgICB0aGlzLmVscy50b2dnbGVMYWJlbC50ZXh0Q29udGVudCA9IGkxOG4uZ2V0KGVuYWJsZWQgPyAndG9nZ2xlX29uJyA6ICd0b2dnbGVfb2ZmJyk7XG4gICAgfVxuICAgIHJlbmRlckxpc3QoaXRlbXMsIHNlbGVjdEl0ZW1zLCBtaXNzaW5nSWRzKSB7XG4gICAgICAgIHRoaXMuZWxzLmNvdW50LnRleHRDb250ZW50ID0gU3RyaW5nKGl0ZW1zLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGFsbENoZWNrZWQgPSBpdGVtcy5sZW5ndGggPT09IDAgPyBmYWxzZSA6IGl0ZW1zLmV2ZXJ5KChpdCkgPT4gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpKTtcbiAgICAgICAgdGhpcy5lbHMuc2VsZWN0SXRlbUFsbENoZWNrYm94LmNoZWNrZWQgPSBhbGxDaGVja2VkO1xuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5lbHMuZW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBjb25zdCBncm91cHMgPSB0aGlzLmdyb3VwQnlHcm91cChpdGVtcyk7XG4gICAgICAgIGNvbnN0IGdyb3VwS2V5cyA9IEFycmF5LmZyb20oZ3JvdXBzLmtleXMoKSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYiA9PT0gVU5HUk9VUEVEKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZyYWcgPSB0aGlzLmRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGZvciAoY29uc3QgZ0tleSBvZiBncm91cEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLnJlbmRlckdyb3VwU2VjdGlvbihnS2V5LCBncm91cHMuZ2V0KGdLZXkpLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcyk7XG4gICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxzLmxpc3QucmVwbGFjZUNoaWxkcmVuKGZyYWcpO1xuICAgIH1cbiAgICByZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ0l0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuY29sbGFwc2VkR3JvdXBzLmhhcyhnS2V5KTtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuZWwoJ3NlY3Rpb24nLCAnc2VsZWN0LWl0ZW0tc2VjdGlvbicpO1xuICAgICAgICAvLyBoZWFkZXJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWhlYWRlcicpO1xuICAgICAgICAvLyBjaGVja2JveFxuICAgICAgICBjb25zdCBjaGVja2JveFdyYXAgPSB0aGlzLmVsKCdkaXYnLCAnc3Bzay1jaGVja3dyYXAnKTtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0aGlzLmVsKCdpbnB1dCcsICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCcpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgY2hlY2tib3gubmFtZSA9ICdpdGVtLXNlbGVjdCc7XG4gICAgICAgIGNoZWNrYm94LnZhbHVlID0gZ0tleSA9PT0gVU5HUk9VUEVEID8gaTE4bi5nZXQoJ2dyb3VwX3VuZ3JvdXBlZCcpIDogZ0tleTtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGdJdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgIGdyb3VwOiBnS2V5ID09PSBVTkdST1VQRUQgPyBVTkdST1VQRURfVkFMVUUgOiBnS2V5LFxuICAgICAgICAgICAgICAgIGlzQ2hlY2s6IHNlbGVjdGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjaGVja2JveFdyYXAuYXBwZW5kKGNoZWNrYm94KTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmVsKCdzcGFuJywgJ3NlbGVjdC1pdGVtLWdoLXRpdGxlJywgZ0tleSA9PT0gVU5HUk9VUEVEID8gaTE4bi5nZXQoJ2dyb3VwX3VuZ3JvdXBlZCcpIDogZ0tleSk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLmVsKCdkaXYnLCAnc2VsZWN0LWl0ZW0tZ2gtbGVmdCcpO1xuICAgICAgICBsZWZ0LmFwcGVuZChjaGVja2JveFdyYXAsIHRpdGxlKTtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLmVsKCdzcGFuJywgJ3NlbGVjdC1pdGVtLWdoLWNvdW50JywgU3RyaW5nKGdJdGVtcy5sZW5ndGgpKTtcbiAgICAgICAgY29uc3QgdG9nZ2xlQnRuID0gdGhpcy5lbCgnYnV0dG9uJywgJ3NlbGVjdC1pdGVtLWdoLXRvZ2dsZScpO1xuICAgICAgICB0b2dnbGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICB0b2dnbGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKCFpc0NvbGxhcHNlZCkpO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGlzQ29sbGFwc2VkID8gZ2V0SWNvbignY2FyZXRSaWdodCcpIDogZ2V0SWNvbignY2FyZXREb3duJyk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZCwgeyBjbGFzc05hbWU6ICdpY29uLXNtJywgdmlld0JveCB9KTtcbiAgICAgICAgY29uc3QgdG9nZ2xlUGF0aCA9IHRvZ2dsZUljb24ucXVlcnlTZWxlY3RvcigncGF0aCcpO1xuICAgICAgICB0b2dnbGVCdG4uYXBwZW5kKHRvZ2dsZUljb24pO1xuICAgICAgICBoZWFkZXIuYXBwZW5kKGxlZnQsIGNvdW50LCB0b2dnbGVCdG4pO1xuICAgICAgICAvLyB1bFxuICAgICAgICBjb25zdCB1bCA9IHRoaXMuZWwoJ3VsJywgJ3NlbGVjdC1pdGVtLWxpc3QnKTtcbiAgICAgICAgaWYgKGlzQ29sbGFwc2VkKVxuICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuYXR0YWNoVWxEbkRIYW5kbGVycyh1bCk7XG4gICAgICAgIGZvciAoY29uc3QgaXQgb2YgZ0l0ZW1zLnNvcnQoYnlMYWJlbFRoZW5JZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdENoZWNrZWQgPSBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCk7XG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckl0ZW0oaXQsIHNlbGVjdENoZWNrZWQsIG1pc3NpbmdJZHMpKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50bHlDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudGx5Q29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuZGVsZXRlKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXREb3duJykuZCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5hZGQoZ0tleSk7XG4gICAgICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCBnZXRJY29uKCdjYXJldFJpZ2h0JykuZCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2VjdGlvbi5hcHBlbmQoaGVhZGVyLCB1bCk7XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgIH1cbiAgICByZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSB7XG4gICAgICAgIGNvbnN0IGlzTWlzc2luZyA9IG1pc3NpbmdJZHMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICBjb25zdCBsaUJhc2UgPSAnc2VsZWN0LWl0ZW0nO1xuICAgICAgICBjb25zdCBsaSA9IHRoaXMuZWwoJ2xpJywgaXNNaXNzaW5nID8gYGdyb3VwICR7bGlCYXNlfSBzZWxlY3QtaXRlbS0td2FybmAgOiBsaUJhc2UpO1xuICAgICAgICBsaS5kYXRhc2V0LmlkID0gU3RyaW5nKGl0LmlkKTtcbiAgICAgICAgbGkuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgLy8gT25seSBzb3J0aW5nIHdpdGhpbiB0aGUgc2FtZSBVTCBpcyBhbGxvd2VkXG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IGxpO1xuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRQYXJlbnQgPSBsaS5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRJbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobGkucGFyZW50RWxlbWVudD8uY2hpbGRyZW4gPz8gW10sIGxpKTtcbiAgICAgICAgICAgIGlmIChlLmRhdGFUcmFuc2ZlcilcbiAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmFnRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5kcmFnRWwucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gcGFyZW50ID8gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChwYXJlbnQuY2hpbGRyZW4sIHRoaXMuZHJhZ0VsKSA6IC0xO1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcpO1xuICAgICAgICAgICAgY29uc3QgZnJvbUlkID0gdGhpcy5kcmFnRWwuZGF0YXNldC5pZCA/PyAnJztcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChmcm9tSWQgJiYgdGhpcy5kcmFnU3RhcnRJbmRleCA+PSAwICYmIGVuZEluZGV4ID49IDAgJiYgZW5kSW5kZXggIT09IHRoaXMuZHJhZ1N0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuUkVPUkRFUl9JVEVNUywge1xuICAgICAgICAgICAgICAgICAgICBmcm9tSWQ6IE51bWJlcihmcm9tSWQpLFxuICAgICAgICAgICAgICAgICAgICBmcm9tSW5kZXg6IHRoaXMuZHJhZ1N0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRvSW5kZXg6IGVuZEluZGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94U3R5bGUgPSBpc01pc3NpbmdcbiAgICAgICAgICAgID8gJ3Nwc2stY2hlY2tib3ggc3Bzay1jaGVja2JveC0td2FybidcbiAgICAgICAgICAgIDogJ3Nwc2stY2hlY2tib3ggc3Bzay1jaGVja2JveC0tbm9ybWFsJztcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0aGlzLmVsKCdpbnB1dCcsIGNoZWNrYm94U3R5bGUpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgY2hlY2tib3gubmFtZSA9ICdpdGVtLXNlbGVjdCc7XG4gICAgICAgIGNoZWNrYm94LnZhbHVlID0gU3RyaW5nKGl0LmlkKTtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHNlbGVjdENoZWNrZWQ7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgeyBpZDogaXQuaWQsIGlzQ2hlY2s6IHNlbGVjdGVkIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIC8vIGJhZGdlXG4gICAgICAgIGNvbnN0IGJhZGdlU3R5bGUgPSBpc01pc3NpbmcgPyAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS13YXJuJyA6ICdzcHNrLWJhZGdlIHNwc2stYmFkZ2UtLW5vcm0nO1xuICAgICAgICBjb25zdCBiYWRnZSA9IHRoaXMuZWwoJ3NwYW4nLCBiYWRnZVN0eWxlLCBTdHJpbmcoaXQubGFiZWwpKTtcbiAgICAgICAgLy8gbWFpbiAobWlzc2luZ0ljb24sIGFuY2hvcilcbiAgICAgICAgY29uc3QgbWFpbiA9IHRoaXMuZWwoJ2RpdicsICdtaW4tdy0wIGZsZXgtMScpO1xuICAgICAgICBtYWluLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdTdGFydFBhcmVudCB8fCBpc01pc3NpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxIb3Zlck91dCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fSE9WRVJfSU4sIHsgaWQ6IGl0LmlkIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzTWlzc2luZykge1xuICAgICAgICAgICAgY29uc3QgY2hpcCA9IHRoaXMuZWwoJ3NwYW4nLCAnY2hpcC13YXJuJyk7XG4gICAgICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ3dhcm4nKTtcbiAgICAgICAgICAgIGNvbnN0IGljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuZWwoJ3NwYW4nLCB1bmRlZmluZWQsIGkxOG4uZ2V0KCdtaXNzaW5nX2l0ZW0nKSk7XG4gICAgICAgICAgICBjaGlwLmFwcGVuZChpY29uLCBsYWJlbCk7XG4gICAgICAgICAgICBtYWluLmFwcGVuZChjaGlwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmVsKCdkaXYnLCAnYW5jaG9yJywgaXQuYW5jaG9yLnZhbHVlKTtcbiAgICAgICAgbWFpbi5hcHBlbmQoYW5jaG9yKTtcbiAgICAgICAgY29uc3QgY29tbWVudEJ0biA9IHRoaXMuZ2VuZXJhdGVDb21tZW50QnRuKGl0KTtcbiAgICAgICAgbGkuYXBwZW5kKGNoZWNrYm94V3JhcCwgYmFkZ2UsIG1haW4sIGNvbW1lbnRCdG4pO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuICAgIGdlbmVyYXRlQ29tbWVudEJ0bihpdCkge1xuICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnRuLmNsYXNzTmFtZSA9ICdidG4taWNvbic7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZ2V0SWNvbignY29tbWVudCcpO1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgIHZpZXdCb3gsXG4gICAgICAgIH0pO1xuICAgICAgICBidG4uYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLml0ZW1Db21tZW50TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlID0gaXQuY29tbWVudCA/PyAnJztcbiAgICAgICAgICAgIHRoaXMuZWxzLml0ZW1Db21tZW50SWRJbnB1dC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYnRuO1xuICAgIH1cbiAgICBzY2hlZHVsZUhvdmVyT3V0KCkge1xuICAgICAgICBpZiAodGhpcy5ob3Zlck91dFRpbWVyKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJPdXRUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLmRyYWdTdGFydFBhcmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fSE9WRVJfT1VULCB1bmRlZmluZWQpO1xuICAgICAgICB9LCB0aGlzLkhPVkVSX09VVF9ERUxBWSk7XG4gICAgfVxuICAgIGNhbmNlbEhvdmVyT3V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJPdXRUaW1lcik7XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVMIEQmRCBIYW5kbGVyXG4gICAgICogT25seSBzb3J0aW5nIHdpdGhpbiB0aGUgc2FtZSBVTCBpcyBhbGxvd2VkXG4gICAgICogQHBhcmFtIHVsXG4gICAgICovXG4gICAgYXR0YWNoVWxEbkRIYW5kbGVycyh1bCkge1xuICAgICAgICB1bC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdTdGFydFBhcmVudCAmJiB1bCAhPT0gdGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0TGkgPSBlLnRhcmdldD8uY2xvc2VzdCgnbGknKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRMaSAmJiB0YXJnZXRMaSAhPT0gdGhpcy5kcmFnRWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gdGFyZ2V0TGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBZnRlciA9IGUuY2xpZW50WSAtIHJlY3QudG9wID4gcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIHVsLmluc2VydEJlZm9yZSh0aGlzLmRyYWdFbCwgaXNBZnRlciA/IHRhcmdldExpLm5leHRTaWJsaW5nIDogdGFyZ2V0TGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRhcmdldExpKSB7XG4gICAgICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5kcmFnRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICAgIH1cbiAgICBnZXRFeGlzdGluZ0dyb3VwcyhpdGVtcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KGl0ZW1zLm1hcCgoaSkgPT4gKGkuZ3JvdXAgPz8gJycpLnRyaW0oKSkuZmlsdGVyKChnKSA9PiBnLmxlbmd0aCA+IDApKSkuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcbiAgICB9XG4gICAgZ3JvdXBCeUdyb3VwKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IG0gPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgaXQgb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IChpdC5ncm91cCA/PyBVTkdST1VQRURfVkFMVUUpLnRyaW0oKSB8fCBVTkdST1VQRUQ7XG4gICAgICAgICAgICBpZiAoIW0uaGFzKGtleSkpXG4gICAgICAgICAgICAgICAgbS5zZXQoa2V5LCBbXSk7XG4gICAgICAgICAgICBtLmdldChrZXkpLnB1c2goaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICBnZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWZvcm1hdFwiXTpjaGVja2VkJyk/LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsID09PSAnanBlZycgPyAnanBlZycgOiAncG5nJztcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5kb2MucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImNhcHR1cmUtYXJlYVwiXTpjaGVja2VkJyk/LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsID09PSAndmlld3BvcnQnID8gJ3ZpZXdwb3J0JyA6ICdmdWxsJztcbiAgICB9XG4gICAgdXBkYXRlUXVhbGl0eVZpc2liaWxpdHkoZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IGYgPSBmb3JtYXQgPz8gdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKTtcbiAgICAgICAgY29uc3QgaXNKcGVnID0gZiA9PT0gJ2pwZWcnO1xuICAgICAgICB0aGlzLmVscy5qcGVnT25seUVscy5mb3JFYWNoKChlbCkgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIWlzSnBlZykpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eVJhbmdlLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIuZGlzYWJsZWQgPSAhaXNKcGVnO1xuICAgIH1cbiAgICBzZWxlY3RSYWRpb0J5VmFsdWUocmFkaW9zLCB2YWx1ZSkge1xuICAgICAgICByYWRpb3MuZm9yRWFjaCgocikgPT4gKHIuY2hlY2tlZCA9IHIudmFsdWUgPT09IHZhbHVlKSk7XG4gICAgfVxuICAgIGJpbmRTeW5jKHJhbmdlRWwsIG51bWJlckVsLCBvblZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlYWROdW0gPSAocywgZmFsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBzICE9IG51bGwgJiYgcyAhPT0gJycgPyBOdW1iZXIocykgOiBOYU47XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHYpID8gdiA6IGZhbGxiYWNrO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGFtcCA9ICh2LCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgodiwgbWluKSwgbWF4KTtcbiAgICAgICAgY29uc3Qgc3luYyA9IChyYXdTdHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IHJlYWROdW0obnVtYmVyRWwubWluIHx8IHJhbmdlRWwubWluLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3QgbWF4ID0gcmVhZE51bShudW1iZXJFbC5tYXggfHwgcmFuZ2VFbC5tYXgsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gcmVhZE51bShudW1iZXJFbC5zdGVwIHx8IHJhbmdlRWwuc3RlcCwgMSk7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBOdW1iZXIocmF3U3RyKTtcbiAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBjbGFtcChOdW1iZXIuaXNGaW5pdGUocmF3KSA/IHJhdyA6IDAsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIGNvbnN0IHJvdW5kZWQgPSBNYXRoLnJvdW5kKGNsYW1wZWQgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICAgICAgICBjb25zdCBmaXhlZCA9IE51bWJlcihyb3VuZGVkLnRvRml4ZWQoNikpO1xuICAgICAgICAgICAgbnVtYmVyRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgcmFuZ2VFbC52YWx1ZSA9IFN0cmluZyhmaXhlZCk7XG4gICAgICAgICAgICBvblZhbHVlPy4oZml4ZWQpO1xuICAgICAgICB9O1xuICAgICAgICByYW5nZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gc3luYyhyYW5nZUVsLnZhbHVlKSk7XG4gICAgICAgIG51bWJlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gc3luYyhudW1iZXJFbC52YWx1ZSkpO1xuICAgIH1cbiAgICBkaXNhYmxlRm9ybUNvbnRyb2xzKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5kb2MucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLCBzZWxlY3QsIGlucHV0LCB0ZXh0YXJlYScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLWlnbm9yZS1kaXNhYmxlJykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCdkaXNhYmxlZCcgaW4gZWwpIHtcbiAgICAgICAgICAgICAgICBlbC5kaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkoZXhwYW5kZWQpIHtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKGV4cGFuZGVkKSk7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZXhwYW5kZWQgPyBnZXRJY29uKCdjYXJldERvd25GaWxsJykgOiBnZXRJY29uKCdjYXJldFJpZ2h0RmlsbCcpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgdmlld0JveCwgY2xhc3NOYW1lOiAnaC00IHctNCcgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFleHBhbmRlZCk7XG4gICAgfVxuICAgIGdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpIHtcbiAgICAgICAgY29uc3QgY29sb3JOYW1lID0gY29sb3IgPT09ICdHcmF5JyA/ICdzbGF0ZScgOiBjb2xvcjtcbiAgICAgICAgcmV0dXJuIGBiZy0ke2NvbG9yTmFtZS50b0xvd2VyQ2FzZSgpfS01MDBgO1xuICAgIH1cbiAgICBhcHBseUJhZGdlQ29sb3JVSShjb2xvcikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQuY29sb3JOYW1lID09PSBjb2xvcjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckxhYmVsLnRleHRDb250ZW50ID0gY29sb3I7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NOYW1lID0gJ2lubGluZS1ibG9jayB3LTQgaC00IHJvdW5kZWQtZnVsbCc7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NMaXN0LmFkZCh0aGlzLmdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpKTtcbiAgICB9XG4gICAgYXBwbHlCYWRnZVBvc2l0b25VSShwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZVBvc2l0aW9uQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQucG9zaXRpb25OYW1lID09PSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkxhYmVsLnRleHRDb250ZW50ID0gcG9zaXRpb24ucmVwbGFjZUFsbCgnLScsICcgJyk7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJKGV4aXN0aW5nR3JvdXBzLCBkZWZhdXRHcm91cCkge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQoVU5HUk9VUEVELCBpMThuLmdldCgnZ3JvdXBfdW5ncm91cGVkJyksIGRlZmF1dEdyb3VwID09PSBVTkdST1VQRUQpKTtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBleGlzdGluZ0dyb3Vwcykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vcm1hbGl6ZShncm91cCk7XG4gICAgICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQodmFsdWUsIGdyb3VwLCBkZWZhdXRHcm91cCA9PT0gZ3JvdXApKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVPcHQgPSB0aGlzLm1ha2VPcHQodGhpcy5ORVdfR1JPVVAsIGkxOG4uZ2V0KCdjb21tb25fY3JlYXRlJykpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZChjcmVhdGVPcHQpO1xuICAgIH1cbiAgICBhcHBseVRoZW1lKHRoZW1lKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRGFyayA9IHRoZW1lID09PSAnZGV2aWNlJ1xuICAgICAgICAgICAgPyB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXNcbiAgICAgICAgICAgIDogdGhlbWUgPT09ICdkYXJrJztcbiAgICAgICAgaWYgKGlzRGFyaykge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb290LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdsaWdodCcpKTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEYXJrQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdkYXJrJykpO1xuICAgICAgICB0aGlzLmVscy50aGVtZURldmljZUJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgU3RyaW5nKHRoZW1lID09PSAnZGV2aWNlJykpO1xuICAgIH1cbiAgICBhcHBseVN0b3JlKHBhZ2VLZXlzKSB7XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlQ291bnQudGV4dENvbnRlbnQgPSBTdHJpbmcocGFnZUtleXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBpZiAocGFnZUtleXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYWdlS2V5IG9mIHBhZ2VLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBsaUVsZW0gPSB0aGlzLmVsKCdsaScsICdzZWxlY3QtaXRlbScpO1xuICAgICAgICAgICAgY29uc3QgYVdyYXBFbGVtID0gdGhpcy5lbCgnZGl2JywgJ21pbi13LTAgZmxleC0xJyk7XG4gICAgICAgICAgICBjb25zdCBhRWxlbSA9IHRoaXMuZWwoJ2EnLCAnYW5jaG9yIHdoaXRlc3BhY2Utbm9ybWFsIGJyZWFrLXdvcmRzJywgcGFnZUtleSk7XG4gICAgICAgICAgICBhRWxlbS5ocmVmID0gcGFnZUtleTtcbiAgICAgICAgICAgIGFFbGVtLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgYVdyYXBFbGVtLmFwcGVuZENoaWxkKGFFbGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEJ0bkVsZW0gPSB0aGlzLmVsKCdidXR0b24nLCAnYnRuLWljb24nKTtcbiAgICAgICAgICAgIGV4cG9ydEJ0bkVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlnbm9yZS1kaXNhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb25EZWYgPSBnZXRJY29uKCdleHBvcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZXhwb3J0SWNvbkRlZi5kLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnaWNvbi1zbScsXG4gICAgICAgICAgICAgICAgdmlld0JveDogZXhwb3J0SWNvbkRlZi52aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFwcGVuZENoaWxkKGV4cG9ydEljb24pO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlQnRuRWxlbSA9IHRoaXMuZWwoJ2J1dHRvbicsICdidG4taWNvbiBidG4taWNvbi0tZGFuZ2VyJyk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uRGVmID0gZ2V0SWNvbigncmVtb3ZlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKHJlbW92ZUljb25EZWYuZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ljb24tc20nLFxuICAgICAgICAgICAgICAgIHZpZXdCb3g6IHJlbW92ZUljb25EZWYudmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlQnRuRWxlbS5hcHBlbmRDaGlsZChyZW1vdmVJY29uKTtcbiAgICAgICAgICAgIGxpRWxlbS5hcHBlbmRDaGlsZChhV3JhcEVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKGV4cG9ydEJ0bkVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKHJlbW92ZUJ0bkVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmFwcGVuZENoaWxkKGxpRWxlbSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5SRU1PVkVfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmVscy5zdG9yZUVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBhcHBseVRvYXN0TWVzc2FnZXModG9hc3RNZXNzYWdlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHRvYXN0TWVzc2FnZSBvZiB0b2FzdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmVscy50b2FzdFBhcmVudC5hcHBlbmRDaGlsZCh0b2FzdEVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB7IHV1aWQ6IHRvYXN0TWVzc2FnZS51dWlkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSkge1xuICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmVsKCdkaXYnLCBgdG9hc3QgdG9hc3QtLSR7dG9hc3RNZXNzYWdlLmtpbmR9YCk7XG4gICAgICAgIGNvbnN0IHRvYXN0SWNvbkRlZiA9IGdldEljb24odG9hc3RNZXNzYWdlLmtpbmQpO1xuICAgICAgICBjb25zdCB0b2FzdEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24odG9hc3RJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3RvYXN0LWljb24nLFxuICAgICAgICAgICAgdmlld0JveDogdG9hc3RJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2FzdEJvZHkgPSB0aGlzLmVsKCdkaXYnLCAndG9hc3QtYm9keScpO1xuICAgICAgICBjb25zdCBkZXNjID0gdGhpcy5lbCgncCcsICd0b2FzdC1kZXNjJywgdG9hc3RNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICB0b2FzdEJvZHkuYXBwZW5kQ2hpbGQoZGVzYyk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gdGhpcy5lbCgnYnV0dG9uJywgYHRvYXN0LWNsb3NlIHRvYXN0LWNsb3NlLS0ke3RvYXN0TWVzc2FnZS5raW5kfWApO1xuICAgICAgICBjb25zdCBjbG9zZUljb25EZWYgPSBnZXRJY29uKCdjbG9zZScpO1xuICAgICAgICBjb25zdCBjbG9zZUljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oY2xvc2VJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgIHZpZXdCb3g6IGNsb3NlSWNvbkRlZi52aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VCdG4uYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICAgICAgdG9hc3RFbGVtLmFwcGVuZENoaWxkKHRvYXN0SWNvbik7XG4gICAgICAgIHRvYXN0RWxlbS5hcHBlbmRDaGlsZCh0b2FzdEJvZHkpO1xuICAgICAgICB0b2FzdEVsZW0uYXBwZW5kQ2hpbGQoY2xvc2VCdG4pO1xuICAgICAgICBjb25zdCB0aW1lcklkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRvYXN0RWxlbS5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgICAgICB0b2FzdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIH0sIHRoaXMuVE9BU1RfQVVUT19ESVNNSVNTKTtcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICBpZiAodG9hc3RFbGVtLmlzQ29ubmVjdGVkKVxuICAgICAgICAgICAgICAgIHRvYXN0RWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b2FzdEVsZW07XG4gICAgfVxuICAgICQoc2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFlbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW1BhbmVsVmlld10gTWlzc2luZyBlbGVtZW50OiAke3NlbGVjdG9yfWApO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgICRhbGwoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBlbCh0YWcsIGNsYXNzTmFtZSwgdGV4dCkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKVxuICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGlmICh0ZXh0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG1ha2VPcHQodmFsdWUsIGxhYmVsLCBzZWxlY3RlZCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgby52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBvLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIGlmIChzZWxlY3RlZClcbiAgICAgICAgICAgIG8uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG4gICAgY3JlYXRlU3ZnSWNvbihkLCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3N2ZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgb3B0cy52aWV3Qm94ID8/ICcwIDAgMjAgMjAnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBvcHRzLmNsYXNzTmFtZSA/PyAnaC0zLjUgdy0zLjUnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdjdXJyZW50Q29sb3InKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICBpZiAob3B0cy5hdHRycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMob3B0cy5hdHRycykpXG4gICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShrLCB2KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAncGF0aCcpO1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKCdkJywgZCk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoRWwpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBhbmVsQ29udHJvbGxlciB9IGZyb20gJ0BwYW5lbC9jb250cm9sbGVyL3BhbmVsX2NvbnRyb2xsZXInO1xuaW1wb3J0IHsgUGFuZWxWaWV3IH0gZnJvbSAnLi4vdmlldy9wYW5lbF92aWV3Jztcbi8qKlxuICogT3JjaGVzdHJhdGVzIFVJIGluaXRpYWxpemF0aW9uIGFuZCBjb25uZWN0aW9uIGxpZmVjeWNsZS5cbiAqIC0gQXBwbHkgaTE4blxuICogLSBEZXRlY3QgYW5kIGNvbm5lY3QgdG8gdGhlIGFjdGl2ZSB0YWJcbiAqIC0gUmVzdG9yZSBzdGF0ZSBhbmQgcGVyZm9ybSBpbml0aWFsIHJlbmRlclxuICogLSBCaW5kIFVJIGV2ZW50c1xuICovXG5hc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IFBhbmVsVmlldyhkb2N1bWVudCk7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQYW5lbENvbnRyb2xsZXIodmlldyk7XG4gICAgYXdhaXQgY29udHJvbGxlci5zdGFydCgpO1xufVxuKGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xuICAgICAgICB2b2lkIHN0YXJ0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFuZWwgYm9vdHN0cmFwIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB2b2lkIHN0YXJ0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFuZWwgYm9vdHN0cmFwIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiJdLCJuYW1lcyI6WyJpc1Jlc3RyaWN0ZWQiLCJyYXciLCJzdGFydHNXaXRoIiwidXJsIiwiVVJMIiwiU2V0IiwiaGFzIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsIklURU1fQ09MT1JTIiwiSVRFTV9TSEFQRSIsIklURU1fUE9TSVRJT05fVkFMVUVTIiwiVU5HUk9VUEVEIiwiVU5HUk9VUEVEX1ZBTFVFIiwiaXNTY3JlZW5JdGVtTGlrZSIsInYiLCJhbmNob3IiLCJhIiwiaW5pdGlhbE1vZGVsIiwic3RhdHVzIiwidGFiSWQiLCJwYWdlS2V5IiwicGFnZUtleXMiLCJ0aGVtZSIsInNlbGVjdGlvbkVuYWJsZWQiLCJpdGVtcyIsImRlZmF1bHRTaXplIiwiZGVmYXVsdENvbG9yIiwiZGVmYXVsdFNoYXBlIiwiZGVmYXVsdFBvc2l0aW9uIiwiZGVmYXVsdEdyb3VwIiwiY2FwdHVyZSIsImZvcm1hdCIsImFyZWEiLCJxdWFsaXR5Iiwic2NhbGUiLCJwYW5lbEV4cGFuZGVkIiwic2VsZWN0SXRlbXMiLCJtaXNzaW5nSWRzIiwidG9hc3RNZXNzYWdlcyIsInNjcmVlblN0YXRlVGFibGUiLCJyb290S2V5IiwiZGVmYXVsdE9mIiwiS0VZIiwiYXN5bmMiLCJyZWFkQWxsIiwiY2hyb21lIiwic3RvcmFnZSIsImxvY2FsIiwiZ2V0Iiwid3JpdGVBbGwiLCJtYXAiLCJzZXQiLCJrZXkiLCJmb3VuZCIsInVuZGVmaW5lZCIsInZhbHVlIiwicmVtb3ZlIiwiY2xlYXIiLCJjcmVhdGVNYXBUYWJsZSIsIm5leHRJZCIsInRoZW1lVGFibGUiLCJ2YWwiLCJjcmVhdGVTaW5nbGV0b24iLCJhcHBseVBhdGNoIiwicGF0Y2giLCJzdGF0ZSIsInJlbW92ZWRJZHMiLCJsZW5ndGgiLCJ0b1JlbW92ZSIsImZpbHRlciIsIml0IiwiaWQiLCJhZGRlZCIsImxhYmVsIiwiSW5maW5pdHkiLCJzaXplIiwiY29sb3IiLCJzaGFwZSIsInBvc2l0aW9uIiwiZ3JvdXAiLCJjb21tZW50IiwicHVzaCIsIm5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQiLCJidWNrZXRzIiwiTWFwIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInRyaW0iLCJvdXQiLCJzbGljZSIsImJ1Y2tldCIsInNvcnQiLCJiIiwiaSIsImRlc2lyZWQiLCJzdWJzIiwiaTE4biIsImdldE1lc3NhZ2UiLCJsb2NhbGl6ZSIsInJvb3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImdldEF0dHJpYnV0ZSIsInRleHRDb250ZW50Iiwic3BlYyIsInBhaXIiLCJzcGxpdCIsImF0dHIiLCJzIiwic2V0QXR0cmlidXRlIiwiU1RBVFVTIiwiU1RBVFVTX01TR19LRVkiLCJSRVNUUklDVEVEIiwiQ09OTkVDVElORyIsIkNPTk5FQ1RFRCIsIkRJU0NPTk5FQ1RFRCIsIlNUQVRVU19MQUJFTF9TVFlMRSIsImJvZHkiLCJkb3QiLCJBY3Rpb25UeXBlIiwiRWZmZWN0VHlwZSIsIkNIQU5ORUwiLCJQYW5lbEFwaSIsInJwYyIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNlbmQiLCJyZXEiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZXhwZWN0UmVwbHkiLCJyZW5kZXIiLCJ0eXBlIiwicGF5bG9hZCIsInRvZ2dsZVNlbGVjdCIsImVuYWJsZWQiLCJob3ZlciIsIm1lYXN1cmVTaXplIiwicGluZyIsIlBvcnRScGMiLCJwb3J0IiwicGVuZGluZyIsImFsaXZlIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiLCJtc2ciLCJpc1Jlc3BvbnNlIiwiZGVsZXRlIiwib25EaXNjb25uZWN0IiwicmVhc29uIiwicnVudGltZSIsImxhc3RFcnJvciIsIm1lc3NhZ2UiLCJyZXNvbHZlIiwib2siLCJlcnJvciIsImlzQWxpdmUiLCJ0aW1lb3V0TXMiLCJQcm9taXNlIiwidGltZXIiLCJzZXRUaW1lb3V0IiwicmVzIiwiY2xlYXJUaW1lb3V0IiwicG9zdE1lc3NhZ2UiLCJPV05FRCIsInRhcmdldCIsIm1ldGhvZCIsInBhcmFtcyIsInJlamVjdCIsImRlYnVnZ2VyIiwic2VuZENvbW1hbmQiLCJyZXN1bHQiLCJlcnIiLCJFcnJvciIsIlN0cmluZyIsIm9wdHMiLCJ0YWIiLCJ0YWJzIiwiY29uc29sZSIsIndhcm4iLCJmbXQiLCJzZXR0bGVNcyIsImRpZEF0dGFjaCIsInVzZWRPdmVycmlkZSIsImF0dGFjaCIsImFkZCIsImluY2x1ZGVzIiwiYXR0YWNoT3duZWQiLCJicmluZ1RvRnJvbnQiLCJnZW9tIiwiY29udGVudFNpemUiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY3NzVmlzdWFsVmlld3BvcnQiLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJwYWdlWCIsInBhZ2VZIiwiY2VpbCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Vmlld3BvcnRDc3NSZWN0IiwidXNlT3ZlcnJpZGUiLCJjbGlwIiwiY2FwdHVyZUJleW9uZFZpZXdwb3J0Iiwic2hvdWxkU2Nyb2xsVG9wIiwibWV0cmljcyIsImRldmljZVNjYWxlRmFjdG9yIiwibW9iaWxlIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJyZXNvbHZlR2VvbWV0cnkiLCJleHByZXNzaW9uIiwiciIsImNhcFBhcmFtcyIsImZyb21TdXJmYWNlIiwibWluIiwicm91bmQiLCJkYXRhIiwiZmlsZW5hbWUiLCJiYXNlIiwidGl0bGUiLCJob3N0IiwicmVwbGFjZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1ha2VGaWxlbmFtZSIsImRvd25sb2FkcyIsImRvd25sb2FkIiwic2F2ZUFzIiwiZGV0YWNoIiwiZGV0YWNoT3duZWQiLCJleHBvcnRTY3JlZW5TdGF0ZSIsInByZWZpeCIsImtpbmQiLCJ2ZXJzaW9uIiwiZXhwb3J0ZWRBdCIsInRleHQiLCJieXRlcyIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiYmluIiwiZnJvbUNoYXJDb2RlIiwiYnRvYSIsInRvQmFzZTY0VXRmOCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkIiwicGFkIiwibiIsInciLCJwYWRTdGFydCIsInR6byIsImdldFRpbWV6b25lT2Zmc2V0Iiwic2lnbiIsImhoIiwiYWJzIiwibW0iLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJ0aW1lc3RhbXAiLCJpbXBvcnRTY3JlYW5TdGF0ZSIsImZpbGUiLCJpc0pzb25CeUV4dCIsInRlc3QiLCJuYW1lIiwiaXNKc29uQnlNaW1lIiwicGFyc2VkIiwicGFyc2UiLCJvIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJpc1ZhbGlkUGF5bG9hZCIsImtleU9mIiwiZXhpc3RpbmdTZXQiLCJVSUV2ZW50VHlwZSIsIm9uRGV0YWNoIiwiZGVidWdnZWUiLCJQYW5lbENvbnRyb2xsZXIiLCJ2aWV3IiwibW9kZWwiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJjb25uIiwiY3VycmVudFdpbmRvd0lkIiwic3RhdGljIiwiUkVOREVSX0NPTlRFTlQiLCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQiLCJDTEVBUl9DT05URU5UIiwiSE9WRVIiLCJzdGFydCIsImRpc3BhdGNoIiwiSU5JVCIsImVuc3VyZUNvbm5lY3Rpb25BbGl2ZSIsImZvcmNlUmVjb25uZWN0IiwicmVnaXN0ZXJWaWV3SGFuZGxlcnMiLCJ3aW5kb3dzIiwiZ2V0Q3VycmVudCIsInNlbmRlcldpbmRvd0lkIiwid2luZG93SWQiLCJvbiIsIlRPR0dMRV9TRUxFQ1QiLCJDTEVBUiIsIkNMRUFSX0FMTCIsIkNBUFRVUkUiLCJNRUFTVVJFX0NPTlRFTlRfU0laRSIsIkJBREdFX1NJWkVfQ0hBTkdFIiwiU0VUX0JBREdFX1NJWkUiLCJCQURHRV9DT0xPUl9TRUxFQ1QiLCJTRVRfQkFER0VfQ09MT1IiLCJCQURHRV9TSEFQRV9DSEFOR0UiLCJTRVRfQkFER0VfU0hBUEUiLCJCQURHRV9ERUxFVEUiLCJCQURHRV9QT1NJVElPTl9TRUxFQ1QiLCJTRVRfQkFER0VfUE9TSVRJT04iLCJUT0dHTEVfQ0FQVFVSRV9QQU5FTCIsIkNBUFRVUkVfRk9STUFUX0NIQU5HRSIsIlNFVF9DQVBUVVJFX0ZPUk1BVCIsIkNBUFRVUkVfQVJFQV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9BUkVBIiwiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSIsIlNFVF9DQVBUVVJFX1FVQUxJVFkiLCJDQVBUVVJFX1NDQUxFX0NIQU5HRSIsIlNFVF9DQVBUVVJFX1NDQUxFIiwiUkVPUkRFUl9JVEVNUyIsImZyb21JZCIsImZyb21JbmRleCIsInRvSW5kZXgiLCJTRVRfR1JPVVAiLCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEIiwiSVRFTV9IT1ZFUl9JTiIsIklURU1fSE9WRVJfT1VUIiwiSVRFTV9DT01NRU5UX0FQUExZIiwiVVBEQVRFX0lURU1fQ09NTUVOVCIsIlVQREFURV9USEVNRSIsIlNFVFRJTkdfTU9EQUxfU0hPVyIsIlNUT1JFX1JFTE9BRF9SRVFVRVNURUQiLCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUiLCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRCIsInV1aWQiLCJSRU1PVkVfUEFHRV9DTElDSyIsIlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRSIsIkVYUE9SVF9QQUdFX0NMSUNLIiwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFIiwiYWN0aW9uIiwibmV4dCIsImVmZmVjdHMiLCJTRVRfVEhFTUUiLCJTRVRfU1RBVFVTIiwiUkVTVE9SRV9TVEFURSIsIlNFVF9NSVNTSU5HX0lEUyIsIkNMRUFSX1NUQVRFIiwiQ09OVEVOVF9TRUxFQ1RFRCIsIlBFUlNJU1RfU1RBVEUiLCJpdGVtc01hcmtlZEZvclJlbGFiZWwiLCJuZXh0R3JvdXBSYXciLCJuZXh0R3JvdXAiLCJ1cGRhdGVJdGVtQ250IiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsInVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsIiwiQ0FQVFVSRV9SRVFVRVNURUQiLCJOT1RJRllfRVJST1IiLCJDQVBUVVJFX1NVQ0NFRURFRCIsIkNBUFRVUkVfRkFJTEVEIiwiUmFuZ2VFcnJvciIsImZyb21JZHgiLCJmaW5kSW5kZXgiLCJyZW9yZGVySXRlbUxhYmVsIiwiaXNDaGVjayIsImFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRCeUlkIiwiZyIsImdyb3VwSWRzIiwiZ3JvdXBTZXQiLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAiLCJhbGxDaGVjayIsIlBPUlRfRElTQ09OTkVDVEVEIiwiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkUiLCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEIiwiSU1QT1JUX0ZBSUxFRCIsInQiLCJSRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZIiwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWSIsIkVYUE9SVF9GQUlMRUQiLCJ1cGRhdGUiLCJleGVjRWZmZWN0cyIsImNhdGNoIiwic29tZSIsImZ4IiwiUkVRVUlSRVNfQ09OTiIsImNvbnRleHRDaGFuZ2VkIiwiYXBpIiwicHJldiIsInNjcmVlblN0YXRlcyIsIk9iamVjdCIsImtleXMiLCJlIiwic3QiLCJwcmV2S2V5IiwicXVlcnkiLCJhY3RpdmUiLCJjdXJyZW50V2luZG93IiwiZ2V0QWN0aXZlVGFiIiwibmV3S2V5IiwiaW5jbHVkZUhhc2giLCJ1Iiwib3JpZ2luIiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNoIiwiZGlzY29ubmVjdCIsInNjcmlwdGluZyIsImV4ZWN1dGVTY3JpcHQiLCJmaWxlcyIsImNvbm5lY3QiLCJsaXN0ZW5lcnMiLCJmbiIsImNiIiwiZGlzcG9zZSIsImNvbm5lY3RUb1RhYiIsImFuY2hvcnMiLCJ1bmlxIiwiZnJvbSIsImZpbmQiLCJCb29sZWFuIiwidG9BZGQiLCJoYW5kbGVTZWxlY3RlZCIsIklDT05TIiwiY2FyZXREb3duIiwidmlld0JveCIsImNhcmV0RG93bkZpbGwiLCJjYXJldFJpZ2h0IiwiY2FyZXRSaWdodEZpbGwiLCJzdWNjZXNzIiwiZXhwb3J0IiwiY2xvc2UiLCJnZXRJY29uIiwiYnlMYWJlbFRoZW5JZCIsIlBhbmVsVmlldyIsImRvYyIsImVscyIsIk5FV19HUk9VUCIsIkhPVkVSX09VVF9ERUxBWSIsImRyYWdFbCIsImRyYWdTdGFydFBhcmVudCIsImRyYWdTdGFydEluZGV4IiwiaG92ZXJPdXRUaW1lciIsImNvbGxhcHNlZEdyb3VwcyIsIlRPQVNUX0FVVE9fRElTTUlTUyIsIiQiLCJ0b2dnbGVCdG4iLCJ0b2dnbGVJY29uIiwidG9nZ2xlTGFiZWwiLCJjbGVhckJ0biIsImNhcHR1cmVCdG4iLCJsaXN0IiwiZW1wdHkiLCJjb3VudCIsImNhcHR1cmVPcHRpb25zVG9nZ2xlIiwiY2FwdHVyZU9wdGlvbnNQYW5lbCIsImNhcHR1cmVGbXRSYWRpb3MiLCIkYWxsIiwiY2FwdHVyZUFyZWFSYWRpb3MiLCJqcGVnT25seUVscyIsImpwZWdRdWFsaXR5UmFuZ2UiLCJqcGVnUXVhbGl0eU51bWJlciIsImNhcHR1cmVTY2FsZVJhbmdlIiwiY2FwdHVyZVNjYWxlTnVtYmVyIiwiYmFkZ2VTaXplUmFuZ2UiLCJiYWRnZVNpemVOdW1iZXIiLCJiYWRnZUNvbG9yQnV0dG9ucyIsImJhZGdlQ29sb3JMYWJlbCIsImJhZGdlQ29sb3JEb3QiLCJiYWRnZVNoYXBlU2VsZWN0IiwiYmFkZ2VEZWxldGVCdXR0b24iLCJiYWRnZVBvc2l0aW9uQnV0dG9ucyIsImJhZGdlUG9zaXRpb25MYWJlbCIsImJhZGdlR3JvdXBTZWxlY3QiLCJncm91cE5hbWVNb2RhbCIsImdyb3VwTmFtZUlucHV0IiwiZ3JvdXBOYW1lQ2FuY2VsQnRuIiwiZ3JvdXBOYW1lQ3JlYXRlbEJ0biIsIml0ZW1Db21tZW50TW9kYWwiLCJpdGVtQ29tbWVudElucHV0IiwiaXRlbUNvbW1lbnRJZElucHV0IiwiaXRlbUNvbW1lbnRDYW5jZWxCdG4iLCJpdGVtQ29tbWVudEFwcGx5QnRuIiwic2VsZWN0SXRlbUFsbENoZWNrYm94Iiwic2V0dGluZ01vZGFsIiwic2V0dGluZ0J1dHRvbiIsInNldHRpbmdDbG9zZUJ1dHRvbiIsInRoZW1lTGlnaHRCdG4iLCJ0aGVtZURhcmtCdG4iLCJ0aGVtZURldmljZUJ0biIsImltcG9ydEZpbGVJbnB1dCIsImltcG9ydEJ0biIsInN0b3JlQ291bnQiLCJzdG9yZUxpc3QiLCJzdG9yZUVtcHR5IiwidG9hc3RQYXJlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZW1pdCIsInVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5IiwiZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0IiwiZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSIsImJpbmRTeW5jIiwiZmlyZVNpemUiLCJpc0Zpbml0ZSIsImJ0biIsImRhdGFzZXQiLCJjb2xvck5hbWUiLCJpc0l0ZW1TaGFwZSIsInBvc2l0aW9uTmFtZSIsImNsYXNzTGlzdCIsImFwcGx5VGhlbWUiLCJjbGljayIsInNlbGVjdGVkIiwiY2hlY2tlZCIsImNhbmNlbEhvdmVyT3V0Iiwic2NoZWR1bGVIb3Zlck91dCIsImhhbmRsZXIiLCJhcnIiLCJoIiwicmVuZGVyU3RhdHVzIiwicmVuZGVyVG9nZ2xlIiwicmVuZGVyTGlzdCIsInNlbGVjdFJhZGlvQnlWYWx1ZSIsImFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSSIsImFwcGx5QmFkZ2VDb2xvclVJIiwiYXBwbHlCYWRnZVBvc2l0b25VSSIsImFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJIiwiZ2V0RXhpc3RpbmdHcm91cHMiLCJhcHBseVN0b3JlIiwiYXBwbHlUb2FzdE1lc3NhZ2VzIiwic3R5bGUiLCJjbGFzc05hbWUiLCJjcmVhdGVFbGVtZW50IiwibXNnS2V5IiwiZ2V0U3RhdHVzTWVzc2FnZSIsInJlcGxhY2VDaGlsZHJlbiIsImRpc2FibGVGb3JtQ29udHJvbHMiLCJpY29uIiwiYWxsQ2hlY2tlZCIsImdyb3VwcyIsImdyb3VwQnlHcm91cCIsImdyb3VwS2V5cyIsImxvY2FsZUNvbXBhcmUiLCJmcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImdLZXkiLCJzZWN0aW9uIiwicmVuZGVyR3JvdXBTZWN0aW9uIiwiYXBwZW5kQ2hpbGQiLCJnSXRlbXMiLCJpc0NvbGxhcHNlZCIsImhlYWRlciIsImNoZWNrYm94V3JhcCIsImNoZWNrYm94IiwiYXBwZW5kIiwibGVmdCIsImNyZWF0ZVN2Z0ljb24iLCJ0b2dnbGVQYXRoIiwicXVlcnlTZWxlY3RvciIsInVsIiwiYXR0YWNoVWxEbkRIYW5kbGVycyIsInNlbGVjdENoZWNrZWQiLCJyZW5kZXJJdGVtIiwiaXNNaXNzaW5nIiwibGlCYXNlIiwibGkiLCJkcmFnZ2FibGUiLCJwYXJlbnRFbGVtZW50IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsImNhbGwiLCJjaGlsZHJlbiIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJwYXJlbnQiLCJlbmRJbmRleCIsImNoZWNrYm94U3R5bGUiLCJiYWRnZVN0eWxlIiwiYmFkZ2UiLCJtYWluIiwiY2hpcCIsImNvbW1lbnRCdG4iLCJnZW5lcmF0ZUNvbW1lbnRCdG4iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldExpIiwiY2xvc2VzdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJpc0FmdGVyIiwiY2xpZW50WSIsInRvcCIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwibSIsImlzSnBlZyIsInRvZ2dsZSIsImRpc2FibGVkIiwicmFkaW9zIiwicmFuZ2VFbCIsIm51bWJlckVsIiwib25WYWx1ZSIsInJlYWROdW0iLCJmYWxsYmFjayIsIk5hTiIsInN5bmMiLCJyYXdTdHIiLCJORUdBVElWRV9JTkZJTklUWSIsIlBPU0lUSVZFX0lORklOSVRZIiwic3RlcCIsImNsYW1wZWQiLCJjbGFtcCIsInJvdW5kZWQiLCJmaXhlZCIsInRvRml4ZWQiLCJpc0Rpc2FibGVkIiwiaGFzQXR0cmlidXRlIiwiZXhwYW5kZWQiLCJpbm5lckhUTUwiLCJnZXRCYWRnZUNvbG9yU3R5bGVOYW1lIiwidG9Mb3dlckNhc2UiLCJidXR0b24iLCJyZXBsYWNlQWxsIiwiZXhpc3RpbmdHcm91cHMiLCJkZWZhdXRHcm91cCIsIm1ha2VPcHQiLCJub3JtYWxpemUiLCJjcmVhdGVPcHQiLCJkb2N1bWVudEVsZW1lbnQiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImxpRWxlbSIsImFXcmFwRWxlbSIsImFFbGVtIiwiaHJlZiIsImV4cG9ydEJ0bkVsZW0iLCJleHBvcnRJY29uRGVmIiwiZXhwb3J0SWNvbiIsInJlbW92ZUJ0bkVsZW0iLCJyZW1vdmVJY29uRGVmIiwicmVtb3ZlSWNvbiIsInRvYXN0TWVzc2FnZSIsInRvYXN0RWxlbSIsImdlbmVyYXRlVG9hc3RNZXNzYWdlIiwidG9hc3RJY29uRGVmIiwidG9hc3RJY29uIiwidG9hc3RCb2R5IiwiZGVzYyIsImNsb3NlQnRuIiwiY2xvc2VJY29uRGVmIiwiY2xvc2VJY29uIiwidGltZXJJZCIsImlzQ29ubmVjdGVkIiwic2VsZWN0b3IiLCJ0YWciLCJub2RlIiwiU1ZHX05TIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwiYXR0cnMiLCJrIiwiZW50cmllcyIsInBhdGhFbCIsImNvbnRyb2xsZXIiLCJyZWFkeVN0YXRlIiwib25jZSJdLCJzb3VyY2VSb290IjoiIn0=