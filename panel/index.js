(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",s="RENDER",i="CLEAR",a="HOVER",n="MEASURE_SIZE",o="SELECTED",r="MISSING_IDS",l="CONTENT_SIZE_RESULT",c="ACTIVE_TAB_CHANGED";function d(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const E=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],h=["circle","square"],u=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",T="",m={status:"DISCONNECTED",tabId:null,pageKey:"",pageKeys:[],theme:"device",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:T,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[]},_=function(e,t){const s="screenStateByPage";async function i(){return(await chrome.storage.local.get(s))[s]??{}}async function a(e){await chrome.storage.local.set({[s]:e})}return{key:s,readAll:i,writeAll:a,get:async function(e){const s=(await i())[e];return void 0!==s?s:t?t():void 0},set:async function(e,t){const s=await i();s[e]=t,await a(s)},remove:async function(e){const t=await i();e in t&&(delete t[e],await a(t))},clear:async function(){await a({})}}}(0,()=>({items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:T})),g=function(){const e="themeMode";return{key:e,get:async function(){const t=(await chrome.storage.local.get(e))[e];return void 0===t?"device":t},set:async function(t){await chrome.storage.local.set({[e]:t})},remove:async function(){await chrome.storage.local.remove(e)}}}();function S(e){const t=new Map;e.forEach((e,s)=>{const i=(e.group??"").trim();t.has(i)||t.set(i,[]),t.get(i).push({index:s,item:e})});const s=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},i)=>{const a=i+1;t.label!==a&&(s[e]={...t,label:a})});return s}function C(e,t){return chrome.i18n.getMessage(e,t)||e}const A={get:C,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=C(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const s of t.split(";")){const[t,i]=s.split(":").map(e=>e?.trim());t&&i&&e.setAttribute(t,C(i))}})}},f="CONNECTED",R={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},O={RESTRICTED:{body:["bg-amber-50","border-amber-200","text-amber-700","dark:bg-amber-950","dark:border-amber-900/50","dark:text-amber-300"],dot:["bg-amber-500"]},CONNECTING:{body:["bg-sky-50","border-sky-200","text-sky-700","dark:bg-sky-950","dark:border-sky-900/50","dark:text-sky-300"],dot:["bg-sky-500"]},CONNECTED:{body:["bg-emerald-50","border-emerald-200","text-emerald-700","dark:bg-emerald-950","dark:border-emerald-900/50","dark:text-emerald-300"],dot:["bg-emerald-500"]},DISCONNECTED:{body:["bg-rose-50","border-rose-200","text-rose-700","dark:bg-rose-950","dark:border-rose-900/50","dark:text-rose-300"],dot:["bg-rose-500"]}};var N,I;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.STORE_RELOAD_REQUESTED="STORE_RELOAD_REQUESTED",e.STORE_RELOAD_SUCCEEDED="STORE_RELOAD_SUCCEEDED",e.REMOVE_SCREEN_STATE_BY_PAGE="REMOVE_SCREEN_STATE_BY_PAGE",e.EXPORT_SCREEN_STATE_BY_PAGE="EXPORT_SCREEN_STATE_BY_PAGE",e.EXPORT_FAILED="EXPORT_FAILED"}(N||(N={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.READ_SCREEN_STATE_STORE="READ_SCREEN_STATE_STORE",e.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY="REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY",e.EXPORT_SCREEN_STATE_BY_PAGE_KEY="EXPORT_SCREEN_STATE_BY_PAGE_KEY",e.NOTIFY_ERROR="NOTIFY_ERROR"}(I||(I={}));const b="spsk:panel-content:v1";class y{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:s,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:i})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class L{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,s]of this.pending)s({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(s=>{if(!this.alive)return s(void e.expectReply);if(e.expectReply){const i=setTimeout(()=>{this.pending.delete(e.id),s(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(i),s(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void s(void 0)}e.expectReply||s(void 0)})}}const v=new Set;async function P(e,t,s){return await new Promise((i,a)=>{chrome.debugger.sendCommand(e,t,s??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):i(e??{})})})}async function D(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||d(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const s={tabId:t.id},i=e.format??"png",a=e.settleMs??500,n=e.scale??1,o=e.area??"full";let r=!1,l=!1;try{r=await async function(e){const t=e.tabId??null;return await new Promise((s,i)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&v.add(t),void s(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&v.has(t)?s(!1):i(new Error("Debugger is already attached by another client (DevTools/extension).")):i(new Error(a))})})}(s),await P(s,"Page.enable"),(e.bringToFront??1)&&await P(s,"Page.bringToFront");const c=await async function(e,t,s,i){if("viewport"===t){const{x:t,y:i,width:a,height:n}=await async function(e){const t=(await P(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:i,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(i.width)),n=Math.max(1,0|Math.ceil(i.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!0}}(s,o,n,e.contentSize);c.shouldScrollTop&&await P(s,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),c.useOverride&&c.metrics&&(l=!0,await P(s,"Emulation.setDeviceMetricsOverride",c.metrics)),await new Promise(e=>setTimeout(e,a));const d={format:i,fromSurface:!0,captureBeyondViewport:c.captureBeyondViewport,clip:c.clip};"jpeg"===i&&"number"==typeof e.quality&&(d.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:E}=await P(s,"Page.captureScreenshot",d),h=`data:${"png"===i?"image/png":"image/jpeg"};base64,${E}`,u=e.filename??function(e,t){let s=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return s=s.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),s.length>80&&(s=s.slice(0,80)),`${s}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,i);return await chrome.downloads.download({url:h,filename:u,saveAs:!1})}finally{if(l)try{await P(s,"Emulation.clearDeviceMetricsOverride")}catch{}if(r)try{await async function(e){const t=e.tabId??null;null!=t&&v.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),v.delete(t))}(s)}catch{}}}async function w(e,t,s={}){const{saveAs:i=!1,prefix:a="specsketch-screen-state"}=s,n={format:"specsketch-export",kind:"screen-state",version:1,exportedAt:(new Date).toISOString(),pageKey:t,items:e.items},o=`data:application/json;charset=utf-8;base64,${function(e){const t=(new TextEncoder).encode(e);let s="";for(const e of t)s+=String.fromCharCode(e);return btoa(s)}(JSON.stringify(n,null,2))}`,r=function(e,t){return`${e}_${(t??"").replace(/https?:\/\//,"").replace(/[^a-zA-Z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,120)||"page"}_${function(e=new Date){const t=(e,t=2)=>String(e).padStart(t,"0"),s=-e.getTimezoneOffset(),i=s>=0?"+":"-",a=t(Math.floor(Math.abs(s)/60)),n=t(Math.abs(s)%60);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}_${t(e.getHours())}-${t(e.getMinutes())}-${t(e.getSeconds())}${i}${a}${n}`}()}.json`}(a,t);return await chrome.downloads.download({url:o,filename:r,saveAs:i})}var G;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&v.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY",e.UPDATE_THEME="UPDATE_THEME",e.SETTING_MODAL_SHOW="SETTING_MODAL_SHOW",e.REMOVE_PAGE_CLICK="REMOVE_PAGE_CLICK",e.EXPORT_PAGE_CLICK="EXPORT_PAGE_CLICK"}(G||(G={}));class M{view;model=structuredClone(m);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([I.RENDER_CONTENT,I.TOGGLE_SELECT_ON_CONTENT,I.CLEAR_CONTENT,I.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:N.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==c)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(G.TOGGLE_SELECT,()=>this.dispatch({type:N.TOGGLE_SELECT})),this.view.on(G.CLEAR,()=>this.dispatch({type:N.CLEAR_ALL})),this.view.on(G.CAPTURE,()=>this.dispatch({type:N.MEASURE_CONTENT_SIZE})),this.view.on(G.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:N.SET_BADGE_SIZE,size:e})),this.view.on(G.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:N.SET_BADGE_COLOR,color:e})),this.view.on(G.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:N.SET_BADGE_SHAPE,shape:e})),this.view.on(G.BADGE_DELETE,()=>this.dispatch({type:N.BADGE_DELETE})),this.view.on(G.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:N.SET_BADGE_POSITION,position:e})),this.view.on(G.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:N.TOGGLE_CAPTURE_PANEL})),this.view.on(G.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:N.SET_CAPTURE_FORMAT,format:e})),this.view.on(G.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:N.SET_CAPTURE_AREA,area:e})),this.view.on(G.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:N.SET_CAPTURE_QUALITY,quality:e})),this.view.on(G.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:N.SET_CAPTURE_SCALE,scale:e})),this.view.on(G.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:s})=>this.dispatch({type:N.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:s})),this.view.on(G.SET_GROUP,({group:e})=>this.dispatch({type:N.SET_GROUP,group:e})),this.view.on(G.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:N.ITEM_SELECTION_CHANGED,...e})),this.view.on(G.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:N.ITEM_HOVER_IN,id:e})),this.view.on(G.ITEM_HOVER_OUT,()=>this.dispatch({type:N.ITEM_HOVER_OUT})),this.view.on(G.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:N.UPDATE_ITEM_COMMENT,id:e,comment:t})),this.view.on(G.UPDATE_THEME,({theme:e})=>this.dispatch({type:N.UPDATE_THEME,theme:e})),this.view.on(G.SETTING_MODAL_SHOW,()=>this.dispatch({type:N.STORE_RELOAD_REQUESTED})),this.view.on(G.REMOVE_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:N.REMOVE_SCREEN_STATE_BY_PAGE,pageKey:e})),this.view.on(G.EXPORT_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:N.EXPORT_SCREEN_STATE_BY_PAGE,pageKey:e}))}dispatch(e){const{model:t,effects:s}=function(e,t){switch(t.type){case N.INIT:return{model:e,effects:[{kind:I.SET_THEME}]};case N.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case N.SET_STATUS:return t.status===f?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case N.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:I.RENDER_CONTENT,items:t.state.items}]};case N.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case N.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:I.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case N.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:I.CLEAR_CONTENT},{kind:I.CLEAR_STATE}]};case N.CONTENT_SELECTED:return{model:e,effects:[]};case N.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case N.SET_BADGE_SIZE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:s},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:s}]}}case N.SET_BADGE_COLOR:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:s},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:s}]}}case N.SET_BADGE_SHAPE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:s},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:s}]}}case N.BADGE_DELETE:{const t=S(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:t}]}}case N.SET_BADGE_POSITION:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:s},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:s}]}}case N.SET_GROUP:{const s=function(e,t,s){const i=(s??"").trim();let a=0;return e.sort((e,t)=>t.id-e.id).map(e=>{if(t.includes(e.id)&&e.group!==i){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:i,label:t}}return e})}(e.items,e.selectItems,t.group),i=S(s);return{model:{...e,defaultGroup:t.group,items:i},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:i}]}}case N.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case N.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case N.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case N.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case N.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:I.MEASURE_CONTENT_SIZE}]};case N.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:I.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:I.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case N.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case N.CAPTURE_FAILED:return{model:e,effects:[{kind:I.NOTIFY_ERROR,error:t.error}]};case N.REORDER_ITEMS:{const s=function(e,t,s,i){if(i<0||i>=e.length)throw new RangeError(`toIndex out of range: ${i}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(i<0||i>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${i}`);const n=i+(s<i?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),i=S(s);return{model:{...e,items:i},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:i}]}}case N.ITEM_SELECTION_CHANGED:if("id"in t){const s=function(e,t,s){return t&&!s.includes(e)?[...s,e]:s.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:s},effects:[]}}if("group"in t){const s=function(e,t,s,i){const a=e.trim(),n=i.filter(e=>(e.group??T).trim()===a).map(e=>e.id);if(0===n.length)return s;if(t){const e=new Set(s);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return s.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:s},effects:[]}}{const a=(s=t.allCheck,i=e.items,s?i.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case N.ITEM_HOVER_IN:return{model:e,effects:[{kind:I.HOVER,id:t.id}]};case N.ITEM_HOVER_OUT:return{model:e,effects:[{kind:I.HOVER,id:null}]};case N.UPDATE_ITEM_COMMENT:{const s=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:s},effects:[{kind:I.PERSIST_STATE},{kind:I.RENDER_CONTENT,items:s}]}}case N.PORT_DISCONNECTED:return{model:{...e,status:"DISCONNECTED",selectionEnabled:!1},effects:[{kind:I.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};case N.SET_THEME:return{model:{...e,theme:t.theme},effects:[]};case N.UPDATE_THEME:return{model:{...e,theme:t.theme},effects:[{kind:I.UPDATE_THEME,theme:t.theme}]};case N.STORE_RELOAD_REQUESTED:return{model:e,effects:[{kind:I.READ_SCREEN_STATE_STORE}]};case N.STORE_RELOAD_SUCCEEDED:return{model:{...e,pageKeys:t.pageKeys},effects:[]};case N.REMOVE_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:I.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY,pageKey:t.pageKey}]};case N.EXPORT_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:I.EXPORT_SCREEN_STATE_BY_PAGE_KEY,pageKey:t.pageKey}]};case N.EXPORT_FAILED:return{model:e,effects:[{kind:I.NOTIFY_ERROR,error:t.error}]};default:return{model:e,effects:[]}}var s,i}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(s).catch(console.error)}async execEffects(e){if(e.some(e=>M.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case I.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case I.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case I.CLEAR_CONTENT:await(this.conn?.api.clear());break;case I.HOVER:await(this.conn?.api.hover(t.id));break;case I.CLEAR_STATE:await _.set(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case I.PERSIST_STATE:{const e=await _.get(this.model.pageKey);await _.set(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case I.SET_THEME:{const e=await g.get();this.dispatch({type:N.SET_THEME,theme:e});break}case I.UPDATE_THEME:await g.set(t.theme);break;case I.READ_SCREEN_STATE_STORE:{const e=await _.readAll(),t=Object.keys(e);this.dispatch({type:N.STORE_RELOAD_SUCCEEDED,pageKeys:t});break}case I.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY:{await _.remove(t.pageKey);const e=await _.readAll(),s=Object.keys(e);this.dispatch({type:N.STORE_RELOAD_SUCCEEDED,pageKeys:s});const i=await _.get(this.model.pageKey);this.dispatch({type:N.RESTORE_STATE,state:{items:i.items,defaultSize:i.defaultSize,defaultColor:i.defaultColor,defaultShape:i.defaultShape,defaultPosition:i.defaultPosition,defaultGroup:i.defaultGroup}});break}case I.EXPORT_SCREEN_STATE_BY_PAGE_KEY:try{const e=await _.get(t.pageKey);await w(e,t.pageKey)}catch(e){this.dispatch({type:N.EXPORT_FAILED,error:e})}break;case I.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case I.CAPTURE:try{await D(t.payload),this.dispatch({type:N.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:N.CAPTURE_FAILED,error:e})}break;case I.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const s=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!s?.id||d(s.url))return this.dispatch({type:N.SET_STATUS,status:"RESTRICTED"}),{ok:!1};const i=function(e,t=!1){try{const s=new URL(e);return t?`${s.origin}${s.pathname}${s.search}${s.hash}`:`${s.origin}${s.pathname}${s.search}`}catch{return e}}(s.url),a=s.id;this.dispatch({type:N.CONNECTED,tabId:a,pageKey:i}),this.dispatch({type:N.SET_STATUS,status:"CONNECTING"});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:b}),s=new L(t),i=new y(s),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:i,port:t,rpc:s,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:N.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===o){const t=await async function(e,t){const s=await _.get(e),i=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of i){const t=s.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const o={};return a.length&&(o.removedIds=a),n.length&&(o.added=n),async function(e,t){const s=await _.get(e);if(t.removedIds?.length){const e=new Set(t.removedIds);s.items=s.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:s.nextId++,label:1/0,anchor:e.anchor,size:s.defaultSize,color:s.defaultColor,shape:s.defaultShape,position:s.defaultPosition,group:s.defaultGroup};s.items.push(t)}return s.items=S(s.items),await _.set(e,s),s}(e,o)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:N.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===r?this.dispatch({type:N.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===l&&this.dispatch({type:N.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await _.get(i);return this.dispatch({type:N.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:N.SET_STATUS,status:f}),{ok:!0,contextChanged:!!t&&t!==i}}}const k={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"},remove:{d:"M7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h3a1 1 0 1 1 0 2h-1l-1 10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6H4a1 1 0 1 1 0-2h3V3Zm1 3a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z",viewBox:"0 0 20 20"},export:{d:"M3 16.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm7.53-2.03a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V3.75a.75.75 0 0 1 1.5 0v8.13l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3Z",viewBox:"0 0 20 20"}};function U(e){const{d:t,viewBox:s="0 0 20 20"}=k[e];return{d:t,viewBox:s}}function B(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class x{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;constructor(e){this.doc=e,A.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]'),settingModal:this.$("#setting-modal"),settingButton:this.$("#setting-button"),settingCloseButton:this.$("#setting-close-btn"),themeLightBtn:this.$("#theme-light-btn"),themeDarkBtn:this.$("#theme-dark-btn"),themeDeviceBtn:this.$("#theme-device-btn"),storeCount:this.$("#store-count"),storeList:this.$("#store-list"),storeEmpty:this.$("#store-empty")},this.els.toggleBtn.addEventListener("click",()=>this.emit(G.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(G.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(G.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(G.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(G.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(G.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(G.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(G.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(G.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",s="string"==typeof(i=t)&&E.includes(i)?t:"Blue";var i;this.emit(G.BADGE_COLOR_SELECT,{color:s})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&h.includes(e)}(e)?e:"circle";this.emit(G.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(G.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",s="string"==typeof(i=t)&&u.includes(i)?t:"left-top-outside";var i;this.emit(G.BADGE_POSITION_SELECT,{position:s})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?T:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(G.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?T:e;this.emit(G.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(G.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.els.settingButton.addEventListener("click",()=>{this.els.settingModal.classList.remove("hidden"),this.emit(G.SETTING_MODAL_SHOW,void 0)}),this.els.settingCloseButton.addEventListener("click",()=>{this.els.settingModal.classList.add("hidden")}),this.els.themeLightBtn.addEventListener("click",()=>{this.applyTheme("light"),this.emit(G.UPDATE_THEME,{theme:"light"})}),this.els.themeDarkBtn.addEventListener("click",()=>{this.applyTheme("dark"),this.emit(G.UPDATE_THEME,{theme:"dark"})}),this.els.themeDeviceBtn.addEventListener("click",()=>{this.applyTheme("device"),this.emit(G.UPDATE_THEME,{theme:"device"})}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(G.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(G.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const s=this.listeners[e];s?.forEach(e=>e(t))}render(e){this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup),this.applyTheme(e.theme),this.applyStore(e.pageKeys)}renderStatus(e){const t=O[e],s=this.els.status;s.className="",s.classList.add("connect-status",...t.body);const i=this.doc.createElement("span");i.classList.add("connect-status-dot",...t.dot);const a=this.doc.createElement("span");a.textContent=function(e){const t=R[e];return A.get(t)||t}(e),s.replaceChildren(i,a),this.disableFormControls(e!==f)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=A.get(e?"toggle_on":"toggle_off")}renderList(e,t,s){this.els.count.textContent=String(e.length);const i=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=i,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),o=this.doc.createDocumentFragment();for(const e of n){const i=this.renderGroupSection(e,a.get(e),t,s);o.appendChild(i)}this.els.list.replaceChildren(o)}renderGroupSection(e,t,s,i){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),o=this.el("div","select-item-header"),r=this.el("div","spsk-checkwrap"),l=this.el("input","spsk-checkbox spsk-checkbox--normal");l.type="checkbox",l.name="item-select",l.value=e===p?A.get("group_ungrouped"):e,l.checked=t.every(e=>s.includes(e.id)),l.addEventListener("change",t=>{const s=t.target.checked;this.emit(G.ITEM_SELECTION_CHANGED,{group:e===p?T:e,isCheck:s})}),r.append(l);const c=this.el("span","select-item-gh-title",e===p?A.get("group_ungrouped"):e),d=this.el("div","select-item-gh-left");d.append(r,c);const E=this.el("span","select-item-gh-count",String(t.length)),h=this.el("button","select-item-gh-toggle");h.type="button",h.setAttribute("aria-expanded",String(!a));const{d:u,viewBox:m}=U(a?"caretRight":"caretDown"),_=this.createSvgIcon(u,{className:"icon-sm",viewBox:m}),g=_.querySelector("path");h.append(_),o.append(d,E,h);const S=this.el("ul","select-item-list");a&&S.classList.add("hidden"),this.attachUlDnDHandlers(S);for(const e of t.sort(B)){const t=s.includes(e.id);S.appendChild(this.renderItem(e,t,i))}return h.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),S.classList.remove("hidden"),g.setAttribute("d",U("caretDown").d),h.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),S.classList.add("hidden"),g.setAttribute("d",U("caretRight").d),h.setAttribute("aria-expanded","false"))}),n.append(o,S),n}renderItem(e,t,s){const i=s.includes(e.id),a="select-item",n=this.el("li",i?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const s=this.dragEl.dataset.id??"";this.dragEl=null,s&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(G.REORDER_ITEMS,{fromId:Number(s),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const o=this.el("div","spsk-checkwrap"),r=i?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",l=this.el("input",r);l.type="checkbox",l.name="item-select",l.value=String(e.id),l.checked=t,l.addEventListener("change",t=>{const s=t.target.checked;this.emit(G.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:s})}),o.append(l);const c=i?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",d=this.el("span",c,String(e.label)),E=this.el("div","min-w-0 flex-1");if(E.addEventListener("pointerenter",()=>{this.dragStartParent||i||(this.cancelHoverOut(),this.emit(G.ITEM_HOVER_IN,{id:e.id}))}),i){const e=this.el("span","chip-warn"),{d:t,viewBox:s}=U("warn"),i=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:s}),a=this.el("span",void 0,A.get("missing_item"));e.append(i,a),E.append(e)}const h=this.el("div","anchor",e.anchor.value);E.append(h);const u=this.generateCommentBtn(e);return n.append(o,d,E,u),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:s,viewBox:i}=U("comment"),a=this.createSvgIcon(s,{className:"h-3.5 w-3.5",viewBox:i});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(G.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const s=t.target?.closest("li");if(s&&s!==this.dragEl){const i=s.getBoundingClientRect(),a=t.clientY-i.top>i.height/2;e.insertBefore(this.dragEl,a?s.nextSibling:s)}else s||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const s of e){const e=(s.group??T).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,s){const i=(e,t)=>{const s=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(s)?s:t},a=a=>{const n=i(t.min||e.min,Number.NEGATIVE_INFINITY),o=i(t.max||e.max,Number.POSITIVE_INFINITY),r=i(t.step||e.step,1),l=Number(a),c=((e,t,s)=>Math.min(Math.max(e,t),s))(Number.isFinite(l)?l:0,n,o),d=Math.round(c/r)*r,E=Number(d.toFixed(6));t.value=String(E),e.value=String(E),s?.(E)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disableFormControls(e){this.doc.querySelectorAll("button, select, input, textarea").forEach(t=>{t.hasAttribute("data-ignore-disable")||"disabled"in t&&(t.disabled=e)})}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:s}=U(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:s,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const s=t.dataset.colorName===e;t.setAttribute("aria-selected",s?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const s=t.dataset.positionName===e;t.setAttribute("data-selected",s?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,A.get("group_ungrouped"),t===p));for(const s of e){const e=(e=>(e??"").trim())(s);this.els.badgeGroupSelect.append(this.makeOpt(e,s,t===s))}const s=this.makeOpt(this.NEW_GROUP,A.get("common_create"));this.els.badgeGroupSelect.append(s)}applyTheme(e){const t=document.documentElement;("device"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e)?t.classList.add("dark"):t.classList.remove("dark"),this.els.themeLightBtn.setAttribute("data-active",String("light"===e)),this.els.themeDarkBtn.setAttribute("data-active",String("dark"===e)),this.els.themeDeviceBtn.setAttribute("data-active",String("device"===e))}applyStore(e){if(this.els.storeCount.textContent=String(e.length),this.els.storeList.innerHTML="",e.length<=0)return this.els.storeList.classList.add("hidden"),void this.els.storeEmpty.classList.remove("hidden");for(const t of e){const e=this.el("li","select-item"),s=this.el("div","min-w-0 flex-1"),i=this.el("a","anchor whitespace-normal break-words",t);i.href=t,i.target="_blank",s.appendChild(i);const a=this.el("button","btn-icon");a.setAttribute("data-ignore-disable","true");const n=U("export"),o=this.createSvgIcon(n.d,{className:"icon-sm",viewBox:n.viewBox});a.appendChild(o);const r=this.el("button","btn-icon btn-icon--danger");r.setAttribute("data-ignore-disable","true");const l=U("remove"),c=this.createSvgIcon(l.d,{className:"icon-sm",viewBox:l.viewBox});r.appendChild(c),e.appendChild(s),e.appendChild(a),e.appendChild(r),this.els.storeList.appendChild(e),a.addEventListener("click",()=>{this.emit(G.EXPORT_PAGE_CLICK,{pageKey:t})}),r.addEventListener("click",()=>{this.emit(G.REMOVE_PAGE_CLICK,{pageKey:t})})}this.els.storeList.classList.remove("hidden"),this.els.storeEmpty.classList.add("hidden")}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,s){const i=this.doc.createElement(e);return t&&(i.className=t),void 0!==s&&(i.textContent=s),i}makeOpt(e,t,s=!1){const i=this.doc.createElement("option");return i.value=e,i.textContent=t,s&&(i.selected=!0),i}createSvgIcon(e,t={}){const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");if(i.setAttribute("viewBox",t.viewBox??"0 0 20 20"),i.setAttribute("class",t.className??"h-3.5 w-3.5"),i.setAttribute("fill","currentColor"),i.setAttribute("aria-hidden","true"),t.attrs)for(const[e,s]of Object.entries(t.attrs))i.setAttribute(e,s);const a=document.createElementNS(s,"path");return a.setAttribute("d",e),i.appendChild(a),i}}async function H(){const e=new x(document),t=new M(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?H().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{H().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTeWlCLGdCQUFnQkYsRUFBUSxRQUdoRCxPQUZBTSxFQUFPbmlCLGFBQWEsSUFBS2tKLEdBQ3pCNFksRUFBSWxHLFlBQVl1RyxHQUNUTCxDQUNYLEVDdm5CSnBsQixlQUFld08sSUFDWCxNQUFNVixFQUFPLElBQUl1SyxFQUFVelYsVUFDckI4aUIsRUFBYSxJQUFJN1gsRUFBZ0JDLFNBQ2pDNFgsRUFBV2xYLE9BQ3JCLENBRWdDLGFBQXhCNUwsU0FBUytpQixZQUFxRCxnQkFBeEIvaUIsU0FBUytpQixXQUMxQ25YLElBQVFrRyxNQUFPck4sSUFDaEJNLFFBQVF2QixNQUFNLDBCQUEyQmlCLEtBSTdDekUsU0FBU21aLGlCQUFpQixtQkFBb0IsS0FBV3ZOLElBQVFrRyxNQUFPck4sSUFDcEVNLFFBQVF2QixNQUFNLDBCQUEyQmlCLE1BQ3pDLENBQ0F1ZSxNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21tb24vbWVzc2FnZXMudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3VybC50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zdG9yYWdlL3RhYmxlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL3N0YXRlLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9pMThuLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdmlldy9zdGF0dXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy9hY3Rpb25fdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy9lZmZlY3RfdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9hcGkudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvcG9ydF9ycGMudHMiLCJ3ZWJwYWNrOi8vLy4vaW5mcmEvY2RwL2NkcF9jbGllbnQudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9jYXB0dXJlLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvZXhwb3J0LnRzIiwid2VicGFjazovLy8uL2NvbW1vbi91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL3VpX2V2ZW50X3R5cGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvY29udHJvbGxlci9wYW5lbF9jb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvYXBwL3VwZGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9pbmZyYS9jaHJvbWUvdGFicy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9jb25uZWN0aW9uLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9pY29ucy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3ZpZXcvcGFuZWxfdmlldy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQMkMgPSB7XG4gICAgUElORzogJ1BJTkcnLFxuICAgIFRPR0dMRV9TRUxFQ1Q6ICdUT0dHTEVfU0VMRUNUJyxcbiAgICBSRU5ERVI6ICdSRU5ERVInLFxuICAgIENMRUFSOiAnQ0xFQVInLFxuICAgIEhPVkVSOiAnSE9WRVInLFxuICAgIE1FQVNVUkVfU0laRTogJ01FQVNVUkVfU0laRScsXG59O1xuY29uc3QgQzJQID0ge1xuICAgIFNFTEVDVEVEOiAnU0VMRUNURUQnLFxuICAgIE1JU1NJTkdfSURTOiAnTUlTU0lOR19JRFMnLFxuICAgIENPTlRFTlRfU0laRV9SRVNVTFQ6ICdDT05URU5UX1NJWkVfUkVTVUxUJyxcbn07XG5jb25zdCBCMlAgPSB7XG4gICAgQUNUSVZFX1RBQl9DSEFOR0VEOiAnQUNUSVZFX1RBQl9DSEFOR0VEJyxcbn07XG5leHBvcnQgY29uc3QgTVNHX1RZUEUgPSB7IC4uLlAyQywgLi4uQzJQLCAuLi5CMlAgfTtcbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3BvbnNlKG1zZykge1xuICAgIHJldHVybiB0eXBlb2YgbXNnID09PSAnb2JqZWN0JyAmJiBtc2cgIT09IG51bGwgJiYgJ2lkJyBpbiBtc2cgJiYgJ29rJyBpbiBtc2c7XG59XG4iLCIvKipcbiAqIEJ1aWxkcyBhIHBhZ2Uga2V5IGZyb20gYSBVUkwuIEJ5IGRlZmF1bHQgZXhjbHVkZXMgdGhlIGhhc2ggYW5kIHVzZXNcbiAqIG9yaWdpbiArIHBhdGhuYW1lICsgc2VhcmNoLlxuICpcbiAqIEBwYXJhbSB1cmwgLSBJbnB1dCBVUkwgKHJldHVybmVkIGFzLWlzIGlmIGludmFsaWQpXG4gKiBAcGFyYW0gaW5jbHVkZUhhc2ggLSBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIGhhc2ggKGRlZmF1bHQ6IGZhbHNlKVxuICogQHJldHVybnMgUGFnZSBrZXkgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWdlS2V5KHVybCwgaW5jbHVkZUhhc2ggPSBmYWxzZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIHJldHVybiBpbmNsdWRlSGFzaFxuICAgICAgICAgICAgPyBgJHt1Lm9yaWdpbn0ke3UucGF0aG5hbWV9JHt1LnNlYXJjaH0ke3UuaGFzaH1gXG4gICAgICAgICAgICA6IGAke3Uub3JpZ2lufSR7dS5wYXRobmFtZX0ke3Uuc2VhcmNofWA7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIFVSTCBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSBleHRlbnNpb24gb3BlcmF0aW9uLlxuICpcbiAqIFVucGFyc2VhYmxlL3Vua25vd24gc2NoZW1lcyBhcmUgdHJlYXRlZCBhcyByZXN0cmljdGVkLlxuICogTm9uLXdlYiBzY2hlbWVzIChlLmcuLCB2aWV3LXNvdXJjZTosIGRhdGE6LCBibG9iOiwgZmlsZXN5c3RlbTopIGFyZSBibG9ja2VkIGVhcmx5LlxuICogQ2hyb21lIFdlYiBTdG9yZSBwYWdlcyBhcmUgYWx3YXlzIGV4Y2x1ZGVkIChjb250ZW50IHNjcmlwdHMgYXJlIG5vdCBhbGxvd2VkIHRoZXJlKS5cbiAqXG4gKiBAcGFyYW0gcmF3IC0gVVJMIHN0cmluZyB0byBldmFsdWF0ZS5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgVVJMIHNob3VsZCBiZSBza2lwcGVkIGJ5IHRoZSBleHRlbnNpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3RyaWN0ZWQocmF3KSB7XG4gICAgaWYgKCFyYXcpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgndmlldy1zb3VyY2U6JykgfHxcbiAgICAgICAgcmF3LnN0YXJ0c1dpdGgoJ2RhdGE6JykgfHxcbiAgICAgICAgcmF3LnN0YXJ0c1dpdGgoJ2Jsb2I6JykgfHxcbiAgICAgICAgcmF3LnN0YXJ0c1dpdGgoJ2ZpbGVzeXN0ZW06JykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCB1cmw7XG4gICAgdHJ5IHtcbiAgICAgICAgdXJsID0gbmV3IFVSTChyYXcpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIC8vIEludmFsaWQgb3Igbm9uLXN0YW5kYXJkIFVSTCDihpIgc2tpcCBmb3Igc2FmZXR5LlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gQWxsb3ctbGlzdCBwb2xpY3k6IG9ubHkgb3BlcmF0ZSBvbiB0eXBpY2FsIHdlYiBwYWdlcy5cbiAgICBjb25zdCBhbGxvd2VkID0gbmV3IFNldChbJ2h0dHA6JywgJ2h0dHBzOicsICdmaWxlOiddKTtcbiAgICBpZiAoIWFsbG93ZWQuaGFzKHVybC5wcm90b2NvbCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIENocm9tZSBXZWIgU3RvcmUgKGN1cnJlbnQgYW5kIGxlZ2FjeSBob3N0KSDigJQgY29udGVudCBzY3JpcHRzIGFyZSBkaXNhbGxvd2VkIGJ5IHBsYXRmb3JtIHBvbGljeS5cbiAgICBjb25zdCB3ZWJTdG9yZUhvc3RzID0gbmV3IFNldChbJ2Nocm9tZXdlYnN0b3JlLmdvb2dsZS5jb20nLCAnY2hyb21lLmdvb2dsZS5jb20nXSk7XG4gICAgaWYgKHdlYlN0b3JlSG9zdHMuaGFzKHVybC5ob3N0bmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImNvbnN0IElURU1fQ09MT1JTID0gW1xuICAgICdHcmF5JyxcbiAgICAnUmVkJyxcbiAgICAnWWVsbG93JyxcbiAgICAnR3JlZW4nLFxuICAgICdCbHVlJyxcbiAgICAnTGltZScsXG4gICAgJ1B1cnBsZScsXG4gICAgJ1BpbmsnLFxuICAgICdPcmFuZ2UnLFxuICAgICdDeWFuJyxcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtQ29sb3Iodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9DT0xPUlMuaW5jbHVkZXModik7XG59XG5jb25zdCBJVEVNX1NIQVBFID0gWydjaXJjbGUnLCAnc3F1YXJlJ107XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtU2hhcGUodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9TSEFQRS5pbmNsdWRlcyh2KTtcbn1cbmV4cG9ydCBjb25zdCBJVEVNX1BPU0lUSU9OX1ZBTFVFUyA9IFtcbiAgICAncmlnaHQtdG9wLW91dHNpZGUnLFxuICAgICdyaWdodC10b3AtaW5zaWRlJyxcbiAgICAncmlnaHQtb3V0c2lkZScsXG4gICAgJ3JpZ2h0LWluc2lkZScsXG4gICAgJ3JpZ2h0LWJvdHRvbS1vdXRzaWRlJyxcbiAgICAncmlnaHQtYm90dG9tLWluc2lkZScsXG4gICAgJ3RvcC1vdXRzaWRlJyxcbiAgICAndG9wLWluc2lkZScsXG4gICAgJ2NlbnRlcicsXG4gICAgJ2JvdHRvbS1vdXRzaWRlJyxcbiAgICAnYm90dG9tLWluc2lkZScsXG4gICAgJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgICdsZWZ0LXRvcC1pbnNpZGUnLFxuICAgICdsZWZ0LW91dHNpZGUnLFxuICAgICdsZWZ0LWluc2lkZScsXG4gICAgJ2xlZnQtYm90dG9tLW91dHNpZGUnLFxuICAgICdsZWZ0LWJvdHRvbS1pbnNpZGUnLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZW1Qb3NpdGlvbih2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiBJVEVNX1BPU0lUSU9OX1ZBTFVFUy5pbmNsdWRlcyh2KTtcbn1cbmV4cG9ydCBjb25zdCBVTkdST1VQRUQgPSAnX191bmdyb3VwZWRfXyc7XG5leHBvcnQgY29uc3QgVU5HUk9VUEVEX1ZBTFVFID0gJyc7XG4iLCJpbXBvcnQgeyBVTkdST1VQRURfVkFMVUUsIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5leHBvcnQgY29uc3QgaW5pdGlhbE1vZGVsID0ge1xuICAgIHN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgdGFiSWQ6IG51bGwsXG4gICAgcGFnZUtleTogJycsXG4gICAgcGFnZUtleXM6IFtdLFxuICAgIHRoZW1lOiAnZGV2aWNlJyxcbiAgICBzZWxlY3Rpb25FbmFibGVkOiBmYWxzZSxcbiAgICBpdGVtczogW10sXG4gICAgZGVmYXVsdFNpemU6IDE0LFxuICAgIGRlZmF1bHRDb2xvcjogJ0JsdWUnLFxuICAgIGRlZmF1bHRTaGFwZTogJ2NpcmNsZScsXG4gICAgZGVmYXVsdFBvc2l0aW9uOiAnbGVmdC10b3Atb3V0c2lkZScsXG4gICAgZGVmYXVsdEdyb3VwOiBVTkdST1VQRURfVkFMVUUsXG4gICAgY2FwdHVyZToge1xuICAgICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgICBhcmVhOiAnZnVsbCcsXG4gICAgICAgIHF1YWxpdHk6IDkwLFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgcGFuZWxFeHBhbmRlZDogZmFsc2UsXG4gICAgfSxcbiAgICBzZWxlY3RJdGVtczogW10sXG4gICAgbWlzc2luZ0lkczogW10sXG59O1xuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG4vKipcbiAqIENyZWF0ZXMgYSBrZXktc2NvcGVkIOKAnG1hcCB0YWJsZeKAnSB0aGF0IHN0b3JlcyBhIHJlY29yZCBgeyBbcGFnZUtleV06IFQgfWBcbiAqIHVuZGVyIGEgc2luZ2xlIHJvb3Qga2V5IGluIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAuXG4gKlxuICogVXNlIHRoaXMgZm9yIHBlci1wYWdlIG9yIHBlci1zY29wZSBzdGF0ZSB3aGVyZSB2YWx1ZXMgYXJlIGRpc3Rpbmd1aXNoZWQgYnkgYSByb3cga2V5LlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIFZhbHVlIHR5cGUgc3RvcmVkIHBlciByb3cuXG4gKiBAcGFyYW0gcm9vdEtleSAtIFJvb3Qga2V5ICh3aXRob3V0IG5hbWVzcGFjZSBwcmVmaXgpIHVuZGVyIHdoaWNoIHRoZSBlbnRpcmUgbWFwIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSBkZWZhdWx0T2YgLSBPcHRpb25hbCBmYWN0b3J5IHRoYXQgcmV0dXJucyBhIGRlZmF1bHQgdmFsdWUgd2hlbiBhIHJvdyBpcyBtaXNzaW5nLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggQ1JVRCBoZWxwZXJzIGZvciB0aGUgdGFibGU6IGB7IGtleSwgcmVhZEFsbCwgd3JpdGVBbGwsIGdldCwgc2V0LCByZW1vdmUsIGNsZWFyIH1gLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWFwVGFibGUocm9vdEtleSwgZGVmYXVsdE9mKSB7XG4gICAgY29uc3QgS0VZID0gcm9vdEtleTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgZW50aXJlIHN0YXRlIG1hcCBmcm9tIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgZm9yIHRoaXMgdGFibGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgZnVsbCBzdGF0ZSBtYXA7IHJldHVybnMgYW4gZW1wdHkgb2JqZWN0IHdoZW4gbm90aGluZyBpcyBzdG9yZWQuXG4gICAgICogQHJlbWFya3MgUGVyZm9ybXMgc3RvcmFnZSBJL08gb24gZXZlcnkgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZWFkQWxsKCkge1xuICAgICAgICBjb25zdCByYXcgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoS0VZKTtcbiAgICAgICAgcmV0dXJuIHJhd1tLRVldID8/IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJzaXN0cyB0aGUgZW50aXJlIHN0YXRlIG1hcCB0byBgY2hyb21lLnN0b3JhZ2UubG9jYWxgIGZvciB0aGlzIHRhYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hcCAtIFRoZSBjb21wbGV0ZSBzdGF0ZSBtYXAgdG8gd3JpdGUuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHdyaXRlIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiB3cml0ZUFsbChtYXApIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW0tFWV06IG1hcCB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgc2luZ2xlIHJvdyBieSBpdHMgcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgKGUuZy4sIHBhZ2UgaWRlbnRpZmllcikuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHN0b3JlZCB2YWx1ZTsgaWYgbWlzc2luZyBhbmQgYGRlZmF1bHRPZmAgaXMgcHJvdmlkZWQsIHRoYXQgZGVmYXVsdCBpcyByZXR1cm5lZC5cbiAgICAgKiBAcmVtYXJrcyBXaGVuIGBkZWZhdWx0T2ZgIGlzIG5vdCBwcm92aWRlZCBhbmQgdGhlIHJvdyBpcyBtaXNzaW5nLCBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZCAodHlwZWQgYXMgYFRgKS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBnZXQocGFnZUtleSkge1xuICAgICAgICBjb25zdCBtYXAgPSBhd2FpdCByZWFkQWxsKCk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gbWFwW3BhZ2VLZXldO1xuICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgaWYgKGRlZmF1bHRPZilcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0T2YocGFnZUtleSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwc2VydHMgYSBzaW5nbGUgcm93IGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgdG8gd3JpdGUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gcGVyc2lzdC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXQocGFnZUtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBtYXBbcGFnZUtleV0gPSB2YWx1ZTtcbiAgICAgICAgYXdhaXQgd3JpdGVBbGwobWFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHNpbmdsZSByb3cgZm9yIHRoZSBnaXZlbiBwYWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlS2V5IC0gUm93IGtleSB0byBkZWxldGUuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHBhZ2VLZXkpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBpZiAocGFnZUtleSBpbiBtYXApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBtYXBbcGFnZUtleV07XG4gICAgICAgICAgICBhd2FpdCB3cml0ZUFsbChtYXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZW50aXJlIHRhYmxlIChyZW1vdmVzIGFsbCByb3dzIHVuZGVyIHRoaXMgcm9vdCBrZXkpLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICBhd2FpdCB3cml0ZUFsbCh7fSk7XG4gICAgfVxuICAgIHJldHVybiB7IGtleTogS0VZLCByZWFkQWxsLCB3cml0ZUFsbCwgZ2V0LCBzZXQsIHJlbW92ZSwgY2xlYXIgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGtleS1zY29wZWQg4oCcc2luZ2xldG9u4oCdIHN0b3JlIHRoYXQgc2F2ZXMgYSBzaW5nbGUgdmFsdWUgZGlyZWN0bHlcbiAqIHVuZGVyIHRoZSBnaXZlbiByb290IGtleSBpbiBgY2hyb21lLnN0b3JhZ2UubG9jYWxgLlxuICpcbiAqIFVzZSB0aGlzIGZvciBnbG9iYWwgc2V0dGluZ3Mgb3IgYW55IGNvbmZpZ3VyYXRpb24gdGhhdCBpcyBub3Qga2V5ZWQgYnkgcGFnZS5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgLSBWYWx1ZSB0eXBlIHN0b3JlZCBhcyBhIHNpbmdsZXRvbi5cbiAqIEBwYXJhbSByb290S2V5IC0gUm9vdCBrZXkgKHdpdGhvdXQgbmFtZXNwYWNlIHByZWZpeCkgdW5kZXIgd2hpY2ggdGhlIHZhbHVlIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSBkZWZhdWx0RmFjdG9yeSAtIEZhY3RvcnkgZnVuY3Rpb24gdG8gbGF6aWx5IHN1cHBseSB0aGUgZGVmYXVsdCB3aGVuIG5vIHZhbHVlIGV4aXN0cy5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIGhlbHBlcnMgZm9yIHRoZSBzaW5nbGV0b246IGB7IGtleSwgZ2V0LCBzZXQsIHJlbW92ZSB9YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNpbmdsZXRvbihyb290S2V5LCBkZWZhdWx0RmFjdG9yeSkge1xuICAgIGNvbnN0IEtFWSA9IHJvb3RLZXk7XG4gICAgLyoqXG4gICAgICogUmVhZHMgdGhlIHNpbmdsZXRvbiB2YWx1ZSBmcm9tIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgc3RvcmVkIHZhbHVlOyBmYWxscyBiYWNrIHRvIGBkZWZhdWx0RmFjdG9yeSgpYCB3aGVuIG1pc3NpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBjb25zdCByYXcgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoS0VZKTtcbiAgICAgICAgY29uc3QgdmFsID0gcmF3W0tFWV07XG4gICAgICAgIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRGYWN0b3J5KCkgOiB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgc2luZ2xldG9uIHZhbHVlIHRvIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBwZXJzaXN0LlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBbS0VZXTogdmFsdWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHNpbmdsZXRvbiB2YWx1ZSBmcm9tIHN0b3JhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoS0VZKTtcbiAgICB9XG4gICAgcmV0dXJuIHsga2V5OiBLRVksIGdldCwgc2V0LCByZW1vdmUgfTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRTY3JlZW5TdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgZGVmYXVsdFNpemU6IDE0LFxuICAgICAgICBkZWZhdWx0Q29sb3I6ICdCbHVlJyxcbiAgICAgICAgZGVmYXVsdFNoYXBlOiAnY2lyY2xlJyxcbiAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiAnbGVmdC10b3Atb3V0c2lkZScsXG4gICAgICAgIGRlZmF1bHRHcm91cDogVU5HUk9VUEVEX1ZBTFVFLFxuICAgIH07XG59XG4vKipcbiAqIFRhYmxlIGZvciBwZXItcGFnZSBgU2NyZWVuU3RhdGVgIHZhbHVlcy5cbiAqIEVhY2ggcm93IGlzIGFkZHJlc3NlZCBieSBhIHBhZ2Uga2V5OyBtaXNzaW5nIHJvd3MgZmFsbCBiYWNrIHRvIGBkZWZhdWx0U2NyZWVuU3RhdGUoKWAuXG4gKi9cbmV4cG9ydCBjb25zdCBzY3JlZW5TdGF0ZVRhYmxlID0gY3JlYXRlTWFwVGFibGUoJ3NjcmVlblN0YXRlQnlQYWdlJywgKCkgPT4gZGVmYXVsdFNjcmVlblN0YXRlKCkpO1xuLyoqXG4gKiBTaW5nbGV0b24gZm9yIGdsb2JhbCB0aGVtZSBtb2RlLlxuICogU3RvcmVzIGEgc2luZ2xlIGBUaGVtZU1vZGVgIHZhbHVlOyBkZWZhdWx0cyB0byBgJ2RldmljZSdgIHdoZW4gbm90IHNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRoZW1lVGFibGUgPSBjcmVhdGVTaW5nbGV0b24oJ3RoZW1lTW9kZScsICgpID0+ICdkZXZpY2UnKTtcbiIsImltcG9ydCB7IHNjcmVlblN0YXRlVGFibGUgfSBmcm9tICdAcGFuZWwvc3RvcmFnZS90YWJsZXMnO1xuLyoqXG4gKiBBcHBsaWVzIGEgcGF0Y2ggKGFkZC91cGRhdGUvcmVtb3ZlKSB0byB0aGUgc3RhdGUgZm9yIHRoZSBnaXZlbiBwYWdlIGtleSxcbiAqIHJlbGFiZWxzIHNlcXVlbnRpYWxseSBpZiBhbnkgcmVtb3ZhbCBvY2N1cnJlZCwgcGVyc2lzdHMgdGhlIHJlc3VsdCxcbiAqIGFuZCByZXR1cm5zIHRoZSB1cGRhdGVkIHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5U3RyIC0gUGFnZSBrZXkgb2YgdGhlIHN0YXRlIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSBwYXRjaCAtIENoYW5nZXMgdG8gYXBwbHkgdG8gdGhlIHN0YXRlLlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVwZGF0ZWQgU2NyZWVuU3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseVBhdGNoKHBhZ2VLZXksIHBhdGNoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBpZiAocGF0Y2gucmVtb3ZlZElkcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gbmV3IFNldChwYXRjaC5yZW1vdmVkSWRzKTtcbiAgICAgICAgc3RhdGUuaXRlbXMgPSBzdGF0ZS5pdGVtcy5maWx0ZXIoKGl0KSA9PiAhdG9SZW1vdmUuaGFzKGl0LmlkKSk7XG4gICAgfVxuICAgIGlmIChwYXRjaC5hZGRlZD8ubGVuZ3RoKSB7XG4gICAgICAgIGZvciAoY29uc3QgYSBvZiBwYXRjaC5hZGRlZCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBzdGF0ZS5uZXh0SWQrKztcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gSW5maW5pdHk7XG4gICAgICAgICAgICBjb25zdCBpdCA9IHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGEuYW5jaG9yLFxuICAgICAgICAgICAgICAgIHNpemU6IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBzdGF0ZS5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgc2hhcGU6IHN0YXRlLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RhdGUuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGdyb3VwOiBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuaXRlbXMucHVzaChpdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUuaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKHN0YXRlLml0ZW1zKTtcbiAgICBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnNldChwYWdlS2V5LCBzdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuLyoqXG4gKiBUb2dnbGVzIHNlbGVjdGlvbiBmb3IgdGhlIGdpdmVuIGFuY2hvcnMgKGZyb20gQ29udGVudCk6IGlmIGFuIGFuY2hvciBhbHJlYWR5XG4gKiBleGlzdHMsIHJlbW92ZSBpdDsgb3RoZXJ3aXNlIGFkZCBpdC4gRGVkdXBlIGluY29taW5nIGFuY2hvcnMgYnkgYHZhbHVlYCxcbiAqIGFwcGx5IHRoZSBjb3JyZXNwb25kaW5nIHBhdGNoLCBwZXJzaXN0LCBhbmQgcmV0dXJuIHRoZSBsYXRlc3Qgc3RhdGUuXG4gKlxuICogQHBhcmFtIHBhZ2VLZXlTdHIgLSBQYWdlIGtleSBvZiB0aGUgc3RhdGUgdG8gdXBkYXRlLlxuICogQHBhcmFtIGFuY2hvcnMgLSBBbmNob3JzIHJlcG9ydGVkIGJ5IENvbnRlbnQuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgdXBkYXRlZCBTY3JlZW5TdGF0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGVkKHBhZ2VLZXksIGFuY2hvcnMpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHBhZ2VLZXkpO1xuICAgIGNvbnN0IHVuaXEgPSBBcnJheS5mcm9tKG5ldyBTZXQoYW5jaG9ycy5tYXAoKGEpID0+IGEudmFsdWUpKSlcbiAgICAgICAgLm1hcCgodikgPT4gYW5jaG9ycy5maW5kKChhKSA9PiBhLnZhbHVlID09PSB2KSlcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCByZW1vdmVkSWRzID0gW107XG4gICAgY29uc3QgdG9BZGQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGEgb2YgdW5pcSkge1xuICAgICAgICBjb25zdCBmb3VuZCA9IHN0YXRlLml0ZW1zLmZpbmQoKGl0KSA9PiBpdC5hbmNob3Iua2luZCA9PT0gYS5raW5kICYmIGl0LmFuY2hvci52YWx1ZSA9PT0gYS52YWx1ZSk7XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgcmVtb3ZlZElkcy5wdXNoKGZvdW5kLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRvQWRkLnB1c2goeyBhbmNob3I6IGEgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGF0Y2ggPSB7fTtcbiAgICBpZiAocmVtb3ZlZElkcy5sZW5ndGgpXG4gICAgICAgIHBhdGNoLnJlbW92ZWRJZHMgPSByZW1vdmVkSWRzO1xuICAgIGlmICh0b0FkZC5sZW5ndGgpXG4gICAgICAgIHBhdGNoLmFkZGVkID0gdG9BZGQ7XG4gICAgcmV0dXJuIGFwcGx5UGF0Y2gocGFnZUtleSwgcGF0Y2gpO1xufVxuLyoqXG4gKiBSZWxhYmVscyBpdGVtcyBjb25zZWN1dGl2ZWx5ICgxLi5uKSAqd2l0aGluIGVhY2ggZ3JvdXAqIGFuZCByZXBvcnRzXG4gKiB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBcIm5vIGdyb3VwXCIgYnVja2V0LlxuICpcbiAqIEBwYXJhbSBpdGVtcyAtIFRoZSBvcmlnaW5hbCBsaXN0IG9mIGl0ZW1zICh0cmVhdGVkIGltbXV0YWJseSkuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbm9ybWFsaXplZCBpdGVtcyBhbmQgdGhlIG5vLWdyb3VwIGNvdW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtcykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChnKSA9PiAoZyA/PyAnJykudHJpbSgpOyAvLyAnJyBpcyB1bmlmaWVkIGFzIFVuR3JvdXBcbiAgICAvLyBCdWNrZXQgW2luZGV4LCBpdGVtXSBmb3IgZWFjaCBncm91cFxuICAgIGNvbnN0IGJ1Y2tldHMgPSBuZXcgTWFwKCk7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gbm9ybWFsaXplKGl0ZW0uZ3JvdXApO1xuICAgICAgICBpZiAoIWJ1Y2tldHMuaGFzKGtleSkpXG4gICAgICAgICAgICBidWNrZXRzLnNldChrZXksIFtdKTtcbiAgICAgICAgYnVja2V0cy5nZXQoa2V5KS5wdXNoKHsgaW5kZXgsIGl0ZW0gfSk7XG4gICAgfSk7XG4gICAgY29uc3Qgb3V0ID0gaXRlbXMuc2xpY2UoKTtcbiAgICAvLyBTb3J0IGVhY2ggZ3JvdXAg4oaSIFJlYXNzaWduIDEuLm5cbiAgICBmb3IgKGNvbnN0IFssIGJ1Y2tldF0gb2YgYnVja2V0cykge1xuICAgICAgICBidWNrZXQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEuaXRlbS5sYWJlbCAhPT0gYi5pdGVtLmxhYmVsKVxuICAgICAgICAgICAgICAgIHJldHVybiBhLml0ZW0ubGFiZWwgLSBiLml0ZW0ubGFiZWw7XG4gICAgICAgICAgICByZXR1cm4gYS5pdGVtLmlkIC0gYi5pdGVtLmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVja2V0LmZvckVhY2goKHsgaW5kZXgsIGl0ZW0gfSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzaXJlZCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGFiZWwgIT09IGRlc2lyZWQpIHtcbiAgICAgICAgICAgICAgICBvdXRbaW5kZXhdID0geyAuLi5pdGVtLCBsYWJlbDogZGVzaXJlZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImNvbnN0IGkxOG4gPSB7IGdldCwgbG9jYWxpemUgfTtcbi8qKlxuICogUmV0cmlldmVzIGEgbG9jYWxpemVkIG1lc3NhZ2UgYnkga2V5LiBGYWxscyBiYWNrIHRvIHRoZSBrZXkgaXRzZWxmIHdoZW4gbm90IGZvdW5kLlxuICpcbiAqIEBwYXJhbSBrZXkgLSBLZXkgZGVmaW5lZCBpbiBfbG9jYWxlcy9tZXNzYWdlcy5qc29uXG4gKiBAcGFyYW0gc3VicyAtIE9wdGlvbmFsIHN1YnN0aXR1dGlvbiBhcmd1bWVudHNcbiAqIEByZXR1cm5zIExvY2FsaXplZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZ2V0KGtleSwgc3Vicykge1xuICAgIHJldHVybiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKGtleSwgc3VicykgfHwga2V5O1xufVxuLyoqXG4gKiBXYWxrcyB0aGUgRE9NIGFuZCBhcHBsaWVzIGxvY2FsaXplZCBzdHJpbmdzIHRvIGVsZW1lbnRzIHdpdGhcbiAqIGBkYXRhLWkxOG5gIGFuZCBgZGF0YS1pMThuLWF0dHJgLlxuICpcbiAqIEBwYXJhbSByb290IC0gUm9vdCBub2RlIHRvIGxvY2FsaXplIChkZWZhdWx0cyB0byBkb2N1bWVudClcbiAqIEByZW1hcmtzXG4gKiAtIGBkYXRhLWkxOG5gIHJlcGxhY2VzIGB0ZXh0Q29udGVudGAuXG4gKiAtIGBkYXRhLWkxOG4tYXR0cmAgdXNlcyBgYXR0cjprZXk7YXR0cjprZXk7Li4uYCB0byBzZXQgYXR0cmlidXRlcy5cbiAqIC0gTXV0YXRlcyB0aGUgRE9NIGluIHBsYWNlLlxuICovXG5mdW5jdGlvbiBsb2NhbGl6ZShyb290ID0gZG9jdW1lbnQpIHtcbiAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWkxOG5dJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWkxOG4nKTtcbiAgICAgICAgaWYgKGtleSlcbiAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gZ2V0KGtleSk7XG4gICAgfSk7XG4gICAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pMThuLWF0dHJdJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgY29uc3Qgc3BlYyA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pMThuLWF0dHInKTtcbiAgICAgICAgaWYgKCFzcGVjKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2Ygc3BlYy5zcGxpdCgnOycpKSB7XG4gICAgICAgICAgICBjb25zdCBbYXR0ciwga2V5XSA9IHBhaXIuc3BsaXQoJzonKS5tYXAoKHMpID0+IHM/LnRyaW0oKSk7XG4gICAgICAgICAgICBpZiAoYXR0ciAmJiBrZXkpXG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIGdldChrZXkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgaTE4bjtcbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5leHBvcnQgY29uc3QgU1RBVFVTID0ge1xuICAgIFJFU1RSSUNURUQ6ICdSRVNUUklDVEVEJyxcbiAgICBDT05ORUNUSU5HOiAnQ09OTkVDVElORycsXG4gICAgQ09OTkVDVEVEOiAnQ09OTkVDVEVEJyxcbiAgICBESVNDT05ORUNURUQ6ICdESVNDT05ORUNURUQnLFxufTtcbmNvbnN0IFNUQVRVU19NU0dfS0VZID0ge1xuICAgIFJFU1RSSUNURUQ6ICdzdGF0dXNfcmVzdHJpY3RlZCcsXG4gICAgQ09OTkVDVElORzogJ3N0YXR1c19jb25uZWN0aW5nJyxcbiAgICBDT05ORUNURUQ6ICdzdGF0dXNfY29ubmVjdGVkJyxcbiAgICBESVNDT05ORUNURUQ6ICdzdGF0dXNfZGlzY29ubmVjdGVkJyxcbn07XG5leHBvcnQgY29uc3QgU1RBVFVTX0xBQkVMX1NUWUxFID0ge1xuICAgIFJFU1RSSUNURUQ6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLWFtYmVyLTUwJyxcbiAgICAgICAgICAgICdib3JkZXItYW1iZXItMjAwJyxcbiAgICAgICAgICAgICd0ZXh0LWFtYmVyLTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1hbWJlci05NTAnLFxuICAgICAgICAgICAgJ2Rhcms6Ym9yZGVyLWFtYmVyLTkwMC81MCcsXG4gICAgICAgICAgICAnZGFyazp0ZXh0LWFtYmVyLTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1hbWJlci01MDAnXSxcbiAgICB9LFxuICAgIENPTk5FQ1RJTkc6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLXNreS01MCcsXG4gICAgICAgICAgICAnYm9yZGVyLXNreS0yMDAnLFxuICAgICAgICAgICAgJ3RleHQtc2t5LTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1za3ktOTUwJyxcbiAgICAgICAgICAgICdkYXJrOmJvcmRlci1za3ktOTAwLzUwJyxcbiAgICAgICAgICAgICdkYXJrOnRleHQtc2t5LTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1za3ktNTAwJ10sXG4gICAgfSxcbiAgICBDT05ORUNURUQ6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLWVtZXJhbGQtNTAnLFxuICAgICAgICAgICAgJ2JvcmRlci1lbWVyYWxkLTIwMCcsXG4gICAgICAgICAgICAndGV4dC1lbWVyYWxkLTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1lbWVyYWxkLTk1MCcsXG4gICAgICAgICAgICAnZGFyazpib3JkZXItZW1lcmFsZC05MDAvNTAnLFxuICAgICAgICAgICAgJ2Rhcms6dGV4dC1lbWVyYWxkLTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1lbWVyYWxkLTUwMCddLFxuICAgIH0sXG4gICAgRElTQ09OTkVDVEVEOiB7XG4gICAgICAgIGJvZHk6IFtcbiAgICAgICAgICAgICdiZy1yb3NlLTUwJyxcbiAgICAgICAgICAgICdib3JkZXItcm9zZS0yMDAnLFxuICAgICAgICAgICAgJ3RleHQtcm9zZS03MDAnLFxuICAgICAgICAgICAgJ2Rhcms6Ymctcm9zZS05NTAnLFxuICAgICAgICAgICAgJ2Rhcms6Ym9yZGVyLXJvc2UtOTAwLzUwJyxcbiAgICAgICAgICAgICdkYXJrOnRleHQtcm9zZS0zMDAnLFxuICAgICAgICBdLFxuICAgICAgICBkb3Q6IFsnYmctcm9zZS01MDAnXSxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNNZXNzYWdlKGtleSkge1xuICAgIGNvbnN0IG1zZ0tleSA9IFNUQVRVU19NU0dfS0VZW2tleV07XG4gICAgcmV0dXJuIGkxOG4uZ2V0KG1zZ0tleSkgfHwgbXNnS2V5O1xufVxuIiwiLyoqXG4gKiBBY3Rpb25UeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQW4gZXhoYXVzdGl2ZSBsaXN0IG9mICphcHBsaWNhdGlvbi1sZXZlbCBldmVudHMqIGNvbnN1bWVkIGJ5IHRoZSByZWR1Y2VyICh1cGRhdGUudHMpLlxuICogT3JpZ2luczpcbiAqICAgLSBWaWV3IFVJIGV2ZW50cyAobm9ybWFsaXplZCBieSB0aGUgQ29udHJvbGxlcilcbiAqICAgLSBNZXNzYWdlcyBmcm9tIENvbnRlbnQvQmFja2dyb3VuZCBzY3JpcHRzXG4gKiAgIC0gUmVzdWx0cyBvZiBhc3luYyBJL08gKGNhcHR1cmUgc3VjY2Vzcy9mYWlsdXJlLCBldGMuKVxuICogVXNhZ2U6XG4gKiAgIC0gQWN0cyBhcyB0aGUgZGlzY3JpbWluYW50IGZvciBgc3dpdGNoKGFjdGlvbi50eXBlKWAgaW4gdGhlIHJlZHVjZXJcbiAqICAgLSBQdXJlbHkgZGV0ZXJtaW5lcyBob3cgdGhlIE1vZGVsIHRyYW5zaXRpb25zIChubyBzaWRlIGVmZmVjdHMgaGVyZSlcbiAqL1xuZXhwb3J0IHZhciBBY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChBY3Rpb25UeXBlKSB7XG4gICAgLyoqIEFwcCBib290c3RyYXAgLyBzdGFydCAqL1xuICAgIEFjdGlvblR5cGVbXCJJTklUXCJdID0gXCJJTklUXCI7XG4gICAgLyoqIEFjdGl2ZSB0YWIgcmVzb2x2ZWQgYW5kIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgKHRhYklkL3BhZ2VLZXkgZGVjaWRlZCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ09OTkVDVEVEXCJdID0gXCJDT05ORUNURURcIjtcbiAgICAvKiogVXBkYXRlIHBhbmVsIHN0YXR1cyAoQ09OTkVDVElORyAvIENPTk5FQ1RFRCAvIFJFU1RSSUNURUQgLyBESVNDT05ORUNURUQsIGV0Yy4pICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9TVEFUVVNcIl0gPSBcIlNFVF9TVEFUVVNcIjtcbiAgICAvKiogUmVzdG9yZSBwZXJzaXN0ZWQgc3RhdGU6IGl0ZW1zIGFuZCBkZWZhdWx0cyAoc2l6ZS9jb2xvci9zaGFwZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVTVE9SRV9TVEFURVwiXSA9IFwiUkVTVE9SRV9TVEFURVwiO1xuICAgIC8qKiBPdmVyd3JpdGVzIHRoZSBzZXQgb2YgZWxlbWVudHMgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIGNvbnRlbnQgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX01JU1NJTkdfSURTXCJdID0gXCJTRVRfTUlTU0lOR19JRFNcIjtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBwYWdlIG92ZXJsYXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIEFjdGlvblR5cGVbXCJDTEVBUl9BTExcIl0gPSBcIkNMRUFSX0FMTFwiO1xuICAgIC8qKiBDb250ZW50IOKGkiBQYW5lbDogYW5jaG9ycyB3ZXJlIHRvZ2dsZWQgKHNlbGVjdGVkL3Vuc2VsZWN0ZWQpIG9uIHRoZSBwYWdlICovXG4gICAgQWN0aW9uVHlwZVtcIkNPTlRFTlRfU0VMRUNURURcIl0gPSBcIkNPTlRFTlRfU0VMRUNURURcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2Ugc2l6ZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NJWkVcIl0gPSBcIlNFVF9CQURHRV9TSVpFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIGNvbG9yIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfQ09MT1JcIl0gPSBcIlNFVF9CQURHRV9DT0xPUlwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBzaGFwZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NIQVBFXCJdID0gXCJTRVRfQkFER0VfU0hBUEVcIjtcbiAgICAvKiogRGVsZXRlIHRoZSBzZWxlY3RlZCBiYWRnZSAqL1xuICAgIEFjdGlvblR5cGVbXCJCQURHRV9ERUxFVEVcIl0gPSBcIkJBREdFX0RFTEVURVwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBwb3NpdGlvbiAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1BPU0lUSU9OXCJdID0gXCJTRVRfQkFER0VfUE9TSVRJT05cIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgZm9ybWF0IChwbmcvanBlZykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfRk9STUFUXCJdID0gXCJTRVRfQ0FQVFVSRV9GT1JNQVRcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgYXJlYSAoZnVsbC92aWV3cG9ydCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfQVJFQVwiXSA9IFwiU0VUX0NBUFRVUkVfQVJFQVwiO1xuICAgIC8qKiBVcGRhdGUgSlBFRyBxdWFsaXR5ICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIl0gPSBcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgc2NhbGUgZmFjdG9yICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1NDQUxFXCJdID0gXCJTRVRfQ0FQVFVSRV9TQ0FMRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgQWN0aW9uVHlwZVtcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCJdID0gXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgQWN0aW9uVHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIHJ1biBhIGNhcHR1cmUgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0FQVFVSRV9SRVFVRVNURURcIl0gPSBcIkNBUFRVUkVfUkVRVUVTVEVEXCI7XG4gICAgLyoqIENhcHR1cmUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX1NVQ0NFRURFRFwiXSA9IFwiQ0FQVFVSRV9TVUNDRUVERURcIjtcbiAgICAvKiogQ2FwdHVyZSBmYWlsZWQgd2l0aCBhbiBlcnJvciAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX0ZBSUxFRFwiXSA9IFwiQ0FQVFVSRV9GQUlMRURcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVPUkRFUl9JVEVNU1wiXSA9IFwiUkVPUkRFUl9JVEVNU1wiO1xuICAgIC8qKiBVcGRhdGUgYSBncm91cCBvZiBlbGVtZW50cyAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfR1JPVVBcIl0gPSBcIlNFVF9HUk9VUFwiO1xuICAgIC8qKiBQb3J0IGRpc2Nvbm5lY3RlZCAobG9zdCBjb25uZWN0aW9uIHRvIENvbnRlbnQvU2VydmljZSBXb3JrZXIpICovXG4gICAgQWN0aW9uVHlwZVtcIlBPUlRfRElTQ09OTkVDVEVEXCJdID0gXCJQT1JUX0RJU0NPTk5FQ1RFRFwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIGNsb3NlIHRoZSBwYW5lbCB3aGVuIHRoZSB0YWJJZCBtYXRjaGVzIChCYWNrZ3JvdW5kIOKGkiBQYW5lbCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0xPU0VfUEFORUxfUkVRVUVTVEVEXCJdID0gXCJDTE9TRV9QQU5FTF9SRVFVRVNURURcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIl0gPSBcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIjtcbiAgICAvKiogU3RhcnQgaXRlbSBob3ZlciAqL1xuICAgIEFjdGlvblR5cGVbXCJJVEVNX0hPVkVSX0lOXCJdID0gXCJJVEVNX0hPVkVSX0lOXCI7XG4gICAgLyoqIEVuZCBpdGVtIGhvdmVyICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBQZXJzaXN0IHRoZSBlZGl0ZWQgY29tbWVudCB0ZXh0IGZvciB0aGUgdGFyZ2V0ZWQgaXRlbSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfSVRFTV9DT01NRU5UXCJdID0gXCJVUERBVEVfSVRFTV9DT01NRU5UXCI7XG4gICAgLyoqIFNldGUgVUkgdGhlbWUgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX1RIRU1FXCJdID0gXCJTRVRfVEhFTUVcIjtcbiAgICAvKiogVXBkYXRlIHRoZSBVSSB0aGVtZSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfVEhFTUVcIl0gPSBcIlVQREFURV9USEVNRVwiO1xuICAgIC8qKiBEaXNwYXRjaGVkIHRvIHJlcXVlc3QgcmVsb2FkaW5nIHRoZSBsYXRlc3QgZGF0YSAqL1xuICAgIEFjdGlvblR5cGVbXCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEXCJdID0gXCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEXCI7XG4gICAgLyoqIERpc3BhdGNoZWQgYWZ0ZXIgdGhlIHN0b3JlIGlzIHN1Y2Nlc3NmdWxseSByZWxvYWRlZCB3aXRoIHRoZSBsYXRlc3QgZGF0YSAqL1xuICAgIEFjdGlvblR5cGVbXCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEXCJdID0gXCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEXCI7XG4gICAgLyoqIFJlbW92ZSBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFXCJdID0gXCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIjtcbiAgICAvKiogRXhwb3J0IHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEFjdGlvblR5cGVbXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIl0gPSBcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiO1xuICAgIC8qKiBFeHBvcnQgZmFpbGVkIHdpdGggYW4gZXJyb3IgKi9cbiAgICBBY3Rpb25UeXBlW1wiRVhQT1JUX0ZBSUxFRFwiXSA9IFwiRVhQT1JUX0ZBSUxFRFwiO1xufSkoQWN0aW9uVHlwZSB8fCAoQWN0aW9uVHlwZSA9IHt9KSk7XG4iLCIvKipcbiAqIEVmZmVjdFR5cGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIGRlY2xhcmF0aXZlIHNldCBvZiAqc2lkZS1lZmZlY3QgcmVxdWVzdHMqIHByb2R1Y2VkIGJ5IHRoZSByZWR1Y2VyLlxuICogRXhlY3V0b3I6XG4gKiAgIC0gVGhlIENvbnRyb2xsZXIgaW50ZXJwcmV0cyBhbmQgcGVyZm9ybXMgZWFjaCBlZmZlY3QgKEkvTywgUlBDLCBwZXJzaXN0ZW5jZSkuXG4gKiBQdXJwb3NlOlxuICogICAtIEtlZXAgdGhlIHJlZHVjZXIgcHVyZSB3aGlsZSBzdGlsbCBlbmFibGluZyBuZWNlc3NhcnkgZXh0ZXJuYWwgZWZmZWN0cy5cbiAqL1xuZXhwb3J0IHZhciBFZmZlY3RUeXBlO1xuKGZ1bmN0aW9uIChFZmZlY3RUeXBlKSB7XG4gICAgLyoqIFB1c2ggdGhlIGN1cnJlbnQgaXRlbXMgdG8gdGhlIENvbnRlbnQgc2NyaXB0IHRvIHJlbmRlciB0aGUgb3ZlcmxheSAqL1xuICAgIEVmZmVjdFR5cGVbXCJSRU5ERVJfQ09OVEVOVFwiXSA9IFwiUkVOREVSX0NPTlRFTlRcIjtcbiAgICAvKiogRW5hYmxlL2Rpc2FibGUgc2VsZWN0aW9uIG1vZGUgb24gdGhlIENvbnRlbnQgc2lkZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlRcIl0gPSBcIlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVFwiO1xuICAgIC8qKiBDbGVhciBvdmVybGF5IG9uIHRoZSBDb250ZW50IHNpZGUgKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0xFQVJfQ09OVEVOVFwiXSA9IFwiQ0xFQVJfQ09OVEVOVFwiO1xuICAgIC8qKiBpdGVtIGhvdmVyICovXG4gICAgRWZmZWN0VHlwZVtcIkhPVkVSXCJdID0gXCJIT1ZFUlwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgRWZmZWN0VHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSdW4gYSBjYXB0dXJlIHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnMgKHRhYklkL2Zvcm1hdC9hcmVhL3F1YWxpdHkvc2NhbGUpICovXG4gICAgRWZmZWN0VHlwZVtcIkNBUFRVUkVcIl0gPSBcIkNBUFRVUkVcIjtcbiAgICAvKiogUGVyc2lzdCB0aGUgc3RhdGUgdG8gc3RvcmFnZSB3aXRoIHNlbGVjdGVkIGl0ZW1zIHJlc2V0IChjbGVhcmVkKS4gKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0xFQVJfU1RBVEVcIl0gPSBcIkNMRUFSX1NUQVRFXCI7XG4gICAgLyoqXG4gICAgICogUGVyc2lzdCB0aGUgY3VycmVudCBzdGF0ZSB0byBzdG9yYWdlLlxuICAgICAqIE5PVEU6IE11c3QgcHJlc2VydmUgZXhpc3RpbmcgY291bnRlcnMgKG5leHRJZC9uZXh0TGFiZWwpOyBkbyBub3QgcmVzZXQgdGhlbS5cbiAgICAgKi9cbiAgICBFZmZlY3RUeXBlW1wiUEVSU0lTVF9TVEFURVwiXSA9IFwiUEVSU0lTVF9TVEFURVwiO1xuICAgIC8qKiBTZXRlIFVJIHRoZW1lICovXG4gICAgRWZmZWN0VHlwZVtcIlNFVF9USEVNRVwiXSA9IFwiU0VUX1RIRU1FXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBFZmZlY3RUeXBlW1wiVVBEQVRFX1RIRU1FXCJdID0gXCJVUERBVEVfVEhFTUVcIjtcbiAgICAvKiogUmVhZCB0aGUgc2NyZWVuLXN0YXRlIG1hcCBmcm9tIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkVcIl0gPSBcIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFXCI7XG4gICAgLyoqIFJlbW92ZSBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWVwiXSA9IFwiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWVwiO1xuICAgIC8qKiBFeHBvcnQgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgRWZmZWN0VHlwZVtcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVlcIl0gPSBcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVlcIjtcbiAgICAvKiogUmVwb3J0L2xvZyBhbiBlcnJvciAoYW5kIG9wdGlvbmFsbHkgc3VyZmFjZSBpdCB0byB0aGUgVUkpICovXG4gICAgRWZmZWN0VHlwZVtcIk5PVElGWV9FUlJPUlwiXSA9IFwiTk9USUZZX0VSUk9SXCI7XG59KShFZmZlY3RUeXBlIHx8IChFZmZlY3RUeXBlID0ge30pKTtcbiIsImV4cG9ydCBjb25zdCBQUk9UT0NPTF9WRVJTSU9OID0gMTtcbmV4cG9ydCBjb25zdCBDSEFOTkVMID0ge1xuICAgIFBBTkVMX0NPTlRFTlQ6IGBzcHNrOnBhbmVsLWNvbnRlbnQ6diR7UFJPVE9DT0xfVkVSU0lPTn1gLFxufTtcbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIFBvcnQubmFtZSBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgY2hhbm5lbC5cbiAqIFVzZSB0aGlzIHRvIHNhZmVseSBkaXN0aW5ndWlzaCBjb25uZWN0aW9uIHR5cGVzIGJldHdlZW4gUGFuZWwgYW5kIENvbnRlbnQuXG4gKlxuICogQHBhcmFtIHBvcnQgLSBBIGNvbm5lY3RlZCBydW50aW1lLlBvcnRcbiAqIEBwYXJhbSBuYW1lIC0gVGFyZ2V0IGNoYW5uZWwgbmFtZSB0byBjb21wYXJlXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwb3J0IGJlbG9uZ3MgdG8gdGhlIGNoYW5uZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhbm5lbChwb3J0LCBuYW1lKSB7XG4gICAgcmV0dXJuIHBvcnQubmFtZSA9PT0gbmFtZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwb3J0IGlzIHVzZWQgZm9yIFBhbmVsIOKGlCBDb250ZW50IGNvbW11bmljYXRpb24uXG4gKiBBIGNvbnZlbmllbmNlIHdyYXBwZXIgZm9yIENIQU5ORUwuUEFORUxfQ09OVEVOVC5cbiAqXG4gKiBAcGFyYW0gcG9ydCAtIEEgY29ubmVjdGVkIHJ1bnRpbWUuUG9ydFxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcG9ydCBpcyB0aGUgUGFuZWzigJNDb250ZW50IGNoYW5uZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGFuZWxDb250ZW50UG9ydChwb3J0KSB7XG4gICAgcmV0dXJuIGlzQ2hhbm5lbChwb3J0LCBDSEFOTkVMLlBBTkVMX0NPTlRFTlQpO1xufVxuIiwiaW1wb3J0IHsgTVNHX1RZUEUgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbi8qKlxuICogVGhpbiBSUEMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIFBhbmVsIHRvIENvbnRlbnQuXG4gKiBFeHBvc2VzIGhpZ2gtbGV2ZWwgbWV0aG9kcyBmb3IgZWFjaCBtZXNzYWdlIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYW5lbEFwaSB7XG4gICAgcnBjO1xuICAgIGNvbnN0cnVjdG9yKHJwYykge1xuICAgICAgICB0aGlzLnJwYyA9IHJwYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2VuZCBoZWxwZXIgdGhhdCBhdHRhY2hlcyBhbiBSUEMgcmVxdWVzdCBpZCBhcyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYm9keSAtIE1lc3NhZ2UgcGF5bG9hZCB0byBzZW5kXG4gICAgICogQHJldHVybnMgVm9pZC1saWtlIHdoZW4gbm8gcmVwbHkgaXMgZXhwZWN0ZWQ7IG90aGVyd2lzZSByZXNvbHZlcyB3aXRoIGEgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBzZW5kKGJvZHkpIHtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBleHBlY3RSZXBseTogZmFsc2UsXG4gICAgICAgICAgICAuLi5ib2R5LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMuc2VuZChyZXEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBDb250ZW50IHRvIHJlbmRlciB0aGUgZ2l2ZW4gaXRlbXMuXG4gICAgICogQHBhcmFtIGl0ZW1zIC0gSXRlbXMgdG8gZHJhd1xuICAgICAqL1xuICAgIHJlbmRlcihpdGVtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuUkVOREVSLCBwYXlsb2FkOiB7IGl0ZW1zIH0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgc2VsZWN0aW9uIG1vZGUgaW4gQ29udGVudC5cbiAgICAgKiBAcGFyYW0gZW5hYmxlZCAtIFRydWUgdG8gZW5hYmxlXG4gICAgICovXG4gICAgdG9nZ2xlU2VsZWN0KGVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLlRPR0dMRV9TRUxFQ1QsIHBheWxvYWQ6IHsgZW5hYmxlZCB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIENvbnRlbnQgb3ZlcmxheS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLkNMRUFSIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGhvdmVyZWQgaXRlbSBhbmQgcmVxdWVzdCBhIHRyYW5zaWVudCBoaWdobGlnaHQgb24gQ29udGVudC5cbiAgICAgKiBQYXNzIGBudWxsYCB0byBjbGVhciB0aGUgY3VycmVudCBob3ZlciBoaWdobGlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUYXJnZXQgaXRlbSBJRCwgb3IgYG51bGxgIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIGhvdmVyKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5IT1ZFUiwgcGF5bG9hZDogeyBpZCB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgdG8gbWVhc3VyZSB0aGUgY3VycmVudCBjb250ZW50IHNpemUuXG4gICAgICovXG4gICAgbWVhc3VyZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5NRUFTVVJFX1NJWkUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgY29ubmVjdGl2aXR5IGhlYWx0aCBjaGVjayAocm91bmQtdHJpcCkuXG4gICAgICogU2VudCBhcyBhIHJlcXVlc3QgZXhwZWN0aW5nIGEgcmVwbHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UsIG9yIHVuZGVmaW5lZCBvbiB0aW1lb3V0XG4gICAgICovXG4gICAgcGluZygpIHtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBleHBlY3RSZXBseTogdHJ1ZSxcbiAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLlBJTkcsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy5zZW5kKHJlcSwgNTAwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZXNwb25zZSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuLyoqXG4gKiBJbXBsZW1lbnRzIGEgbWluaW1hbCByZXF1ZXN0L3Jlc3BvbnNlIFJQQyBvdmVyIGNocm9tZS5ydW50aW1lLlBvcnQuXG4gKiBUcmFja3MgcGVuZGluZyByZXF1ZXN0cyBieSBpZCBhbmQgaGFuZGxlcyB0aW1lb3V0cyBhbmQgZGlzY29ubmVjdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb3J0UnBjIHtcbiAgICBwb3J0O1xuICAgIHBlbmRpbmcgPSBuZXcgTWFwKCk7XG4gICAgYWxpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gcG9ydCBtZXNzYWdlIGFuZCBkaXNjb25uZWN0IGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gcG9ydCAtIFRoZSBydW50aW1lLlBvcnQgdXNlZCBmb3IgbWVzc2FnaW5nXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocG9ydCkge1xuICAgICAgICB0aGlzLnBvcnQgPSBwb3J0O1xuICAgICAgICB0aGlzLnBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKG1zZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZ2V0KG1zZy5pZCk/Lihtc2cpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUobXNnLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9ydC5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gUmVhc29ucyBzdWNoIGFzIEJGQ2FjaGUgbWF5IGJlIGluY2x1ZGVkXG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I/Lm1lc3NhZ2UgPz8gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgICAgICAgICAvLyBUcmVhdCBwZW5kaW5nIHN0YXR1cyBhcyBmYWlsdXJlIHdoZW4gYSBkaXNjb25uZWN0aW9uIG9jY3Vycy5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCByZXNvbHZlXSBvZiB0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgaWQsIG9rOiBmYWxzZSwgZXJyb3I6IHJlYXNvbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZy5jbGVhcigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gc3RhdHVzXG4gICAgZ2V0IGlzQWxpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaXZlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhbiBSUEMgcmVxdWVzdCBhbmQgb3B0aW9uYWxseSBhd2FpdHMgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXEgLSBUaGUgUlBDIHJlcXVlc3QgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB0aW1lb3V0TXMgLSBUaW1lb3V0IChtcykgd2hlbiB3YWl0aW5nIGZvciBhIHJlcGx5IChkZWZhdWx0IDUwMDApXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIHdoZW4gYGV4cGVjdFJlcGx5YCBpcyB0cnVlOyBvdGhlcndpc2UgdW5kZWZpbmVkXG4gICAgICovXG4gICAgc2VuZChyZXEsIHRpbWVvdXRNcyA9IDUwMDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBhbHJlYWR5IGRpc2Nvbm5lY3RlZCwgaW1tZWRpYXRlbHkgdGVybWluYXRlIChhdm9pZCBVbmNoZWNrZWQgcnVudGltZS5sYXN0RXJyb3IpXG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXEuZXhwZWN0UmVwbHkgPyB1bmRlZmluZWQgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcS5leHBlY3RSZXBseSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUocmVxLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnNldChyZXEuaWQsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UocmVxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICBpZiAocmVxLmV4cGVjdFJlcGx5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5pZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVxLmV4cGVjdFJlcGx5KVxuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IENEUF9WRVJTSU9OID0gJzEuMyc7XG4vKipcbiAqIFdyYXBzIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGludG8gYSBzdGFuZGFyZCBgRXJyb3JgIGluc3RhbmNlLlxuICpcbiAqIEByZXR1cm5zIEFuIGBFcnJvcmAgaWYgYSBsYXN0IGVycm9yIGV4aXN0czsgb3RoZXJ3aXNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gbGFzdEVycm9yKCkge1xuICAgIGNvbnN0IGVyciA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgICByZXR1cm4gZXJyID8gbmV3IEVycm9yKGVyci5tZXNzYWdlIHx8IFN0cmluZyhlcnIpKSA6IG51bGw7XG59XG4vKiogVHJhY2tzIHRhYklkcyB0aGF0IHRoaXMgZXh0ZW5zaW9uIGN1cnJlbnRseSBvd25zIChhdHRhY2hlZCBieSBpdHNlbGYpLiAqL1xuY29uc3QgT1dORUQgPSBuZXcgU2V0KCk7XG4vKiogQ2xlYXJzIG93bmVyc2hpcCBvbiBkZXRhY2ggKGNvdmVycyBleHRlcm5hbCBjYXVzZXMgbGlrZSBvcGVuaW5nL2Nsb3NpbmcgRGV2VG9vbHMpLiAqL1xuY2hyb21lLmRlYnVnZ2VyLm9uRGV0YWNoLmFkZExpc3RlbmVyKChkZWJ1Z2dlZSkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGVidWdnZWUudGFiSWQ7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpXG4gICAgICAgIE9XTkVELmRlbGV0ZShpZCk7XG59KTtcbi8qKlxuICogRGV0YWNoZXMgdGhlIENocm9tZSBEZWJ1Z2dlciAoQ0RQKSBmcm9tIHRoZSBnaXZlbiB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBkZXRhY2ggZnJvbS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgZGV0YWNobWVudCBjb21wbGV0ZXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRldGFjaCh0YXJnZXQpIHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuZGV0YWNoKHRhcmdldCwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcbn1cbi8qKlxuICogU2FmZWx5IGF0dGFjaGVzIHRvIHRoZSB0YXJnZXQuIElmIGEgcHJldmlvdXMgc2Vzc2lvbiBvd25lZCBieSB0aGlzIGV4dGVuc2lvblxuICogaXMgYWxyZWFkeSBhdHRhY2hlZCwgaXQgcmV1c2VzIGl0IGluc3RlYWQgb2YgZmFpbGluZy5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGF0dGFjaCB0byAoZS5nLiwgYHsgdGFiSWQgfWApLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYHRydWVgIHdoZW4gdGhpcyBjYWxsIHBlcmZvcm1lZCBhIG5ldyBhdHRhY2gsXG4gKiAgICAgICAgICBvciBgZmFsc2VgIHdoZW4gYW4gZXhpc3Rpbmcgb3duZWQgc2Vzc2lvbiBpcyByZXVzZWQuXG4gKiBAdGhyb3dzIElmIGFub3RoZXIgY2xpZW50IChEZXZUb29scy9hbm90aGVyIGV4dGVuc2lvbikgaXMgYXR0YWNoZWQsIG9yIG9uIG90aGVyIGF0dGFjaCBlcnJvcnMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHRhY2hPd25lZCh0YXJnZXQpIHtcbiAgICBjb25zdCB0YWJJZCA9IHRhcmdldC50YWJJZCA/PyBudWxsO1xuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNocm9tZS5kZWJ1Z2dlci5hdHRhY2godGFyZ2V0LCBDRFBfVkVSU0lPTiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO1xuICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFiSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgT1dORUQuYWRkKHRhYklkKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOyAvLyBuZXdseSBhdHRhY2hlZCBieSB0aGlzIGNhbGxcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBlcnIubWVzc2FnZSB8fCAnJztcbiAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoJ0Fub3RoZXIgZGVidWdnZXIgaXMgYWxyZWFkeSBhdHRhY2hlZCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBhdHRhY2hlZDogcmV1c2Ugb25seSBpZiBvd25lZCBieSB0aGlzIGV4dGVuc2lvbi5cbiAgICAgICAgICAgICAgICBpZiAodGFiSWQgIT0gbnVsbCAmJiBPV05FRC5oYXModGFiSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOyAvLyByZXVzZSBleGlzdGluZyBvd25lZCBzZXNzaW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdEZWJ1Z2dlciBpcyBhbHJlYWR5IGF0dGFjaGVkIGJ5IGFub3RoZXIgY2xpZW50IChEZXZUb29scy9leHRlbnNpb24pLicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKG1zZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qKlxuICogU2FmZWx5IGRldGFjaGVzIG9ubHkgd2hlbiB0aGUgY3VycmVudCBleHRlbnNpb24gb3ducyB0aGUgc2Vzc2lvbi5cbiAqIE5vLW9wcyBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBvd25lZC5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGRldGFjaCBmcm9tLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgZGV0YWNoaW5nIChvciBpbW1lZGlhdGVseSBpZiBub3Qgb3duZWQpLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGV0YWNoT3duZWQodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFiSWQgPSB0YXJnZXQudGFiSWQgPz8gbnVsbDtcbiAgICBpZiAodGFiSWQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICghT1dORUQuaGFzKHRhYklkKSlcbiAgICAgICAgcmV0dXJuOyAvLyBub3Qgb3duZWQgYnkgdGhpcyBleHRlbnNpb25cbiAgICBhd2FpdCBkZXRhY2godGFyZ2V0KTtcbiAgICBPV05FRC5kZWxldGUodGFiSWQpO1xufVxuLyoqXG4gKiBTZW5kcyBhIENEUCBjb21tYW5kIHRvIHRoZSBhdHRhY2hlZCB0YXJnZXQuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gRXhwZWN0ZWQgcmVzdWx0IHR5cGUgb2YgdGhlIGNvbW1hbmQuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIHdoaWNoIHRoZSBjb21tYW5kIGlzIHNlbnQuXG4gKiBAcGFyYW0gbWV0aG9kIC0gQ0RQIG1ldGhvZCBuYW1lIChlLmcuLCBgJ1BhZ2UuY2FwdHVyZVNjcmVlbnNob3QnYCkuXG4gKiBAcGFyYW0gcGFyYW1zIC0gT3B0aW9uYWwgcGFyYW1ldGVycyBvYmplY3QgZm9yIHRoZSBjb21tYW5kLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29tbWFuZCByZXN1bHQgb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kKHRhcmdldCwgbWV0aG9kLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuc2VuZENvbW1hbmQodGFyZ2V0LCBtZXRob2QsIHBhcmFtcyA/PyB7fSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbGFzdEVycm9yKCk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKChyZXN1bHQgPz8ge30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBpc1Jlc3RyaWN0ZWQgfSBmcm9tICdAY29tbW9uL3VybCc7XG5pbXBvcnQgeyBhdHRhY2hPd25lZCwgZGV0YWNoT3duZWQsIHNlbmQgfSBmcm9tICdAaW5mcmEvY2RwL2NkcF9jbGllbnQnO1xuLyoqXG4gKiBOb3JtYWxpemVzIGEgc3RyaW5nIGZvciBzYWZlIHVzZSBhcyBhIGZpbGVuYW1lOlxuICogcmVwbGFjZXMgcmVzZXJ2ZWQgY2hhcmFjdGVycywgY29sbGFwc2VzIHdoaXRlc3BhY2UsIGFuZCB0cmltcyBlbmRzLlxuICpcbiAqIEBwYXJhbSBzIC0gUmF3IHN0cmluZyB0byBzYW5pdGl6ZS5cbiAqIEByZXR1cm5zIFNhbml0aXplZCBmaWxlbmFtZS1zYWZlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVGb3JGaWxlbmFtZShzKSB7XG4gICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnXycpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAgICAgLnRyaW0oKTtcbn1cbi8qKlxuICogQnVpbGRzIGEgdGltZXN0YW1wZWQgZmlsZW5hbWUgZm9yIHRoZSBjYXB0dXJlIGJhc2VkIG9uIHRoZSB0YWIncyB0aXRsZSBvciBob3N0LlxuICogVHJ1bmNhdGVzIHRoZSBiYXNlIG5hbWUgdG8gODAgY2hhcmFjdGVycyBhbmQgYXBwZW5kcyB0aGUgcHJvcGVyIGV4dGVuc2lvbi5cbiAqXG4gKiBAcGFyYW0gdGFiIC0gU291cmNlIHRhYiAodGl0bGUvdXJsIHVzZWQgZm9yIG5hbWluZykuXG4gKiBAcGFyYW0gZm10IC0gVGFyZ2V0IGltYWdlIGZvcm1hdCAoJ3BuZycgfCAnanBlZycpLlxuICogQHJldHVybnMgQSBmaWxlbmFtZSBsaWtlIGBwYWdlLTIwMjUtMDgtMTNUMTAtMjAtMzAtMDAwWi5wbmdgLlxuICovXG5mdW5jdGlvbiBtYWtlRmlsZW5hbWUodGFiLCBmbXQpIHtcbiAgICBjb25zdCB0aXRsZSA9IHRhYi50aXRsZSAmJiB0YWIudGl0bGUudHJpbSgpID8gdGFiLnRpdGxlIDogJyc7XG4gICAgbGV0IGJhc2UgPSB0aXRsZSB8fFxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh0YWIudXJsID8/ICcnKS5ob3N0IHx8ICdwYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BhZ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIGJhc2UgPSBzYW5pdGl6ZUZvckZpbGVuYW1lKGJhc2UpO1xuICAgIGlmIChiYXNlLmxlbmd0aCA+IDgwKVxuICAgICAgICBiYXNlID0gYmFzZS5zbGljZSgwLCA4MCk7XG4gICAgY29uc3QgdHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICAgIHJldHVybiBgJHtiYXNlfS0ke3RzfS4ke2ZtdH1gO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpc3VhbCB2aWV3cG9ydCByZWN0YW5nbGUgaW4gQ1NTIHBpeGVscyAoZm9yIHZpZXdwb3J0IGNhcHR1cmUpLlxuICogQHBhcmFtIHRhcmdldCAtIERldlRvb2xzIFByb3RvY29sIHRhcmdldCB0YWIgKGBjaHJvbWUuZGVidWdnZXIuRGVidWdnZWVgKS5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIGB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfWAgaW4gQ1NTIHBpeGVscy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0Vmlld3BvcnRDc3NSZWN0KHRhcmdldCkge1xuICAgIGNvbnN0IGxtID0gYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmdldExheW91dE1ldHJpY3MnKTtcbiAgICBjb25zdCB2ID0gbG0uY3NzVmlzdWFsVmlld3BvcnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2LnBhZ2VYKSB8IDApLFxuICAgICAgICB5OiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHYucGFnZVkpIHwgMCksXG4gICAgICAgIHdpZHRoOiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodi5jbGllbnRXaWR0aCkgfCAwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodi5jbGllbnRIZWlnaHQpIHwgMCksXG4gICAgfTtcbn1cbi8qKlxuICogUmVzb2x2ZXMgc2NyZWVuc2hvdCBnZW9tZXRyeSBmb3IgdGhlIHNlbGVjdGVkIGNhcHR1cmUgYXJlYS5cbiAqIEBwYXJhbSB0YXJnZXQgLSBEZXZUb29scyBQcm90b2NvbCB0YXJnZXQgdGFiIChgY2hyb21lLmRlYnVnZ2VyLkRlYnVnZ2VlYCkuXG4gKiBAcGFyYW0gYXJlYSAtIENhcHR1cmUgYXJlYTogYCdmdWxsJ2AgKGVudGlyZSBwYWdlKSBvciBgJ3ZpZXdwb3J0J2AgKHZpc2libGUgYXJlYSkuXG4gKiBAcGFyYW0gc2NhbGUgLSBJbWFnZSBzY2FsZSBmYWN0b3IgYXBwbGllZCB0byBgY2xpcC5zY2FsZWAuXG4gKiBAcGFyYW0gY29udGVudFNpemUgLSBNZWFzdXJlZCBwYWdlIGNvbnRlbnQgc2l6ZSBpbiBDU1MgcGl4ZWxzIHVzZWQgd2hlbiBgYXJlYWAgaXMgYCdmdWxsJ2AuXG4gKiBAcmV0dXJucyBgQ2FwdHVyZUdlb21ldHJ5YCBkZXNjcmliaW5nIHdoZXRoZXIgZGV2aWNlIG1ldHJpY3Mgb3ZlcnJpZGUgaXMgcmVxdWlyZWQgYW5kIHRoZSBjbGlwIHJlY3RhbmdsZSBmb3IgYFBhZ2UuY2FwdHVyZVNjcmVlbnNob3RgLlxuICovXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlR2VvbWV0cnkodGFyZ2V0LCBhcmVhLCBzY2FsZSwgY29udGVudFNpemUpIHtcbiAgICBpZiAoYXJlYSA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICAvLyBObyBvdmVycmlkZSByZXF1aXJlZDogQ2xpcCB0aGUgY3VycmVudCBkaXNwbGF5IGFyZWEgd2l0aCBjbGlwXG4gICAgICAgIGNvbnN0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gYXdhaXQgZ2V0Vmlld3BvcnRDc3NSZWN0KHRhcmdldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VPdmVycmlkZTogZmFsc2UsXG4gICAgICAgICAgICBjbGlwOiB7IHgsIHksIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0sXG4gICAgICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IHRydWUsXG4gICAgICAgICAgICBzaG91bGRTY3JvbGxUb3A6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChjb250ZW50U2l6ZS53aWR0aCkgfCAwKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoY29udGVudFNpemUuaGVpZ2h0KSB8IDApO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZU92ZXJyaWRlOiB0cnVlLFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiAxLFxuICAgICAgICAgICAgbW9iaWxlOiBmYWxzZSxcbiAgICAgICAgICAgIHNjcmVlbldpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHNjcmVlbkhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgcG9zaXRpb25YOiAwLFxuICAgICAgICAgICAgcG9zaXRpb25ZOiAwLFxuICAgICAgICB9LFxuICAgICAgICBjbGlwOiB7IHg6IDAsIHk6IDAsIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0sXG4gICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogdHJ1ZSxcbiAgICAgICAgc2hvdWxkU2Nyb2xsVG9wOiB0cnVlLFxuICAgIH07XG59XG4vKipcbiAqIENhcHR1cmUgc2NyZWVuc2hvdHMgYW5kIHNhdmUgdGhlbSB2aWEgdGhlIGRvd25sb2FkIEFQSS5cbiAqXG4gKiBAcGFyYW0gb3B0cyAtIENhcHR1cmUgb3B0aW9ucyAodGFiIGlkLCBmb3JtYXQsIHF1YWxpdHksIHNjYWxlLCBldGMuKS5cbiAqIEByZXR1cm5zIFRoZSBgZG93bmxvYWRJZGAgd2hlbiBzYXZlZCBzdWNjZXNzZnVsbHk7IGB1bmRlZmluZWRgIHdoZW4gY2FwdHVyZSBpcyBza2lwcGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FwdHVyZShvcHRzKSB7XG4gICAgY29uc3QgdGFiID0gYXdhaXQgY2hyb21lLnRhYnMuZ2V0KG9wdHMudGFiSWQpO1xuICAgIGlmICghdGFiLmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NhcHR1cmluZyBpcyBub3QgcG9zc2libGUgZHVlIHRvIHJlc3RyaWN0ZWQgVVJMOicsIHRhYi51cmwpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IHsgdGFiSWQ6IHRhYi5pZCB9O1xuICAgIGNvbnN0IGZtdCA9IG9wdHMuZm9ybWF0ID8/ICdwbmcnO1xuICAgIGNvbnN0IHNldHRsZU1zID0gb3B0cy5zZXR0bGVNcyA/PyA1MDA7XG4gICAgY29uc3Qgc2NhbGUgPSBvcHRzLnNjYWxlID8/IDE7XG4gICAgY29uc3QgYXJlYSA9IG9wdHMuYXJlYSA/PyAnZnVsbCc7XG4gICAgbGV0IGRpZEF0dGFjaCA9IGZhbHNlO1xuICAgIGxldCB1c2VkT3ZlcnJpZGUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBkaWRBdHRhY2ggPSBhd2FpdCBhdHRhY2hPd25lZCh0YXJnZXQpO1xuICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuZW5hYmxlJyk7XG4gICAgICAgIGlmIChvcHRzLmJyaW5nVG9Gcm9udCA/PyB0cnVlKSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuYnJpbmdUb0Zyb250Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VvbSA9IGF3YWl0IHJlc29sdmVHZW9tZXRyeSh0YXJnZXQsIGFyZWEsIHNjYWxlLCBvcHRzLmNvbnRlbnRTaXplKTtcbiAgICAgICAgaWYgKGdlb20uc2hvdWxkU2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1J1bnRpbWUuZXZhbHVhdGUnLCB7IGV4cHJlc3Npb246ICd3aW5kb3cuc2Nyb2xsVG8oMCwwKScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlb20udXNlT3ZlcnJpZGUgJiYgZ2VvbS5tZXRyaWNzKSB7XG4gICAgICAgICAgICB1c2VkT3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRvcCAmIHdhaXQgYnJpZWZseSBmb3IgbGF5b3V0L2ltYWdlIHN0YWJpbGl6YXRpb25cbiAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnRW11bGF0aW9uLnNldERldmljZU1ldHJpY3NPdmVycmlkZScsIGdlb20ubWV0cmljcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgc2V0dGxlTXMpKTtcbiAgICAgICAgY29uc3QgY2FwUGFyYW1zID0ge1xuICAgICAgICAgICAgZm9ybWF0OiBmbXQsXG4gICAgICAgICAgICBmcm9tU3VyZmFjZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogZ2VvbS5jYXB0dXJlQmV5b25kVmlld3BvcnQsXG4gICAgICAgICAgICBjbGlwOiBnZW9tLmNsaXAsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmbXQgPT09ICdqcGVnJyAmJiB0eXBlb2Ygb3B0cy5xdWFsaXR5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY2FwUGFyYW1zLnF1YWxpdHkgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQob3B0cy5xdWFsaXR5KSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmNhcHR1cmVTY3JlZW5zaG90JywgY2FwUGFyYW1zKTtcbiAgICAgICAgY29uc3QgbWltZSA9IGZtdCA9PT0gJ3BuZycgPyAnaW1hZ2UvcG5nJyA6ICdpbWFnZS9qcGVnJztcbiAgICAgICAgY29uc3QgdXJsID0gYGRhdGE6JHttaW1lfTtiYXNlNjQsJHtkYXRhfWA7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gb3B0cy5maWxlbmFtZSA/PyBtYWtlRmlsZW5hbWUodGFiLCBmbXQpO1xuICAgICAgICByZXR1cm4gYXdhaXQgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybCwgZmlsZW5hbWUsIHNhdmVBczogZmFsc2UgfSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAodXNlZE92ZXJyaWRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnRW11bGF0aW9uLmNsZWFyRGV2aWNlTWV0cmljc092ZXJyaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlkQXR0YWNoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRldGFjaE93bmVkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHRpbWVzdGFtcCB9IGZyb20gJ0Bjb21tb24vdXRpbHMnO1xuLyoqXG4gKiBFeHBvcnRzIGEge0BsaW5rIFNjcmVlblN0YXRlfSBhcyBhIEpTT04gZmlsZSBhbmQgc2F2ZXNcbiAqXG4gKiBUaGUgSlNPTiBwYXlsb2FkIGluY2x1ZGVzIGJhc2ljIG1ldGFkYXRhIChmb3JtYXQva2luZC92ZXJzaW9uL2V4cG9ydGVkQXQvcGFnZUtleSlcbiAqIGFuZCB0aGUgc3RhdGUncyBgaXRlbXNgIGZvciBmdXR1cmUgY29tcGF0aWJpbGl0eSBhbmQgZWFzeSByZS1pbXBvcnQuXG4gKlxuICogQHBhcmFtIHN0YXRlIC0gVGhlIHNjcmVlbiBzdGF0ZSB0byBleHBvcnQuXG4gKiBAcGFyYW0gcGFnZUtleSAtIEEgcGFnZSBrZXkgdG8gZW1iZWQgaW50byB0aGUgZXhwb3J0ZWQgbWV0YWRhdGEgYW5kIHRvIGRlcml2ZSB0aGUgZmlsZW5hbWUuXG4gKiBAcGFyYW0gb3B0cyAtIEV4cG9ydCBvcHRpb25zIChlLmcuLCBgc2F2ZUFzYCwgYHByZWZpeGApLlxuICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgZG93bmxvYWQgSUQgcmV0dXJuZWQgYnkgYGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWRgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhwb3J0U2NyZWVuU3RhdGUoc3RhdGUsIHBhZ2VLZXksIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2F2ZUFzID0gZmFsc2UsIHByZWZpeCA9ICdzcGVjc2tldGNoLXNjcmVlbi1zdGF0ZScgfSA9IG9wdHM7XG4gICAgLy8gTWV0YWRhdGEgKyBwYXlsb2FkIChrZWVwIHZlcnNpb25pbmcgZm9yIGZvcndhcmQgY29tcGF0aWJpbGl0eSlcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBmb3JtYXQ6ICdzcGVjc2tldGNoLWV4cG9ydCcsXG4gICAgICAgIGtpbmQ6ICdzY3JlZW4tc3RhdGUnLFxuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICBleHBvcnRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHBhZ2VLZXksXG4gICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICB9O1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCAyKTtcbiAgICBjb25zdCBiYXNlNjQgPSB0b0Jhc2U2NFV0ZjgoanNvbik7XG4gICAgY29uc3QgbWltZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICBjb25zdCB1cmwgPSBgZGF0YToke21pbWV9O2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCR7YmFzZTY0fWA7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBtYWtlRmlsZW5hbWUocHJlZml4LCBwYWdlS2V5LCAnanNvbicpO1xuICAgIC8vIFNhdmUgdXNpbmcgdGhlIHNhbWUgQVBJIHBhdHRlcm4gYXMgaW1hZ2UgZG93bmxvYWRcbiAgICByZXR1cm4gYXdhaXQgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybCwgZmlsZW5hbWUsIHNhdmVBcyB9KTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZyB0byBCYXNlNjQgZm9yIHVzZSBpbiBhIGRhdGEgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gVGhlIFVURi04IHRleHQgdG8gZW5jb2RlLlxuICogQHJldHVybnMgQmFzZTY0IHN0cmluZyAobm8gZGF0YSBVUkwgcHJlZml4KS5cbiAqL1xuZnVuY3Rpb24gdG9CYXNlNjRVdGY4KHRleHQpIHtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTsgLy8gVWludDhBcnJheVxuICAgIGxldCBiaW4gPSAnJztcbiAgICBmb3IgKGNvbnN0IGIgb2YgYnl0ZXMpIHtcbiAgICAgICAgYmluICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYik7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGJpbik7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHNhbml0aXplZCBmaWxlbmFtZSBpbiB0aGUgZm9ybTpcbiAqIGB7cHJlZml4fV97c2FuaXRpemVkUGFnZUtleX1fe1lZWVktTU0tRERfSEgtbW0tc3MrMDkwMH0ue2V4dH1gXG4gKlxuICogQHBhcmFtIHByZWZpeCAtIEZpbGVuYW1lIHByZWZpeCAoZS5nLiwgcHJvZHVjdCBvciBmZWF0dXJlIG5hbWUpLlxuICogQHBhcmFtIHBhZ2VLZXkgLSBUaGUgb3JpZ2luYWwgcGFnZSBrZXkgc3RyaW5nIHRvIGRlcml2ZSBhIHNhZmUgZmlsZW5hbWUgcGFydC5cbiAqIEBwYXJhbSBleHQgLSBGaWxlIGV4dGVuc2lvbiB3aXRob3V0IGRvdCAoZS5nLiwgJ2pzb24nKS5cbiAqIEByZXR1cm5zIEEgc2FmZSBmaWxlbmFtZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG1ha2VGaWxlbmFtZShwcmVmaXgsIHBhZ2VLZXksIGV4dCkge1xuICAgIGNvbnN0IHNhZmVLZXkgPSAocGFnZUtleSA/PyAnJylcbiAgICAgICAgLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05Ll8tXSsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvLSsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvXi18LSQvZywgJycpXG4gICAgICAgIC5zbGljZSgwLCAxMjApIHx8ICdwYWdlJztcbiAgICByZXR1cm4gYCR7cHJlZml4fV8ke3NhZmVLZXl9XyR7dGltZXN0YW1wKCl9LiR7ZXh0fWA7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdGltZXN0YW1wKGQgPSBuZXcgRGF0ZSgpKSB7XG4gICAgY29uc3QgcGFkID0gKG4sIHcgPSAyKSA9PiBTdHJpbmcobikucGFkU3RhcnQodywgJzAnKTtcbiAgICBjb25zdCB0em8gPSAtZC5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIGNvbnN0IHNpZ24gPSB0em8gPj0gMCA/ICcrJyA6ICctJztcbiAgICBjb25zdCBoaCA9IHBhZChNYXRoLmZsb29yKE1hdGguYWJzKHR6bykgLyA2MCkpO1xuICAgIGNvbnN0IG1tID0gcGFkKE1hdGguYWJzKHR6bykgJSA2MCk7XG4gICAgcmV0dXJuIGAke2QuZ2V0RnVsbFllYXIoKX0tJHtwYWQoZC5nZXRNb250aCgpICsgMSl9LSR7cGFkKGQuZ2V0RGF0ZSgpKX1fJHtwYWQoZC5nZXRIb3VycygpKX0tJHtwYWQoZC5nZXRNaW51dGVzKCkpfS0ke3BhZChkLmdldFNlY29uZHMoKSl9JHtzaWdufSR7aGh9JHttbX1gO1xufVxuIiwiLyoqXG4gKiBVSUV2ZW50VHlwZSAvIFVJRXZlbnRQYXlsb2FkTWFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQSB0eXBlZCBjYXRhbG9nIG9mICpwdXJlIFVJIGV2ZW50cyogZW1pdHRlZCBieSB0aGUgVmlldyAocGFuZWxfdmlldy50cykuXG4gKiAtIFRoZSBWaWV3IHJlYWRzIERPTSBzdGF0ZSwgbm9ybWFsaXplcyBpdCwgYW5kIGVtaXRzIG9uZSBvZiB0aGVzZSBldmVudHMuXG4gKiAtIFRoZSBDb250cm9sbGVyIG1hcHMgZWFjaCBVSSBldmVudCB0byBhbiBBY3Rpb25UeXBlIGFuZCBkaXNwYXRjaGVzIGl0LlxuICogLSBQYXlsb2FkcyBhcmUgc3Ryb25nbHkgdHlwZWQgdmlhIFVJRXZlbnRQYXlsb2FkTWFwOyB1c2UgYHVuZGVmaW5lZGAgZm9yIG5vIHBheWxvYWQuXG4gKi9cbmV4cG9ydCB2YXIgVUlFdmVudFR5cGU7XG4oZnVuY3Rpb24gKFVJRXZlbnRUeXBlKSB7XG4gICAgLyoqIFRvZ2dsZSBzZWxlY3Rpb24gbW9kZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0xFQVJcIl0gPSBcIkNMRUFSXCI7XG4gICAgLyoqIFRyaWdnZXIgcGFnZSBjYXB0dXJlICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFXCJdID0gXCJDQVBUVVJFXCI7XG4gICAgLyoqIEJhZGdlIHNpemUgY2hhbmdlZCAocmFuZ2UvbnVtYmVyIGlucHV0cykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1NJWkVfQ0hBTkdFXCJdID0gXCJCQURHRV9TSVpFX0NIQU5HRVwiO1xuICAgIC8qKiBCYWRnZSBjb2xvciBwaWNrZWQgKHBvcG92ZXIgYnV0dG9ucykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0NPTE9SX1NFTEVDVFwiXSA9IFwiQkFER0VfQ09MT1JfU0VMRUNUXCI7XG4gICAgLyoqIEJhZGdlIHNoYXBlIGNoYW5nZWQgKHNlbGVjdCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1NIQVBFX0NIQU5HRVwiXSA9IFwiQkFER0VfU0hBUEVfQ0hBTkdFXCI7XG4gICAgLyoqIERlbGV0ZSB0aGUgc2VsZWN0ZWQgYmFkZ2UgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0RFTEVURVwiXSA9IFwiQkFER0VfREVMRVRFXCI7XG4gICAgLyoqIEJhZGdlIHBvc2l0aW9uIHBpY2tlZCAocG9wb3ZlciBidXR0b25zKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfUE9TSVRJT05fU0VMRUNUXCJdID0gXCJCQURHRV9QT1NJVElPTl9TRUxFQ1RcIjtcbiAgICAvKiogVXBkYXRlIGEgZ3JvdXAgb2YgZWxlbWVudHMgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlNFVF9HUk9VUFwiXSA9IFwiU0VUX0dST1VQXCI7XG4gICAgLyoqIENhcHR1cmUgZm9ybWF0IGNoYW5nZWQgKHJhZGlvKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0VcIjtcbiAgICAvKiogQ2FwdHVyZSBhcmVhIGNoYW5nZWQgKHJhZGlvKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9BUkVBX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9BUkVBX0NIQU5HRVwiO1xuICAgIC8qKiBKUEVHIHF1YWxpdHkgY2hhbmdlZCAocmFuZ2UvbnVtYmVyKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRVwiO1xuICAgIC8qKiBDYXB0dXJlIHNjYWxlIGNoYW5nZWQgKHJhbmdlL251bWJlcikgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfU0NBTEVfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX1NDQUxFX0NIQU5HRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiXSA9IFwiVE9HR0xFX0NBUFRVUkVfUEFORUxcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlJFT1JERVJfSVRFTVNcIl0gPSBcIlJFT1JERVJfSVRFTVNcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCJdID0gXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCI7XG4gICAgLyoqIFN0YXJ0IGl0ZW0gaG92ZXIgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fSE9WRVJfSU5cIl0gPSBcIklURU1fSE9WRVJfSU5cIjtcbiAgICAvKiogRW5kIGl0ZW0gaG92ZXIgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBBcHBseSBwZW5kaW5nIGNvbW1lbnQgZWRpdHMgdG8gdGhlIHNlbGVjdGVkIGl0ZW0gKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fQ09NTUVOVF9BUFBMWVwiXSA9IFwiSVRFTV9DT01NRU5UX0FQUExZXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIEVtaXR0ZWQgYWZ0ZXIgdGhlIFNldHRpbmdzIG1vZGFsIGlzIHNob3cgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlNFVFRJTkdfTU9EQUxfU0hPV1wiXSA9IFwiU0VUVElOR19NT0RBTF9TSE9XXCI7XG4gICAgLyoqIENsaWNrIHRvIHJlbW92ZSB0aGUgc2F2ZWQgcGFnZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiUkVNT1ZFX1BBR0VfQ0xJQ0tcIl0gPSBcIlJFTU9WRV9QQUdFX0NMSUNLXCI7XG4gICAgLyoqIENsaWNrIHRoZSBleHBvcnQgYnV0dG9uICovXG4gICAgVUlFdmVudFR5cGVbXCJFWFBPUlRfUEFHRV9DTElDS1wiXSA9IFwiRVhQT1JUX1BBR0VfQ0xJQ0tcIjtcbn0pKFVJRXZlbnRUeXBlIHx8IChVSUV2ZW50VHlwZSA9IHt9KSk7XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgaXNSZXN0cmljdGVkLCBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlVGFiIH0gZnJvbSAnQGluZnJhL2Nocm9tZS90YWJzJztcbmltcG9ydCB7IGluaXRpYWxNb2RlbCB9IGZyb20gJ0BwYW5lbC9hcHAvbW9kZWwnO1xuaW1wb3J0IHsgdXBkYXRlIH0gZnJvbSAnQHBhbmVsL2FwcC91cGRhdGUnO1xuaW1wb3J0IHsgY29ubmVjdFRvVGFiIH0gZnJvbSAnQHBhbmVsL21lc3NhZ2luZy9jb25uZWN0aW9uJztcbmltcG9ydCB7IGNhcHR1cmUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvY2FwdHVyZSc7XG5pbXBvcnQgeyBleHBvcnRTY3JlZW5TdGF0ZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9leHBvcnQnO1xuaW1wb3J0IHsgaGFuZGxlU2VsZWN0ZWQgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvc3RhdGUnO1xuaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSwgdGhlbWVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL2FjdGlvbl90eXBlcyc7XG5pbXBvcnQgeyBFZmZlY3RUeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL2VmZmVjdF90eXBlcyc7XG5pbXBvcnQgeyBVSUV2ZW50VHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy91aV9ldmVudF90eXBlcyc7XG5pbXBvcnQgeyBTVEFUVVMgfSBmcm9tICdAcGFuZWwvdmlldy9zdGF0dXMnO1xuZXhwb3J0IGNsYXNzIFBhbmVsQ29udHJvbGxlciB7XG4gICAgdmlldztcbiAgICBtb2RlbCA9IHN0cnVjdHVyZWRDbG9uZShpbml0aWFsTW9kZWwpO1xuICAgIGNvbm4gPSBudWxsO1xuICAgIGN1cnJlbnRXaW5kb3dJZCA9IG51bGw7XG4gICAgc3RhdGljIFJFUVVJUkVTX0NPTk4gPSBuZXcgU2V0KFtcbiAgICAgICAgRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCxcbiAgICAgICAgRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVCxcbiAgICAgICAgRWZmZWN0VHlwZS5IT1ZFUixcbiAgICBdKTtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JTklUIH0pO1xuICAgICAgICBjb25zdCB7IG9rIH0gPSBhd2FpdCB0aGlzLmVuc3VyZUNvbm5lY3Rpb25BbGl2ZSh7IGZvcmNlUmVjb25uZWN0OiB0cnVlIH0pO1xuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy52aWV3LnJlbmRlcih0aGlzLm1vZGVsKTtcbiAgICAgICAgY29uc3QgdyA9IGF3YWl0IGNocm9tZS53aW5kb3dzLmdldEN1cnJlbnQoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50V2luZG93SWQgPSB3LmlkID8/IG51bGw7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnLnR5cGUgIT09IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBzZW5kZXJXaW5kb3dJZCA9IG1zZy5wYXlsb2FkLndpbmRvd0lkO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFdpbmRvd0lkID09IG51bGwgfHwgdGhpcy5jdXJyZW50V2luZG93SWQgIT09IHNlbmRlcldpbmRvd0lkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoeyBmb3JjZVJlY29ubmVjdDogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyVmlld0hhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVE9HR0xFX1NFTEVDVCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVE9HR0xFX1NFTEVDVCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DTEVBUiwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuQ0xFQVJfQUxMIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkUsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLk1FQVNVUkVfQ09OVEVOVF9TSVpFIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCAoeyBzaXplIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSVpFLCBzaXplIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX0NPTE9SX1NFTEVDVCwgKHsgY29sb3IgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX0NPTE9SLCBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9TSEFQRV9DSEFOR0UsICh7IHNoYXBlIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSEFQRSwgc2hhcGUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfREVMRVRFLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5CQURHRV9ERUxFVEUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfUE9TSVRJT05fU0VMRUNULCAoeyBwb3NpdGlvbiB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfUE9TSVRJT04sIHBvc2l0aW9uIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX0ZPUk1BVF9DSEFOR0UsICh7IGZvcm1hdCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9GT1JNQVQsIGZvcm1hdCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCAoeyBhcmVhIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0FSRUEsIGFyZWEgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgKHsgcXVhbGl0eSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9RVUFMSVRZLCBxdWFsaXR5IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCAoeyBzY2FsZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9TQ0FMRSwgc2NhbGUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuUkVPUkRFUl9JVEVNUywgKHsgZnJvbUlkLCBmcm9tSW5kZXgsIHRvSW5kZXggfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuUkVPUkRFUl9JVEVNUywgZnJvbUlkLCBmcm9tSW5kZXgsIHRvSW5kZXggfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuU0VUX0dST1VQLCAoeyBncm91cCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfR1JPVVAsIGdyb3VwIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIChwYXlsb2FkKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCAuLi5wYXlsb2FkIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklURU1fSE9WRVJfSU4sICh7IGlkIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fSE9WRVJfSU4sIGlkIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklURU1fSE9WRVJfT1VULCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JVEVNX0hPVkVSX09VVCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksICh7IGlkLCBjb21tZW50IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlVQREFURV9JVEVNX0NPTU1FTlQsIGlkLCBjb21tZW50IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgKHsgdGhlbWUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX1RIRU1FLCB0aGVtZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5TRVRUSU5HX01PREFMX1NIT1csICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNUT1JFX1JFTE9BRF9SRVFVRVNURUQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuUkVNT1ZFX1BBR0VfQ0xJQ0ssICh7IHBhZ2VLZXkgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFLCBwYWdlS2V5IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkVYUE9SVF9QQUdFX0NMSUNLLCAoeyBwYWdlS2V5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRSwgcGFnZUtleSB9KSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICBjb25zdCB7IG1vZGVsOiBuZXh0LCBlZmZlY3RzIH0gPSB1cGRhdGUodGhpcy5tb2RlbCwgYWN0aW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5leHQ7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIHZvaWQgdGhpcy5leGVjRWZmZWN0cyhlZmZlY3RzKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY0VmZmVjdHMoZWZmZWN0cykge1xuICAgICAgICBjb25zdCBuZWVkc0Nvbm4gPSBlZmZlY3RzLnNvbWUoKGZ4KSA9PiBQYW5lbENvbnRyb2xsZXIuUkVRVUlSRVNfQ09OTi5oYXMoZngua2luZCkpO1xuICAgICAgICBpZiAobmVlZHNDb25uKSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoKTtcbiAgICAgICAgICAgIGlmICghci5vayB8fCByLmNvbnRleHRDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZ4IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZngua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkucmVuZGVyKGZ4Lml0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkudG9nZ2xlU2VsZWN0KGZ4LmVuYWJsZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkhPVkVSOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm4/LmFwaS5ob3ZlcihmeC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DTEVBUl9TVEFURTpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQodGhpcy5tb2RlbC5wYWdlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldCh0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnNldCh0aGlzLm1vZGVsLnBhZ2VLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuU0VUX1RIRU1FOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gYXdhaXQgdGhlbWVUYWJsZS5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1RIRU1FLCB0aGVtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoZW1lVGFibGUuc2V0KGZ4LnRoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVk6IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5yZW1vdmUoZngucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdCA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHRoaXMubW9kZWwucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogc3QuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0LmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogc3QuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogc3QuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3QuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogc3QuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cG9ydFNjcmVlblN0YXRlKHN0YXRlLCBmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9GQUlMRUQsIGVycm9yIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLm1lYXN1cmVTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DQVBUVVJFOlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FwdHVyZShmeC5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfU1VDQ0VFREVEIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX0ZBSUxFRCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihmeC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGVuc3VyZUNvbm5lY3Rpb25BbGl2ZShvcHRzKSB7XG4gICAgICAgIGNvbnN0IHByZXZLZXkgPSB0aGlzLm1vZGVsLnBhZ2VLZXk7XG4gICAgICAgIGNvbnN0IGZvcmNlID0gb3B0cz8uZm9yY2VSZWNvbm5lY3QgPT09IHRydWU7XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbmcgPSBhd2FpdCB0aGlzLmNvbm4/LmFwaS5waW5nKCk7XG4gICAgICAgICAgICBpZiAocG9uZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWIgPSBhd2FpdCBnZXRBY3RpdmVUYWIoKTtcbiAgICAgICAgaWYgKCF0YWI/LmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuUkVTVFJJQ1RFRCB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHBhZ2VLZXkodGFiLnVybCk7XG4gICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DT05ORUNURUQsIHRhYklkLCBwYWdlS2V5OiBuZXdLZXkgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9TVEFUVVMsIHN0YXR1czogU1RBVFVTLkNPTk5FQ1RJTkcgfSk7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgY2xvc2UgdGhlIG9sZCBwb3J0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4/LnBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uID0gYXdhaXQgY29ubmVjdFRvVGFiKHRhYklkKTtcbiAgICAgICAgdGhpcy5jb25uLm9uRGlzY29ubmVjdCgoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5QT1JUX0RJU0NPTk5FQ1RFRCB9KSk7XG4gICAgICAgIHRoaXMuY29ubi5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihhc3luYyAobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5TRUxFQ1RFRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBoYW5kbGVTZWxlY3RlZCh0aGlzLm1vZGVsLnBhZ2VLZXksIG1zZy5wYXlsb2FkLmFuY2hvcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogcy5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogcy5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHMuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1zZz8udHlwZSA9PT0gTVNHX1RZUEUuTUlTU0lOR19JRFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFMsXG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdJZHM6IG1zZy5wYXlsb2FkLm1pc3NpbmdJZHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLkNPTlRFTlRfU0laRV9SRVNVTFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX1JFUVVFU1RFRCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFNpemU6IG1zZy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3QgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChuZXdLZXkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHN0Lml0ZW1zLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzdC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0LmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHN0LmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHN0LmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0LmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfU1RBVFVTLCBzdGF0dXM6IFNUQVRVUy5DT05ORUNURUQgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRDaGFuZ2VkID0gISFwcmV2S2V5ICYmIHByZXZLZXkgIT09IG5ld0tleTtcbiAgICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGNvbnRleHRDaGFuZ2VkIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL3N0YXRlJztcbmltcG9ydCB7IFNUQVRVUyB9IGZyb20gJ0BwYW5lbC92aWV3L3N0YXR1cyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vdHlwZXMvYWN0aW9uX3R5cGVzJztcbmltcG9ydCB7IEVmZmVjdFR5cGUgfSBmcm9tICcuLi90eXBlcy9lZmZlY3RfdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShtb2RlbCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU5JVDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlNFVF9USEVNRSB9XSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHRhYklkOiBhY3Rpb24udGFiSWQsIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfU1RBVFVTOiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IGFjdGlvbi5zdGF0dXMgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10sIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBhY3Rpb24uc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogYWN0aW9uLnN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBhY3Rpb24uc3RhdGUuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFM6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBtaXNzaW5nSWRzOiBhY3Rpb24ubWlzc2luZ0lkcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1Q6IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSAhbW9kZWwuc2VsZWN0aW9uRW5hYmxlZDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdGlvbkVuYWJsZWQ6IG5leHQgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCwgZW5hYmxlZDogbmV4dCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNMRUFSX0FMTDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zOiBbXSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVCB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OVEVOVF9TRUxFQ1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHBhbmVsRXhwYW5kZWQ6ICFtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSVpFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2l6ZTogYWN0aW9uLnNpemUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRTaXplOiBhY3Rpb24uc2l6ZSwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUjoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IGNvbG9yOiBhY3Rpb24uY29sb3IgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRDb2xvcjogYWN0aW9uLmNvbG9yLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2hhcGU6IGFjdGlvbi5zaGFwZSB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFNoYXBlOiBhY3Rpb24uc2hhcGUsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5CQURHRV9ERUxFVEU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IG1vZGVsLml0ZW1zLmZpbHRlcigoaXQpID0+ICFtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zTWFya2VkRm9yUmVsYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgcG9zaXRpb246IGFjdGlvbi5wb3NpdGlvbiB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFBvc2l0aW9uOiBhY3Rpb24ucG9zaXRpb24sIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfR1JPVVA6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsKG1vZGVsLml0ZW1zLCBtb2RlbC5zZWxlY3RJdGVtcywgYWN0aW9uLmdyb3VwKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdEdyb3VwOiBhY3Rpb24uZ3JvdXAsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9GT1JNQVQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGZvcm1hdDogYWN0aW9uLmZvcm1hdCB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQTpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGFyZWE6IGFjdGlvbi5hcmVhIH0gfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHF1YWxpdHk6IGFjdGlvbi5xdWFsaXR5IH0gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9TQ0FMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgc2NhbGU6IGFjdGlvbi5zY2FsZSB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgIGlmIChtb2RlbC50YWJJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogJ05vIHRhYklkJyB9XSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IEVmZmVjdFR5cGUuQ0FQVFVSRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJZDogbW9kZWwudGFiSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBtb2RlbC5jYXB0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiBtb2RlbC5jYXB0dXJlLmFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogbW9kZWwuY2FwdHVyZS5xdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBtb2RlbC5jYXB0dXJlLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTaXplOiBhY3Rpb24uY29udGVudFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DQVBUVVJFX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiBhY3Rpb24uZXJyb3IgfV0gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVM6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHJlb3JkZXJJdGVtTGFiZWwobW9kZWwuaXRlbXMsIGFjdGlvbi5mcm9tSWQsIGFjdGlvbi5mcm9tSW5kZXgsIGFjdGlvbi50b0luZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQ6IHtcbiAgICAgICAgICAgIGlmICgnaWQnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIHNpbmdsZSBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZChhY3Rpb24uaWQsIGFjdGlvbi5pc0NoZWNrLCBtb2RlbC5zZWxlY3RJdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgnZ3JvdXAnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIGdyb3VwXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoYWN0aW9uLmdyb3VwLCBhY3Rpb24uaXNDaGVjaywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLml0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBhbGwvRGVzZWxlY3QgYWxsXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFjdGlvbi5hbGxDaGVjaywgbW9kZWwuaXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogYWN0aW9uLmlkIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogbnVsbCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5UOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKGl0LmlkID09PSBhY3Rpb24uaWQgPyB7IGNvbW1lbnQ6IGFjdGlvbi5jb21tZW50IH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUE9SVF9ESVNDT05ORUNURUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IFNUQVRVUy5ESVNDT05ORUNURUQsIHNlbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsIGVuYWJsZWQ6IGZhbHNlIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9USEVNRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRoZW1lOiBhY3Rpb24udGhlbWUgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0aGVtZTogYWN0aW9uLnRoZW1lIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5VUERBVEVfVEhFTUUsIHRoZW1lOiBhY3Rpb24udGhlbWUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1JFUVVFU1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRUFEX1NDUkVFTl9TVEFURV9TVE9SRSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgcGFnZUtleXM6IGFjdGlvbi5wYWdlS2V5cyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW1xuICAgICAgICAgICAgICAgICAgICB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWSwgcGFnZUtleTogYWN0aW9uLnBhZ2VLZXkgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZLCBwYWdlS2V5OiBhY3Rpb24ucGFnZUtleSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5FWFBPUlRfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogYWN0aW9uLmVycm9yIH1dIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICB9XG59XG4vKipcbiAqIFJlbGFiZWwgaXRlbXMgYXMgaWYgdGhlIGl0ZW0gd2l0aCBgZnJvbUlkYCB3YXMgbW92ZWQgdG8gdGhlIHBvc2l0aW9uXG4gKiB3aG9zZSBsYWJlbCBlcXVhbHMgYGl0ZW1zW3RvSW5kZXhdLmxhYmVsYC4gTGFiZWxzIG9mIHRoZSBpdGVtcyBpbiBiZXR3ZWVuXG4gKiBhcmUgc2hpZnRlZCBieSDCsTEgdG8ga2VlcCBsYWJlbHMgdW5pcXVlIGFuZCBjb250aWd1b3VzIChpZiB0aGV5IHdlcmUpLlxuICpcbiAqIEBwYXJhbSBpdGVtcyAgIC0gU291cmNlIGl0ZW1zIChub3QgbXV0YXRlZCkuXG4gKiBAcGFyYW0gZnJvbUlkICAtIElEIG9mIHRoZSBpdGVtIHRvIG1vdmUuXG4gKiBAcGFyYW0gZnJvbUluZGV4ICAtIFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBpdGVtIHRvIGJlIG1vdmVkLlxuICogQHBhcmFtIHRvSW5kZXggLSBUYXJnZXQgaW5kZXggaW4gYGl0ZW1zYCB3aG9zZSBsYWJlbCBiZWNvbWVzIHRoZSBuZXcgbGFiZWwuXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSB3aXRoIHVwZGF0ZWQgbGFiZWxzLlxuICogQHRocm93cyBSYW5nZUVycm9yIGlmIGB0b0luZGV4YCBpcyBvdXQgb2YgYm91bmRzIG9yIEVycm9yIGlmIGBmcm9tSWRgIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gcmVvcmRlckl0ZW1MYWJlbChpdGVtcywgZnJvbUlkLCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICBpZiAodG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYHRvSW5kZXggb3V0IG9mIHJhbmdlOiAke3RvSW5kZXh9YCk7XG4gICAgfVxuICAgIGNvbnN0IGZyb21JZHggPSBpdGVtcy5maW5kSW5kZXgoKGkpID0+IGkuaWQgPT09IGZyb21JZCk7XG4gICAgaWYgKGZyb21JZHggPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSXRlbSBub3QgZm91bmQgZm9yIGlkPSR7ZnJvbUlkfWApO1xuICAgIH1cbiAgICBpZiAodG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBpdGVtcy5maWx0ZXIoKGl0KSA9PiBpdC5ncm91cCA9PT0gaXRlbXNbZnJvbUlkeF0uZ3JvdXApLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgdG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7dG9JbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgT0ZGU0VUX0FGVEVSID0gMS4xO1xuICAgIGNvbnN0IE9GRlNFVF9CRUZPUkUgPSAwLjE7XG4gICAgY29uc3Qgb2Zmc2V0ID0gZnJvbUluZGV4IDwgdG9JbmRleCA/IE9GRlNFVF9BRlRFUiA6IE9GRlNFVF9CRUZPUkU7XG4gICAgY29uc3QgbGFiZWwgPSB0b0luZGV4ICsgb2Zmc2V0O1xuICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiAoaXQuaWQgPT09IGZyb21JZCA/IHsgLi4uaXQsIGxhYmVsIH0gOiBpdCkpO1xufVxuLyoqXG4gKiBCdW1wcyB0aGUgbGFiZWwgb2Ygc2VsZWN0ZWQgaXRlbXMgdGhhdCBhbHJlYWR5IGJlbG9uZyB0byB0aGUgdHJpbW1lZCB0YXJnZXQgZ3JvdXAsIHdoaWxlIGRlZmVycmluZyBsYWJlbCBub3JtYWxpemF0aW9uLlxuICpcbiAqIE5vdGVzXG4gKiAtIFRoZSBmdW5jdGlvbiBvbmx5IHRvdWNoZXMgaXRlbXMgd2hvc2UgYGlkYCBpcyBpbiBgc2VsZWN0SXRlbXNgIGFuZCB3aG9zZSBjdXJyZW50IGBncm91cGAgbWF0Y2hlcyBgbmV4dEdyb3VwUmF3YCAoYWZ0ZXIgdHJpbW1pbmcpLlxuICogLSBMYWJlbHMgYXJlIHJlYXNzaWduZWQgdG8gbGFyZ2UgZGVzY2VuZGluZyBudW1iZXJzIHNvIHRoYXQgYHJlbGFiZWxDb25zZWN1dGl2ZVBlckdyb3VwKClgIGNhbiBsYXRlciBjb21wYWN0IHRoZW0uXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gRnVsbCBsaXN0IG9mIHNjcmVlbiBpdGVtcy5cbiAqIEBwYXJhbSBzZWxlY3RJdGVtcyAtIElEcyBvZiB0aGUgaXRlbXMgdGhhdCBzaG91bGQgcmVjZWl2ZSBhIHRlbXBvcmFyeSBsYWJlbCBidW1wLlxuICogQHBhcmFtIG5leHRHcm91cFJhdyAtIFRhcmdldCBncm91cCBuYW1lOyB0cmltbWVkIGJlZm9yZSBjb21wYXJpc29uLlxuICogQHJldHVybnMgQSBuZXcgYXJyYXkgd2hlcmUgdGhlIG1hdGNoaW5nIGl0ZW1zIGdhaW4gYSB0ZW1wb3JhcnkgaGlnaC1wcmlvcml0eSBsYWJlbDsgb3RoZXIgaXRlbXMgYXJlIHVudG91Y2hlZC5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlR3JvdXBBbmREZWZlclJlbGFiZWwoaXRlbXMsIHNlbGVjdEl0ZW1zLCBuZXh0R3JvdXBSYXcpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTtcbiAgICBjb25zdCBuZXh0R3JvdXAgPSBub3JtYWxpemUobmV4dEdyb3VwUmF3KTtcbiAgICBsZXQgdXBkYXRlSXRlbUNudCA9IDA7XG4gICAgcmV0dXJuIGl0ZW1zXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmlkIC0gYS5pZClcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXRlbS5pZCkgJiYgaXRlbS5ncm91cCAhPT0gbmV4dEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gdXBkYXRlSXRlbUNudCsrO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgZ3JvdXA6IG5leHRHcm91cCwgbGFiZWwgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRCeUlkKGlkLCBpc0NoZWNrLCBzZWxlY3RJdGVtcykge1xuICAgIGlmIChpc0NoZWNrKSB7XG4gICAgICAgIGlmICghc2VsZWN0SXRlbXMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnNlbGVjdEl0ZW1zLCBpZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gaWQpO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwKGdyb3VwLCBpc0NoZWNrLCBzZWxlY3RJdGVtcywgaXRlbXMpIHtcbiAgICBjb25zdCBnID0gZ3JvdXAudHJpbSgpO1xuICAgIGNvbnN0IGdyb3VwSWRzID0gaXRlbXNcbiAgICAgICAgLmZpbHRlcigoaXQpID0+IChpdC5ncm91cCA/PyBVTkdST1VQRURfVkFMVUUpLnRyaW0oKSA9PT0gZylcbiAgICAgICAgLm1hcCgoaXQpID0+IGl0LmlkKTtcbiAgICBpZiAoZ3JvdXBJZHMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXM7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldChzZWxlY3RJdGVtcyk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ3JvdXBJZHMpXG4gICAgICAgICAgICBzZXQuYWRkKGlkKTtcbiAgICAgICAgcmV0dXJuIFsuLi5zZXRdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZ3JvdXBTZXQgPSBuZXcgU2V0KGdyb3VwSWRzKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdEl0ZW1zLmZpbHRlcigoaWQpID0+ICFncm91cFNldC5oYXMoaWQpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFsbENoZWNrLCBpdGVtcykge1xuICAgIGlmIChhbGxDaGVjaykge1xuICAgICAgICByZXR1cm4gaXRlbXMubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgcGFnZUtleSB9IGZyb20gJ0Bjb21tb24vdXJsJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVUYWIoKSB7XG4gICAgY29uc3QgdGFicyA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0pO1xuICAgIHJldHVybiB0YWJzWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQWN0aXZlVGFiQnJvYWRjYXN0KCkge1xuICAgIC8vIFRhYiBzd2l0Y2hpbmdcbiAgICBjb25zdCBvbkFjdGl2YXRlZCA9IGFzeW5jICh7IHRhYklkLCB3aW5kb3dJZCB9KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBbdGFiXSA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCB3aW5kb3dJZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYj8udXJsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgYXdhaXQgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZCwgdXJsLCBwYWdlS2V5OiBrZXkgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlbG9hZC90cmFuc2l0aW9uIGRldGVjdGlvbiB3aXRoaW4gdGhlIHNhbWUgdGFiXG4gICAgY29uc3Qgb25VcGRhdGVkID0gYXN5bmMgKHRhYklkLCBpbmZvLCB0YWIpID0+IHtcbiAgICAgICAgaWYgKCF0YWI/LmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGluZm8uc3RhdHVzID09PSAnbG9hZGluZycgfHwgdHlwZW9mIGluZm8udXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0YWIudXJsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHVybCA/IHBhZ2VLZXkodXJsKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyB0YWJJZCwgd2luZG93SWQ6IHRhYi53aW5kb3dJZCwgdXJsLCBwYWdlS2V5OiBrZXkgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjaHJvbWUudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcihvbkFjdGl2YXRlZCk7XG4gICAgY2hyb21lLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKG9uVXBkYXRlZCk7XG59XG4iLCJpbXBvcnQgeyBDSEFOTkVMIH0gZnJvbSAnQGNvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgUGFuZWxBcGkgfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyBQb3J0UnBjIH0gZnJvbSAnLi9wb3J0X3JwYyc7XG4vKipcbiAqIEluamVjdHMgdGhlIGNvbnRlbnQgc2NyaXB0IGludG8gdGhlIHRhYiBpZiBuZWVkZWQsIGFuZFxuICogaW5pdGlhbGl6ZXMgdGhlIFBvcnQgY29ubmVjdGlvbiBhbmQgUlBDIGZvciBQYW5lbCDihpQgQ29udGVudC5cbiAqXG4gKiBAcGFyYW0gdGFiSWQgLSBUYXJnZXQgdGFiIGlkXG4gKiBAcmV0dXJucyBBIGNvbm5lY3Rpb24gb2JqZWN0IGJ1bmRsaW5nIEFQSSwgUG9ydCwgYW5kIFJQQ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvVGFiKHRhYklkKSB7XG4gICAgYXdhaXQgY2hyb21lLnNjcmlwdGluZ1xuICAgICAgICAuZXhlY3V0ZVNjcmlwdCh7XG4gICAgICAgIHRhcmdldDogeyB0YWJJZCB9LFxuICAgICAgICBmaWxlczogWydjb250ZW50L21haW4uanMnXSxcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAvKiBJZ25vcmUgaWYgYWxyZWFkeSBpbmplY3RlZCAqL1xuICAgIH0pO1xuICAgIGNvbnN0IHBvcnQgPSBjaHJvbWUudGFicy5jb25uZWN0KHRhYklkLCB7IG5hbWU6IENIQU5ORUwuUEFORUxfQ09OVEVOVCB9KTtcbiAgICBjb25zdCBycGMgPSBuZXcgUG9ydFJwYyhwb3J0KTtcbiAgICBjb25zdCBhcGkgPSBuZXcgUGFuZWxBcGkocnBjKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBwb3J0Lm9uRGlzY29ubmVjdC5hZGRMaXN0ZW5lcigoKSA9PiBsaXN0ZW5lcnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGksXG4gICAgICAgIHBvcnQsXG4gICAgICAgIHJwYyxcbiAgICAgICAgb25EaXNjb25uZWN0OiAoY2IpID0+IGxpc3RlbmVycy5wdXNoKGNiKSxcbiAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgY29uc3QgSUNPTlMgPSB7XG4gICAgY2FyZXREb3duOiB7XG4gICAgICAgIGQ6ICdNNS4yMyA3LjIxYS43NS43NSAwIDAxMS4wNi4wMkwxMCAxMC45MzlsMy43MS0zLjcxYS43NS43NSAwIDExMS4wNiAxLjA2MkwxMC41MyAxMi41M2EuNzUuNzUgMCAwMS0xLjA2IDBMNS4yMyA4LjI3YS43NS43NSAwIDAxLjAyLTEuMDZ6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjYXJldERvd25GaWxsOiB7XG4gICAgICAgIGQ6ICdNNy4yNDcgMTEuMTQgMi40NTEgNS42NThDMS44ODUgNS4wMTMgMi4zNDUgNCAzLjIwNCA0aDkuNTkyYTEgMSAwIDAgMSAuNzUzIDEuNjU5bC00Ljc5NiA1LjQ4YTEgMSAwIDAgMS0xLjUwNiAweicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMTYgMTYnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodDoge1xuICAgICAgICBkOiAnTTcuMjkzIDE0LjcwN2ExIDEgMCAwMS0xLjQxNC0xLjQxNEwxMC4xNzIgOSA1Ljg3OSA0LjcwN2ExIDEgMCAwMTEuNDE0LTEuNDE0bDUgNWExIDEgMCAwMTAgMS40MTRsLTUgNXonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0UmlnaHRGaWxsOiB7XG4gICAgICAgIGQ6ICdtMTIuMTQgOC43NTMtNS40ODIgNC43OTZjLS42NDYuNTY2LTEuNjU4LjEwNi0xLjY1OC0uNzUzVjMuMjA0YTEgMSAwIDAgMSAxLjY1OS0uNzUzbDUuNDggNC43OTZhMSAxIDAgMCAxIDAgMS41MDZ6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICB3YXJuOiB7XG4gICAgICAgIGQ6ICdNOS4wNDkgMi45MjdhMS41IDEuNSAwIDAxMi45MDIgMGw2LjQxIDExLjk0QTEuNSAxLjUgMCAwMTE3LjAxIDE3SDIuOTlhMS41IDEuNSAwIDAxLTEuMzUxLTIuMTMzbDYuNDEtMTEuOTR6TTExIDEzYTEgMSAwIDEwLTIgMCAxIDEgMCAwMDIgMHptLTEtMmExIDEgMCAwMDEtMVY3YTEgMSAwIDEwLTIgMHYzYTEgMSAwIDAwMSAxeicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY29tbWVudDoge1xuICAgICAgICBkOiAnTTAgMmEyIDIgMCAwIDEgMi0yaDEyYTIgMiAwIDAgMSAyIDJ2OGEyIDIgMCAwIDEtMiAySDQuNDE0YTEgMSAwIDAgMC0uNzA3LjI5M0wuODU0IDE1LjE0NkEuNS41IDAgMCAxIDAgMTQuNzkzem01IDRhMSAxIDAgMSAwLTIgMCAxIDEgMCAwIDAgMiAwbTQgMGExIDEgMCAxIDAtMiAwIDEgMSAwIDAgMCAyIDBtMyAxYTEgMSAwIDEgMCAwLTIgMSAxIDAgMCAwIDAgMicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMTYgMTYnLFxuICAgIH0sXG4gICAgcmVtb3ZlOiB7XG4gICAgICAgIGQ6ICdNNyAzYTEgMSAwIDAgMSAxLTFoNGExIDEgMCAwIDEgMSAxdjFoM2ExIDEgMCAxIDEgMCAyaC0xbC0xIDEwYTIgMiAwIDAgMS0yIDJIOGEyIDIgMCAwIDEtMi0yTDUgNkg0YTEgMSAwIDEgMSAwLTJoM1YzWm0xIDNhMSAxIDAgMCAwLTEgMXY4YTEgMSAwIDEgMCAyIDBWN2ExIDEgMCAwIDAtMS0xWm00IDBhMSAxIDAgMCAwLTEgMXY4YTEgMSAwIDEgMCAyIDBWN2ExIDEgMCAwIDAtMS0xWicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgZXhwb3J0OiB7XG4gICAgICAgIGQ6ICdNMyAxNi4yNWEuNzUuNzUgMCAwIDEgLjc1LS43NWgxMi41YS43NS43NSAwIDAgMSAwIDEuNUgzLjc1YS43NS43NSAwIDAgMS0uNzUtLjc1Wm03LjUzLTIuMDNhLjc1Ljc1IDAgMCAxLTEuMDYgMGwtMy0zYS43NS43NSAwIDEgMSAxLjA2LTEuMDZsMS43MiAxLjcyVjMuNzVhLjc1Ljc1IDAgMCAxIDEuNSAwdjguMTNsMS43Mi0xLjcyYS43NS43NSAwIDEgMSAxLjA2IDEuMDZsLTMgM1onLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKG5hbWUpIHtcbiAgICBjb25zdCB7IGQsIHZpZXdCb3ggPSAnMCAwIDIwIDIwJyB9ID0gSUNPTlNbbmFtZV07XG4gICAgcmV0dXJuIHsgZCwgdmlld0JveCB9O1xufVxuIiwiaW1wb3J0IGkxOG4gZnJvbSAnQGNvbW1vbi9pMThuJztcbmltcG9ydCB7IGdldEljb24gfSBmcm9tICdAY29tbW9uL2ljb25zJztcbmltcG9ydCB7IGlzSXRlbUNvbG9yLCBpc0l0ZW1Qb3NpdGlvbiwgaXNJdGVtU2hhcGUsIFVOR1JPVVBFRCwgVU5HUk9VUEVEX1ZBTFVFLCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3RhdHVzTWVzc2FnZSwgU1RBVFVTLCBTVEFUVVNfTEFCRUxfU1RZTEUgfSBmcm9tICdAcGFuZWwvdmlldy9zdGF0dXMnO1xuaW1wb3J0IHsgVUlFdmVudFR5cGUgfSBmcm9tICcuLi90eXBlcy91aV9ldmVudF90eXBlcyc7XG5mdW5jdGlvbiBieUxhYmVsVGhlbklkKGEsIGIpIHtcbiAgICBpZiAoYS5sYWJlbCAhPT0gYi5sYWJlbClcbiAgICAgICAgcmV0dXJuIGEubGFiZWwgLSBiLmxhYmVsO1xuICAgIHJldHVybiBhLmlkIC0gYi5pZDtcbn1cbmV4cG9ydCBjbGFzcyBQYW5lbFZpZXcge1xuICAgIGRvYztcbiAgICBsaXN0ZW5lcnMgPSB7fTtcbiAgICBlbHM7XG4gICAgTkVXX0dST1VQID0gJ19fbmV3Z3JvdXBfXyc7XG4gICAgSE9WRVJfT1VUX0RFTEFZID0gMTAwMDtcbiAgICBkcmFnRWwgPSBudWxsO1xuICAgIGRyYWdTdGFydFBhcmVudCA9IG51bGw7XG4gICAgZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICBob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICBjb2xsYXBzZWRHcm91cHMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3RydWN0b3IoZG9jKSB7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICBpMThuLmxvY2FsaXplKGRvYyk7XG4gICAgICAgIHRoaXMuZWxzID0ge1xuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLiQoJyNzdGF0dXMnKSxcbiAgICAgICAgICAgIHRvZ2dsZUJ0bjogdGhpcy4kKCcjdG9nZ2xlLXNlbGVjdCcpLFxuICAgICAgICAgICAgdG9nZ2xlSWNvbjogdGhpcy4kKCcjdG9nZ2xlLXNlbGVjdC1pY29uJyksXG4gICAgICAgICAgICB0b2dnbGVMYWJlbDogdGhpcy4kKCcjdG9nZ2xlLXNlbGVjdC1sYWJlbCcpLFxuICAgICAgICAgICAgY2xlYXJCdG46IHRoaXMuJCgnI2NsZWFyJyksXG4gICAgICAgICAgICBjYXB0dXJlQnRuOiB0aGlzLiQoJyNjYXB0dXJlJyksXG4gICAgICAgICAgICBsaXN0OiB0aGlzLiQoJyNzZWxlY3QtbGlzdCcpLFxuICAgICAgICAgICAgZW1wdHk6IHRoaXMuJCgnI3NlbGVjdC1lbXB0eScpLFxuICAgICAgICAgICAgY291bnQ6IHRoaXMuJCgnI3NlbGVjdC1jb3VudCcpLFxuICAgICAgICAgICAgY2FwdHVyZU9wdGlvbnNUb2dnbGU6IHRoaXMuJCgnI2NhcHR1cmUtb3B0aW9ucy10b2dnbGUnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zUGFuZWw6IHRoaXMuJCgnI2NhcHR1cmUtb3B0aW9ucycpLFxuICAgICAgICAgICAgY2FwdHVyZUZtdFJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl0nKSxcbiAgICAgICAgICAgIGNhcHR1cmVBcmVhUmFkaW9zOiB0aGlzLiRhbGwoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl0nKSxcbiAgICAgICAgICAgIGpwZWdPbmx5RWxzOiB0aGlzLiRhbGwoJy5qcGVnLW9ubHknKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5UmFuZ2U6IHRoaXMuJCgnI2pwZWctcXVhbGl0eS1yYW5nZScpLFxuICAgICAgICAgICAganBlZ1F1YWxpdHlOdW1iZXI6IHRoaXMuJCgnI2pwZWctcXVhbGl0eS1udW1iZXInKSxcbiAgICAgICAgICAgIGNhcHR1cmVTY2FsZVJhbmdlOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLXJhbmdlJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVOdW1iZXI6IHRoaXMuJCgnI2NhcHR1cmUtc2NhbGUtbnVtYmVyJyksXG4gICAgICAgICAgICBiYWRnZVNpemVSYW5nZTogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1yYW5nZScpLFxuICAgICAgICAgICAgYmFkZ2VTaXplTnVtYmVyOiB0aGlzLiQoJyNiYWRnZS1zaXplLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VDb2xvckJ1dHRvbnM6IHRoaXMuJGFsbCgnI2JhZGdlLWNvbG9yLXBvcCBidXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JMYWJlbDogdGhpcy4kKCcjYmFkZ2UtY29sb3ItbGFiZWwnKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JEb3Q6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWRvdCcpLFxuICAgICAgICAgICAgYmFkZ2VTaGFwZVNlbGVjdDogdGhpcy4kKCcjYmFkZ2Utc2hhcGUtc2VsZWN0JyksXG4gICAgICAgICAgICBiYWRnZURlbGV0ZUJ1dHRvbjogdGhpcy4kKCcjYmFkZ2UtZGVsZXRlLWJ1dHRvbicpLFxuICAgICAgICAgICAgYmFkZ2VQb3NpdGlvbkJ1dHRvbnM6IHRoaXMuJGFsbCgnI2JhZGdlLXBvc2l0aW9uLXBvcCBidXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25MYWJlbDogdGhpcy4kKCcjYmFkZ2UtcG9zaXRpb24tbGFiZWwnKSxcbiAgICAgICAgICAgIGJhZGdlR3JvdXBTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLWdyb3VwLXNlbGVjdCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lTW9kYWw6IHRoaXMuJCgnI2dyb3VwLW5hbWUtbW9kYWwnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUlucHV0OiB0aGlzLiQoJyNncm91cC1uYW1lLWlucHV0JyksXG4gICAgICAgICAgICBncm91cE5hbWVDYW5jZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY2FuY2VsLWJ0bicpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ3JlYXRlbEJ0bjogdGhpcy4kKCcjZ3JvdXAtbmFtZS1jcmVhdGUtYnRuJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudE1vZGFsOiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtbW9kYWwnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SW5wdXQ6IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1pbnB1dCcpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRJZElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaWQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50Q2FuY2VsQnRuOiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtY2FuY2VsLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRBcHBseUJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWFwcGx5LWJ0bicpLFxuICAgICAgICAgICAgc2VsZWN0SXRlbUFsbENoZWNrYm94OiB0aGlzLiQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwiaXRlbS1zZWxlY3RcIl1bdmFsdWU9XCJhbGxcIl0nKSxcbiAgICAgICAgICAgIHNldHRpbmdNb2RhbDogdGhpcy4kKCcjc2V0dGluZy1tb2RhbCcpLFxuICAgICAgICAgICAgc2V0dGluZ0J1dHRvbjogdGhpcy4kKCcjc2V0dGluZy1idXR0b24nKSxcbiAgICAgICAgICAgIHNldHRpbmdDbG9zZUJ1dHRvbjogdGhpcy4kKCcjc2V0dGluZy1jbG9zZS1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lTGlnaHRCdG46IHRoaXMuJCgnI3RoZW1lLWxpZ2h0LWJ0bicpLFxuICAgICAgICAgICAgdGhlbWVEYXJrQnRuOiB0aGlzLiQoJyN0aGVtZS1kYXJrLWJ0bicpLFxuICAgICAgICAgICAgdGhlbWVEZXZpY2VCdG46IHRoaXMuJCgnI3RoZW1lLWRldmljZS1idG4nKSxcbiAgICAgICAgICAgIHN0b3JlQ291bnQ6IHRoaXMuJCgnI3N0b3JlLWNvdW50JyksXG4gICAgICAgICAgICBzdG9yZUxpc3Q6IHRoaXMuJCgnI3N0b3JlLWxpc3QnKSxcbiAgICAgICAgICAgIHN0b3JlRW1wdHk6IHRoaXMuJCgnI3N0b3JlLWVtcHR5JyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5lbHMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0xFQVIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAvLyA9PT0gQ2FwdHVyZSBvcHRpb25zID09PVxuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MuZm9yRWFjaCgocikgPT4gci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCB7IGZvcm1hdDogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCB7IGFyZWE6IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZSwgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgeyBxdWFsaXR5OiB2IH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZSwgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLCAodikgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCB7IHNjYWxlOiB2IH0pKTtcbiAgICAgICAgLy8gPT09IEJhZGdlID09PVxuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLCB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIpO1xuICAgICAgICBjb25zdCBmaXJlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBOdW1iZXIodGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCB7IHNpemU6IHYgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQuY29sb3JOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaXNJdGVtQ29sb3IocmF3KSA/IHJhdyA6ICdCbHVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCB7IGNvbG9yIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGlzSXRlbVNoYXBlKHYpID8gdiA6ICdjaXJjbGUnO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgeyBzaGFwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGJ0bi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGlzSXRlbVBvc2l0aW9uKHJhdykgPyByYXcgOiAnbGVmdC10b3Atb3V0c2lkZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QudmFsdWUgPz8gVU5HUk9VUEVEO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YWx1ZSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT09IHRoaXMuTkVXX0dST1VQKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDcmVhdGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgfHwgdmFsdWUgPT09IHRoaXMuTkVXX0dST1VQID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRBcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGhpcy5lbHMuaXRlbUNvbW1lbnRJZElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksIHsgaWQsIGNvbW1lbnQgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuc2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnNldHRpbmdNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRUSU5HX01PREFMX1NIT1csIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5zZXR0aW5nQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5zZXR0aW5nTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2xpZ2h0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGFya0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RhcmsnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEZXZpY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUoJ2RldmljZScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RldmljZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgYWxsQ2hlY2s6IHNlbGVjdGVkIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB0aGlzLmNhbmNlbEhvdmVyT3V0KCkpO1xuICAgICAgICB0aGlzLmVscy5saXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsICgpID0+IHRoaXMuc2NoZWR1bGVIb3Zlck91dCgpKTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgYXJyID0gKHRoaXMubGlzdGVuZXJzW3R5cGVdID8/PSBbXSk7XG4gICAgICAgIGFyci5wdXNoKGhhbmRsZXIpO1xuICAgIH1cbiAgICBlbWl0KHR5cGUsIGUpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgIGFycj8uZm9yRWFjaCgoaCkgPT4gaChlKSk7XG4gICAgfVxuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICB0aGlzLnJlbmRlclN0YXR1cyhtb2RlbC5zdGF0dXMpO1xuICAgICAgICB0aGlzLnJlbmRlclRvZ2dsZShtb2RlbC5zZWxlY3Rpb25FbmFibGVkKTtcbiAgICAgICAgdGhpcy5yZW5kZXJMaXN0KG1vZGVsLml0ZW1zLCBtb2RlbC5zZWxlY3RJdGVtcywgbW9kZWwubWlzc2luZ0lkcyk7XG4gICAgICAgIHRoaXMuc2VsZWN0UmFkaW9CeVZhbHVlKHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MsIG1vZGVsLmNhcHR1cmUuZm9ybWF0KTtcbiAgICAgICAgdGhpcy5zZWxlY3RSYWRpb0J5VmFsdWUodGhpcy5lbHMuY2FwdHVyZUFyZWFSYWRpb3MsIG1vZGVsLmNhcHR1cmUuYXJlYSk7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5TnVtYmVyLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUucXVhbGl0eSk7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5UmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5xdWFsaXR5KTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUuc2NhbGUpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnNjYWxlKTtcbiAgICAgICAgdGhpcy51cGRhdGVRdWFsaXR5VmlzaWJpbGl0eShtb2RlbC5jYXB0dXJlLmZvcm1hdCk7XG4gICAgICAgIHRoaXMuYXBwbHlDYXB0dXJlT3B0aW9uc1RvZ2dsZVVJKG1vZGVsLmNhcHR1cmUucGFuZWxFeHBhbmRlZCk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5kZWZhdWx0U2l6ZSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmRlZmF1bHRTaXplKTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlQ29sb3JVSShtb2RlbC5kZWZhdWx0Q29sb3IpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID0gbW9kZWwuZGVmYXVsdFNoYXBlO1xuICAgICAgICB0aGlzLmFwcGx5QmFkZ2VQb3NpdG9uVUkobW9kZWwuZGVmYXVsdFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlR3JvdXBTZWxlY3RVSSh0aGlzLmdldEV4aXN0aW5nR3JvdXBzKG1vZGVsLml0ZW1zKSwgbW9kZWwuZGVmYXVsdEdyb3VwKTtcbiAgICAgICAgdGhpcy5hcHBseVRoZW1lKG1vZGVsLnRoZW1lKTtcbiAgICAgICAgdGhpcy5hcHBseVN0b3JlKG1vZGVsLnBhZ2VLZXlzKTtcbiAgICB9XG4gICAgcmVuZGVyU3RhdHVzKGtleSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IFNUQVRVU19MQUJFTF9TVFlMRVtrZXldO1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxzLnN0YXR1cztcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Nvbm5lY3Qtc3RhdHVzJywgLi4uc3R5bGUuYm9keSk7XG4gICAgICAgIGNvbnN0IGRvdCA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgZG90LmNsYXNzTGlzdC5hZGQoJ2Nvbm5lY3Qtc3RhdHVzLWRvdCcsIC4uLnN0eWxlLmRvdCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBnZXRTdGF0dXNNZXNzYWdlKGtleSk7XG4gICAgICAgIGVsLnJlcGxhY2VDaGlsZHJlbihkb3QsIHRleHQpO1xuICAgICAgICB0aGlzLmRpc2FibGVGb3JtQ29udHJvbHMoa2V5ICE9PSBTVEFUVVMuQ09OTkVDVEVEKTtcbiAgICB9XG4gICAgcmVuZGVyVG9nZ2xlKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZWxzLnRvZ2dsZUljb247XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXRvZ2dsZS1pY29uJywgZW5hYmxlZCA/ICdiZy1pbmRpZ28tNTAwJyA6ICdiZy1zbGF0ZS0zMDAnKTtcbiAgICAgICAgdGhpcy5lbHMudG9nZ2xlTGFiZWwudGV4dENvbnRlbnQgPSBpMThuLmdldChlbmFibGVkID8gJ3RvZ2dsZV9vbicgOiAndG9nZ2xlX29mZicpO1xuICAgIH1cbiAgICByZW5kZXJMaXN0KGl0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICB0aGlzLmVscy5jb3VudC50ZXh0Q29udGVudCA9IFN0cmluZyhpdGVtcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBhbGxDaGVja2VkID0gaXRlbXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiBpdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5jaGVja2VkID0gYWxsQ2hlY2tlZDtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5lbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cEJ5R3JvdXAoaXRlbXMpO1xuICAgICAgICBjb25zdCBncm91cEtleXMgPSBBcnJheS5mcm9tKGdyb3Vwcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhID09PSBVTkdST1VQRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGIgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmcmFnID0gdGhpcy5kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGdLZXkgb2YgZ3JvdXBLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5yZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ3JvdXBzLmdldChnS2V5KSwgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbihmcmFnKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXBTZWN0aW9uKGdLZXksIGdJdGVtcywgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpIHtcbiAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmVsKCdzZWN0aW9uJywgJ3NlbGVjdC1pdGVtLXNlY3Rpb24nKTtcbiAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuZWwoJ2RpdicsICdzZWxlY3QtaXRlbS1oZWFkZXInKTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCAnc3Bzay1jaGVja2JveCBzcHNrLWNoZWNrYm94LS1ub3JtYWwnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBnSXRlbXMuZXZlcnkoKGl0KSA9PiBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogZ0tleSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogZ0tleSxcbiAgICAgICAgICAgICAgICBpc0NoZWNrOiBzZWxlY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC10aXRsZScsIGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXkpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWdoLWxlZnQnKTtcbiAgICAgICAgbGVmdC5hcHBlbmQoY2hlY2tib3hXcmFwLCB0aXRsZSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC1jb3VudCcsIFN0cmluZyhnSXRlbXMubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IHRoaXMuZWwoJ2J1dHRvbicsICdzZWxlY3QtaXRlbS1naC10b2dnbGUnKTtcbiAgICAgICAgdG9nZ2xlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghaXNDb2xsYXBzZWQpKTtcbiAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBpc0NvbGxhcHNlZCA/IGdldEljb24oJ2NhcmV0UmlnaHQnKSA6IGdldEljb24oJ2NhcmV0RG93bicpO1xuICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgY2xhc3NOYW1lOiAnaWNvbi1zbScsIHZpZXdCb3ggfSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZVBhdGggPSB0b2dnbGVJY29uLnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKTtcbiAgICAgICAgdG9nZ2xlQnRuLmFwcGVuZCh0b2dnbGVJY29uKTtcbiAgICAgICAgaGVhZGVyLmFwcGVuZChsZWZ0LCBjb3VudCwgdG9nZ2xlQnRuKTtcbiAgICAgICAgLy8gdWxcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLmVsKCd1bCcsICdzZWxlY3QtaXRlbS1saXN0Jyk7XG4gICAgICAgIGlmIChpc0NvbGxhcHNlZClcbiAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmF0dGFjaFVsRG5ESGFuZGxlcnModWwpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGdJdGVtcy5zb3J0KGJ5TGFiZWxUaGVuSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RDaGVja2VkID0gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudGx5Q29sbGFwc2VkID0gdGhpcy5jb2xsYXBzZWRHcm91cHMuaGFzKGdLZXkpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRseUNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2VkR3JvdXBzLmRlbGV0ZShnS2V5KTtcbiAgICAgICAgICAgICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGdldEljb24oJ2NhcmV0RG93bicpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuYWRkKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXRSaWdodCcpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kKGhlYWRlciwgdWwpO1xuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgcmVuZGVySXRlbShpdCwgc2VsZWN0Q2hlY2tlZCwgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc01pc3NpbmcgPSBtaXNzaW5nSWRzLmluY2x1ZGVzKGl0LmlkKTtcbiAgICAgICAgY29uc3QgbGlCYXNlID0gJ3NlbGVjdC1pdGVtJztcbiAgICAgICAgY29uc3QgbGkgPSB0aGlzLmVsKCdsaScsIGlzTWlzc2luZyA/IGBncm91cCAke2xpQmFzZX0gc2VsZWN0LWl0ZW0tLXdhcm5gIDogbGlCYXNlKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGxpLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIC8vIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwgPSBsaTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbGkucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGxpLnBhcmVudEVsZW1lbnQ/LmNoaWxkcmVuID8/IFtdLCBsaSk7XG4gICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpXG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZHJhZ0VsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHBhcmVudCA/IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCB0aGlzLmRyYWdFbCkgOiAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JZCA9IHRoaXMuZHJhZ0VsLmRhdGFzZXQuaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZnJvbUlkICYmIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPj0gMCAmJiBlbmRJbmRleCA+PSAwICYmIGVuZEluZGV4ICE9PSB0aGlzLmRyYWdTdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUlkOiBOdW1iZXIoZnJvbUlkKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbUluZGV4OiB0aGlzLmRyYWdTdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0b0luZGV4OiBlbmRJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoZWNrYm94XG4gICAgICAgIGNvbnN0IGNoZWNrYm94V3JhcCA9IHRoaXMuZWwoJ2RpdicsICdzcHNrLWNoZWNrd3JhcCcpO1xuICAgICAgICBjb25zdCBjaGVja2JveFN0eWxlID0gaXNNaXNzaW5nXG4gICAgICAgICAgICA/ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLXdhcm4nXG4gICAgICAgICAgICA6ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCc7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCBjaGVja2JveFN0eWxlKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzZWxlY3RDaGVja2VkO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgaWQ6IGl0LmlkLCBpc0NoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrYm94V3JhcC5hcHBlbmQoY2hlY2tib3gpO1xuICAgICAgICAvLyBiYWRnZVxuICAgICAgICBjb25zdCBiYWRnZVN0eWxlID0gaXNNaXNzaW5nID8gJ3Nwc2stYmFkZ2Ugc3Bzay1iYWRnZS0td2FybicgOiAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS1ub3JtJztcbiAgICAgICAgY29uc3QgYmFkZ2UgPSB0aGlzLmVsKCdzcGFuJywgYmFkZ2VTdHlsZSwgU3RyaW5nKGl0LmxhYmVsKSk7XG4gICAgICAgIC8vIG1haW4gKG1pc3NpbmdJY29uLCBhbmNob3IpXG4gICAgICAgIGNvbnN0IG1haW4gPSB0aGlzLmVsKCdkaXYnLCAnbWluLXctMCBmbGV4LTEnKTtcbiAgICAgICAgbWFpbi5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgfHwgaXNNaXNzaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCB7IGlkOiBpdC5pZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc01pc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaXAgPSB0aGlzLmVsKCdzcGFuJywgJ2NoaXAtd2FybicpO1xuICAgICAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBnZXRJY29uKCd3YXJuJyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICAgICAgdmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsKCdzcGFuJywgdW5kZWZpbmVkLCBpMThuLmdldCgnbWlzc2luZ19pdGVtJykpO1xuICAgICAgICAgICAgY2hpcC5hcHBlbmQoaWNvbiwgbGFiZWwpO1xuICAgICAgICAgICAgbWFpbi5hcHBlbmQoY2hpcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5lbCgnZGl2JywgJ2FuY2hvcicsIGl0LmFuY2hvci52YWx1ZSk7XG4gICAgICAgIG1haW4uYXBwZW5kKGFuY2hvcik7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRCdG4gPSB0aGlzLmdlbmVyYXRlQ29tbWVudEJ0bihpdCk7XG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveFdyYXAsIGJhZGdlLCBtYWluLCBjb21tZW50QnRuKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbW1lbnRCdG4oaXQpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuLWljb24nO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ2NvbW1lbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihkLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRJbnB1dC52YWx1ZSA9IGl0LmNvbW1lbnQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElkSW5wdXQudmFsdWUgPSBTdHJpbmcoaXQuaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ0bjtcbiAgICB9XG4gICAgc2NoZWR1bGVIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSwgdGhpcy5IT1ZFUl9PVVRfREVMQVkpO1xuICAgIH1cbiAgICBjYW5jZWxIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhvdmVyT3V0VGltZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTCBEJkQgSGFuZGxlclxuICAgICAqIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAqIEBwYXJhbSB1bFxuICAgICAqL1xuICAgIGF0dGFjaFVsRG5ESGFuZGxlcnModWwpIHtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYWdFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgJiYgdWwgIT09IHRoaXMuZHJhZ1N0YXJ0UGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpID0gZS50YXJnZXQ/LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TGkgJiYgdGFyZ2V0TGkgIT09IHRoaXMuZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldExpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQWZ0ZXIgPSBlLmNsaWVudFkgLSByZWN0LnRvcCA+IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB1bC5pbnNlcnRCZWZvcmUodGhpcy5kcmFnRWwsIGlzQWZ0ZXIgPyB0YXJnZXRMaS5uZXh0U2libGluZyA6IHRhcmdldExpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0YXJnZXRMaSkge1xuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKHRoaXMuZHJhZ0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG4gICAgZ2V0RXhpc3RpbmdHcm91cHMoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChpdGVtcy5tYXAoKGkpID0+IChpLmdyb3VwID8/ICcnKS50cmltKCkpLmZpbHRlcigoZykgPT4gZy5sZW5ndGggPiAwKSkpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XG4gICAgfVxuICAgIGdyb3VwQnlHcm91cChpdGVtcykge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSAoaXQuZ3JvdXAgPz8gVU5HUk9VUEVEX1ZBTFVFKS50cmltKCkgfHwgVU5HUk9VUEVEO1xuICAgICAgICAgICAgaWYgKCFtLmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgIG0uc2V0KGtleSwgW10pO1xuICAgICAgICAgICAgbS5nZXQoa2V5KS5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ2pwZWcnID8gJ2pwZWcnIDogJ3BuZyc7XG4gICAgfVxuICAgIGdldFNlbGVjdGVkQ2FwdHVyZUFyZWEoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ3ZpZXdwb3J0JyA/ICd2aWV3cG9ydCcgOiAnZnVsbCc7XG4gICAgfVxuICAgIHVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KGZvcm1hdCkge1xuICAgICAgICBjb25zdCBmID0gZm9ybWF0ID8/IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCk7XG4gICAgICAgIGNvbnN0IGlzSnBlZyA9IGYgPT09ICdqcGVnJztcbiAgICAgICAgdGhpcy5lbHMuanBlZ09ubHlFbHMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc0pwZWcpKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS5kaXNhYmxlZCA9ICFpc0pwZWc7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5TnVtYmVyLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICB9XG4gICAgc2VsZWN0UmFkaW9CeVZhbHVlKHJhZGlvcywgdmFsdWUpIHtcbiAgICAgICAgcmFkaW9zLmZvckVhY2goKHIpID0+IChyLmNoZWNrZWQgPSByLnZhbHVlID09PSB2YWx1ZSkpO1xuICAgIH1cbiAgICBiaW5kU3luYyhyYW5nZUVsLCBudW1iZXJFbCwgb25WYWx1ZSkge1xuICAgICAgICBjb25zdCByZWFkTnVtID0gKHMsIGZhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gcyAhPSBudWxsICYmIHMgIT09ICcnID8gTnVtYmVyKHMpIDogTmFOO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSA/IHYgOiBmYWxsYmFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodiwgbWluLCBtYXgpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAocmF3U3RyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSByZWFkTnVtKG51bWJlckVsLm1pbiB8fCByYW5nZUVsLm1pbiwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IHJlYWROdW0obnVtYmVyRWwubWF4IHx8IHJhbmdlRWwubWF4LCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHJlYWROdW0obnVtYmVyRWwuc3RlcCB8fCByYW5nZUVsLnN0ZXAsIDEpO1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gTnVtYmVyKHJhd1N0cik7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXAoTnVtYmVyLmlzRmluaXRlKHJhdykgPyByYXcgOiAwLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBjb25zdCByb3VuZGVkID0gTWF0aC5yb3VuZChjbGFtcGVkIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSBOdW1iZXIocm91bmRlZC50b0ZpeGVkKDYpKTtcbiAgICAgICAgICAgIG51bWJlckVsLnZhbHVlID0gU3RyaW5nKGZpeGVkKTtcbiAgICAgICAgICAgIHJhbmdlRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgb25WYWx1ZT8uKGZpeGVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmFuZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMocmFuZ2VFbC52YWx1ZSkpO1xuICAgICAgICBudW1iZXJFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMobnVtYmVyRWwudmFsdWUpKTtcbiAgICB9XG4gICAgZGlzYWJsZUZvcm1Db250cm9scyhpc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbiwgc2VsZWN0LCBpbnB1dCwgdGV4dGFyZWEnKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICgnZGlzYWJsZWQnIGluIGVsKSB7XG4gICAgICAgICAgICAgICAgZWwuZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXBwbHlDYXB0dXJlT3B0aW9uc1RvZ2dsZVVJKGV4cGFuZGVkKSB7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVPcHRpb25zVG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyhleHBhbmRlZCkpO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGV4cGFuZGVkID8gZ2V0SWNvbignY2FyZXREb3duRmlsbCcpIDogZ2V0SWNvbignY2FyZXRSaWdodEZpbGwnKTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVPcHRpb25zVG9nZ2xlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU3ZnSWNvbihkLCB7IHZpZXdCb3gsIGNsYXNzTmFtZTogJ2gtNCB3LTQnIH0pKTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNQYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCAhZXhwYW5kZWQpO1xuICAgIH1cbiAgICBnZXRCYWRnZUNvbG9yU3R5bGVOYW1lKGNvbG9yKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yTmFtZSA9IGNvbG9yID09PSAnR3JheScgPyAnc2xhdGUnIDogY29sb3I7XG4gICAgICAgIHJldHVybiBgYmctJHtjb2xvck5hbWUudG9Mb3dlckNhc2UoKX0tNTAwYDtcbiAgICB9XG4gICAgYXBwbHlCYWRnZUNvbG9yVUkoY29sb3IpIHtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGJ1dHRvbi5kYXRhc2V0LmNvbG9yTmFtZSA9PT0gY29sb3I7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgc2VsZWN0ZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JMYWJlbC50ZXh0Q29udGVudCA9IGNvbG9yO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yRG90LmNsYXNzTmFtZSA9ICdpbmxpbmUtYmxvY2sgdy00IGgtNCByb3VuZGVkLWZ1bGwnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yRG90LmNsYXNzTGlzdC5hZGQodGhpcy5nZXRCYWRnZUNvbG9yU3R5bGVOYW1lKGNvbG9yKSk7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VQb3NpdG9uVUkocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA9PT0gcG9zaXRpb247XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNlbGVjdGVkJywgc2VsZWN0ZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25MYWJlbC50ZXh0Q29udGVudCA9IHBvc2l0aW9uLnJlcGxhY2VBbGwoJy0nLCAnICcpO1xuICAgIH1cbiAgICBhcHBseUJhZGdlR3JvdXBTZWxlY3RVSShleGlzdGluZ0dyb3VwcywgZGVmYXV0R3JvdXApIHtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hcHBlbmQodGhpcy5tYWtlT3B0KFVOR1JPVVBFRCwgaTE4bi5nZXQoJ2dyb3VwX3VuZ3JvdXBlZCcpLCBkZWZhdXRHcm91cCA9PT0gVU5HUk9VUEVEKSk7XG4gICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgZXhpc3RpbmdHcm91cHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChnKSA9PiAoZyA/PyAnJykudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemUoZ3JvdXApO1xuICAgICAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hcHBlbmQodGhpcy5tYWtlT3B0KHZhbHVlLCBncm91cCwgZGVmYXV0R3JvdXAgPT09IGdyb3VwKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3JlYXRlT3B0ID0gdGhpcy5tYWtlT3B0KHRoaXMuTkVXX0dST1VQLCBpMThuLmdldCgnY29tbW9uX2NyZWF0ZScpKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hcHBlbmQoY3JlYXRlT3B0KTtcbiAgICB9XG4gICAgYXBwbHlUaGVtZSh0aGVtZSkge1xuICAgICAgICBjb25zdCByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCBpc0RhcmsgPSB0aGVtZSA9PT0gJ2RldmljZSdcbiAgICAgICAgICAgID8gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzXG4gICAgICAgICAgICA6IHRoZW1lID09PSAnZGFyayc7XG4gICAgICAgIGlmIChpc0RhcmspIHtcbiAgICAgICAgICAgIHJvb3QuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbHMudGhlbWVMaWdodEJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgU3RyaW5nKHRoZW1lID09PSAnbGlnaHQnKSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGFya0J0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgU3RyaW5nKHRoZW1lID09PSAnZGFyaycpKTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEZXZpY2VCdG4uc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIFN0cmluZyh0aGVtZSA9PT0gJ2RldmljZScpKTtcbiAgICB9XG4gICAgYXBwbHlTdG9yZShwYWdlS2V5cykge1xuICAgICAgICB0aGlzLmVscy5zdG9yZUNvdW50LnRleHRDb250ZW50ID0gU3RyaW5nKHBhZ2VLZXlzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgaWYgKHBhZ2VLZXlzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVscy5zdG9yZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5zdG9yZUVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcGFnZUtleSBvZiBwYWdlS2V5cykge1xuICAgICAgICAgICAgY29uc3QgbGlFbGVtID0gdGhpcy5lbCgnbGknLCAnc2VsZWN0LWl0ZW0nKTtcbiAgICAgICAgICAgIGNvbnN0IGFXcmFwRWxlbSA9IHRoaXMuZWwoJ2RpdicsICdtaW4tdy0wIGZsZXgtMScpO1xuICAgICAgICAgICAgY29uc3QgYUVsZW0gPSB0aGlzLmVsKCdhJywgJ2FuY2hvciB3aGl0ZXNwYWNlLW5vcm1hbCBicmVhay13b3JkcycsIHBhZ2VLZXkpO1xuICAgICAgICAgICAgYUVsZW0uaHJlZiA9IHBhZ2VLZXk7XG4gICAgICAgICAgICBhRWxlbS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgIGFXcmFwRWxlbS5hcHBlbmRDaGlsZChhRWxlbSk7XG4gICAgICAgICAgICBjb25zdCBleHBvcnRCdG5FbGVtID0gdGhpcy5lbCgnYnV0dG9uJywgJ2J0bi1pY29uJyk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCBleHBvcnRJY29uRGVmID0gZ2V0SWNvbignZXhwb3J0Jyk7XG4gICAgICAgICAgICBjb25zdCBleHBvcnRJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGV4cG9ydEljb25EZWYuZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ljb24tc20nLFxuICAgICAgICAgICAgICAgIHZpZXdCb3g6IGV4cG9ydEljb25EZWYudmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwb3J0QnRuRWxlbS5hcHBlbmRDaGlsZChleHBvcnRJY29uKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUJ0bkVsZW0gPSB0aGlzLmVsKCdidXR0b24nLCAnYnRuLWljb24gYnRuLWljb24tLWRhbmdlcicpO1xuICAgICAgICAgICAgcmVtb3ZlQnRuRWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWdub3JlLWRpc2FibGUnLCAndHJ1ZScpO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlSWNvbkRlZiA9IGdldEljb24oJ3JlbW92ZScpO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlSWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihyZW1vdmVJY29uRGVmLmQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdpY29uLXNtJyxcbiAgICAgICAgICAgICAgICB2aWV3Qm94OiByZW1vdmVJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlbW92ZUJ0bkVsZW0uYXBwZW5kQ2hpbGQocmVtb3ZlSWNvbik7XG4gICAgICAgICAgICBsaUVsZW0uYXBwZW5kQ2hpbGQoYVdyYXBFbGVtKTtcbiAgICAgICAgICAgIGxpRWxlbS5hcHBlbmRDaGlsZChleHBvcnRCdG5FbGVtKTtcbiAgICAgICAgICAgIGxpRWxlbS5hcHBlbmRDaGlsZChyZW1vdmVCdG5FbGVtKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5hcHBlbmRDaGlsZChsaUVsZW0pO1xuICAgICAgICAgICAgZXhwb3J0QnRuRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuRVhQT1JUX1BBR0VfQ0xJQ0ssIHsgcGFnZUtleSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlQnRuRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuUkVNT1ZFX1BBR0VfQ0xJQ0ssIHsgcGFnZUtleSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdGhpcy5lbHMuc3RvcmVFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgJChzZWxlY3Rvcikge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICBpZiAoIWVsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbUGFuZWxWaWV3XSBNaXNzaW5nIGVsZW1lbnQ6ICR7c2VsZWN0b3J9YCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgJGFsbChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGVsKHRhZywgY2xhc3NOYW1lLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpXG4gICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgaWYgKHRleHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgbWFrZU9wdCh2YWx1ZSwgbGFiZWwsIHNlbGVjdGVkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIG8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgaWYgKHNlbGVjdGVkKVxuICAgICAgICAgICAgby5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICBjcmVhdGVTdmdJY29uKGQsIG9wdHMgPSB7fSkge1xuICAgICAgICBjb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAnc3ZnJyk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBvcHRzLnZpZXdCb3ggPz8gJzAgMCAyMCAyMCcpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdjbGFzcycsIG9wdHMuY2xhc3NOYW1lID8/ICdoLTMuNSB3LTMuNScpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ2N1cnJlbnRDb2xvcicpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIGlmIChvcHRzLmF0dHJzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhvcHRzLmF0dHJzKSlcbiAgICAgICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKGssIHYpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdwYXRoJyk7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoJ2QnLCBkKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGhFbCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFuZWxDb250cm9sbGVyIH0gZnJvbSAnQHBhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlcic7XG5pbXBvcnQgeyBQYW5lbFZpZXcgfSBmcm9tICcuLi92aWV3L3BhbmVsX3ZpZXcnO1xuLyoqXG4gKiBPcmNoZXN0cmF0ZXMgVUkgaW5pdGlhbGl6YXRpb24gYW5kIGNvbm5lY3Rpb24gbGlmZWN5Y2xlLlxuICogLSBBcHBseSBpMThuXG4gKiAtIERldGVjdCBhbmQgY29ubmVjdCB0byB0aGUgYWN0aXZlIHRhYlxuICogLSBSZXN0b3JlIHN0YXRlIGFuZCBwZXJmb3JtIGluaXRpYWwgcmVuZGVyXG4gKiAtIEJpbmQgVUkgZXZlbnRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgUGFuZWxWaWV3KGRvY3VtZW50KTtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IFBhbmVsQ29udHJvbGxlcih2aWV3KTtcbiAgICBhd2FpdCBjb250cm9sbGVyLnN0YXJ0KCk7XG59XG4oZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7XG4gICAgICAgIHZvaWQgc3RhcnQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYW5lbCBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHZvaWQgc3RhcnQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYW5lbCBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbImlzUmVzdHJpY3RlZCIsInJhdyIsInN0YXJ0c1dpdGgiLCJ1cmwiLCJVUkwiLCJTZXQiLCJoYXMiLCJwcm90b2NvbCIsImhvc3RuYW1lIiwiSVRFTV9DT0xPUlMiLCJJVEVNX1NIQVBFIiwiSVRFTV9QT1NJVElPTl9WQUxVRVMiLCJVTkdST1VQRUQiLCJVTkdST1VQRURfVkFMVUUiLCJpbml0aWFsTW9kZWwiLCJzdGF0dXMiLCJ0YWJJZCIsInBhZ2VLZXkiLCJwYWdlS2V5cyIsInRoZW1lIiwic2VsZWN0aW9uRW5hYmxlZCIsIml0ZW1zIiwiZGVmYXVsdFNpemUiLCJkZWZhdWx0Q29sb3IiLCJkZWZhdWx0U2hhcGUiLCJkZWZhdWx0UG9zaXRpb24iLCJkZWZhdWx0R3JvdXAiLCJjYXB0dXJlIiwiZm9ybWF0IiwiYXJlYSIsInF1YWxpdHkiLCJzY2FsZSIsInBhbmVsRXhwYW5kZWQiLCJzZWxlY3RJdGVtcyIsIm1pc3NpbmdJZHMiLCJzY3JlZW5TdGF0ZVRhYmxlIiwicm9vdEtleSIsImRlZmF1bHRPZiIsIktFWSIsImFzeW5jIiwicmVhZEFsbCIsImNocm9tZSIsInN0b3JhZ2UiLCJsb2NhbCIsImdldCIsIndyaXRlQWxsIiwibWFwIiwic2V0Iiwia2V5IiwiZm91bmQiLCJ1bmRlZmluZWQiLCJ2YWx1ZSIsInJlbW92ZSIsImNsZWFyIiwiY3JlYXRlTWFwVGFibGUiLCJuZXh0SWQiLCJ0aGVtZVRhYmxlIiwidmFsIiwiY3JlYXRlU2luZ2xldG9uIiwibm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZCIsImJ1Y2tldHMiLCJNYXAiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwiZ3JvdXAiLCJ0cmltIiwicHVzaCIsIm91dCIsInNsaWNlIiwiYnVja2V0Iiwic29ydCIsImEiLCJiIiwibGFiZWwiLCJpZCIsImkiLCJkZXNpcmVkIiwic3VicyIsImkxOG4iLCJnZXRNZXNzYWdlIiwibG9jYWxpemUiLCJyb290IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInNwZWMiLCJwYWlyIiwic3BsaXQiLCJhdHRyIiwicyIsInNldEF0dHJpYnV0ZSIsIlNUQVRVUyIsIlNUQVRVU19NU0dfS0VZIiwiUkVTVFJJQ1RFRCIsIkNPTk5FQ1RJTkciLCJDT05ORUNURUQiLCJESVNDT05ORUNURUQiLCJTVEFUVVNfTEFCRUxfU1RZTEUiLCJib2R5IiwiZG90IiwiQWN0aW9uVHlwZSIsIkVmZmVjdFR5cGUiLCJDSEFOTkVMIiwiUGFuZWxBcGkiLCJycGMiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJzZW5kIiwicmVxIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImV4cGVjdFJlcGx5IiwicmVuZGVyIiwidHlwZSIsInBheWxvYWQiLCJ0b2dnbGVTZWxlY3QiLCJlbmFibGVkIiwiaG92ZXIiLCJtZWFzdXJlU2l6ZSIsInBpbmciLCJQb3J0UnBjIiwicG9ydCIsInBlbmRpbmciLCJhbGl2ZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwibXNnIiwiaXNSZXNwb25zZSIsImRlbGV0ZSIsIm9uRGlzY29ubmVjdCIsInJlYXNvbiIsInJ1bnRpbWUiLCJsYXN0RXJyb3IiLCJtZXNzYWdlIiwicmVzb2x2ZSIsIm9rIiwiZXJyb3IiLCJpc0FsaXZlIiwidGltZW91dE1zIiwiUHJvbWlzZSIsInRpbWVyIiwic2V0VGltZW91dCIsInJlcyIsImNsZWFyVGltZW91dCIsInBvc3RNZXNzYWdlIiwiT1dORUQiLCJ0YXJnZXQiLCJtZXRob2QiLCJwYXJhbXMiLCJyZWplY3QiLCJkZWJ1Z2dlciIsInNlbmRDb21tYW5kIiwicmVzdWx0IiwiZXJyIiwiRXJyb3IiLCJTdHJpbmciLCJvcHRzIiwidGFiIiwidGFicyIsImNvbnNvbGUiLCJ3YXJuIiwiZm10Iiwic2V0dGxlTXMiLCJkaWRBdHRhY2giLCJ1c2VkT3ZlcnJpZGUiLCJhdHRhY2giLCJhZGQiLCJpbmNsdWRlcyIsImF0dGFjaE93bmVkIiwiYnJpbmdUb0Zyb250IiwiZ2VvbSIsImNvbnRlbnRTaXplIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInYiLCJjc3NWaXN1YWxWaWV3cG9ydCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsInBhZ2VYIiwicGFnZVkiLCJjZWlsIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRWaWV3cG9ydENzc1JlY3QiLCJ1c2VPdmVycmlkZSIsImNsaXAiLCJjYXB0dXJlQmV5b25kVmlld3BvcnQiLCJzaG91bGRTY3JvbGxUb3AiLCJtZXRyaWNzIiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJtb2JpbGUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsInJlc29sdmVHZW9tZXRyeSIsImV4cHJlc3Npb24iLCJyIiwiY2FwUGFyYW1zIiwiZnJvbVN1cmZhY2UiLCJtaW4iLCJyb3VuZCIsImRhdGEiLCJmaWxlbmFtZSIsImJhc2UiLCJ0aXRsZSIsImhvc3QiLCJyZXBsYWNlIiwibGVuZ3RoIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWFrZUZpbGVuYW1lIiwiZG93bmxvYWRzIiwiZG93bmxvYWQiLCJzYXZlQXMiLCJkZXRhY2giLCJkZXRhY2hPd25lZCIsImV4cG9ydFNjcmVlblN0YXRlIiwic3RhdGUiLCJwcmVmaXgiLCJraW5kIiwidmVyc2lvbiIsImV4cG9ydGVkQXQiLCJ0ZXh0IiwiYnl0ZXMiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImJpbiIsImZyb21DaGFyQ29kZSIsImJ0b2EiLCJ0b0Jhc2U2NFV0ZjgiLCJKU09OIiwic3RyaW5naWZ5IiwiZCIsInBhZCIsIm4iLCJ3IiwicGFkU3RhcnQiLCJ0em8iLCJnZXRUaW1lem9uZU9mZnNldCIsInNpZ24iLCJoaCIsImFicyIsIm1tIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwidGltZXN0YW1wIiwiVUlFdmVudFR5cGUiLCJvbkRldGFjaCIsImRlYnVnZ2VlIiwiUGFuZWxDb250cm9sbGVyIiwidmlldyIsIm1vZGVsIiwic3RydWN0dXJlZENsb25lIiwiY29ubiIsImN1cnJlbnRXaW5kb3dJZCIsInN0YXRpYyIsIlJFTkRFUl9DT05URU5UIiwiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UIiwiQ0xFQVJfQ09OVEVOVCIsIkhPVkVSIiwic3RhcnQiLCJkaXNwYXRjaCIsIklOSVQiLCJlbnN1cmVDb25uZWN0aW9uQWxpdmUiLCJmb3JjZVJlY29ubmVjdCIsInJlZ2lzdGVyVmlld0hhbmRsZXJzIiwid2luZG93cyIsImdldEN1cnJlbnQiLCJzZW5kZXJXaW5kb3dJZCIsIndpbmRvd0lkIiwib24iLCJUT0dHTEVfU0VMRUNUIiwiQ0xFQVIiLCJDTEVBUl9BTEwiLCJDQVBUVVJFIiwiTUVBU1VSRV9DT05URU5UX1NJWkUiLCJCQURHRV9TSVpFX0NIQU5HRSIsInNpemUiLCJTRVRfQkFER0VfU0laRSIsIkJBREdFX0NPTE9SX1NFTEVDVCIsImNvbG9yIiwiU0VUX0JBREdFX0NPTE9SIiwiQkFER0VfU0hBUEVfQ0hBTkdFIiwic2hhcGUiLCJTRVRfQkFER0VfU0hBUEUiLCJCQURHRV9ERUxFVEUiLCJCQURHRV9QT1NJVElPTl9TRUxFQ1QiLCJwb3NpdGlvbiIsIlNFVF9CQURHRV9QT1NJVElPTiIsIlRPR0dMRV9DQVBUVVJFX1BBTkVMIiwiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfRk9STUFUIiwiQ0FQVFVSRV9BUkVBX0NIQU5HRSIsIlNFVF9DQVBUVVJFX0FSRUEiLCJDQVBUVVJFX1FVQUxJVFlfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfUVVBTElUWSIsIkNBUFRVUkVfU0NBTEVfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfU0NBTEUiLCJSRU9SREVSX0lURU1TIiwiZnJvbUlkIiwiZnJvbUluZGV4IiwidG9JbmRleCIsIlNFVF9HUk9VUCIsIklURU1fU0VMRUNUSU9OX0NIQU5HRUQiLCJJVEVNX0hPVkVSX0lOIiwiSVRFTV9IT1ZFUl9PVVQiLCJJVEVNX0NPTU1FTlRfQVBQTFkiLCJjb21tZW50IiwiVVBEQVRFX0lURU1fQ09NTUVOVCIsIlVQREFURV9USEVNRSIsIlNFVFRJTkdfTU9EQUxfU0hPVyIsIlNUT1JFX1JFTE9BRF9SRVFVRVNURUQiLCJSRU1PVkVfUEFHRV9DTElDSyIsIlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRSIsIkVYUE9SVF9QQUdFX0NMSUNLIiwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFIiwiYWN0aW9uIiwibmV4dCIsImVmZmVjdHMiLCJTRVRfVEhFTUUiLCJTRVRfU1RBVFVTIiwiUkVTVE9SRV9TVEFURSIsIlNFVF9NSVNTSU5HX0lEUyIsIkNMRUFSX1NUQVRFIiwiQ09OVEVOVF9TRUxFQ1RFRCIsIml0IiwiUEVSU0lTVF9TVEFURSIsImZpbHRlciIsIml0ZW1zTWFya2VkRm9yUmVsYWJlbCIsIm5leHRHcm91cFJhdyIsIm5leHRHcm91cCIsInVwZGF0ZUl0ZW1DbnQiLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwidXBkYXRlR3JvdXBBbmREZWZlclJlbGFiZWwiLCJDQVBUVVJFX1JFUVVFU1RFRCIsIk5PVElGWV9FUlJPUiIsIkNBUFRVUkVfU1VDQ0VFREVEIiwiQ0FQVFVSRV9GQUlMRUQiLCJSYW5nZUVycm9yIiwiZnJvbUlkeCIsImZpbmRJbmRleCIsInJlb3JkZXJJdGVtTGFiZWwiLCJpc0NoZWNrIiwiYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQiLCJnIiwiZ3JvdXBJZHMiLCJncm91cFNldCIsImFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JHcm91cCIsImFsbENoZWNrIiwiUE9SVF9ESVNDT05ORUNURUQiLCJSRUFEX1NDUkVFTl9TVEFURV9TVE9SRSIsIlNUT1JFX1JFTE9BRF9TVUNDRUVERUQiLCJSRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZIiwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWSIsIkVYUE9SVF9GQUlMRUQiLCJ1cGRhdGUiLCJleGVjRWZmZWN0cyIsImNhdGNoIiwic29tZSIsImZ4IiwiUkVRVUlSRVNfQ09OTiIsImNvbnRleHRDaGFuZ2VkIiwiYXBpIiwicHJldiIsInNjcmVlblN0YXRlcyIsIk9iamVjdCIsImtleXMiLCJzdCIsImUiLCJwcmV2S2V5IiwicXVlcnkiLCJhY3RpdmUiLCJjdXJyZW50V2luZG93IiwiZ2V0QWN0aXZlVGFiIiwibmV3S2V5IiwiaW5jbHVkZUhhc2giLCJ1Iiwib3JpZ2luIiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNoIiwiZGlzY29ubmVjdCIsInNjcmlwdGluZyIsImV4ZWN1dGVTY3JpcHQiLCJmaWxlcyIsImNvbm5lY3QiLCJuYW1lIiwibGlzdGVuZXJzIiwiZm4iLCJjYiIsImRpc3Bvc2UiLCJjb25uZWN0VG9UYWIiLCJhbmNob3JzIiwidW5pcSIsIkFycmF5IiwiZnJvbSIsImZpbmQiLCJCb29sZWFuIiwicmVtb3ZlZElkcyIsInRvQWRkIiwiYW5jaG9yIiwicGF0Y2giLCJhZGRlZCIsInRvUmVtb3ZlIiwiSW5maW5pdHkiLCJhcHBseVBhdGNoIiwiaGFuZGxlU2VsZWN0ZWQiLCJJQ09OUyIsImNhcmV0RG93biIsInZpZXdCb3giLCJjYXJldERvd25GaWxsIiwiY2FyZXRSaWdodCIsImNhcmV0UmlnaHRGaWxsIiwiZXhwb3J0IiwiZ2V0SWNvbiIsImJ5TGFiZWxUaGVuSWQiLCJQYW5lbFZpZXciLCJkb2MiLCJlbHMiLCJORVdfR1JPVVAiLCJIT1ZFUl9PVVRfREVMQVkiLCJkcmFnRWwiLCJkcmFnU3RhcnRQYXJlbnQiLCJkcmFnU3RhcnRJbmRleCIsImhvdmVyT3V0VGltZXIiLCJjb2xsYXBzZWRHcm91cHMiLCIkIiwidG9nZ2xlQnRuIiwidG9nZ2xlSWNvbiIsInRvZ2dsZUxhYmVsIiwiY2xlYXJCdG4iLCJjYXB0dXJlQnRuIiwibGlzdCIsImVtcHR5IiwiY291bnQiLCJjYXB0dXJlT3B0aW9uc1RvZ2dsZSIsImNhcHR1cmVPcHRpb25zUGFuZWwiLCJjYXB0dXJlRm10UmFkaW9zIiwiJGFsbCIsImNhcHR1cmVBcmVhUmFkaW9zIiwianBlZ09ubHlFbHMiLCJqcGVnUXVhbGl0eVJhbmdlIiwianBlZ1F1YWxpdHlOdW1iZXIiLCJjYXB0dXJlU2NhbGVSYW5nZSIsImNhcHR1cmVTY2FsZU51bWJlciIsImJhZGdlU2l6ZVJhbmdlIiwiYmFkZ2VTaXplTnVtYmVyIiwiYmFkZ2VDb2xvckJ1dHRvbnMiLCJiYWRnZUNvbG9yTGFiZWwiLCJiYWRnZUNvbG9yRG90IiwiYmFkZ2VTaGFwZVNlbGVjdCIsImJhZGdlRGVsZXRlQnV0dG9uIiwiYmFkZ2VQb3NpdGlvbkJ1dHRvbnMiLCJiYWRnZVBvc2l0aW9uTGFiZWwiLCJiYWRnZUdyb3VwU2VsZWN0IiwiZ3JvdXBOYW1lTW9kYWwiLCJncm91cE5hbWVJbnB1dCIsImdyb3VwTmFtZUNhbmNlbEJ0biIsImdyb3VwTmFtZUNyZWF0ZWxCdG4iLCJpdGVtQ29tbWVudE1vZGFsIiwiaXRlbUNvbW1lbnRJbnB1dCIsIml0ZW1Db21tZW50SWRJbnB1dCIsIml0ZW1Db21tZW50Q2FuY2VsQnRuIiwiaXRlbUNvbW1lbnRBcHBseUJ0biIsInNlbGVjdEl0ZW1BbGxDaGVja2JveCIsInNldHRpbmdNb2RhbCIsInNldHRpbmdCdXR0b24iLCJzZXR0aW5nQ2xvc2VCdXR0b24iLCJ0aGVtZUxpZ2h0QnRuIiwidGhlbWVEYXJrQnRuIiwidGhlbWVEZXZpY2VCdG4iLCJzdG9yZUNvdW50Iiwic3RvcmVMaXN0Iiwic3RvcmVFbXB0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbWl0IiwidXBkYXRlUXVhbGl0eVZpc2liaWxpdHkiLCJnZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQiLCJnZXRTZWxlY3RlZENhcHR1cmVBcmVhIiwiYmluZFN5bmMiLCJmaXJlU2l6ZSIsImlzRmluaXRlIiwiYnRuIiwiZGF0YXNldCIsImNvbG9yTmFtZSIsImlzSXRlbVNoYXBlIiwicG9zaXRpb25OYW1lIiwiY2xhc3NMaXN0IiwiYXBwbHlUaGVtZSIsInNlbGVjdGVkIiwiY2hlY2tlZCIsImNhbmNlbEhvdmVyT3V0Iiwic2NoZWR1bGVIb3Zlck91dCIsImhhbmRsZXIiLCJhcnIiLCJoIiwicmVuZGVyU3RhdHVzIiwicmVuZGVyVG9nZ2xlIiwicmVuZGVyTGlzdCIsInNlbGVjdFJhZGlvQnlWYWx1ZSIsImFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSSIsImFwcGx5QmFkZ2VDb2xvclVJIiwiYXBwbHlCYWRnZVBvc2l0b25VSSIsImFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJIiwiZ2V0RXhpc3RpbmdHcm91cHMiLCJhcHBseVN0b3JlIiwic3R5bGUiLCJjbGFzc05hbWUiLCJjcmVhdGVFbGVtZW50IiwibXNnS2V5IiwiZ2V0U3RhdHVzTWVzc2FnZSIsInJlcGxhY2VDaGlsZHJlbiIsImRpc2FibGVGb3JtQ29udHJvbHMiLCJpY29uIiwiYWxsQ2hlY2tlZCIsImV2ZXJ5IiwiZ3JvdXBzIiwiZ3JvdXBCeUdyb3VwIiwiZ3JvdXBLZXlzIiwibG9jYWxlQ29tcGFyZSIsImZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZ0tleSIsInNlY3Rpb24iLCJyZW5kZXJHcm91cFNlY3Rpb24iLCJhcHBlbmRDaGlsZCIsImdJdGVtcyIsImlzQ29sbGFwc2VkIiwiaGVhZGVyIiwiY2hlY2tib3hXcmFwIiwiY2hlY2tib3giLCJhcHBlbmQiLCJsZWZ0IiwiY3JlYXRlU3ZnSWNvbiIsInRvZ2dsZVBhdGgiLCJxdWVyeVNlbGVjdG9yIiwidWwiLCJhdHRhY2hVbERuREhhbmRsZXJzIiwic2VsZWN0Q2hlY2tlZCIsInJlbmRlckl0ZW0iLCJpc01pc3NpbmciLCJsaUJhc2UiLCJsaSIsImRyYWdnYWJsZSIsInBhcmVudEVsZW1lbnQiLCJwcm90b3R5cGUiLCJpbmRleE9mIiwiY2FsbCIsImNoaWxkcmVuIiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0QWxsb3dlZCIsInBhcmVudCIsImVuZEluZGV4IiwiY2hlY2tib3hTdHlsZSIsImJhZGdlU3R5bGUiLCJiYWRnZSIsIm1haW4iLCJjaGlwIiwiY29tbWVudEJ0biIsImdlbmVyYXRlQ29tbWVudEJ0biIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0TGkiLCJjbG9zZXN0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlzQWZ0ZXIiLCJjbGllbnRZIiwidG9wIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJtIiwiaXNKcGVnIiwidG9nZ2xlIiwiZGlzYWJsZWQiLCJyYWRpb3MiLCJyYW5nZUVsIiwibnVtYmVyRWwiLCJvblZhbHVlIiwicmVhZE51bSIsImZhbGxiYWNrIiwiTmFOIiwic3luYyIsInJhd1N0ciIsIk5FR0FUSVZFX0lORklOSVRZIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJzdGVwIiwiY2xhbXBlZCIsImNsYW1wIiwicm91bmRlZCIsImZpeGVkIiwidG9GaXhlZCIsImlzRGlzYWJsZWQiLCJoYXNBdHRyaWJ1dGUiLCJleHBhbmRlZCIsImlubmVySFRNTCIsImdldEJhZGdlQ29sb3JTdHlsZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImJ1dHRvbiIsInJlcGxhY2VBbGwiLCJleGlzdGluZ0dyb3VwcyIsImRlZmF1dEdyb3VwIiwibWFrZU9wdCIsIm5vcm1hbGl6ZSIsImNyZWF0ZU9wdCIsImRvY3VtZW50RWxlbWVudCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwibGlFbGVtIiwiYVdyYXBFbGVtIiwiYUVsZW0iLCJocmVmIiwiZXhwb3J0QnRuRWxlbSIsImV4cG9ydEljb25EZWYiLCJleHBvcnRJY29uIiwicmVtb3ZlQnRuRWxlbSIsInJlbW92ZUljb25EZWYiLCJyZW1vdmVJY29uIiwic2VsZWN0b3IiLCJ0YWciLCJub2RlIiwibyIsIlNWR19OUyIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsImF0dHJzIiwiayIsImVudHJpZXMiLCJwYXRoRWwiLCJjb250cm9sbGVyIiwicmVhZHlTdGF0ZSIsIm9uY2UiXSwic291cmNlUm9vdCI6IiJ9