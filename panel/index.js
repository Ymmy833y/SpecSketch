(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",s="RENDER",i="CLEAR",a="HOVER",n="MEASURE_SIZE",o="SELECTED",r="MISSING_IDS",l="CONTENT_SIZE_RESULT",c="ACTIVE_TAB_CHANGED";function d(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const E=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],h=["circle","square"],u=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",T="",m=["Numbers","UpperAlpha","LowerAlpha","None"];function _(e){if(!e||"object"!=typeof e)return!1;const t=e.anchor;if(!t||"object"!=typeof t)return!1;const s=t;return"css"===s.kind&&"string"==typeof s.value&&("number"==typeof s.version||1===s.version)}const S={status:"DISCONNECTED",tabId:null,pageKey:"",pageKeys:[],theme:"device",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultLabelFormat:"Numbers",defaultVisible:!0,defaultPosition:"left-top-outside",defaultGroup:T,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[],toastMessages:[]},g=function(e,t){const s="screenStateByPage";async function i(){return(await chrome.storage.local.get(s))[s]??{}}async function a(e){await chrome.storage.local.set({[s]:e})}return{key:s,readAll:i,writeAll:a,get:async function(e){const s=(await i())[e];return void 0!==s?s:t?t():void 0},set:async function(e,t){const s=await i();s[e]=t,await a(s)},remove:async function(e){const t=await i();e in t&&(delete t[e],await a(t))},clear:async function(){await a({})}}}(0,()=>({items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultLabelFormat:"Numbers",defaultVisible:!0,defaultPosition:"left-top-outside",defaultGroup:T})),f=function(){const e="themeMode";return{key:e,get:async function(){const t=(await chrome.storage.local.get(e))[e];return void 0===t?"device":t},set:async function(t){await chrome.storage.local.set({[e]:t})},remove:async function(){await chrome.storage.local.remove(e)}}}();async function A(e,t){const s=await g.get(e);if(t.removedIds?.length){const e=new Set(t.removedIds);s.items=s.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:s.nextId++,label:1/0,anchor:e.anchor,size:e.size??s.defaultSize,color:e.color??s.defaultColor,shape:e.shape??s.defaultShape,labelFormat:e.labelFormat??s.defaultLabelFormat,visible:e.visible??s.defaultVisible,position:e.position??s.defaultPosition,group:e.group??s.defaultGroup,comment:e.comment??""};s.items.push(t)}return s.items=C(s.items),await g.set(e,s),s}function C(e){const t=new Map;e.forEach((e,s)=>{const i=(e.group??"").trim();t.has(i)||t.set(i,[]),t.get(i).push({index:s,item:e})});const s=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},i)=>{const a=i+1;t.label!==a&&(s[e]={...t,label:a})});return s}function R(e,t){return chrome.i18n.getMessage(e,t)||e}const I={get:R,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=R(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const s of t.split(";")){const[t,i]=s.split(":").map(e=>e?.trim());t&&i&&e.setAttribute(t,R(i))}})}},O="RESTRICTED",N="CONNECTING",L="CONNECTED",b="DISCONNECTED",v={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},y={RESTRICTED:"connect-status--restricted",CONNECTING:"connect-status--connecting",CONNECTED:"connect-status--connected",DISCONNECTED:"connect-status--disconnected"};var D,P;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.SET_BADGE_LABEL_FORMAT="SET_BADGE_LABEL_FORMAT",e.SET_BADGE_VISIBLE="SET_BADGE_VISIBLE",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.STORE_RELOAD_REQUESTED="STORE_RELOAD_REQUESTED",e.STORE_RELOAD_SUCCEEDED="STORE_RELOAD_SUCCEEDED",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.IMPORT_FAILED="IMPORT_FAILED",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_SCREEN_STATE_BY_PAGE="REMOVE_SCREEN_STATE_BY_PAGE",e.EXPORT_SCREEN_STATE_BY_PAGE="EXPORT_SCREEN_STATE_BY_PAGE",e.EXPORT_FAILED="EXPORT_FAILED"}(D||(D={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.READ_SCREEN_STATE_STORE="READ_SCREEN_STATE_STORE",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY="REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY",e.EXPORT_SCREEN_STATE_BY_PAGE_KEY="EXPORT_SCREEN_STATE_BY_PAGE_KEY",e.NOTIFY_ERROR="NOTIFY_ERROR"}(P||(P={}));const w="spsk:panel-content:v1";class G{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:s,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:i})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class M{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,s]of this.pending)s({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(s=>{if(!this.alive)return s(void e.expectReply);if(e.expectReply){const i=setTimeout(()=>{this.pending.delete(e.id),s(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(i),s(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void s(void 0)}e.expectReply||s(void 0)})}}const B=new Set;async function U(e,t,s){return await new Promise((i,a)=>{chrome.debugger.sendCommand(e,t,s??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):i(e??{})})})}async function k(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||d(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const s={tabId:t.id},i=e.format??"png",a=e.settleMs??500,n=e.scale??1,o=e.area??"full";let r=!1,l=!1;try{r=await async function(e){const t=e.tabId??null;return await new Promise((s,i)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&B.add(t),void s(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&B.has(t)?s(!1):i(new Error("Debugger is already attached by another client (DevTools/extension).")):i(new Error(a))})})}(s),await U(s,"Page.enable"),(e.bringToFront??1)&&await U(s,"Page.bringToFront");const c=await async function(e,t,s,i){if("viewport"===t){const{x:t,y:i,width:a,height:n}=await async function(e){const t=(await U(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:i,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(i.width)),n=Math.max(1,0|Math.ceil(i.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!0}}(s,o,n,e.contentSize);c.shouldScrollTop&&await U(s,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),c.useOverride&&c.metrics&&(l=!0,await U(s,"Emulation.setDeviceMetricsOverride",c.metrics)),await new Promise(e=>setTimeout(e,a));const d={format:i,fromSurface:!0,captureBeyondViewport:c.captureBeyondViewport,clip:c.clip};"jpeg"===i&&"number"==typeof e.quality&&(d.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:E}=await U(s,"Page.captureScreenshot",d),h=`data:${"png"===i?"image/png":"image/jpeg"};base64,${E}`,u=e.filename??function(e,t){let s=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return s=s.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),s.length>80&&(s=s.slice(0,80)),`${s}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,i);return await chrome.downloads.download({url:h,filename:u,saveAs:!1})}finally{if(l)try{await U(s,"Emulation.clearDeviceMetricsOverride")}catch{}if(r)try{await async function(e){const t=e.tabId??null;null!=t&&B.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),B.delete(t))}(s)}catch{}}}async function x(e,t,s={}){const{saveAs:i=!1,prefix:a="specsketch-screen-state"}=s,n={format:"specsketch-export",kind:"screen-state",version:1,exportedAt:(new Date).toISOString(),pageKey:t,items:e.items},o=`data:application/json;charset=utf-8;base64,${function(e){const t=(new TextEncoder).encode(e);let s="";for(const e of t)s+=String.fromCharCode(e);return btoa(s)}(JSON.stringify(n,null,2))}`,r=function(e,t){return`${e}_${(t??"").replace(/https?:\/\//,"").replace(/[^a-zA-Z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,120)||"page"}_${function(e=new Date){const t=(e,t=2)=>String(e).padStart(t,"0"),s=-e.getTimezoneOffset(),i=s>=0?"+":"-",a=t(Math.floor(Math.abs(s)/60)),n=t(Math.abs(s)%60);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}_${t(e.getHours())}-${t(e.getMinutes())}-${t(e.getSeconds())}${i}${a}${n}`}()}.json`}(a,t);return await chrome.downloads.download({url:o,filename:r,saveAs:i})}async function H(e,t){const s=/\.json$/i.test(e.name),i="application/json"===e.type||"text/json"===e.type||""===e.type;if(!s&&!i)throw new Error(I.get("import_file_not_json"));let a;try{const t=await e.text();a=JSON.parse(t)}catch{throw new Error(I.get("import_payload_invalid"))}if(!function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"specsketch-export"===t.format&&"screen-state"===t.kind&&"number"==typeof t.version&&"string"==typeof t.pageKey&&!!Array.isArray(t.items)&&t.items.every(_)}(a))throw new Error(I.get("import_payload_invalid"));const n=a.items,o=await g.get(t),r=e=>`${e.anchor.kind}:${e.anchor.version}:${e.anchor.value}`,l=new Set((o?.items??[]).map(r)),c=n.filter(e=>!l.has(r(e))).sort((e,t)=>t.id-e.id).map(e=>({anchor:e.anchor,size:e.size,color:e.color,shape:e.shape,position:e.position,group:e.group,comment:e.comment}));return await A(t,{added:c})}var F;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&B.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_LABEL_FORMAT_CHANGE="BADGE_LABEL_FORMAT_CHANGE",e.BADGE_VISIBLE_CHANGE="BADGE_VISIBLE_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY",e.UPDATE_THEME="UPDATE_THEME",e.SETTING_MODAL_SHOW="SETTING_MODAL_SHOW",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_PAGE_CLICK="REMOVE_PAGE_CLICK",e.EXPORT_PAGE_CLICK="EXPORT_PAGE_CLICK"}(F||(F={}));class V{view;model=structuredClone(S);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([P.RENDER_CONTENT,P.TOGGLE_SELECT_ON_CONTENT,P.CLEAR_CONTENT,P.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:D.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==c)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(F.TOGGLE_SELECT,()=>this.dispatch({type:D.TOGGLE_SELECT})),this.view.on(F.CLEAR,()=>this.dispatch({type:D.CLEAR_ALL})),this.view.on(F.CAPTURE,()=>this.dispatch({type:D.MEASURE_CONTENT_SIZE})),this.view.on(F.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:D.SET_BADGE_SIZE,size:e})),this.view.on(F.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:D.SET_BADGE_COLOR,color:e})),this.view.on(F.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:D.SET_BADGE_SHAPE,shape:e})),this.view.on(F.BADGE_LABEL_FORMAT_CHANGE,({labelFormat:e})=>this.dispatch({type:D.SET_BADGE_LABEL_FORMAT,labelFormat:e})),this.view.on(F.BADGE_VISIBLE_CHANGE,({visible:e})=>this.dispatch({type:D.SET_BADGE_VISIBLE,visible:e})),this.view.on(F.BADGE_DELETE,()=>this.dispatch({type:D.BADGE_DELETE})),this.view.on(F.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:D.SET_BADGE_POSITION,position:e})),this.view.on(F.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:D.TOGGLE_CAPTURE_PANEL})),this.view.on(F.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:D.SET_CAPTURE_FORMAT,format:e})),this.view.on(F.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:D.SET_CAPTURE_AREA,area:e})),this.view.on(F.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:D.SET_CAPTURE_QUALITY,quality:e})),this.view.on(F.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:D.SET_CAPTURE_SCALE,scale:e})),this.view.on(F.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:s})=>this.dispatch({type:D.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:s})),this.view.on(F.SET_GROUP,({group:e})=>this.dispatch({type:D.SET_GROUP,group:e})),this.view.on(F.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:D.ITEM_SELECTION_CHANGED,...e})),this.view.on(F.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:D.ITEM_HOVER_IN,id:e})),this.view.on(F.ITEM_HOVER_OUT,()=>this.dispatch({type:D.ITEM_HOVER_OUT})),this.view.on(F.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:D.UPDATE_ITEM_COMMENT,id:e,comment:t})),this.view.on(F.UPDATE_THEME,({theme:e})=>this.dispatch({type:D.UPDATE_THEME,theme:e})),this.view.on(F.SETTING_MODAL_SHOW,()=>this.dispatch({type:D.STORE_RELOAD_REQUESTED})),this.view.on(F.IMPORT_SCREAN_STATE_FILE,({file:e})=>this.dispatch({type:D.IMPORT_SCREAN_STATE_FILE,file:e})),this.view.on(F.TOAST_DISMISS_REQUESTED,({uuid:e})=>this.dispatch({type:D.TOAST_DISMISS_REQUESTED,uuid:e})),this.view.on(F.REMOVE_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:D.REMOVE_SCREEN_STATE_BY_PAGE,pageKey:e})),this.view.on(F.EXPORT_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:D.EXPORT_SCREEN_STATE_BY_PAGE,pageKey:e}))}dispatch(e){const{model:t,effects:s}=function(e,t){switch(t.type){case D.INIT:return{model:e,effects:[{kind:P.SET_THEME}]};case D.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case D.SET_STATUS:return t.status===L?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case D.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultLabelFormat:t.state.defaultLabelFormat,defaultVisible:t.state.defaultVisible,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:P.RENDER_CONTENT,items:t.state.items}]};case D.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case D.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:P.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case D.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:P.CLEAR_CONTENT},{kind:P.CLEAR_STATE}]};case D.CONTENT_SELECTED:return{model:e,effects:[]};case D.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case D.SET_BADGE_SIZE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_COLOR:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_SHAPE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_LABEL_FORMAT:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{labelFormat:t.labelFormat}:{}}));return{model:{...e,defaultLabelFormat:t.labelFormat,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_VISIBLE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{visible:t.visible}:{}}));return{model:{...e,defaultVisible:t.visible,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.BADGE_DELETE:{const t=C(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:t}]}}case D.SET_BADGE_POSITION:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_GROUP:{const s=function(e,t,s){const i=(s??"").trim();let a=0;return e.sort((e,t)=>t.id-e.id).map(e=>{if(t.includes(e.id)&&e.group!==i){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:i,label:t}}return e})}(e.items,e.selectItems,t.group),i=C(s);return{model:{...e,defaultGroup:t.group,items:i},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:i}]}}case D.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case D.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case D.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case D.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case D.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:P.MEASURE_CONTENT_SIZE}]};case D.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:P.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:P.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case D.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case D.CAPTURE_FAILED:return{model:e,effects:[{kind:P.NOTIFY_ERROR,error:t.error}]};case D.REORDER_ITEMS:{const s=function(e,t,s,i){if(i<0||i>=e.length)throw new RangeError(`toIndex out of range: ${i}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(i<0||i>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${i}`);const n=i+(s<i?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),i=C(s);return{model:{...e,items:i},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:i}]}}case D.ITEM_SELECTION_CHANGED:if("id"in t){const s=function(e,t,s){return t&&!s.includes(e)?[...s,e]:s.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:s},effects:[]}}if("group"in t){const s=function(e,t,s,i){const a=e.trim(),n=i.filter(e=>(e.group??T).trim()===a).map(e=>e.id);if(0===n.length)return s;if(t){const e=new Set(s);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return s.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:s},effects:[]}}{const a=(s=t.allCheck,i=e.items,s?i.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case D.ITEM_HOVER_IN:return{model:e,effects:[{kind:P.HOVER,id:t.id}]};case D.ITEM_HOVER_OUT:return{model:e,effects:[{kind:P.HOVER,id:null}]};case D.UPDATE_ITEM_COMMENT:{const s=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.PORT_DISCONNECTED:return{model:{...e,status:b,selectionEnabled:!1},effects:[{kind:P.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};case D.SET_THEME:return{model:{...e,theme:t.theme},effects:[]};case D.UPDATE_THEME:return{model:{...e,theme:t.theme},effects:[{kind:P.UPDATE_THEME,theme:t.theme}]};case D.STORE_RELOAD_REQUESTED:return{model:e,effects:[{kind:P.READ_SCREEN_STATE_STORE}]};case D.STORE_RELOAD_SUCCEEDED:return{model:{...e,pageKeys:t.pageKeys},effects:[]};case D.IMPORT_SCREAN_STATE_FILE:return{model:e,effects:[{kind:P.IMPORT_SCREAN_STATE_FILE,file:t.file}]};case D.IMPORT_FAILED:return{model:{...e,toastMessages:t.toastMessages},effects:[]};case D.TOAST_DISMISS_REQUESTED:{const s=e.toastMessages.filter(e=>e.uuid!==t.uuid);return{model:{...e,toastMessages:s},effects:[]}}case D.REMOVE_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:P.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY,pageKey:t.pageKey}]};case D.EXPORT_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:P.EXPORT_SCREEN_STATE_BY_PAGE_KEY,pageKey:t.pageKey}]};case D.EXPORT_FAILED:return{model:e,effects:[{kind:P.NOTIFY_ERROR,error:t.error}]};default:return{model:e,effects:[]}}var s,i}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(s).catch(console.error)}async execEffects(e){if(e.some(e=>V.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case P.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case P.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case P.CLEAR_CONTENT:await(this.conn?.api.clear());break;case P.HOVER:await(this.conn?.api.hover(t.id));break;case P.CLEAR_STATE:await g.set(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultLabelFormat:this.model.defaultLabelFormat,defaultVisible:this.model.defaultVisible,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case P.PERSIST_STATE:{const e=await g.get(this.model.pageKey);await g.set(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultLabelFormat:this.model.defaultLabelFormat,defaultVisible:this.model.defaultVisible,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case P.SET_THEME:{const e=await f.get();this.dispatch({type:D.SET_THEME,theme:e});break}case P.UPDATE_THEME:await f.set(t.theme);break;case P.READ_SCREEN_STATE_STORE:{const e=await g.readAll(),t=Object.keys(e);this.dispatch({type:D.STORE_RELOAD_SUCCEEDED,pageKeys:t});break}case P.IMPORT_SCREAN_STATE_FILE:try{const e=await H(t.file,this.model.pageKey);this.dispatch({type:D.RESTORE_STATE,state:{items:e.items,defaultSize:e.defaultSize,defaultColor:e.defaultColor,defaultShape:e.defaultShape,defaultLabelFormat:e.defaultLabelFormat,defaultVisible:e.defaultVisible,defaultPosition:e.defaultPosition,defaultGroup:e.defaultGroup}})}catch(e){const t=e,s={uuid:crypto.randomUUID(),message:t.message,kind:"error"};this.dispatch({type:D.IMPORT_FAILED,toastMessages:[s]})}break;case P.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY:{await g.remove(t.pageKey);const e=await g.readAll(),s=Object.keys(e);this.dispatch({type:D.STORE_RELOAD_SUCCEEDED,pageKeys:s});const i=await g.get(this.model.pageKey);this.dispatch({type:D.RESTORE_STATE,state:{items:i.items,defaultSize:i.defaultSize,defaultColor:i.defaultColor,defaultShape:i.defaultShape,defaultLabelFormat:i.defaultLabelFormat,defaultVisible:i.defaultVisible,defaultPosition:i.defaultPosition,defaultGroup:i.defaultGroup}});break}case P.EXPORT_SCREEN_STATE_BY_PAGE_KEY:try{const e=await g.get(t.pageKey);await x(e,t.pageKey)}catch(e){this.dispatch({type:D.EXPORT_FAILED,error:e})}break;case P.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case P.CAPTURE:try{await k(t.payload),this.dispatch({type:D.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:D.CAPTURE_FAILED,error:e})}break;case P.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const s=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!s?.id||d(s.url))return this.dispatch({type:D.SET_STATUS,status:O}),{ok:!1};const i=function(e,t=!1){try{const s=new URL(e);return t?`${s.origin}${s.pathname}${s.search}${s.hash}`:`${s.origin}${s.pathname}${s.search}`}catch{return e}}(s.url),a=s.id;this.dispatch({type:D.CONNECTED,tabId:a,pageKey:i}),this.dispatch({type:D.SET_STATUS,status:N});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:w}),s=new M(t),i=new G(s),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:i,port:t,rpc:s,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:D.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===o){const t=await async function(e,t){const s=await g.get(e),i=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of i){const t=s.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const o={};return a.length&&(o.removedIds=a),n.length&&(o.added=n),A(e,o)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:D.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultLabelFormat:t.defaultLabelFormat,defaultVisible:t.defaultVisible,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===r?this.dispatch({type:D.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===l&&this.dispatch({type:D.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await g.get(i);return this.dispatch({type:D.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultLabelFormat:n.defaultLabelFormat,defaultVisible:n.defaultVisible,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:D.SET_STATUS,status:L}),{ok:!0,contextChanged:!!t&&t!==i}}}const $={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},success:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.707-8.707a1 1 0 0 0-1.414-1.414L9 11.172 7.707 9.879a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4Z",viewBox:"0 0 20 20"},error:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-11.5a.75.75 0 0 1 1.5 0v5a.75.75 0 0 1-1.5 0v-5Zm.75 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",viewBox:"0 0 20 20"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"},remove:{d:"M7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h3a1 1 0 1 1 0 2h-1l-1 10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6H4a1 1 0 1 1 0-2h3V3Zm1 3a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z",viewBox:"0 0 20 20"},export:{d:"M3 16.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm7.53-2.03a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V3.75a.75.75 0 0 1 1.5 0v8.13l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3Z",viewBox:"0 0 20 20"},close:{d:"M5.23 5.23a.75.75 0 0 1 1.06 0L10 8.94l3.71-3.71a.75.75 0 1 1 1.06 1.06L11.06 10l3.71 3.71a.75.75 0 1 1-1.06 1.06L10 11.06l-3.71 3.71a.75.75 0 1 1-1.06-1.06L8.94 10 5.23 6.29a.75.75 0 0 1 0-1.06Z",viewBox:"0 0 20 20"}};function z(e){const{d:t,viewBox:s="0 0 20 20"}=$[e];return{d:t,viewBox:s}}function Y(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class K{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;TOAST_AUTO_DISMISS=1e4;constructor(e){this.doc=e,I.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeLabelFormatSelect:this.$("#badge-label-format-select"),badgeVisibleSelect:this.$("#badge-visible-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]'),settingModal:this.$("#setting-modal"),settingButton:this.$("#setting-button"),settingCloseButton:this.$("#setting-close-btn"),themeLightBtn:this.$("#theme-light-btn"),themeDarkBtn:this.$("#theme-dark-btn"),themeDeviceBtn:this.$("#theme-device-btn"),importFileInput:this.$("#import-file-input"),importBtn:this.$("#import-btn"),storeCount:this.$("#store-count"),storeList:this.$("#store-list"),storeEmpty:this.$("#store-empty"),toastParent:this.$("#toast-parent")},this.els.toggleBtn.addEventListener("click",()=>this.emit(F.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(F.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(F.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(F.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(F.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(F.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(F.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(F.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(F.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",s="string"==typeof(i=t)&&E.includes(i)?t:"Blue";var i;this.emit(F.BADGE_COLOR_SELECT,{color:s})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&h.includes(e)}(e)?e:"circle";this.emit(F.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeLabelFormatSelect.addEventListener("change",()=>{const e=this.els.badgeLabelFormatSelect.value??null,t=function(e){return"string"==typeof e&&m.includes(e)}(e)?e:"Numbers";this.emit(F.BADGE_LABEL_FORMAT_CHANGE,{labelFormat:t})}),this.els.badgeVisibleSelect.addEventListener("change",()=>{const e="true"===this.els.badgeVisibleSelect.value;this.emit(F.BADGE_VISIBLE_CHANGE,{visible:e})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(F.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",s="string"==typeof(i=t)&&u.includes(i)?t:"left-top-outside";var i;this.emit(F.BADGE_POSITION_SELECT,{position:s})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?T:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(F.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?T:e;this.emit(F.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(F.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.els.settingButton.addEventListener("click",()=>{this.els.settingModal.classList.remove("hidden"),this.emit(F.SETTING_MODAL_SHOW,void 0)}),this.els.settingCloseButton.addEventListener("click",()=>{this.els.settingModal.classList.add("hidden")}),this.els.themeLightBtn.addEventListener("click",()=>{this.applyTheme("light"),this.emit(F.UPDATE_THEME,{theme:"light"})}),this.els.themeDarkBtn.addEventListener("click",()=>{this.applyTheme("dark"),this.emit(F.UPDATE_THEME,{theme:"dark"})}),this.els.themeDeviceBtn.addEventListener("click",()=>{this.applyTheme("device"),this.emit(F.UPDATE_THEME,{theme:"device"})}),this.els.importBtn.addEventListener("click",()=>{if(!this.els.importFileInput.files||0===this.els.importFileInput.files.length)return void this.els.importFileInput.click();const e=this.els.importFileInput.files[0];this.emit(F.IMPORT_SCREAN_STATE_FILE,{file:e})}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(F.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(F.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const s=this.listeners[e];s?.forEach(e=>e(t))}render(e){this.applyToastMessages(e.toastMessages),this.applyTheme(e.theme),this.applyStore(e.pageKeys),this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.els.badgeLabelFormatSelect.value=e.defaultLabelFormat??"Numbers",this.els.badgeVisibleSelect.value=String(e.defaultVisible??"true"),this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup)}renderStatus(e){const t=y[e],s=this.els.status;s.className="",s.className=`connect-status ${t}`;const i=this.doc.createElement("span");i.classList.add("connect-status-dot");const a=this.doc.createElement("span");a.textContent=function(e){const t=v[e];return I.get(t)||t}(e),s.replaceChildren(i,a),this.disableFormControls(e)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=I.get(e?"toggle_on":"toggle_off")}renderList(e,t,s){this.els.count.textContent=String(e.length);const i=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=i,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),o=this.doc.createDocumentFragment();for(const e of n){const i=this.renderGroupSection(e,a.get(e),t,s);o.appendChild(i)}this.els.list.replaceChildren(o)}renderGroupSection(e,t,s,i){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),o=this.el("div","select-item-header"),r=this.el("div","spsk-checkwrap"),l=this.el("input","spsk-checkbox spsk-checkbox--normal");l.type="checkbox",l.name="item-select",l.value=e===p?I.get("group_ungrouped"):e,l.checked=t.every(e=>s.includes(e.id)),l.addEventListener("change",t=>{const s=t.target.checked;this.emit(F.ITEM_SELECTION_CHANGED,{group:e===p?T:e,isCheck:s})}),r.append(l);const c=this.el("span","select-item-gh-title",e===p?I.get("group_ungrouped"):e),d=this.el("div","select-item-gh-left");d.append(r,c);const E=this.el("span","select-item-gh-count",String(t.length)),h=this.el("button","select-item-gh-toggle");h.type="button",h.setAttribute("aria-expanded",String(!a));const{d:u,viewBox:m}=z(a?"caretRight":"caretDown"),_=this.createSvgIcon(u,{className:"icon-sm",viewBox:m}),S=_.querySelector("path");h.append(_),o.append(d,E,h);const g=this.el("ul","select-item-list");a&&g.classList.add("hidden"),this.attachUlDnDHandlers(g);for(const e of t.sort(Y)){const t=s.includes(e.id);g.appendChild(this.renderItem(e,t,i))}return h.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),g.classList.remove("hidden"),S.setAttribute("d",z("caretDown").d),h.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),g.classList.add("hidden"),S.setAttribute("d",z("caretRight").d),h.setAttribute("aria-expanded","false"))}),n.append(o,g),n}renderItem(e,t,s){const i=s.includes(e.id),a="select-item",n=this.el("li",i?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const s=this.dragEl.dataset.id??"";this.dragEl=null,s&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(F.REORDER_ITEMS,{fromId:Number(s),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const o=this.el("div","spsk-checkwrap"),r=i?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",l=this.el("input",r);l.type="checkbox",l.name="item-select",l.value=String(e.id),l.checked=t,l.addEventListener("change",t=>{const s=t.target.checked;this.emit(F.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:s})}),o.append(l);const c=i?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",d=this.el("span",c,String(e.label)),E=this.el("div","min-w-0 flex-1");if(E.addEventListener("pointerenter",()=>{this.dragStartParent||i||(this.cancelHoverOut(),this.emit(F.ITEM_HOVER_IN,{id:e.id}))}),i){const e=this.el("span","chip-warn"),{d:t,viewBox:s}=z("warn"),i=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:s}),a=this.el("span",void 0,I.get("missing_item"));e.append(i,a),E.append(e)}const h=this.el("div","anchor",e.anchor.value);E.append(h);const u=this.generateCommentBtn(e);return n.append(o,d,E,u),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:s,viewBox:i}=z("comment"),a=this.createSvgIcon(s,{className:"h-3.5 w-3.5",viewBox:i});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(F.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const s=t.target?.closest("li");if(s&&s!==this.dragEl){const i=s.getBoundingClientRect(),a=t.clientY-i.top>i.height/2;e.insertBefore(this.dragEl,a?s.nextSibling:s)}else s||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const s of e){const e=(s.group??T).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,s){const i=(e,t)=>{const s=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(s)?s:t},a=a=>{const n=i(t.min||e.min,Number.NEGATIVE_INFINITY),o=i(t.max||e.max,Number.POSITIVE_INFINITY),r=i(t.step||e.step,1),l=Number(a),c=((e,t,s)=>Math.min(Math.max(e,t),s))(Number.isFinite(l)?l:0,n,o),d=Math.round(c/r)*r,E=Number(d.toFixed(6));t.value=String(E),e.value=String(E),s?.(E)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disableFormControls(e){const t=this.doc.querySelectorAll("button, select, input, textarea"),s=e===L,i=e===N||e===b,a=e===O;t.forEach(e=>{const t=!!s||i&&e.hasAttribute("data-ignore-disable")||a&&!1;e.disabled=!t})}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:s}=z(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:s,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const s=t.dataset.colorName===e;t.setAttribute("aria-selected",s?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const s=t.dataset.positionName===e;t.setAttribute("data-selected",s?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,I.get("group_ungrouped"),t===p));for(const s of e){const e=(e=>(e??"").trim())(s);this.els.badgeGroupSelect.append(this.makeOpt(e,s,t===s))}const s=this.makeOpt(this.NEW_GROUP,I.get("common_create"));this.els.badgeGroupSelect.append(s)}applyTheme(e){const t=document.documentElement;("device"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e)?t.classList.add("dark"):t.classList.remove("dark"),this.els.themeLightBtn.setAttribute("data-active",String("light"===e)),this.els.themeDarkBtn.setAttribute("data-active",String("dark"===e)),this.els.themeDeviceBtn.setAttribute("data-active",String("device"===e))}applyStore(e){if(this.els.storeCount.textContent=String(e.length),this.els.storeList.innerHTML="",e.length<=0)return this.els.storeList.classList.add("hidden"),void this.els.storeEmpty.classList.remove("hidden");for(const t of e){const e=this.el("li","select-item"),s=this.el("div","min-w-0 flex-1"),i=this.el("a","anchor whitespace-normal break-words",t);i.href=t,i.target="_blank",s.appendChild(i);const a=this.el("button","btn-icon");a.setAttribute("data-ignore-disable","true");const n=z("export"),o=this.createSvgIcon(n.d,{className:"icon-sm",viewBox:n.viewBox});a.appendChild(o);const r=this.el("button","btn-icon btn-icon--danger");r.setAttribute("data-ignore-disable","true");const l=z("remove"),c=this.createSvgIcon(l.d,{className:"icon-sm",viewBox:l.viewBox});r.appendChild(c),e.appendChild(s),e.appendChild(a),e.appendChild(r),this.els.storeList.appendChild(e),a.addEventListener("click",()=>{this.emit(F.EXPORT_PAGE_CLICK,{pageKey:t})}),r.addEventListener("click",()=>{this.emit(F.REMOVE_PAGE_CLICK,{pageKey:t})})}this.els.storeList.classList.remove("hidden"),this.els.storeEmpty.classList.add("hidden")}applyToastMessages(e){for(const t of e){const e=this.generateToastMessage(t);this.els.toastParent.appendChild(e),this.emit(F.TOAST_DISMISS_REQUESTED,{uuid:t.uuid})}}generateToastMessage(e){const t=this.el("div",`toast toast--${e.kind}`),s=z(e.kind),i=this.createSvgIcon(s.d,{className:"toast-icon",viewBox:s.viewBox}),a=this.el("div","toast-body"),n=this.el("p","toast-desc",e.message);a.appendChild(n);const o=this.el("button",`toast-close toast-close--${e.kind}`),r=z("close"),l=this.createSvgIcon(r.d,{className:"h-3.5 w-3.5",viewBox:r.viewBox});o.appendChild(l),t.appendChild(i),t.appendChild(a),t.appendChild(o);const c=window.setTimeout(()=>{t.isConnected&&t.remove()},this.TOAST_AUTO_DISMISS);return o.addEventListener("click",()=>{clearTimeout(c),t.isConnected&&t.remove()}),t}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,s){const i=this.doc.createElement(e);return t&&(i.className=t),void 0!==s&&(i.textContent=s),i}makeOpt(e,t,s=!1){const i=this.doc.createElement("option");return i.value=e,i.textContent=t,s&&(i.selected=!0),i}createSvgIcon(e,t={}){const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");if(i.setAttribute("viewBox",t.viewBox??"0 0 20 20"),i.setAttribute("class",t.className??"h-3.5 w-3.5"),i.setAttribute("fill","currentColor"),i.setAttribute("aria-hidden","true"),t.attrs)for(const[e,s]of Object.entries(t.attrs))i.setAttribute(e,s);const a=document.createElementNS(s,"path");return a.setAttribute("d",e),i.appendChild(a),i}}async function Q(){const e=new K(document),t=new V(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?Q().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{Q().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFuZWwvaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUFBLE1BZ0JhLEVBZkgsT0FlRyxFQWRNLGdCQWNOLEVBYkQsU0FhQyxFQVpGLFFBWUUsRUFYRixRQVdFLEVBVkssZUFVTCxFQVBDLFdBT0QsRUFOSSxjQU1KLEVBTFksc0JBS1osRUFGVyxxQkNlakIsU0FBU0EsRUFBYUMsR0FDekIsSUFBS0EsRUFDRCxPQUFPLEVBQ1gsR0FBSUEsRUFBSUMsV0FBVyxpQkFDZkQsRUFBSUMsV0FBVyxVQUNmRCxFQUFJQyxXQUFXLFVBQ2ZELEVBQUlDLFdBQVcsZUFDZixPQUFPLEVBRVgsSUFBSUMsRUFDSixJQUNJQSxFQUFNLElBQUlDLElBQUlILEVBQ2xCLENBQ0EsTUFFSSxPQUFPLENBQ1gsQ0FHQSxPQURnQixJQUFJSSxJQUFJLENBQUMsUUFBUyxTQUFVLFVBQy9CQyxJQUFJSCxFQUFJSSxhQUlDLElBQUlGLElBQUksQ0FBQyw0QkFBNkIsc0JBQzFDQyxJQUFJSCxFQUFJSyxTQUk5QixDQ3pEQSxNQUFNQyxFQUFjLENBQ2hCLE9BQ0EsTUFDQSxTQUNBLFFBQ0EsT0FDQSxPQUNBLFNBQ0EsT0FDQSxTQUNBLFFBS0VDLEVBQWEsQ0FBQyxTQUFVLFVBSWpCQyxFQUF1QixDQUNoQyxvQkFDQSxtQkFDQSxnQkFDQSxlQUNBLHVCQUNBLHNCQUNBLGNBQ0EsYUFDQSxTQUNBLGlCQUNBLGdCQUNBLG1CQUNBLGtCQUNBLGVBQ0EsY0FDQSxzQkFDQSxzQkFLU0MsRUFBWSxnQkFDWkMsRUFBa0IsR0FDbEJDLEVBQWUsQ0FBQyxVQUFXLGFBQWMsYUFBYyxRQVE3RCxTQUFTQyxFQUFpQkMsR0FDN0IsSUFBS0EsR0FBa0IsaUJBQU5BLEVBQ2IsT0FBTyxFQUNYLE1BQ01DLEVBRElELEVBQ2UsT0FDekIsSUFBS0MsR0FBNEIsaUJBQVhBLEVBQ2xCLE9BQU8sRUFDWCxNQUFNQyxFQUFJRCxFQUNWLE1BQXNCLFFBQWRDLEVBQVEsTUFDVSxpQkFBZkEsRUFBUyxRQUNTLGlCQUFqQkEsRUFBVyxTQUFtQyxJQUFqQkEsRUFBVyxRQUN4RCxDQzdETyxNQUFNQyxFQUFlLENBQ3hCQyxPQUFRLGVBQ1JDLE1BQU8sS0FDUEMsUUFBUyxHQUNUQyxTQUFVLEdBQ1ZDLE1BQU8sU0FDUEMsa0JBQWtCLEVBQ2xCQyxNQUFPLEdBQ1BDLFlBQWEsR0FDYkMsYUFBYyxPQUNkQyxhQUFjLFNBQ2RDLG1CQUFvQixVQUNwQkMsZ0JBQWdCLEVBQ2hCQyxnQkFBaUIsbUJBQ2pCQyxhQUFjcEIsRUFDZHFCLFFBQVMsQ0FDTEMsT0FBUSxNQUNSQyxLQUFNLE9BQ05DLFFBQVMsR0FDVEMsTUFBTyxFQUNQQyxlQUFlLEdBRW5CQyxZQUFhLEdBQ2JDLFdBQVksR0FDWkMsY0FBZSxJQytHTkMsRUE1SE4sU0FBd0JDLEVBQVNDLEdBQ3BDLE1BQU1DLEVBMkhxQyxvQkFwSDNDQyxlQUFlQyxJQUVYLGFBRGtCQyxPQUFPQyxRQUFRQyxNQUFNQyxJQUFJTixJQUNoQ0EsSUFBUSxDQUFDLENBQ3hCLENBT0FDLGVBQWVNLEVBQVNDLFNBQ2RMLE9BQU9DLFFBQVFDLE1BQU1JLElBQUksQ0FBRSxDQUFDVCxHQUFNUSxHQUM1QyxDQThDQSxNQUFPLENBQUVFLElBQUtWLEVBQUtFLFVBQVNLLFdBQVVELElBdEN0Q0wsZUFBbUJ6QixHQUNmLE1BQ01tQyxTQURZVCxLQUNBMUIsR0FDbEIsWUFBY29DLElBQVZELEVBQ09BLEVBQ1BaLEVBQ09BLFNBRFgsQ0FHSixFQThCMkNVLElBdkIzQ1IsZUFBbUJ6QixFQUFTcUMsR0FDeEIsTUFBTUwsUUFBWU4sSUFDbEJNLEVBQUloQyxHQUFXcUMsUUFDVE4sRUFBU0MsRUFDbkIsRUFtQmdETSxPQWJoRGIsZUFBc0J6QixHQUNsQixNQUFNZ0MsUUFBWU4sSUFDZDFCLEtBQVdnQyxXQUNKQSxFQUFJaEMsU0FDTCtCLEVBQVNDLEdBRXZCLEVBT3dETyxNQUh4RGQsdUJBQ1VNLEVBQVMsQ0FBQyxFQUNwQixFQUVKLENBeURnQ1MsQ0FBZSxFQUFxQixLQWhCekQsQ0FDSHBDLE1BQU8sR0FDUHFDLE9BQVEsRUFDUnBDLFlBQWEsR0FDYkMsYUFBYyxPQUNkQyxhQUFjLFNBQ2RDLG1CQUFvQixVQUNwQkMsZ0JBQWdCLEVBQ2hCQyxnQkFBaUIsbUJBQ2pCQyxhQUFjcEIsS0FZVG1ELEVBbEROLFdBQ0gsTUFBTWxCLEVBaURnQyxZQXhCdEMsTUFBTyxDQUFFVSxJQUFLVixFQUFLTSxJQW5CbkJMLGlCQUNJLE1BQ01rQixTQURZaEIsT0FBT0MsUUFBUUMsTUFBTUMsSUFBSU4sSUFDM0JBLEdBQ2hCLFlBQWVZLElBQVJPLEVBd0M4QyxTQXhDUEEsQ0FDbEQsRUFld0JWLElBVHhCUixlQUFtQlksU0FDVFYsT0FBT0MsUUFBUUMsTUFBTUksSUFBSSxDQUFFLENBQUNULEdBQU1hLEdBQzVDLEVBTzZCQyxPQUg3QmIsdUJBQ1VFLE9BQU9DLFFBQVFDLE1BQU1TLE9BQU9kLEVBQ3RDLEVBRUosQ0F1QjBCb0IsR0NuSW5CbkIsZUFBZW9CLEVBQVc3QyxFQUFTOEMsR0FDdEMsTUFBTUMsUUFBYzFCLEVBQWlCUyxJQUFJOUIsR0FDekMsR0FBSThDLEVBQU1FLFlBQVlDLE9BQVEsQ0FDMUIsTUFBTUMsRUFBVyxJQUFJbkUsSUFBSStELEVBQU1FLFlBQy9CRCxFQUFNM0MsTUFBUTJDLEVBQU0zQyxNQUFNK0MsT0FBUUMsSUFBUUYsRUFBU2xFLElBQUlvRSxFQUFHQyxJQUM5RCxDQUNBLEdBQUlQLEVBQU1RLE9BQU9MLE9BQ2IsSUFBSyxNQUFNckQsS0FBS2tELEVBQU1RLE1BQU8sQ0FDekIsTUFFTUYsRUFBSyxDQUNQQyxHQUhPTixFQUFNTixTQUliYyxNQUhVQyxJQUlWN0QsT0FBUUMsRUFBRUQsT0FDVjhELEtBQU03RCxFQUFFNkQsTUFBUVYsRUFBTTFDLFlBQ3RCcUQsTUFBTzlELEVBQUU4RCxPQUFTWCxFQUFNekMsYUFDeEJxRCxNQUFPL0QsRUFBRStELE9BQVNaLEVBQU14QyxhQUN4QnFELFlBQWFoRSxFQUFFZ0UsYUFBZWIsRUFBTXZDLG1CQUNwQ3FELFFBQVNqRSxFQUFFaUUsU0FBV2QsRUFBTXRDLGVBQzVCcUQsU0FBVWxFLEVBQUVrRSxVQUFZZixFQUFNckMsZ0JBQzlCcUQsTUFBT25FLEVBQUVtRSxPQUFTaEIsRUFBTXBDLGFBQ3hCcUQsUUFBU3BFLEVBQUVvRSxTQUFXLElBRTFCakIsRUFBTTNDLE1BQU02RCxLQUFLYixFQUNyQixDQUlKLE9BRkFMLEVBQU0zQyxNQUFROEQsRUFBc0NuQixFQUFNM0MsYUFDcERpQixFQUFpQlksSUFBSWpDLEVBQVMrQyxHQUM3QkEsQ0FDWCxDQXdDTyxTQUFTbUIsRUFBc0M5RCxHQUNsRCxNQUVNK0QsRUFBVSxJQUFJQyxJQUNwQmhFLEVBQU1pRSxRQUFRLENBQUNDLEVBQU1DLEtBQ2pCLE1BQU1yQyxHQUFnQm9DLEVBQUtQLE9BSkEsSUFBSVMsT0FLMUJMLEVBQVFuRixJQUFJa0QsSUFDYmlDLEVBQVFsQyxJQUFJQyxFQUFLLElBQ3JCaUMsRUFBUXJDLElBQUlJLEdBQUsrQixLQUFLLENBQUVNLFFBQU9ELFdBRW5DLE1BQU1HLEVBQU1yRSxFQUFNc0UsUUFFbEIsSUFBSyxNQUFPLENBQUVDLEtBQVdSLEVBQ3JCUSxFQUFPQyxLQUFLLENBQUNoRixFQUFHaUYsSUFDUmpGLEVBQUUwRSxLQUFLZixRQUFVc0IsRUFBRVAsS0FBS2YsTUFDakIzRCxFQUFFMEUsS0FBS2YsTUFBUXNCLEVBQUVQLEtBQUtmLE1BQzFCM0QsRUFBRTBFLEtBQUtqQixHQUFLd0IsRUFBRVAsS0FBS2pCLElBRTlCc0IsRUFBT04sUUFBUSxFQUFHRSxRQUFPRCxRQUFRUSxLQUM3QixNQUFNQyxFQUFVRCxFQUFJLEVBQ2hCUixFQUFLZixRQUFVd0IsSUFDZk4sRUFBSUYsR0FBUyxJQUFLRCxFQUFNZixNQUFPd0IsTUFJM0MsT0FBT04sQ0FDWCxDQ2pHQSxTQUFTM0MsRUFBSUksRUFBSzhDLEdBQ2QsT0FBT3JELE9BQU9zRCxLQUFLQyxXQUFXaEQsRUFBSzhDLElBQVM5QyxDQUNoRCxDQTRCQSxRQXRDYSxDQUFFSixNQUFLcUQsU0FxQnBCLFNBQWtCQyxFQUFPQyxVQUNyQkQsRUFBS0UsaUJBQWlCLGVBQWVqQixRQUFTa0IsSUFDMUMsTUFBTXJELEVBQU1xRCxFQUFHQyxhQUFhLGFBQ3hCdEQsSUFDQXFELEVBQUdFLFlBQWMzRCxFQUFJSSxNQUU3QmtELEVBQUtFLGlCQUFpQixvQkFBb0JqQixRQUFTa0IsSUFDL0MsTUFBTUcsRUFBT0gsRUFBR0MsYUFBYSxrQkFDN0IsR0FBS0UsRUFFTCxJQUFLLE1BQU1DLEtBQVFELEVBQUtFLE1BQU0sS0FBTSxDQUNoQyxNQUFPQyxFQUFNM0QsR0FBT3lELEVBQUtDLE1BQU0sS0FBSzVELElBQUs4RCxHQUFNQSxHQUFHdEIsUUFDOUNxQixHQUFRM0QsR0FDUnFELEVBQUdRLGFBQWFGLEVBQU0vRCxFQUFJSSxHQUNsQyxHQUVSLEdDcENhOEQsRUFDRyxhQURIQSxFQUVHLGFBRkhBLEVBR0UsWUFIRkEsRUFJSyxlQUVaQyxFQUFpQixDQUNuQkMsV0FBWSxvQkFDWkMsV0FBWSxvQkFDWkMsVUFBVyxtQkFDWEMsYUFBYyx1QkFFTEMsRUFBc0IsQ0FDL0JKLFdBQVksNkJBQ1pDLFdBQVksNkJBQ1pDLFVBQVcsNEJBQ1hDLGFBQWMsZ0NDTFgsSUFBSUUsRUNIQUMsR0RJWCxTQUFXRCxHQUVQQSxFQUFpQixLQUFJLE9BRXJCQSxFQUFzQixVQUFJLFlBRTFCQSxFQUF1QixXQUFJLGFBRTNCQSxFQUEwQixjQUFJLGdCQUU5QkEsRUFBNEIsZ0JBQUksa0JBRWhDQSxFQUEwQixjQUFJLGdCQUU5QkEsRUFBc0IsVUFBSSxZQUUxQkEsRUFBNkIsaUJBQUksbUJBRWpDQSxFQUEyQixlQUFJLGlCQUUvQkEsRUFBNEIsZ0JBQUksa0JBRWhDQSxFQUE0QixnQkFBSSxrQkFFaENBLEVBQW1DLHVCQUFJLHlCQUV2Q0EsRUFBOEIsa0JBQUksb0JBRWxDQSxFQUF5QixhQUFJLGVBRTdCQSxFQUErQixtQkFBSSxxQkFFbkNBLEVBQStCLG1CQUFJLHFCQUVuQ0EsRUFBNkIsaUJBQUksbUJBRWpDQSxFQUFnQyxvQkFBSSxzQkFFcENBLEVBQThCLGtCQUFJLG9CQUVsQ0EsRUFBaUMscUJBQUksdUJBRXJDQSxFQUFpQyxxQkFBSSx1QkFFckNBLEVBQThCLGtCQUFJLG9CQUVsQ0EsRUFBOEIsa0JBQUksb0JBRWxDQSxFQUEyQixlQUFJLGlCQUUvQkEsRUFBMEIsY0FBSSxnQkFFOUJBLEVBQXNCLFVBQUksWUFFMUJBLEVBQThCLGtCQUFJLG9CQUVsQ0EsRUFBa0Msc0JBQUksd0JBRXRDQSxFQUFtQyx1QkFBSSx5QkFFdkNBLEVBQTBCLGNBQUksZ0JBRTlCQSxFQUEyQixlQUFJLGlCQUUvQkEsRUFBZ0Msb0JBQUksc0JBRXBDQSxFQUFzQixVQUFJLFlBRTFCQSxFQUF5QixhQUFJLGVBRTdCQSxFQUFtQyx1QkFBSSx5QkFFdkNBLEVBQW1DLHVCQUFJLHlCQUV2Q0EsRUFBcUMseUJBQUksMkJBRXpDQSxFQUEwQixjQUFJLGdCQUU5QkEsRUFBb0Msd0JBQUksMEJBRXhDQSxFQUF3Qyw0QkFBSSw4QkFFNUNBLEVBQXdDLDRCQUFJLDhCQUU1Q0EsRUFBMEIsY0FBSSxlQUNqQyxDQXJGRCxDQXFGR0EsSUFBZUEsRUFBYSxDQUFDLElDeEZoQyxTQUFXQyxHQUVQQSxFQUEyQixlQUFJLGlCQUUvQkEsRUFBcUMseUJBQUksMkJBRXpDQSxFQUEwQixjQUFJLGdCQUU5QkEsRUFBa0IsTUFBSSxRQUV0QkEsRUFBaUMscUJBQUksdUJBRXJDQSxFQUFvQixRQUFJLFVBRXhCQSxFQUF3QixZQUFJLGNBSzVCQSxFQUEwQixjQUFJLGdCQUU5QkEsRUFBc0IsVUFBSSxZQUUxQkEsRUFBeUIsYUFBSSxlQUU3QkEsRUFBb0Msd0JBQUksMEJBRXhDQSxFQUFxQyx5QkFBSSwyQkFFekNBLEVBQWtELHNDQUFJLHdDQUV0REEsRUFBNEMsZ0NBQUksa0NBRWhEQSxFQUF5QixhQUFJLGNBQ2hDLENBbENELENBa0NHQSxJQUFlQSxFQUFhLENBQUMsSUM1Q3pCLE1BQ01DLEVBQ00sd0JDR1osTUFBTUMsRUFDVEMsSUFDQSxXQUFBQyxDQUFZRCxHQUNSRSxLQUFLRixJQUFNQSxDQUNmLENBT0EsSUFBQUcsQ0FBS0MsR0FDRCxNQUFNQyxFQUFNLENBQ1IzRCxHQUFJNEQsT0FBT0MsYUFDWEMsYUFBYSxLQUNWSixHQUVQLE9BQU9GLEtBQUtGLElBQUlHLEtBQUtFLEVBQ3pCLENBS0EsTUFBQUksQ0FBT2hILEdBQ0gsT0FBT3lHLEtBQUtDLEtBQUssQ0FBRU8sS0FBTSxFQUFpQkMsUUFBUyxDQUFFbEgsVUFDekQsQ0FLQSxZQUFBbUgsQ0FBYUMsR0FDVCxPQUFPWCxLQUFLQyxLQUFLLENBQUVPLEtBQU0sRUFBd0JDLFFBQVMsQ0FBRUUsWUFDaEUsQ0FJQSxLQUFBakYsR0FDSSxPQUFPc0UsS0FBS0MsS0FBSyxDQUFFTyxLQUFNLEdBQzdCLENBT0EsS0FBQUksQ0FBTXBFLEdBQ0YsT0FBT3dELEtBQUtDLEtBQUssQ0FBRU8sS0FBTSxFQUFnQkMsUUFBUyxDQUFFakUsT0FDeEQsQ0FJQSxXQUFBcUUsR0FDSSxPQUFPYixLQUFLQyxLQUFLLENBQUVPLEtBQU0sR0FDN0IsQ0FPQSxJQUFBTSxHQUNJLE1BQU1YLEVBQU0sQ0FDUjNELEdBQUk0RCxPQUFPQyxhQUNYQyxhQUFhLEVBQ2JFLEtBQU0sR0FFVixPQUFPUixLQUFLRixJQUFJRyxLQUFLRSxFQUFLLElBQzlCLEVDbkVHLE1BQU1ZLEVBQ1RDLEtBQ0FDLFFBQVUsSUFBSTFELElBQ2QyRCxPQUFRLEVBS1IsV0FBQW5CLENBQVlpQixHQUNSaEIsS0FBS2dCLEtBQU9BLEVBQ1poQixLQUFLZ0IsS0FBS0csVUFBVUMsWUFBYUMsS1pFbEMsU0FBb0JBLEdBQ3ZCLE1BQXNCLGlCQUFSQSxHQUE0QixPQUFSQSxHQUFnQixPQUFRQSxHQUFPLE9BQVFBLENBQzdFLEVZSGdCQyxDQUFXRCxLQUNYckIsS0FBS2lCLFFBQVFoRyxJQUFJb0csRUFBSTdFLEdBQXJCd0QsR0FBMkJxQixHQUMzQnJCLEtBQUtpQixRQUFRTSxPQUFPRixFQUFJN0UsT0FHaEN3RCxLQUFLZ0IsS0FBS1EsYUFBYUosWUFBWSxLQUMvQnBCLEtBQUtrQixPQUFRLEVBRWIsTUFBTU8sRUFBUzNHLE9BQU80RyxRQUFRQyxXQUFXQyxTQUFXLGVBRXBELElBQUssTUFBT3BGLEVBQUlxRixLQUFZN0IsS0FBS2lCLFFBQzdCWSxFQUFRLENBQUVyRixLQUFJc0YsSUFBSSxFQUFPQyxNQUFPTixJQUVwQ3pCLEtBQUtpQixRQUFRdkYsU0FFckIsQ0FFQSxXQUFJc0csR0FDQSxPQUFPaEMsS0FBS2tCLEtBQ2hCLENBUUEsSUFBQWpCLENBQUtFLEVBQUs4QixFQUFZLEtBQ2xCLE9BQU8sSUFBSUMsUUFBU0wsSUFFaEIsSUFBSzdCLEtBQUtrQixNQUNOLE9BQU9XLE9BQVExQixFQUFJRyxhQUV2QixHQUFJSCxFQUFJRyxZQUFhLENBQ2pCLE1BQU02QixFQUFRQyxXQUFXLEtBQ3JCcEMsS0FBS2lCLFFBQVFNLE9BQU9wQixFQUFJM0QsSUFDeEJxRixPQUFRdEcsSUFDVDBHLEdBQ0hqQyxLQUFLaUIsUUFBUTdGLElBQUkrRSxFQUFJM0QsR0FBSzZGLElBQ3RCQyxhQUFhSCxHQUNiTixFQUFRUSxJQUVoQixDQUNBLElBQ0lyQyxLQUFLZ0IsS0FBS3VCLFlBQVlwQyxFQUMxQixDQUNBLE1BSUksT0FISUEsRUFBSUcsYUFDSk4sS0FBS2lCLFFBQVFNLE9BQU9wQixFQUFJM0QsU0FDNUJxRixPQUFRdEcsRUFFWixDQUNLNEUsRUFBSUcsYUFDTHVCLE9BQVF0RyxJQUVwQixFQzVESixNQUFNaUgsRUFBUSxJQUFJdEssSUErRVgwQyxlQUFlcUYsRUFBS3dDLEVBQVFDLEVBQVFDLEdBQ3ZDLGFBQWEsSUFBSVQsUUFBUSxDQUFDTCxFQUFTZSxLQUMvQjlILE9BQU8rSCxTQUFTQyxZQUFZTCxFQUFRQyxFQUFRQyxHQUFVLENBQUMsRUFBSUksSUFDdkQsTUFBTUMsRUF2RmxCLFdBQ0ksTUFBTUEsRUFBTWxJLE9BQU80RyxRQUFRQyxVQUMzQixPQUFPcUIsRUFBTSxJQUFJQyxNQUFNRCxFQUFJcEIsU0FBV3NCLE9BQU9GLElBQVEsSUFDekQsQ0FvRndCckIsR0FDUnFCLEVBQ0FKLEVBQU9JLEdBR1BuQixFQUFTa0IsR0FBVSxDQUFDLE1BSXBDLENDSE9uSSxlQUFlYixFQUFRb0osR0FDMUIsTUFBTUMsUUFBWXRJLE9BQU91SSxLQUFLcEksSUFBSWtJLEVBQUtqSyxPQUN2QyxJQUFLa0ssRUFBSTVHLElBQU0zRSxFQUFhdUwsRUFBSXBMLEtBRTVCLFlBREFzTCxRQUFRQyxLQUFLLG1EQUFvREgsRUFBSXBMLEtBR3pFLE1BQU15SyxFQUFTLENBQUV2SixNQUFPa0ssRUFBSTVHLElBQ3RCZ0gsRUFBTUwsRUFBS25KLFFBQVUsTUFDckJ5SixFQUFXTixFQUFLTSxVQUFZLElBQzVCdEosRUFBUWdKLEVBQUtoSixPQUFTLEVBQ3RCRixFQUFPa0osRUFBS2xKLE1BQVEsT0FDMUIsSUFBSXlKLEdBQVksRUFDWkMsR0FBZSxFQUNuQixJQUNJRCxRRDNFRDlJLGVBQTJCNkgsR0FDOUIsTUFBTXZKLEVBQVF1SixFQUFPdkosT0FBUyxLQUM5QixhQUFhLElBQUlnSixRQUFRLENBQUNMLEVBQVNlLEtBQy9COUgsT0FBTytILFNBQVNlLE9BQU9uQixFQXpDSixNQXlDeUIsS0FDeEMsTUFBTU8sRUFBTWxJLE9BQU80RyxRQUFRQyxVQUMzQixJQUFLcUIsRUFJRCxPQUhhLE1BQVQ5SixHQUNBc0osRUFBTXFCLElBQUkzSyxRQUNkMkksR0FBUSxHQUdaLE1BQU1SLEVBQU0yQixFQUFJcEIsU0FBVyxHQUN2QlAsRUFBSXlDLFNBQVMsd0NBRUEsTUFBVDVLLEdBQWlCc0osRUFBTXJLLElBQUllLEdBQzNCMkksR0FBUSxHQUdSZSxFQUFPLElBQUlLLE1BQU0seUVBSXJCTCxFQUFPLElBQUlLLE1BQU01QixPQUlqQyxDQ2lEMEIwQyxDQUFZdEIsU0FDeEJ4QyxFQUFLd0MsRUFBUSxnQkFDZlUsRUFBS2EsY0FBZ0IsVUFDZi9ELEVBQUt3QyxFQUFRLHFCQUV2QixNQUFNd0IsUUF2RGRySixlQUErQjZILEVBQVF4SSxFQUFNRSxFQUFPK0osR0FDaEQsR0FBYSxhQUFUakssRUFBcUIsQ0FFckIsTUFBTSxFQUFFa0ssRUFBQyxFQUFFQyxFQUFDLE1BQUVDLEVBQUssT0FBRUMsU0FyQjdCMUosZUFBa0M2SCxHQUM5QixNQUNNNUosU0FEV29ILEVBQUt3QyxFQUFRLDBCQUNqQjhCLGtCQUNiLE1BQU8sQ0FDSEosRUFBR0ssS0FBS0MsSUFBSSxFQUF5QixFQUF0QkQsS0FBS0UsTUFBTTdMLEVBQUU4TCxRQUM1QlAsRUFBR0ksS0FBS0MsSUFBSSxFQUF5QixFQUF0QkQsS0FBS0UsTUFBTTdMLEVBQUUrTCxRQUM1QlAsTUFBT0csS0FBS0MsSUFBSSxFQUE4QixFQUEzQkQsS0FBS0ssS0FBS2hNLEVBQUVpTSxjQUMvQlIsT0FBUUUsS0FBS0MsSUFBSSxFQUErQixFQUE1QkQsS0FBS0ssS0FBS2hNLEVBQUVrTSxlQUV4QyxDQVk4Q0MsQ0FBbUJ2QyxHQUN6RCxNQUFPLENBQ0h3QyxhQUFhLEVBQ2JDLEtBQU0sQ0FBRWYsSUFBR0MsSUFBR0MsUUFBT0MsU0FBUW5LLFNBQzdCZ0wsdUJBQXVCLEVBQ3ZCQyxpQkFBaUIsRUFFekIsQ0FDQSxNQUFNZixFQUFRRyxLQUFLQyxJQUFJLEVBQWtDLEVBQS9CRCxLQUFLSyxLQUFLWCxFQUFZRyxRQUMxQ0MsRUFBU0UsS0FBS0MsSUFBSSxFQUFtQyxFQUFoQ0QsS0FBS0ssS0FBS1gsRUFBWUksU0FDakQsTUFBTyxDQUNIVyxhQUFhLEVBQ2JJLFFBQVMsQ0FDTGhCLFFBQ0FDLFNBQ0FnQixrQkFBbUIsRUFDbkJDLFFBQVEsRUFDUkMsWUFBYW5CLEVBQ2JvQixhQUFjbkIsRUFDZG9CLFVBQVcsRUFDWEMsVUFBVyxHQUVmVCxLQUFNLENBQUVmLEVBQUcsRUFBR0MsRUFBRyxFQUFHQyxRQUFPQyxTQUFRbkssU0FDbkNnTCx1QkFBdUIsRUFDdkJDLGlCQUFpQixFQUV6QixDQTBCMkJRLENBQWdCbkQsRUFBUXhJLEVBQU1FLEVBQU9nSixFQUFLZSxhQUN6REQsRUFBS21CLHVCQUNDbkYsRUFBS3dDLEVBQVEsbUJBQW9CLENBQUVvRCxXQUFZLHlCQUVyRDVCLEVBQUtnQixhQUFlaEIsRUFBS29CLFVBQ3pCMUIsR0FBZSxRQUVUMUQsRUFBS3dDLEVBQVEscUNBQXNDd0IsRUFBS29CLGdCQUU1RCxJQUFJbkQsUUFBUzRELEdBQU0xRCxXQUFXMEQsRUFBR3JDLElBQ3ZDLE1BQU1zQyxFQUFZLENBQ2QvTCxPQUFRd0osRUFDUndDLGFBQWEsRUFDYmIsc0JBQXVCbEIsRUFBS2tCLHNCQUM1QkQsS0FBTWpCLEVBQUtpQixNQUVILFNBQVIxQixHQUEwQyxpQkFBakJMLEVBQUtqSixVQUM5QjZMLEVBQVU3TCxRQUFVc0ssS0FBS3lCLElBQUksSUFBS3pCLEtBQUtDLElBQUksRUFBR0QsS0FBSzBCLE1BQU0vQyxFQUFLakosWUFFbEUsTUFBTSxLQUFFaU0sU0FBZWxHLEVBQUt3QyxFQUFRLHlCQUEwQnNELEdBRXhEL04sRUFBTSxRQURTLFFBQVJ3TCxFQUFnQixZQUFjLHVCQUNSMkMsSUFDN0JDLEVBQVdqRCxFQUFLaUQsVUFySDlCLFNBQXNCaEQsRUFBS0ksR0FFdkIsSUFBSTZDLEdBRFVqRCxFQUFJa0QsT0FBU2xELEVBQUlrRCxNQUFNM0ksT0FBU3lGLEVBQUlrRCxNQUFRLEtBRXRELE1BQ0ksSUFDSSxPQUFPLElBQUlyTyxJQUFJbUwsRUFBSXBMLEtBQU8sSUFBSXVPLE1BQVEsTUFDMUMsQ0FDQSxNQUNJLE1BQU8sTUFDWCxDQUNILEVBUEQsR0FZSixPQUpBRixFQUEyQkEsRUF2QnRCRyxRQUFRLGdCQUFpQixLQUN6QkEsUUFBUSxPQUFRLEtBQ2hCN0ksT0FzQkQwSSxFQUFLakssT0FBUyxLQUNkaUssRUFBT0EsRUFBS3hJLE1BQU0sRUFBRyxLQUVsQixHQUFHd0ksTUFEQyxJQUFJSSxNQUFPQyxjQUFjRixRQUFRLFFBQVMsUUFDN0JoRCxHQUM1QixDQXFHMENtRCxDQUFhdkQsRUFBS0ksR0FDcEQsYUFBYTFJLE9BQU84TCxVQUFVQyxTQUFTLENBQUU3TyxNQUFLb08sV0FBVVUsUUFBUSxHQUNwRSxDQUNBLFFBQ0ksR0FBSW5ELEVBQ0EsVUFDVTFELEVBQUt3QyxFQUFRLHVDQUN2QixDQUNBLE1BRUEsQ0FFSixHQUFJaUIsRUFDQSxVRGpGTDlJLGVBQTJCNkgsR0FDOUIsTUFBTXZKLEVBQVF1SixFQUFPdkosT0FBUyxLQUNqQixNQUFUQSxHQUVDc0osRUFBTXJLLElBQUllLFdBcERuQjBCLGVBQXNCNkgsU0FDWixJQUFJUCxRQUFTTCxJQUNmL0csT0FBTytILFNBQVNrRSxPQUFPdEUsRUFBUSxJQUFNWixNQUU3QyxDQWtEVWtGLENBQU90RSxHQUNiRCxFQUFNakIsT0FBT3JJLEdBQ2pCLENDMEVzQjhOLENBQVl2RSxFQUN0QixDQUNBLE1BRUEsQ0FFUixDQUNKLENDckpPN0gsZUFBZXFNLEVBQWtCL0ssRUFBTy9DLEVBQVNnSyxFQUFPLENBQUMsR0FDNUQsTUFBTSxPQUFFMkQsR0FBUyxFQUFLLE9BQUVJLEVBQVMsMkJBQThCL0QsRUFFekQxQyxFQUFVLENBQ1p6RyxPQUFRLG9CQUNSbU4sS0FBTSxlQUNOQyxRQUFTLEVBQ1RDLFlBQVksSUFBSVosTUFBT0MsY0FDdkJ2TixVQUNBSSxNQUFPMkMsRUFBTTNDLE9BS1h2QixFQUFNLDhDQVdoQixTQUFzQnNQLEdBQ2xCLE1BQU1DLEdBQVEsSUFBSUMsYUFBY0MsT0FBT0gsR0FDdkMsSUFBSUksRUFBTSxHQUNWLElBQUssTUFBTTFKLEtBQUt1SixFQUNaRyxHQUFPeEUsT0FBT3lFLGFBQWEzSixHQUUvQixPQUFPNEosS0FBS0YsRUFDaEIsQ0FwQm1CRyxDQURGQyxLQUFLQyxVQUFVdEgsRUFBUyxLQUFNLE1BSXJDMkYsRUEyQlYsU0FBc0JjLEVBQVEvTixHQU8xQixNQUFPLEdBQUcrTixNQU5PL04sR0FBVyxJQUN2QnFOLFFBQVEsY0FBZSxJQUN2QkEsUUFBUSxvQkFBcUIsS0FDN0JBLFFBQVEsTUFBTyxLQUNmQSxRQUFRLFNBQVUsSUFDbEIzSSxNQUFNLEVBQUcsTUFBUSxVQzVEbkIsU0FBbUJtSyxFQUFJLElBQUl2QixNQUM5QixNQUFNd0IsRUFBTSxDQUFDQyxFQUFHQyxFQUFJLElBQU1qRixPQUFPZ0YsR0FBR0UsU0FBU0QsRUFBRyxLQUMxQ0UsR0FBT0wsRUFBRU0sb0JBQ1RDLEVBQU9GLEdBQU8sRUFBSSxJQUFNLElBQ3hCRyxFQUFLUCxFQUFJekQsS0FBS0UsTUFBTUYsS0FBS2lFLElBQUlKLEdBQU8sS0FDcENLLEVBQUtULEVBQUl6RCxLQUFLaUUsSUFBSUosR0FBTyxJQUMvQixNQUFPLEdBQUdMLEVBQUVXLGlCQUFpQlYsRUFBSUQsRUFBRVksV0FBYSxNQUFNWCxFQUFJRCxFQUFFYSxjQUFjWixFQUFJRCxFQUFFYyxlQUFlYixFQUFJRCxFQUFFZSxpQkFBaUJkLEVBQUlELEVBQUVnQixnQkFBZ0JULElBQU9DLElBQUtFLEdBQzVKLENEc0RtQ08sU0FDbkMsQ0FuQ3FCLENBQWEvQixFQUFRL04sR0FFdEMsYUFBYTJCLE9BQU84TCxVQUFVQyxTQUFTLENBQUU3TyxNQUFLb08sV0FBVVUsVUFDNUQsQ0VUT2xNLGVBQWVzTyxFQUFrQkMsRUFBTWhRLEdBRTFDLE1BQU1pUSxFQUFjLFdBQVdDLEtBQUtGLEVBQUtHLE1BQ25DQyxFQUE2QixxQkFBZEosRUFBSzNJLE1BQTZDLGNBQWQySSxFQUFLM0ksTUFBc0MsS0FBZDJJLEVBQUszSSxLQUMzRixJQUFLNEksSUFBZ0JHLEVBQ2pCLE1BQU0sSUFBSXRHLE1BQU0sRUFBS2hJLElBQUkseUJBRzdCLElBQUl1TyxFQUNKLElBQ0ksTUFBTWxDLFFBQWE2QixFQUFLN0IsT0FDeEJrQyxFQUFTMUIsS0FBSzJCLE1BQU1uQyxFQUN4QixDQUNBLE1BRUksTUFBTSxJQUFJckUsTUFBTSxFQUFLaEksSUFBSSwwQkFDN0IsQ0FFQSxJZjZCRyxTQUF3QnBDLEdBQzNCLElBQUtBLEdBQWtCLGlCQUFOQSxFQUNiLE9BQU8sRUFDWCxNQUFNNlEsRUFBSTdRLEVBQ1YsTUFBb0Isc0JBQWhCNlEsRUFBVSxRQUVJLGlCQUFkQSxFQUFRLE1BRWdCLGlCQUFqQkEsRUFBVyxTQUVNLGlCQUFqQkEsRUFBVyxXQUVqQkMsTUFBTUMsUUFBUUYsRUFBUyxRQUVyQkEsRUFBUyxNQUFFRyxNQUFNalIsRUFDNUIsQ2U1Q1NrUixDQUFlTixHQUNoQixNQUFNLElBQUl2RyxNQUFNLEVBQUtoSSxJQUFJLDJCQUU3QixNQUNNMUIsRUFEVWlRLEVBQ01qUSxNQUVoQjJDLFFBQWMxQixFQUFpQlMsSUFBSTlCLEdBR25DNFEsRUFBU3hOLEdBQU8sR0FBR0EsRUFBR3pELE9BQU9xTyxRQUFRNUssRUFBR3pELE9BQU9zTyxXQUFXN0ssRUFBR3pELE9BQU8wQyxRQUNwRXdPLEVBQWMsSUFBSTlSLEtBSFBnRSxHQUFPM0MsT0FBUyxJQUdJNEIsSUFBSTRPLElBRW5DdE4sRUFBUWxELEVBQ1QrQyxPQUFRQyxJQUFReU4sRUFBWTdSLElBQUk0UixFQUFNeE4sS0FDdEN3QixLQUFLLENBQUNoRixFQUFHaUYsSUFBTUEsRUFBRXhCLEdBQUt6RCxFQUFFeUQsSUFDeEJyQixJQUFLb0IsSUFBTyxDQUNiekQsT0FBUXlELEVBQUd6RCxPQUNYOEQsS0FBTUwsRUFBR0ssS0FDVEMsTUFBT04sRUFBR00sTUFDVkMsTUFBT1AsRUFBR08sTUFDVkcsU0FBVVYsRUFBR1UsU0FDYkMsTUFBT1gsRUFBR1csTUFDVkMsUUFBU1osRUFBR1ksV0FFaEIsYUFBYW5CLEVBQVc3QyxFQUFTLENBQUVzRCxTQUN2QyxDQ3hETyxJQUFJd04sRUxLWG5QLE9BQU8rSCxTQUFTcUgsU0FBUzlJLFlBQWErSSxJQUNsQyxNQUFNM04sRUFBSzJOLEVBQVNqUixNQUNGLGlCQUFQc0QsR0FDUGdHLEVBQU1qQixPQUFPL0UsS0tQckIsU0FBV3lOLEdBRVBBLEVBQTJCLGNBQUksZ0JBRS9CQSxFQUFtQixNQUFJLFFBRXZCQSxFQUFxQixRQUFJLFVBRXpCQSxFQUErQixrQkFBSSxvQkFFbkNBLEVBQWdDLG1CQUFJLHFCQUVwQ0EsRUFBZ0MsbUJBQUkscUJBRXBDQSxFQUF1QywwQkFBSSw0QkFFM0NBLEVBQWtDLHFCQUFJLHVCQUV0Q0EsRUFBMEIsYUFBSSxlQUU5QkEsRUFBbUMsc0JBQUksd0JBRXZDQSxFQUF1QixVQUFJLFlBRTNCQSxFQUFtQyxzQkFBSSx3QkFFdkNBLEVBQWlDLG9CQUFJLHNCQUVyQ0EsRUFBb0MsdUJBQUkseUJBRXhDQSxFQUFrQyxxQkFBSSx1QkFFdENBLEVBQWtDLHFCQUFJLHVCQUV0Q0EsRUFBMkIsY0FBSSxnQkFFL0JBLEVBQW9DLHVCQUFJLHlCQUV4Q0EsRUFBMkIsY0FBSSxnQkFFL0JBLEVBQTRCLGVBQUksaUJBRWhDQSxFQUFnQyxtQkFBSSxxQkFFcENBLEVBQTBCLGFBQUksZUFFOUJBLEVBQWdDLG1CQUFJLHFCQUVwQ0EsRUFBc0MseUJBQUksMkJBRTFDQSxFQUFxQyx3QkFBSSwwQkFFekNBLEVBQStCLGtCQUFJLG9CQUVuQ0EsRUFBK0Isa0JBQUksbUJBQ3RDLENBdkRELENBdURHQSxJQUFnQkEsRUFBYyxDQUFDLElDakQzQixNQUFNRyxFQUNUQyxLQUNBQyxNQUFRQyxnQkFBZ0J2UixHQUN4QndSLEtBQU8sS0FDUEMsZ0JBQWtCLEtBQ2xCQyxxQkFBdUIsSUFBSXhTLElBQUksQ0FDM0J5SCxFQUFXZ0wsZUFDWGhMLEVBQVdpTCx5QkFDWGpMLEVBQVdrTCxjQUNYbEwsRUFBV21MLFFBRWYsV0FBQS9LLENBQVlzSyxHQUNSckssS0FBS3FLLEtBQU9BLENBQ2hCLENBQ0EsV0FBTVUsR0FDRi9LLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXdUwsT0FDakMsTUFBTSxHQUFFbkosU0FBYTlCLEtBQUtrTCxzQkFBc0IsQ0FBRUMsZ0JBQWdCLElBQ2xFLElBQUtySixFQUVELFlBREE5QixLQUFLcUssS0FBSzlKLE9BQU9QLEtBQUtzSyxPQUcxQnRLLEtBQUtvTCx1QkFDTHBMLEtBQUtxSyxLQUFLOUosT0FBT1AsS0FBS3NLLE9BQ3RCLE1BQU1uQyxRQUFVck4sT0FBT3VRLFFBQVFDLGFBQy9CdEwsS0FBS3lLLGdCQUFrQnRDLEVBQUUzTCxJQUFNLEtBQy9CMUIsT0FBTzRHLFFBQVFQLFVBQVVDLFlBQWFDLElBQ2xDLEdBQUlBLEVBQUliLE9BQVMsRUFDYixPQUNKLE1BQU0rSyxFQUFpQmxLLEVBQUlaLFFBQVErSyxTQUNQLE1BQXhCeEwsS0FBS3lLLGlCQUEyQnpLLEtBQUt5SyxrQkFBb0JjLEdBRXhEdkwsS0FBS2tMLHNCQUFzQixDQUFFQyxnQkFBZ0IsS0FFMUQsQ0FDQSxvQkFBQUMsR0FDSXBMLEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVl5QixjQUFlLElBQU0xTCxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBV2dNLGlCQUMvRTFMLEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVkwQixNQUFPLElBQU0zTCxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBV2tNLGFBQ3ZFNUwsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWTRCLFFBQVMsSUFBTTdMLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXb00sd0JBQ3pFOUwsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWThCLGtCQUFtQixFQUFHblAsVUFBV29ELEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXc00sZUFBZ0JwUCxVQUMzR29ELEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVlnQyxtQkFBb0IsRUFBR3BQLFdBQVltRCxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBV3dNLGdCQUFpQnJQLFdBQzlHbUQsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWWtDLG1CQUFvQixFQUFHclAsV0FBWWtELEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXME0sZ0JBQWlCdFAsV0FDOUdrRCxLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZb0MsMEJBQTJCLEVBQUd0UCxpQkFBa0JpRCxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBVzRNLHVCQUF3QnZQLGlCQUNsSWlELEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVlzQyxxQkFBc0IsRUFBR3ZQLGFBQWNnRCxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBVzhNLGtCQUFtQnhQLGFBQ3BIZ0QsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWXdDLGFBQWMsSUFBTXpNLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXK00sZ0JBQzlFek0sS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWXlDLHNCQUF1QixFQUFHelAsY0FBZStDLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXaU4sbUJBQW9CMVAsY0FDdkgrQyxLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZMkMscUJBQXNCLElBQU01TSxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBV2tOLHdCQUN0RjVNLEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVk0QyxzQkFBdUIsRUFBRzdTLFlBQWFnRyxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBV29OLG1CQUFvQjlTLFlBQ3JIZ0csS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWThDLG9CQUFxQixFQUFHOVMsVUFBVytGLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXc04saUJBQWtCL1MsVUFDL0crRixLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZZ0QsdUJBQXdCLEVBQUcvUyxhQUFjOEYsS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVd3TixvQkFBcUJoVCxhQUN4SDhGLEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVlrRCxxQkFBc0IsRUFBR2hULFdBQVk2RixLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBVzBOLGtCQUFtQmpULFdBQ2xINkYsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWW9ELGNBQWUsRUFBR0MsU0FBUUMsWUFBV0MsYUFBY3hOLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXMk4sY0FBZUMsU0FBUUMsWUFBV0MsYUFDL0l4TixLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZd0QsVUFBVyxFQUFHdlEsV0FBWThDLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXK04sVUFBV3ZRLFdBQy9GOEMsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWXlELHVCQUF5QmpOLEdBQVlULEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXZ08sMEJBQTJCak4sS0FDMUhULEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVkwRCxjQUFlLEVBQUduUixRQUFTd0QsS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVdpTyxjQUFlblIsUUFDcEd3RCxLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZMkQsZUFBZ0IsSUFBTTVOLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXa08sa0JBQ2hGNU4sS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWTRELG1CQUFvQixFQUFHclIsS0FBSVcsYUFBYzZDLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXb08sb0JBQXFCdFIsS0FBSVcsYUFDNUg2QyxLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZOEQsYUFBYyxFQUFHMVUsV0FBWTJHLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXcU8sYUFBYzFVLFdBQ3JHMkcsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWStELG1CQUFvQixJQUFNaE8sS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVd1TywwQkFDcEZqTyxLQUFLcUssS0FBS29CLEdBQUd4QixFQUFZaUUseUJBQTBCLEVBQUcvRSxVQUFXbkosS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVd3Tyx5QkFBMEIvRSxVQUM1SG5KLEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVlrRSx3QkFBeUIsRUFBR0MsVUFBV3BPLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXeU8sd0JBQXlCQyxVQUMxSHBPLEtBQUtxSyxLQUFLb0IsR0FBR3hCLEVBQVlvRSxrQkFBbUIsRUFBR2xWLGFBQWM2RyxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBVzRPLDRCQUE2Qm5WLGFBQzNINkcsS0FBS3FLLEtBQUtvQixHQUFHeEIsRUFBWXNFLGtCQUFtQixFQUFHcFYsYUFBYzZHLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXOE8sNEJBQTZCclYsWUFDL0gsQ0FDQSxRQUFBNlIsQ0FBU3lELEdBQ0wsTUFBUW5FLE1BQU9vRSxFQUFJLFFBQUVDLEdDMUV0QixTQUFnQnJFLEVBQU9tRSxHQUMxQixPQUFRQSxFQUFPak8sTUFDWCxLQUFLZCxFQUFXdUwsS0FDWixNQUFPLENBQUVYLFFBQU9xRSxRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXaVAsYUFDakQsS0FBS2xQLEVBQVdILFVBQ1osTUFBTyxDQUFFK0ssTUFBTyxJQUFLQSxFQUFPcFIsTUFBT3VWLEVBQU92VixNQUFPQyxRQUFTc1YsRUFBT3RWLFNBQVd3VixRQUFTLElBQ3pGLEtBQUtqUCxFQUFXbVAsV0FDWixPQUFJSixFQUFPeFYsU0FBV2tHLEVBQ1gsQ0FBRW1MLE1BQU8sSUFBS0EsRUFBT3JSLE9BQVF3VixFQUFPeFYsUUFBVTBWLFFBQVMsSUFFM0QsQ0FBRXJFLE1BQU8sSUFBS0EsRUFBTy9RLE1BQU8sR0FBSU4sT0FBUXdWLEVBQU94VixRQUFVMFYsUUFBUyxJQUU3RSxLQUFLalAsRUFBV29QLGNBQ1osTUFBTyxDQUNIeEUsTUFBTyxJQUNBQSxFQUNIL1EsTUFBT2tWLEVBQU92UyxNQUFNM0MsTUFDcEJDLFlBQWFpVixFQUFPdlMsTUFBTTFDLFlBQzFCQyxhQUFjZ1YsRUFBT3ZTLE1BQU16QyxhQUMzQkMsYUFBYytVLEVBQU92UyxNQUFNeEMsYUFDM0JDLG1CQUFvQjhVLEVBQU92UyxNQUFNdkMsbUJBQ2pDQyxlQUFnQjZVLEVBQU92UyxNQUFNdEMsZUFDN0JDLGdCQUFpQjRVLEVBQU92UyxNQUFNckMsZ0JBQzlCQyxhQUFjMlUsRUFBT3ZTLE1BQU1wQyxjQUUvQjZVLFFBQVMsQ0FBQyxDQUFFeEgsS0FBTXhILEVBQVdnTCxlQUFnQnBSLE1BQU9rVixFQUFPdlMsTUFBTTNDLFNBRXpFLEtBQUttRyxFQUFXcVAsZ0JBQ1osTUFBTyxDQUNIekUsTUFBTyxJQUFLQSxFQUFPaFEsV0FBWW1VLEVBQU9uVSxZQUN0Q3FVLFFBQVMsSUFFakIsS0FBS2pQLEVBQVdnTSxjQUFlLENBQzNCLE1BQU1nRCxHQUFRcEUsRUFBTWhSLGlCQUNwQixNQUFPLENBQ0hnUixNQUFPLElBQUtBLEVBQU9oUixpQkFBa0JvVixHQUNyQ0MsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV2lMLHlCQUEwQmpLLFFBQVMrTixJQUV4RSxDQUNBLEtBQUtoUCxFQUFXa00sVUFDWixNQUFPLENBQ0h0QixNQUFPLElBQUtBLEVBQU8vUSxNQUFPLElBQzFCb1YsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV2tMLGVBQWlCLENBQUUxRCxLQUFNeEgsRUFBV3FQLGVBRXpFLEtBQUt0UCxFQUFXdVAsaUJBQ1osTUFBTyxDQUFFM0UsUUFBT3FFLFFBQVMsSUFDN0IsS0FBS2pQLEVBQVdrTixxQkFDWixNQUFPLENBQ0h0QyxNQUFPLElBQ0FBLEVBQ0h2USxRQUFTLElBQUt1USxFQUFNdlEsUUFBU0ssZUFBZ0JrUSxFQUFNdlEsUUFBUUssZ0JBRS9EdVUsUUFBUyxJQUVqQixLQUFLalAsRUFBV3NNLGVBQWdCLENBQzVCLE1BQU16UyxFQUFRK1EsRUFBTS9RLE1BQU00QixJQUFLb0IsSUFBTyxJQUMvQkEsS0FDQytOLEVBQU1qUSxZQUFZeUosU0FBU3ZILEVBQUdDLElBQU0sQ0FBRUksS0FBTTZSLEVBQU83UixNQUFTLENBQUMsS0FFckUsTUFBTyxDQUNIME4sTUFBTyxJQUFLQSxFQUFPOVEsWUFBYWlWLEVBQU83UixLQUFNckQsU0FDN0NvVixRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXdVAsZUFBaUIsQ0FBRS9ILEtBQU14SCxFQUFXZ0wsZUFBZ0JwUixVQUV6RixDQUNBLEtBQUttRyxFQUFXd00sZ0JBQWlCLENBQzdCLE1BQU0zUyxFQUFRK1EsRUFBTS9RLE1BQU00QixJQUFLb0IsSUFBTyxJQUMvQkEsS0FDQytOLEVBQU1qUSxZQUFZeUosU0FBU3ZILEVBQUdDLElBQU0sQ0FBRUssTUFBTzRSLEVBQU81UixPQUFVLENBQUMsS0FFdkUsTUFBTyxDQUNIeU4sTUFBTyxJQUFLQSxFQUFPN1EsYUFBY2dWLEVBQU81UixNQUFPdEQsU0FDL0NvVixRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXdVAsZUFBaUIsQ0FBRS9ILEtBQU14SCxFQUFXZ0wsZUFBZ0JwUixVQUV6RixDQUNBLEtBQUttRyxFQUFXME0sZ0JBQWlCLENBQzdCLE1BQU03UyxFQUFRK1EsRUFBTS9RLE1BQU00QixJQUFLb0IsSUFBTyxJQUMvQkEsS0FDQytOLEVBQU1qUSxZQUFZeUosU0FBU3ZILEVBQUdDLElBQU0sQ0FBRU0sTUFBTzJSLEVBQU8zUixPQUFVLENBQUMsS0FFdkUsTUFBTyxDQUNId04sTUFBTyxJQUFLQSxFQUFPNVEsYUFBYytVLEVBQU8zUixNQUFPdkQsU0FDL0NvVixRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXdVAsZUFBaUIsQ0FBRS9ILEtBQU14SCxFQUFXZ0wsZUFBZ0JwUixVQUV6RixDQUNBLEtBQUttRyxFQUFXNE0sdUJBQXdCLENBQ3BDLE1BQU0vUyxFQUFRK1EsRUFBTS9RLE1BQU00QixJQUFLb0IsSUFBTyxJQUMvQkEsS0FDQytOLEVBQU1qUSxZQUFZeUosU0FBU3ZILEVBQUdDLElBQU0sQ0FBRU8sWUFBYTBSLEVBQU8xUixhQUFnQixDQUFDLEtBRW5GLE1BQU8sQ0FDSHVOLE1BQU8sSUFBS0EsRUFBTzNRLG1CQUFvQjhVLEVBQU8xUixZQUFheEQsU0FDM0RvVixRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXdVAsZUFBaUIsQ0FBRS9ILEtBQU14SCxFQUFXZ0wsZUFBZ0JwUixVQUV6RixDQUNBLEtBQUttRyxFQUFXOE0sa0JBQW1CLENBQy9CLE1BQU1qVCxFQUFRK1EsRUFBTS9RLE1BQU00QixJQUFLb0IsSUFBTyxJQUMvQkEsS0FDQytOLEVBQU1qUSxZQUFZeUosU0FBU3ZILEVBQUdDLElBQU0sQ0FBRVEsUUFBU3lSLEVBQU96UixTQUFZLENBQUMsS0FFM0UsTUFBTyxDQUNIc04sTUFBTyxJQUFLQSxFQUFPMVEsZUFBZ0I2VSxFQUFPelIsUUFBU3pELFNBQ25Eb1YsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV3VQLGVBQWlCLENBQUUvSCxLQUFNeEgsRUFBV2dMLGVBQWdCcFIsVUFFekYsQ0FDQSxLQUFLbUcsRUFBVytNLGFBQWMsQ0FDMUIsTUFDTWxULEVBQVE4RCxFQURnQmlOLEVBQU0vUSxNQUFNK0MsT0FBUUMsSUFBUStOLEVBQU1qUSxZQUFZeUosU0FBU3ZILEVBQUdDLE1BRXhGLE1BQU8sQ0FDSDhOLE1BQU8sSUFBS0EsRUFBTy9RLFNBQ25Cb1YsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV3VQLGVBQWlCLENBQUUvSCxLQUFNeEgsRUFBV2dMLGVBQWdCcFIsVUFFekYsQ0FDQSxLQUFLbUcsRUFBV2lOLG1CQUFvQixDQUNoQyxNQUFNcFQsRUFBUStRLEVBQU0vUSxNQUFNNEIsSUFBS29CLElBQU8sSUFDL0JBLEtBQ0MrTixFQUFNalEsWUFBWXlKLFNBQVN2SCxFQUFHQyxJQUFNLENBQUVTLFNBQVV3UixFQUFPeFIsVUFBYSxDQUFDLEtBRTdFLE1BQU8sQ0FDSHFOLE1BQU8sSUFBS0EsRUFBT3pRLGdCQUFpQjRVLEVBQU94UixTQUFVMUQsU0FDckRvVixRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXdVAsZUFBaUIsQ0FBRS9ILEtBQU14SCxFQUFXZ0wsZUFBZ0JwUixVQUV6RixDQUNBLEtBQUttRyxFQUFXK04sVUFBVyxDQUN2QixNQUFNMEIsRUFpTmxCLFNBQW9DNVYsRUFBT2MsRUFBYStVLEdBQ3BELE1BQ01DLEdBQXNCRCxHQURHLElBQUl6UixPQUVuQyxJQUFJMlIsRUFBZ0IsRUFDcEIsT0FBTy9WLEVBQ0Z3RSxLQUFLLENBQUNoRixFQUFHaUYsSUFBTUEsRUFBRXhCLEdBQUt6RCxFQUFFeUQsSUFDeEJyQixJQUFLc0MsSUFDTixHQUFJcEQsRUFBWXlKLFNBQVNyRyxFQUFLakIsS0FBT2lCLEVBQUtQLFFBQVVtUyxFQUFXLENBQzNELE1BQU0zUyxFQUFRNlMsT0FBT0MsaUJBQW1CRixJQUN4QyxNQUFPLElBQUs3UixFQUFNUCxNQUFPbVMsRUFBVzNTLFFBQ3hDLENBQ0EsT0FBT2UsR0FFZixDQTlOMENnUyxDQUEyQm5GLEVBQU0vUSxNQUFPK1EsRUFBTWpRLFlBQWFvVSxFQUFPdlIsT0FDMUYzRCxFQUFROEQsRUFBc0M4UixHQUNwRCxNQUFPLENBQ0g3RSxNQUFPLElBQUtBLEVBQU94USxhQUFjMlUsRUFBT3ZSLE1BQU8zRCxTQUMvQ29WLFFBQVMsQ0FBQyxDQUFFeEgsS0FBTXhILEVBQVd1UCxlQUFpQixDQUFFL0gsS0FBTXhILEVBQVdnTCxlQUFnQnBSLFVBRXpGLENBQ0EsS0FBS21HLEVBQVdvTixtQkFDWixNQUFPLENBQ0h4QyxNQUFPLElBQUtBLEVBQU92USxRQUFTLElBQUt1USxFQUFNdlEsUUFBU0MsT0FBUXlVLEVBQU96VSxTQUMvRDJVLFFBQVMsSUFFakIsS0FBS2pQLEVBQVdzTixpQkFDWixNQUFPLENBQUUxQyxNQUFPLElBQUtBLEVBQU92USxRQUFTLElBQUt1USxFQUFNdlEsUUFBU0UsS0FBTXdVLEVBQU94VSxPQUFVMFUsUUFBUyxJQUM3RixLQUFLalAsRUFBV3dOLG9CQUNaLE1BQU8sQ0FDSDVDLE1BQU8sSUFBS0EsRUFBT3ZRLFFBQVMsSUFBS3VRLEVBQU12USxRQUFTRyxRQUFTdVUsRUFBT3ZVLFVBQ2hFeVUsUUFBUyxJQUVqQixLQUFLalAsRUFBVzBOLGtCQUNaLE1BQU8sQ0FDSDlDLE1BQU8sSUFBS0EsRUFBT3ZRLFFBQVMsSUFBS3VRLEVBQU12USxRQUFTSSxNQUFPc1UsRUFBT3RVLFFBQzlEd1UsUUFBUyxJQUVqQixLQUFLalAsRUFBV29NLHFCQUNaLE1BQU8sQ0FDSHhCLFFBQ0FxRSxRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXbU0sd0JBRXJDLEtBQUtwTSxFQUFXZ1Esa0JBQ1osT0FBbUIsTUFBZnBGLEVBQU1wUixNQUNDLENBQUVvUixRQUFPcUUsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV2dRLGFBQWM1TixNQUFPLGNBRS9ELENBQ0h1SSxRQUNBcUUsUUFBUyxDQUNMLENBQ0l4SCxLQUFNeEgsRUFBV2tNLFFBQ2pCcEwsUUFBUyxDQUNMdkgsTUFBT29SLEVBQU1wUixNQUNiYyxPQUFRc1EsRUFBTXZRLFFBQVFDLE9BQ3RCQyxLQUFNcVEsRUFBTXZRLFFBQVFFLEtBQ3BCQyxRQUFTb1EsRUFBTXZRLFFBQVFHLFFBQ3ZCQyxNQUFPbVEsRUFBTXZRLFFBQVFJLE1BQ3JCK0osWUFBYXVLLEVBQU92SyxnQkFNeEMsS0FBS3hFLEVBQVdrUSxrQkFDWixNQUFPLENBQUV0RixRQUFPcUUsUUFBUyxJQUM3QixLQUFLalAsRUFBV21RLGVBQ1osTUFBTyxDQUFFdkYsUUFBT3FFLFFBQVMsQ0FBQyxDQUFFeEgsS0FBTXhILEVBQVdnUSxhQUFjNU4sTUFBTzBNLEVBQU8xTSxTQUM3RSxLQUFLckMsRUFBVzJOLGNBQWUsQ0FDM0IsTUFBTThCLEVBNkhsQixTQUEwQjVWLEVBQU8rVCxFQUFRQyxFQUFXQyxHQUNoRCxHQUFJQSxFQUFVLEdBQUtBLEdBQVdqVSxFQUFNNkMsT0FDaEMsTUFBTSxJQUFJMFQsV0FBVyx5QkFBeUJ0QyxLQUVsRCxNQUFNdUMsRUFBVXhXLEVBQU15VyxVQUFXL1IsR0FBTUEsRUFBRXpCLEtBQU84USxHQUNoRCxJQUFpQixJQUFieUMsRUFDQSxNQUFNLElBQUk5TSxNQUFNLHlCQUF5QnFLLEtBRTdDLEdBQUlFLEVBQVUsR0FBS0EsR0FBV2pVLEVBQU0rQyxPQUFRQyxHQUFPQSxFQUFHVyxRQUFVM0QsRUFBTXdXLEdBQVM3UyxPQUFPZCxPQUNsRixNQUFNLElBQUkwVCxXQUFXLHlCQUF5QnRDLEtBRWxELE1BR005USxFQUFROFEsR0FEQ0QsRUFBWUMsRUFGTixJQUNDLElBR3RCLE9BQU9qVSxFQUFNNEIsSUFBS29CLEdBQVFBLEVBQUdDLEtBQU84USxFQUFTLElBQUsvUSxFQUFJRyxTQUFVSCxFQUNwRSxDQTdJMEMwVCxDQUFpQjNGLEVBQU0vUSxNQUFPa1YsRUFBT25CLE9BQVFtQixFQUFPbEIsVUFBV2tCLEVBQU9qQixTQUM5RmpVLEVBQVE4RCxFQUFzQzhSLEdBQ3BELE1BQU8sQ0FDSDdFLE1BQU8sSUFBS0EsRUFBTy9RLFNBQ25Cb1YsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV3VQLGVBQWlCLENBQUUvSCxLQUFNeEgsRUFBV2dMLGVBQWdCcFIsVUFFekYsQ0FDQSxLQUFLbUcsRUFBV2dPLHVCQUNaLEdBQUksT0FBUWUsRUFBUSxDQUVoQixNQUFNcFUsRUE4SnRCLFNBQXVDbUMsRUFBSTBULEVBQVM3VixHQUNoRCxPQUFJNlYsSUFDSzdWLEVBQVl5SixTQUFTdEgsR0FDZixJQUFJbkMsRUFBYW1DLEdBR3pCbkMsRUFBWWlDLE9BQVFtQixHQUFTQSxJQUFTakIsRUFDakQsQ0FyS29DMlQsQ0FBOEIxQixFQUFPalMsR0FBSWlTLEVBQU95QixRQUFTNUYsRUFBTWpRLGFBQ25GLE1BQU8sQ0FDSGlRLE1BQU8sSUFBS0EsRUFBT2pRLGVBQ25Cc1UsUUFBUyxHQUVqQixDQUNLLEdBQUksVUFBV0YsRUFBUSxDQUV4QixNQUFNcFUsRUE4SnRCLFNBQTJDNkMsRUFBT2dULEVBQVM3VixFQUFhZCxHQUNwRSxNQUFNNlcsRUFBSWxULEVBQU1TLE9BQ1YwUyxFQUFXOVcsRUFDWitDLE9BQVFDLElBQVFBLEVBQUdXLE9BQVN4RSxHQUFpQmlGLFNBQVd5UyxHQUN4RGpWLElBQUtvQixHQUFPQSxFQUFHQyxJQUNwQixHQUF3QixJQUFwQjZULEVBQVNqVSxPQUNULE9BQU8vQixFQUNYLEdBQUk2VixFQUFTLENBQ1QsTUFBTTlVLEVBQU0sSUFBSWxELElBQUltQyxHQUNwQixJQUFLLE1BQU1tQyxLQUFNNlQsRUFDYmpWLEVBQUl5SSxJQUFJckgsR0FDWixNQUFPLElBQUlwQixFQUNmLENBQ0ssQ0FDRCxNQUFNa1YsRUFBVyxJQUFJcFksSUFBSW1ZLEdBQ3pCLE9BQU9oVyxFQUFZaUMsT0FBUUUsSUFBUThULEVBQVNuWSxJQUFJcUUsR0FDcEQsQ0FDSixDQS9Lb0MrVCxDQUFrQzlCLEVBQU92UixNQUFPdVIsRUFBT3lCLFFBQVM1RixFQUFNalEsWUFBYWlRLEVBQU0vUSxPQUM3RyxNQUFPLENBQ0grUSxNQUFPLElBQUtBLEVBQU9qUSxlQUNuQnNVLFFBQVMsR0FFakIsQ0FDSyxDQUVELE1BQU10VSxHQXdLbUJtVyxFQXhLMkIvQixFQUFPK0IsU0F3S3hCalgsRUF4S2tDK1EsRUFBTS9RLE1BeUtuRmlYLEVBQ09qWCxFQUFNNEIsSUFBS29CLEdBQU9BLEVBQUdDLElBRXpCLElBM0tLLE1BQU8sQ0FDSDhOLE1BQU8sSUFBS0EsRUFBT2pRLGVBQ25Cc1UsUUFBUyxHQUVqQixDQUVKLEtBQUtqUCxFQUFXaU8sY0FDWixNQUFPLENBQ0hyRCxRQUNBcUUsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV21MLE1BQU90TyxHQUFJaVMsRUFBT2pTLE1BRXZELEtBQUtrRCxFQUFXa08sZUFDWixNQUFPLENBQ0h0RCxRQUNBcUUsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV21MLE1BQU90TyxHQUFJLFFBRWhELEtBQUtrRCxFQUFXb08sb0JBQXFCLENBQ2pDLE1BQU12VSxFQUFRK1EsRUFBTS9RLE1BQU00QixJQUFLb0IsSUFBTyxJQUMvQkEsS0FDQ0EsRUFBR0MsS0FBT2lTLEVBQU9qUyxHQUFLLENBQUVXLFFBQVNzUixFQUFPdFIsU0FBWSxDQUFDLEtBRTdELE1BQU8sQ0FDSG1OLE1BQU8sSUFBS0EsRUFBTy9RLFNBQ25Cb1YsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV3VQLGVBQWlCLENBQUUvSCxLQUFNeEgsRUFBV2dMLGVBQWdCcFIsVUFFekYsQ0FDQSxLQUFLbUcsRUFBVytRLGtCQUNaLE1BQU8sQ0FDSG5HLE1BQU8sSUFBS0EsRUFBT3JSLE9BQVFrRyxFQUFxQjdGLGtCQUFrQixHQUNsRXFWLFFBQVMsQ0FBQyxDQUFFeEgsS0FBTXhILEVBQVdpTCx5QkFBMEJqSyxTQUFTLEtBRXhFLEtBQUtqQixFQUFXa1AsVUFDWixNQUFPLENBQ0h0RSxNQUFPLElBQUtBLEVBQU9qUixNQUFPb1YsRUFBT3BWLE9BQ2pDc1YsUUFBUyxJQUVqQixLQUFLalAsRUFBV3FPLGFBQ1osTUFBTyxDQUNIekQsTUFBTyxJQUFLQSxFQUFPalIsTUFBT29WLEVBQU9wVixPQUNqQ3NWLFFBQVMsQ0FBQyxDQUFFeEgsS0FBTXhILEVBQVdvTyxhQUFjMVUsTUFBT29WLEVBQU9wVixTQUVqRSxLQUFLcUcsRUFBV3VPLHVCQUNaLE1BQU8sQ0FDSDNELFFBQ0FxRSxRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXK1EsMkJBRXJDLEtBQUtoUixFQUFXaVIsdUJBQ1osTUFBTyxDQUNIckcsTUFBTyxJQUFLQSxFQUFPbFIsU0FBVXFWLEVBQU9yVixVQUNwQ3VWLFFBQVMsSUFFakIsS0FBS2pQLEVBQVd3Tyx5QkFDWixNQUFPLENBQ0g1RCxRQUNBcUUsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV3VPLHlCQUEwQi9FLEtBQU1zRixFQUFPdEYsUUFFNUUsS0FBS3pKLEVBQVdrUixjQUNaLE1BQU8sQ0FDSHRHLE1BQU8sSUFBS0EsRUFBTy9QLGNBQWVrVSxFQUFPbFUsZUFDekNvVSxRQUFTLElBRWpCLEtBQUtqUCxFQUFXeU8sd0JBQXlCLENBQ3JDLE1BQU01VCxFQUFnQitQLEVBQU0vUCxjQUFjK0IsT0FBUXVVLEdBQU1BLEVBQUV6QyxPQUFTSyxFQUFPTCxNQUMxRSxNQUFPLENBQ0g5RCxNQUFPLElBQUtBLEVBQU8vUCxpQkFDbkJvVSxRQUFTLEdBRWpCLENBQ0EsS0FBS2pQLEVBQVc0Tyw0QkFDWixNQUFPLENBQ0hoRSxRQUNBcUUsUUFBUyxDQUNMLENBQUV4SCxLQUFNeEgsRUFBV21SLHNDQUF1QzNYLFFBQVNzVixFQUFPdFYsV0FHdEYsS0FBS3VHLEVBQVc4Tyw0QkFDWixNQUFPLENBQ0hsRSxRQUNBcUUsUUFBUyxDQUFDLENBQUV4SCxLQUFNeEgsRUFBV29SLGdDQUFpQzVYLFFBQVNzVixFQUFPdFYsV0FFdEYsS0FBS3VHLEVBQVdzUixjQUNaLE1BQU8sQ0FBRTFHLFFBQU9xRSxRQUFTLENBQUMsQ0FBRXhILEtBQU14SCxFQUFXZ1EsYUFBYzVOLE1BQU8wTSxFQUFPMU0sU0FDN0UsUUFDSSxNQUFPLENBQUV1SSxRQUFPcUUsUUFBUyxJQW9GckMsSUFBeUM2QixFQUFValgsQ0FsRm5ELENEeE55QzBYLENBQU9qUixLQUFLc0ssTUFBT21FLEdBQ3BEek8sS0FBS3NLLE1BQVFvRSxFQUNiMU8sS0FBS3FLLEtBQUs5SixPQUFPUCxLQUFLc0ssT0FDakJ0SyxLQUFLa1IsWUFBWXZDLEdBQVN3QyxNQUFNN04sUUFBUXZCLE1BQ2pELENBQ0EsaUJBQU1tUCxDQUFZdkMsR0FFZCxHQURrQkEsRUFBUXlDLEtBQU1DLEdBQU9qSCxFQUFnQmtILGNBQWNuWixJQUFJa1osRUFBR2xLLE9BQzdELENBQ1gsTUFBTXJCLFFBQVU5RixLQUFLa0wsd0JBQ3JCLElBQUtwRixFQUFFaEUsSUFBTWdFLEVBQUV5TCxlQUNYLE1BQ1IsQ0FDQSxJQUFLLE1BQU1GLEtBQU0xQyxFQUNiLE9BQVEwQyxFQUFHbEssTUFDUCxLQUFLeEgsRUFBV2dMLHFCQUNOM0ssS0FBS3dLLE1BQU1nSCxJQUFJalIsT0FBTzhRLEVBQUc5WCxRQUMvQixNQUNKLEtBQUtvRyxFQUFXaUwsK0JBQ041SyxLQUFLd0ssTUFBTWdILElBQUk5USxhQUFhMlEsRUFBRzFRLFVBQ3JDLE1BQ0osS0FBS2hCLEVBQVdrTCxvQkFDTjdLLEtBQUt3SyxNQUFNZ0gsSUFBSTlWLFNBQ3JCLE1BQ0osS0FBS2lFLEVBQVdtTCxZQUNOOUssS0FBS3dLLE1BQU1nSCxJQUFJNVEsTUFBTXlRLEVBQUc3VSxLQUM5QixNQUNKLEtBQUttRCxFQUFXcVAsa0JBQ054VSxFQUFpQlksSUFBSTRFLEtBQUtzSyxNQUFNblIsUUFBUyxDQUMzQ0ksTUFBT3lHLEtBQUtzSyxNQUFNL1EsTUFDbEJxQyxPQUFRLEVBQ1JwQyxZQUFhd0csS0FBS3NLLE1BQU05USxZQUN4QkMsYUFBY3VHLEtBQUtzSyxNQUFNN1EsYUFDekJDLGFBQWNzRyxLQUFLc0ssTUFBTTVRLGFBQ3pCQyxtQkFBb0JxRyxLQUFLc0ssTUFBTTNRLG1CQUMvQkMsZUFBZ0JvRyxLQUFLc0ssTUFBTTFRLGVBQzNCQyxnQkFBaUJtRyxLQUFLc0ssTUFBTXpRLGdCQUM1QkMsYUFBY2tHLEtBQUtzSyxNQUFNeFEsZUFFN0IsTUFDSixLQUFLNkYsRUFBV3VQLGNBQWUsQ0FDM0IsTUFBTXVDLFFBQWFqWCxFQUFpQlMsSUFBSStFLEtBQUtzSyxNQUFNblIsZUFDN0NxQixFQUFpQlksSUFBSTRFLEtBQUtzSyxNQUFNblIsUUFBUyxJQUN4Q3NZLEVBQ0hsWSxNQUFPeUcsS0FBS3NLLE1BQU0vUSxNQUNsQkMsWUFBYXdHLEtBQUtzSyxNQUFNOVEsWUFDeEJDLGFBQWN1RyxLQUFLc0ssTUFBTTdRLGFBQ3pCQyxhQUFjc0csS0FBS3NLLE1BQU01USxhQUN6QkMsbUJBQW9CcUcsS0FBS3NLLE1BQU0zUSxtQkFDL0JDLGVBQWdCb0csS0FBS3NLLE1BQU0xUSxlQUMzQkMsZ0JBQWlCbUcsS0FBS3NLLE1BQU16USxnQkFDNUJDLGFBQWNrRyxLQUFLc0ssTUFBTXhRLGVBRTdCLEtBQ0osQ0FDQSxLQUFLNkYsRUFBV2lQLFVBQVcsQ0FDdkIsTUFBTXZWLFFBQWN3QyxFQUFXWixNQUMvQitFLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXa1AsVUFBV3ZWLFVBQzVDLEtBQ0osQ0FDQSxLQUFLc0csRUFBV29PLG1CQUNObFMsRUFBV1QsSUFBSWlXLEVBQUdoWSxPQUN4QixNQUNKLEtBQUtzRyxFQUFXK1Esd0JBQXlCLENBQ3JDLE1BQU1nQixRQUFxQmxYLEVBQWlCSyxVQUN0Q3pCLEVBQVd1WSxPQUFPQyxLQUFLRixHQUM3QjFSLEtBQUtnTCxTQUFTLENBQ1Z4SyxLQUFNZCxFQUFXaVIsdUJBQ2pCdlgsYUFFSixLQUNKLENBQ0EsS0FBS3VHLEVBQVd1Tyx5QkFDWixJQUNJLE1BQU1oUyxRQUFjZ04sRUFBa0JtSSxFQUFHbEksS0FBTW5KLEtBQUtzSyxNQUFNblIsU0FDMUQ2RyxLQUFLZ0wsU0FBUyxDQUNWeEssS0FBTWQsRUFBV29QLGNBQ2pCNVMsTUFBTyxDQUNIM0MsTUFBTzJDLEVBQU0zQyxNQUNiQyxZQUFhMEMsRUFBTTFDLFlBQ25CQyxhQUFjeUMsRUFBTXpDLGFBQ3BCQyxhQUFjd0MsRUFBTXhDLGFBQ3BCQyxtQkFBb0J1QyxFQUFNdkMsbUJBQzFCQyxlQUFnQnNDLEVBQU10QyxlQUN0QkMsZ0JBQWlCcUMsRUFBTXJDLGdCQUN2QkMsYUFBY29DLEVBQU1wQyxlQUdoQyxDQUNBLE1BQU8rWCxHQUNILE1BQU05UCxFQUFROFAsRUFDUmpRLEVBQVUsQ0FDWndNLEtBQU1oTyxPQUFPQyxhQUNidUIsUUFBU0csRUFBTUgsUUFDZnVGLEtBQU0sU0FFVm5ILEtBQUtnTCxTQUFTLENBQ1Z4SyxLQUFNZCxFQUFXa1IsY0FDakJyVyxjQUFlLENBQUNxSCxJQUV4QixDQUNBLE1BRUosS0FBS2pDLEVBQVdtUixzQ0FBdUMsT0FDN0N0VyxFQUFpQmlCLE9BQU80VixFQUFHbFksU0FDakMsTUFBTXVZLFFBQXFCbFgsRUFBaUJLLFVBQ3RDekIsRUFBV3VZLE9BQU9DLEtBQUtGLEdBQzdCMVIsS0FBS2dMLFNBQVMsQ0FDVnhLLEtBQU1kLEVBQVdpUix1QkFDakJ2WCxhQUVKLE1BQU0wWSxRQUFXdFgsRUFBaUJTLElBQUkrRSxLQUFLc0ssTUFBTW5SLFNBQ2pENkcsS0FBS2dMLFNBQVMsQ0FDVnhLLEtBQU1kLEVBQVdvUCxjQUNqQjVTLE1BQU8sQ0FDSDNDLE1BQU91WSxFQUFHdlksTUFDVkMsWUFBYXNZLEVBQUd0WSxZQUNoQkMsYUFBY3FZLEVBQUdyWSxhQUNqQkMsYUFBY29ZLEVBQUdwWSxhQUNqQkMsbUJBQW9CbVksRUFBR25ZLG1CQUN2QkMsZUFBZ0JrWSxFQUFHbFksZUFDbkJDLGdCQUFpQmlZLEVBQUdqWSxnQkFDcEJDLGFBQWNnWSxFQUFHaFksZ0JBR3pCLEtBQ0osQ0FDQSxLQUFLNkYsRUFBV29SLGdDQUNaLElBQ0ksTUFBTTdVLFFBQWMxQixFQUFpQlMsSUFBSW9XLEVBQUdsWSxlQUN0QzhOLEVBQWtCL0ssRUFBT21WLEVBQUdsWSxRQUN0QyxDQUNBLE1BQU80SSxHQUNIL0IsS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVdzUixjQUFlalAsU0FDcEQsQ0FDQSxNQUVKLEtBQUtwQyxFQUFXbU0sMkJBQ045TCxLQUFLd0ssTUFBTWdILElBQUkzUSxlQUNyQixNQUNKLEtBQUtsQixFQUFXa00sUUFDWixVQUNVOVIsRUFBUXNYLEVBQUc1USxTQUNqQlQsS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVdrUSxtQkFDckMsQ0FDQSxNQUFPaUMsR0FDSDdSLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXbVEsZUFBZ0I5TixNQUFPOFAsR0FDNUQsQ0FDQSxNQUNKLEtBQUtsUyxFQUFXZ1EsYUFDWnJNLFFBQVF2QixNQUFNc1AsRUFBR3RQLE9BSWpDLENBQ0EsMkJBQU1tSixDQUFzQi9ILEdBQ3hCLE1BQU00TyxFQUFVL1IsS0FBS3NLLE1BQU1uUixRQUUzQixJQUR1QyxJQUF6QmdLLEdBQU1nSSxxQkFHSDVQLFVBRE15RSxLQUFLd0ssTUFBTWdILElBQUkxUSxRQUU5QixNQUFPLENBQUVnQixJQUFJLEVBQU15UCxnQkFBZ0IsR0FFM0MsTUFBTW5PLFFFL09QeEksaUJBRUgsYUFEbUJFLE9BQU91SSxLQUFLMk8sTUFBTSxDQUFFQyxRQUFRLEVBQU1DLGVBQWUsS0FDeEQsRUFDaEIsQ0Y0TzBCQyxHQUNsQixJQUFLL08sR0FBSzVHLElBQU0zRSxFQUFhdUwsRUFBSXBMLEtBRTdCLE9BREFnSSxLQUFLZ0wsU0FBUyxDQUFFeEssS0FBTWQsRUFBV21QLFdBQVk1VixPQUFRa0csSUFDOUMsQ0FBRTJDLElBQUksR0FFakIsTUFBTXNRLEVsQjlPUCxTQUFpQnBhLEVBQUtxYSxHQUFjLEdBQ3ZDLElBQ0ksTUFBTUMsRUFBSSxJQUFJcmEsSUFBSUQsR0FDbEIsT0FBT3FhLEVBQ0QsR0FBR0MsRUFBRUMsU0FBU0QsRUFBRUUsV0FBV0YsRUFBRUcsU0FBU0gsRUFBRUksT0FDeEMsR0FBR0osRUFBRUMsU0FBU0QsRUFBRUUsV0FBV0YsRUFBRUcsUUFDdkMsQ0FDQSxNQUNJLE9BQU96YSxDQUNYLENBQ0osQ2tCb091QixDQUFRb0wsRUFBSXBMLEtBQ3JCa0IsRUFBUWtLLEVBQUk1RyxHQUNsQndELEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXSCxVQUFXckcsUUFBT0MsUUFBU2laLElBQzVEcFMsS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVdtUCxXQUFZNVYsT0FBUWtHLElBRXJELElBQ0lhLEtBQUt3SyxNQUFNeEosS0FBSzJSLFlBQ3BCLENBQ0EsTUFFQSxDQUNBM1MsS0FBS3dLLFdHdlBONVAsZUFBNEIxQixTQUN6QjRCLE9BQU84WCxVQUNSQyxjQUFjLENBQ2ZwUSxPQUFRLENBQUV2SixTQUNWNFosTUFBTyxDQUFDLHFCQUVQM0IsTUFBTSxRQUdYLE1BQU1uUSxFQUFPbEcsT0FBT3VJLEtBQUswUCxRQUFRN1osRUFBTyxDQUFFb1EsS0FBTTFKLElBQzFDRSxFQUFNLElBQUlpQixFQUFRQyxHQUNsQndRLEVBQU0sSUFBSTNSLEVBQVNDLEdBQ25Ca1QsRUFBWSxHQUVsQixPQURBaFMsRUFBS1EsYUFBYUosWUFBWSxJQUFNNFIsRUFBVXhWLFFBQVN5VixHQUFPQSxNQUN2RCxDQUNIekIsTUFDQXhRLE9BQ0FsQixNQUNBMEIsYUFBZTBSLEdBQU9GLEVBQVU1VixLQUFLOFYsR0FDckNDLFFBQVMsS0FDTCxJQUNJblMsRUFBSzJSLFlBQ1QsQ0FDQSxNQUVBLEdBR1osQ0gyTjBCUyxDQUFhbGEsR0FDL0I4RyxLQUFLd0ssS0FBS2hKLGFBQWEsSUFBTXhCLEtBQUtnTCxTQUFTLENBQUV4SyxLQUFNZCxFQUFXK1EscUJBQzlEelEsS0FBS3dLLEtBQUt4SixLQUFLRyxVQUFVQyxZQUFZeEcsTUFBT3lHLElBQ3hDLEdBQUlBLEdBQUtiLE9BQVMsRUFBbUIsQ0FDakMsTUFBTXZCLFFkcE5mckUsZUFBOEJ6QixFQUFTa2EsR0FDMUMsTUFBTW5YLFFBQWMxQixFQUFpQlMsSUFBSTlCLEdBQ25DbWEsRUFBTzNKLE1BQU00SixLQUFLLElBQUlyYixJQUFJbWIsRUFBUWxZLElBQUtwQyxHQUFNQSxFQUFFeUMsU0FDaERMLElBQUt0QyxHQUFNd2EsRUFBUUcsS0FBTXphLEdBQU1BLEVBQUV5QyxRQUFVM0MsSUFDM0N5RCxPQUFPbVgsU0FDTnRYLEVBQWEsR0FDYnVYLEVBQVEsR0FDZCxJQUFLLE1BQU0zYSxLQUFLdWEsRUFBTSxDQUNsQixNQUFNaFksRUFBUVksRUFBTTNDLE1BQU1pYSxLQUFNalgsR0FBT0EsRUFBR3pELE9BQU9xTyxPQUFTcE8sRUFBRW9PLE1BQVE1SyxFQUFHekQsT0FBTzBDLFFBQVV6QyxFQUFFeUMsT0FDdEZGLEVBQ0FhLEVBQVdpQixLQUFLOUIsRUFBTWtCLElBR3RCa1gsRUFBTXRXLEtBQUssQ0FBRXRFLE9BQVFDLEdBRTdCLENBQ0EsTUFBTWtELEVBQVEsQ0FBQyxFQUtmLE9BSklFLEVBQVdDLFNBQ1hILEVBQU1FLFdBQWFBLEdBQ25CdVgsRUFBTXRYLFNBQ05ILEVBQU1RLE1BQVFpWCxHQUNYMVgsRUFBVzdDLEVBQVM4QyxFQUMvQixDYzhMZ0MwWCxDQUFlM1QsS0FBS3NLLE1BQU1uUixRQUFTa0ksRUFBSVosUUFBUTRTLFNBQy9EclQsS0FBS2dMLFNBQVMsQ0FDVnhLLEtBQU1kLEVBQVdvUCxjQUNqQjVTLE1BQU8sQ0FDSDNDLE1BQU8wRixFQUFFMUYsTUFDVEMsWUFBYXlGLEVBQUV6RixZQUNmQyxhQUFjd0YsRUFBRXhGLGFBQ2hCQyxhQUFjdUYsRUFBRXZGLGFBQ2hCQyxtQkFBb0JzRixFQUFFdEYsbUJBQ3RCQyxlQUFnQnFGLEVBQUVyRixlQUNsQkMsZ0JBQWlCb0YsRUFBRXBGLGdCQUNuQkMsYUFBY21GLEVBQUVuRixlQUc1QixNQUNTdUgsR0FBS2IsT0FBUyxFQUNuQlIsS0FBS2dMLFNBQVMsQ0FDVnhLLEtBQU1kLEVBQVdxUCxnQkFDakJ6VSxXQUFZK0csRUFBSVosUUFBUW5HLGFBR3ZCK0csR0FBS2IsT0FBUyxHQUNuQlIsS0FBS2dMLFNBQVMsQ0FDVnhLLEtBQU1kLEVBQVdnUSxrQkFDakJ4TCxZQUFhN0MsRUFBSVosWUFJN0IsTUFBTXFSLFFBQVd0WCxFQUFpQlMsSUFBSW1YLEdBZ0J0QyxPQWZBcFMsS0FBS2dMLFNBQVMsQ0FDVnhLLEtBQU1kLEVBQVdvUCxjQUNqQjVTLE1BQU8sQ0FDSDNDLE1BQU91WSxFQUFHdlksTUFDVkMsWUFBYXNZLEVBQUd0WSxZQUNoQkMsYUFBY3FZLEVBQUdyWSxhQUNqQkMsYUFBY29ZLEVBQUdwWSxhQUNqQkMsbUJBQW9CbVksRUFBR25ZLG1CQUN2QkMsZUFBZ0JrWSxFQUFHbFksZUFDbkJDLGdCQUFpQmlZLEVBQUdqWSxnQkFDcEJDLGFBQWNnWSxFQUFHaFksZ0JBR3pCa0csS0FBS2dMLFNBQVMsQ0FBRXhLLEtBQU1kLEVBQVdtUCxXQUFZNVYsT0FBUWtHLElBRTlDLENBQUUyQyxJQUFJLEVBQU15UCxpQkFETVEsR0FBV0EsSUFBWUssRUFFcEQsRUlsVEcsTUFBTXdCLEVBQVEsQ0FDakJDLFVBQVcsQ0FDUDdMLEVBQUcsd0lBQ0g4TCxRQUFTLGFBRWJDLGNBQWUsQ0FDWC9MLEVBQUcsaUhBQ0g4TCxRQUFTLGFBRWJFLFdBQVksQ0FDUmhNLEVBQUcsd0dBQ0g4TCxRQUFTLGFBRWJHLGVBQWdCLENBQ1pqTSxFQUFHLG1IQUNIOEwsUUFBUyxhQUViSSxRQUFTLENBQ0xsTSxFQUFHLGdKQUNIOEwsUUFBUyxhQUViL1IsTUFBTyxDQUNIaUcsRUFBRyxpSUFDSDhMLFFBQVMsYUFFYnZRLEtBQU0sQ0FDRnlFLEVBQUcsNExBQ0g4TCxRQUFTLGFBRWIzVyxRQUFTLENBQ0w2SyxFQUFHLGdOQUNIOEwsUUFBUyxhQUViclksT0FBUSxDQUNKdU0sRUFBRyw2TkFDSDhMLFFBQVMsYUFFYkssT0FBUSxDQUNKbk0sRUFBRywyTkFDSDhMLFFBQVMsYUFFYk0sTUFBTyxDQUNIcE0sRUFBRyxzTUFDSDhMLFFBQVMsY0FHVixTQUFTTyxFQUFRL0ssR0FDcEIsTUFBTSxFQUFFdEIsRUFBQyxRQUFFOEwsRUFBVSxhQUFnQkYsRUFBTXRLLEdBQzNDLE1BQU8sQ0FBRXRCLElBQUc4TCxVQUNoQixDQzVDQSxTQUFTUSxFQUFjdmIsRUFBR2lGLEdBQ3RCLE9BQUlqRixFQUFFMkQsUUFBVXNCLEVBQUV0QixNQUNQM0QsRUFBRTJELE1BQVFzQixFQUFFdEIsTUFDaEIzRCxFQUFFeUQsR0FBS3dCLEVBQUV4QixFQUNwQixDQUNPLE1BQU0rWCxFQUNUQyxJQUNBeEIsVUFBWSxDQUFDLEVBQ2J5QixJQUNBQyxVQUFZLGVBQ1pDLGdCQUFrQixJQUNsQkMsT0FBUyxLQUNUQyxnQkFBa0IsS0FDbEJDLGdCQUFrQixFQUNsQkMsY0FBZ0IsS0FDaEJDLGdCQUFrQixJQUFJOWMsSUFDdEIrYyxtQkFBcUIsSUFDckIsV0FBQWxWLENBQVl5VSxHQUNSeFUsS0FBS3dVLElBQU1BLEVBQ1gsRUFBS2xXLFNBQVNrVyxHQUNkeFUsS0FBS3lVLElBQU0sQ0FDUHhiLE9BQVErRyxLQUFLa1YsRUFBRSxXQUNmQyxVQUFXblYsS0FBS2tWLEVBQUUsa0JBQ2xCRSxXQUFZcFYsS0FBS2tWLEVBQUUsdUJBQ25CRyxZQUFhclYsS0FBS2tWLEVBQUUsd0JBQ3BCSSxTQUFVdFYsS0FBS2tWLEVBQUUsVUFDakJLLFdBQVl2VixLQUFLa1YsRUFBRSxZQUNuQk0sS0FBTXhWLEtBQUtrVixFQUFFLGdCQUNiTyxNQUFPelYsS0FBS2tWLEVBQUUsaUJBQ2RRLE1BQU8xVixLQUFLa1YsRUFBRSxpQkFDZFMscUJBQXNCM1YsS0FBS2tWLEVBQUUsMkJBQzdCVSxvQkFBcUI1VixLQUFLa1YsRUFBRSxvQkFDNUJXLGlCQUFrQjdWLEtBQUs4VixLQUFLLGdDQUM1QkMsa0JBQW1CL1YsS0FBSzhWLEtBQUssOEJBQzdCRSxZQUFhaFcsS0FBSzhWLEtBQUssY0FDdkJHLGlCQUFrQmpXLEtBQUtrVixFQUFFLHVCQUN6QmdCLGtCQUFtQmxXLEtBQUtrVixFQUFFLHdCQUMxQmlCLGtCQUFtQm5XLEtBQUtrVixFQUFFLHdCQUMxQmtCLG1CQUFvQnBXLEtBQUtrVixFQUFFLHlCQUMzQm1CLGVBQWdCclcsS0FBS2tWLEVBQUUscUJBQ3ZCb0IsZ0JBQWlCdFcsS0FBS2tWLEVBQUUsc0JBQ3hCcUIsa0JBQW1CdlcsS0FBSzhWLEtBQUssMkJBQzdCVSxnQkFBaUJ4VyxLQUFLa1YsRUFBRSxzQkFDeEJ1QixjQUFlelcsS0FBS2tWLEVBQUUsb0JBQ3RCd0IsaUJBQWtCMVcsS0FBS2tWLEVBQUUsdUJBQ3pCeUIsdUJBQXdCM1csS0FBS2tWLEVBQUUsOEJBQy9CMEIsbUJBQW9CNVcsS0FBS2tWLEVBQUUseUJBQzNCMkIsa0JBQW1CN1csS0FBS2tWLEVBQUUsd0JBQzFCNEIscUJBQXNCOVcsS0FBSzhWLEtBQUssOEJBQ2hDaUIsbUJBQW9CL1csS0FBS2tWLEVBQUUseUJBQzNCOEIsaUJBQWtCaFgsS0FBS2tWLEVBQUUsdUJBQ3pCK0IsZUFBZ0JqWCxLQUFLa1YsRUFBRSxxQkFDdkJnQyxlQUFnQmxYLEtBQUtrVixFQUFFLHFCQUN2QmlDLG1CQUFvQm5YLEtBQUtrVixFQUFFLDBCQUMzQmtDLG9CQUFxQnBYLEtBQUtrVixFQUFFLDBCQUM1Qm1DLGlCQUFrQnJYLEtBQUtrVixFQUFFLHVCQUN6Qm9DLGlCQUFrQnRYLEtBQUtrVixFQUFFLHVCQUN6QnFDLG1CQUFvQnZYLEtBQUtrVixFQUFFLDBCQUMzQnNDLHFCQUFzQnhYLEtBQUtrVixFQUFFLDRCQUM3QnVDLG9CQUFxQnpYLEtBQUtrVixFQUFFLDJCQUM1QndDLHNCQUF1QjFYLEtBQUtrVixFQUFFLDJEQUM5QnlDLGFBQWMzWCxLQUFLa1YsRUFBRSxrQkFDckIwQyxjQUFlNVgsS0FBS2tWLEVBQUUsbUJBQ3RCMkMsbUJBQW9CN1gsS0FBS2tWLEVBQUUsc0JBQzNCNEMsY0FBZTlYLEtBQUtrVixFQUFFLG9CQUN0QjZDLGFBQWMvWCxLQUFLa1YsRUFBRSxtQkFDckI4QyxlQUFnQmhZLEtBQUtrVixFQUFFLHFCQUN2QitDLGdCQUFpQmpZLEtBQUtrVixFQUFFLHNCQUN4QmdELFVBQVdsWSxLQUFLa1YsRUFBRSxlQUNsQmlELFdBQVluWSxLQUFLa1YsRUFBRSxnQkFDbkJrRCxVQUFXcFksS0FBS2tWLEVBQUUsZUFDbEJtRCxXQUFZclksS0FBS2tWLEVBQUUsZ0JBQ25Cb0QsWUFBYXRZLEtBQUtrVixFQUFFLGtCQUV4QmxWLEtBQUt5VSxJQUFJVSxVQUFVb0QsaUJBQWlCLFFBQVMsSUFBTXZZLEtBQUt3WSxLQUFLdk8sRUFBWXlCLG1CQUFlblEsSUFDeEZ5RSxLQUFLeVUsSUFBSWEsU0FBU2lELGlCQUFpQixRQUFTLElBQU12WSxLQUFLd1ksS0FBS3ZPLEVBQVkwQixXQUFPcFEsSUFDL0V5RSxLQUFLeVUsSUFBSWMsV0FBV2dELGlCQUFpQixRQUFTLElBQU12WSxLQUFLd1ksS0FBS3ZPLEVBQVk0QixhQUFTdFEsSUFFbkZ5RSxLQUFLeVUsSUFBSWtCLHFCQUFxQjRDLGlCQUFpQixRQUFTLEtBQ3BEdlksS0FBS3dZLEtBQUt2TyxFQUFZMkMsMEJBQXNCclIsS0FFaER5RSxLQUFLeVUsSUFBSW9CLGlCQUFpQnJZLFFBQVNzSSxHQUFNQSxFQUFFeVMsaUJBQWlCLFNBQVUsS0FDbEV2WSxLQUFLeVksMEJBQ0x6WSxLQUFLd1ksS0FBS3ZPLEVBQVk0QyxzQkFBdUIsQ0FBRTdTLE9BQVFnRyxLQUFLMFksZ0NBRWhFMVksS0FBS3lVLElBQUlzQixrQkFBa0J2WSxRQUFTc0ksR0FBTUEsRUFBRXlTLGlCQUFpQixTQUFVLEtBQ25FdlksS0FBS3dZLEtBQUt2TyxFQUFZOEMsb0JBQXFCLENBQUU5UyxLQUFNK0YsS0FBSzJZLDhCQUU1RDNZLEtBQUs0WSxTQUFTNVksS0FBS3lVLElBQUl3QixpQkFBa0JqVyxLQUFLeVUsSUFBSXlCLGtCQUFvQnJkLEdBQU1tSCxLQUFLd1ksS0FBS3ZPLEVBQVlnRCx1QkFBd0IsQ0FBRS9TLFFBQVNyQixLQUNySW1ILEtBQUs0WSxTQUFTNVksS0FBS3lVLElBQUkwQixrQkFBbUJuVyxLQUFLeVUsSUFBSTJCLG1CQUFxQnZkLEdBQU1tSCxLQUFLd1ksS0FBS3ZPLEVBQVlrRCxxQkFBc0IsQ0FBRWhULE1BQU90QixLQUVuSW1ILEtBQUs0WSxTQUFTNVksS0FBS3lVLElBQUk0QixlQUFnQnJXLEtBQUt5VSxJQUFJNkIsaUJBQ2hELE1BQU11QyxFQUFXLEtBQ2IsTUFBTWhnQixFQUFJMFcsT0FBT3ZQLEtBQUt5VSxJQUFJNkIsZ0JBQWdCOWEsT0FDdEMrVCxPQUFPdUosU0FBU2pnQixJQUNoQm1ILEtBQUt3WSxLQUFLdk8sRUFBWThCLGtCQUFtQixDQUFFblAsS0FBTS9ELEtBRXpEbUgsS0FBS3lVLElBQUk0QixlQUFla0MsaUJBQWlCLFNBQVVNLEdBQ25EN1ksS0FBS3lVLElBQUk2QixnQkFBZ0JpQyxpQkFBaUIsU0FBVU0sR0FDcEQ3WSxLQUFLeVUsSUFBSThCLGtCQUFrQi9ZLFFBQVN1YixJQUNoQ0EsRUFBSVIsaUJBQWlCLFFBQVMsS0FDMUIsTUFBTXpnQixFQUFNaWhCLEVBQUlDLFFBQVFDLFdBQWEsR0FDL0JwYyxFdEI5RkUsaUJBREloRSxFc0IrRmNmLEl0QjlGTlEsRUFBWXdMLFNBQVNqTCxHc0I4RlJmLEVBQU0sT3RCL0ZoRCxJQUFxQmUsRXNCZ0dabUgsS0FBS3dZLEtBQUt2TyxFQUFZZ0MsbUJBQW9CLENBQUVwUCxjQUdwRG1ELEtBQUt5VSxJQUFJaUMsaUJBQWlCNkIsaUJBQWlCLFNBQVUsS0FDakQsTUFBTTFmLEVBQUltSCxLQUFLeVUsSUFBSWlDLGlCQUFpQmxiLE9BQVMsS0FDdkNzQixFdEJqR1gsU0FBcUJqRSxHQUN4QixNQUFvQixpQkFBTkEsR0FBa0JOLEVBQVd1TCxTQUFTakwsRUFDeEQsQ3NCK0YwQnFnQixDQUFZcmdCLEdBQUtBLEVBQUksU0FDbkNtSCxLQUFLd1ksS0FBS3ZPLEVBQVlrQyxtQkFBb0IsQ0FBRXJQLFlBRWhEa0QsS0FBS3lVLElBQUlrQyx1QkFBdUI0QixpQkFBaUIsU0FBVSxLQUN2RCxNQUFNMWYsRUFBSW1ILEtBQUt5VSxJQUFJa0MsdUJBQXVCbmIsT0FBUyxLQUM3Q3VCLEV0QjFFWCxTQUF1QmxFLEdBQzFCLE1BQW9CLGlCQUFOQSxHQUFrQkYsRUFBYW1MLFNBQVNqTCxFQUMxRCxDc0J3RWdDc2dCLENBQWN0Z0IsR0FBS0EsRUFBSSxVQUMzQ21ILEtBQUt3WSxLQUFLdk8sRUFBWW9DLDBCQUEyQixDQUFFdFAsa0JBRXZEaUQsS0FBS3lVLElBQUltQyxtQkFBbUIyQixpQkFBaUIsU0FBVSxLQUNuRCxNQUFNdmIsRUFBZ0QsU0FBdENnRCxLQUFLeVUsSUFBSW1DLG1CQUFtQnBiLE1BQzVDd0UsS0FBS3dZLEtBQUt2TyxFQUFZc0MscUJBQXNCLENBQUV2UCxjQUVsRGdELEtBQUt5VSxJQUFJb0Msa0JBQWtCMEIsaUJBQWlCLFFBQVMsS0FDakR2WSxLQUFLd1ksS0FBS3ZPLEVBQVl3QyxrQkFBY2xSLEtBRXhDeUUsS0FBS3lVLElBQUlxQyxxQkFBcUJ0WixRQUFTdWIsSUFDbkNBLEVBQUlSLGlCQUFpQixRQUFTLEtBQzFCLE1BQU16Z0IsRUFBTWloQixFQUFJQyxRQUFRSSxjQUFnQixHQUNsQ25jLEV0QjVGRSxpQkFET3BFLEVzQjZGaUJmLEl0QjVGWlUsRUFBcUJzTCxTQUFTakwsR3NCNEZYZixFQUFNLG1CdEI3RnRELElBQXdCZSxFc0I4RmZtSCxLQUFLd1ksS0FBS3ZPLEVBQVl5QyxzQkFBdUIsQ0FBRXpQLGlCQUd2RCtDLEtBQUt5VSxJQUFJdUMsaUJBQWlCdUIsaUJBQWlCLFNBQVUsS0FDakQsTUFBTS9jLEVBQVF3RSxLQUFLeVUsSUFBSXVDLGlCQUFpQnhiLE9BQVMvQyxFQUMzQ3lFLEVBQVExQixJQUFVL0MsRUFBWUMsRUFBa0I4QyxFQUNsRDBCLElBQVU4QyxLQUFLMFUsV0FDZjFVLEtBQUt5VSxJQUFJd0MsZUFBZW9DLFVBQVU1ZCxPQUFPLFVBRTdDdUUsS0FBS3dZLEtBQUt2TyxFQUFZd0QsVUFBVyxDQUFFdlEsWUFFdkM4QyxLQUFLeVUsSUFBSTBDLG1CQUFtQm9CLGlCQUFpQixRQUFTLEtBQ2xEdlksS0FBS3lVLElBQUl3QyxlQUFlb0MsVUFBVXhWLElBQUksWUFFMUM3RCxLQUFLeVUsSUFBSTJDLG9CQUFvQm1CLGlCQUFpQixRQUFTLEtBQ25ELE1BQU0vYyxFQUFRd0UsS0FBS3lVLElBQUl5QyxlQUFlMWIsT0FBUy9DLEVBQ3pDeUUsRUFBUTFCLElBQVUvQyxHQUFhK0MsSUFBVXdFLEtBQUswVSxVQUFZaGMsRUFBa0I4QyxFQUNsRndFLEtBQUt3WSxLQUFLdk8sRUFBWXdELFVBQVcsQ0FBRXZRLFVBQ25DOEMsS0FBS3lVLElBQUl3QyxlQUFlb0MsVUFBVXhWLElBQUksVUFDdEM3RCxLQUFLeVUsSUFBSXlDLGVBQWUxYixNQUFRLEtBRXBDd0UsS0FBS3lVLElBQUkrQyxxQkFBcUJlLGlCQUFpQixRQUFTLEtBQ3BEdlksS0FBS3lVLElBQUk0QyxpQkFBaUJnQyxVQUFVeFYsSUFBSSxZQUU1QzdELEtBQUt5VSxJQUFJZ0Qsb0JBQW9CYyxpQkFBaUIsUUFBUyxLQUNuRCxNQUFNcGIsRUFBVTZDLEtBQUt5VSxJQUFJNkMsaUJBQWlCOWIsTUFDcENnQixFQUFLK1MsT0FBT3ZQLEtBQUt5VSxJQUFJOEMsbUJBQW1CL2IsT0FDOUN3RSxLQUFLd1ksS0FBS3ZPLEVBQVk0RCxtQkFBb0IsQ0FBRXJSLEtBQUlXLFlBQ2hENkMsS0FBS3lVLElBQUk0QyxpQkFBaUJnQyxVQUFVeFYsSUFBSSxZQUU1QzdELEtBQUt5VSxJQUFJbUQsY0FBY1csaUJBQWlCLFFBQVMsS0FDN0N2WSxLQUFLeVUsSUFBSWtELGFBQWEwQixVQUFVNWQsT0FBTyxVQUN2Q3VFLEtBQUt3WSxLQUFLdk8sRUFBWStELHdCQUFvQnpTLEtBRTlDeUUsS0FBS3lVLElBQUlvRCxtQkFBbUJVLGlCQUFpQixRQUFTLEtBQ2xEdlksS0FBS3lVLElBQUlrRCxhQUFhMEIsVUFBVXhWLElBQUksWUFFeEM3RCxLQUFLeVUsSUFBSXFELGNBQWNTLGlCQUFpQixRQUFTLEtBQzdDdlksS0FBS3NaLFdBQVcsU0FDaEJ0WixLQUFLd1ksS0FBS3ZPLEVBQVk4RCxhQUFjLENBQUUxVSxNQUFPLFlBRWpEMkcsS0FBS3lVLElBQUlzRCxhQUFhUSxpQkFBaUIsUUFBUyxLQUM1Q3ZZLEtBQUtzWixXQUFXLFFBQ2hCdFosS0FBS3dZLEtBQUt2TyxFQUFZOEQsYUFBYyxDQUFFMVUsTUFBTyxXQUVqRDJHLEtBQUt5VSxJQUFJdUQsZUFBZU8saUJBQWlCLFFBQVMsS0FDOUN2WSxLQUFLc1osV0FBVyxVQUNoQnRaLEtBQUt3WSxLQUFLdk8sRUFBWThELGFBQWMsQ0FBRTFVLE1BQU8sYUFFakQyRyxLQUFLeVUsSUFBSXlELFVBQVVLLGlCQUFpQixRQUFTLEtBRXpDLElBQUt2WSxLQUFLeVUsSUFBSXdELGdCQUFnQm5GLE9BQW1ELElBQTFDOVMsS0FBS3lVLElBQUl3RCxnQkFBZ0JuRixNQUFNMVcsT0FFbEUsWUFEQTRELEtBQUt5VSxJQUFJd0QsZ0JBQWdCc0IsUUFHN0IsTUFBTXBRLEVBQU9uSixLQUFLeVUsSUFBSXdELGdCQUFnQm5GLE1BQU0sR0FDNUM5UyxLQUFLd1ksS0FBS3ZPLEVBQVlpRSx5QkFBMEIsQ0FBRS9FLFdBRXREbkosS0FBS3lZLDBCQUNMelksS0FBS3lVLElBQUlpRCxzQkFBc0JhLGlCQUFpQixTQUFXMUcsSUFDdkQsTUFBTTJILEVBQVczSCxFQUFFcFAsT0FBT2dYLFFBQzFCelosS0FBS3dZLEtBQUt2TyxFQUFZeUQsdUJBQXdCLENBQUU4QyxTQUFVZ0osTUFFOUR4WixLQUFLeVUsSUFBSWUsS0FBSytDLGlCQUFpQixlQUFnQixJQUFNdlksS0FBSzBaLGtCQUMxRDFaLEtBQUt5VSxJQUFJZSxLQUFLK0MsaUJBQWlCLGVBQWdCLElBQU12WSxLQUFLMlosb0JBQzFEbkYsRUFBSStELGlCQUFpQixlQUFnQixLQUNqQ3ZZLEtBQUswWixpQkFDTDFaLEtBQUt3WSxLQUFLdk8sRUFBWTJELG9CQUFnQnJTLElBRTlDLENBQ0EsRUFBQWtRLENBQUdqTCxFQUFNb1osSUFDUTVaLEtBQUtnVCxVQUFVeFMsS0FBVSxJQUNsQ3BELEtBQUt3YyxFQUNiLENBQ0EsSUFBQXBCLENBQUtoWSxFQUFNcVIsR0FDUCxNQUFNZ0ksRUFBTTdaLEtBQUtnVCxVQUFVeFMsR0FDM0JxWixHQUFLcmMsUUFBU3NjLEdBQU1BLEVBQUVqSSxHQUMxQixDQUNBLE1BQUF0UixDQUFPK0osR0FDSHRLLEtBQUsrWixtQkFBbUJ6UCxFQUFNL1AsZUFDOUJ5RixLQUFLc1osV0FBV2hQLEVBQU1qUixPQUN0QjJHLEtBQUtnYSxXQUFXMVAsRUFBTWxSLFVBQ3RCNEcsS0FBS2lhLGFBQWEzUCxFQUFNclIsUUFDeEIrRyxLQUFLa2EsYUFBYTVQLEVBQU1oUixrQkFDeEIwRyxLQUFLbWEsV0FBVzdQLEVBQU0vUSxNQUFPK1EsRUFBTWpRLFlBQWFpUSxFQUFNaFEsWUFDdEQwRixLQUFLb2EsbUJBQW1CcGEsS0FBS3lVLElBQUlvQixpQkFBa0J2TCxFQUFNdlEsUUFBUUMsUUFDakVnRyxLQUFLb2EsbUJBQW1CcGEsS0FBS3lVLElBQUlzQixrQkFBbUJ6TCxFQUFNdlEsUUFBUUUsTUFDbEUrRixLQUFLeVUsSUFBSXlCLGtCQUFrQjFhLE1BQVEwSCxPQUFPb0gsRUFBTXZRLFFBQVFHLFNBQ3hEOEYsS0FBS3lVLElBQUl3QixpQkFBaUJ6YSxNQUFRMEgsT0FBT29ILEVBQU12USxRQUFRRyxTQUN2RDhGLEtBQUt5VSxJQUFJMkIsbUJBQW1CNWEsTUFBUTBILE9BQU9vSCxFQUFNdlEsUUFBUUksT0FDekQ2RixLQUFLeVUsSUFBSTBCLGtCQUFrQjNhLE1BQVEwSCxPQUFPb0gsRUFBTXZRLFFBQVFJLE9BQ3hENkYsS0FBS3lZLHdCQUF3Qm5PLEVBQU12USxRQUFRQyxRQUMzQ2dHLEtBQUtxYSw0QkFBNEIvUCxFQUFNdlEsUUFBUUssZUFDL0M0RixLQUFLeVUsSUFBSTZCLGdCQUFnQjlhLE1BQVEwSCxPQUFPb0gsRUFBTTlRLGFBQzlDd0csS0FBS3lVLElBQUk0QixlQUFlN2EsTUFBUTBILE9BQU9vSCxFQUFNOVEsYUFDN0N3RyxLQUFLc2Esa0JBQWtCaFEsRUFBTTdRLGNBQzdCdUcsS0FBS3lVLElBQUlpQyxpQkFBaUJsYixNQUFROE8sRUFBTTVRLGFBQ3hDc0csS0FBS3lVLElBQUlrQyx1QkFBdUJuYixNQUFROE8sRUFBTTNRLG9CQUFzQixVQUNwRXFHLEtBQUt5VSxJQUFJbUMsbUJBQW1CcGIsTUFBUTBILE9BQU9vSCxFQUFNMVEsZ0JBQWtCLFFBQ25Fb0csS0FBS3VhLG9CQUFvQmpRLEVBQU16USxpQkFDL0JtRyxLQUFLd2Esd0JBQXdCeGEsS0FBS3lhLGtCQUFrQm5RLEVBQU0vUSxPQUFRK1EsRUFBTXhRLGFBQzVFLENBQ0EsWUFBQW1nQixDQUFhNWUsR0FDVCxNQUFNcWYsRUFBUWpiLEVBQW9CcEUsR0FDNUJxRCxFQUFLc0IsS0FBS3lVLElBQUl4YixPQUNwQnlGLEVBQUdpYyxVQUFZLEdBQ2ZqYyxFQUFHaWMsVUFBWSxrQkFBa0JELElBQ2pDLE1BQU1FLEVBQU01YSxLQUFLd1UsSUFBSXFHLGNBQWMsUUFDbkNELEVBQUl2QixVQUFVeFYsSUFBSSxzQkFDbEIsTUFBTXlELEVBQU90SCxLQUFLd1UsSUFBSXFHLGNBQWMsUUFDcEN2VCxFQUFLMUksWWpCL05OLFNBQTBCdkQsR0FDN0IsTUFBTXlmLEVBQVMxYixFQUFlL0QsR0FDOUIsT0FBTyxFQUFLSixJQUFJNmYsSUFBV0EsQ0FDL0IsQ2lCNE4yQkMsQ0FBaUIxZixHQUNwQ3FELEVBQUdzYyxnQkFBZ0JKLEVBQUt0VCxHQUN4QnRILEtBQUtpYixvQkFBb0I1ZixFQUM3QixDQUNBLFlBQUE2ZSxDQUFhdlosR0FDVCxNQUFNdWEsRUFBT2xiLEtBQUt5VSxJQUFJVyxXQUN0QjhGLEVBQUtQLFVBQVksR0FDakJPLEVBQUs3QixVQUFVeFYsSUFBSSxxQkFBc0JsRCxFQUFVLGdCQUFrQixnQkFDckVYLEtBQUt5VSxJQUFJWSxZQUFZelcsWUFBYyxFQUFLM0QsSUFBSTBGLEVBQVUsWUFBYyxhQUN4RSxDQUNBLFVBQUF3WixDQUFXNWdCLEVBQU9jLEVBQWFDLEdBQzNCMEYsS0FBS3lVLElBQUlpQixNQUFNOVcsWUFBY3NFLE9BQU8zSixFQUFNNkMsUUFDMUMsTUFBTStlLEVBQThCLElBQWpCNWhCLEVBQU02QyxRQUF1QjdDLEVBQU1zUSxNQUFPdE4sR0FBT2xDLEVBQVl5SixTQUFTdkgsRUFBR0MsS0FFNUYsR0FEQXdELEtBQUt5VSxJQUFJaUQsc0JBQXNCK0IsUUFBVTBCLEdBQ3BDNWhCLEVBQU02QyxPQUdQLE9BRkE0RCxLQUFLeVUsSUFBSWdCLE1BQU00RCxVQUFVNWQsT0FBTyxlQUNoQ3VFLEtBQUt5VSxJQUFJZSxLQUFLd0Ysa0JBR2xCaGIsS0FBS3lVLElBQUlnQixNQUFNNEQsVUFBVXhWLElBQUksVUFDN0IsTUFBTXVYLEVBQVNwYixLQUFLcWIsYUFBYTloQixHQUMzQitoQixFQUFZM1IsTUFBTTRKLEtBQUs2SCxFQUFPeEosUUFBUTdULEtBQUssQ0FBQ2hGLEVBQUdpRixJQUM3Q2pGLElBQU1OLEdBQ0UsRUFDUnVGLElBQU12RixFQUNDLEVBQ0pNLEVBQUV3aUIsY0FBY3ZkLElBRXJCd2QsRUFBT3hiLEtBQUt3VSxJQUFJaUgseUJBQ3RCLElBQUssTUFBTUMsS0FBUUosRUFBVyxDQUMxQixNQUFNSyxFQUFVM2IsS0FBSzRiLG1CQUFtQkYsRUFBTU4sRUFBT25nQixJQUFJeWdCLEdBQU9yaEIsRUFBYUMsR0FDN0VraEIsRUFBS0ssWUFBWUYsRUFDckIsQ0FDQTNiLEtBQUt5VSxJQUFJZSxLQUFLd0YsZ0JBQWdCUSxFQUNsQyxDQUNBLGtCQUFBSSxDQUFtQkYsRUFBTUksRUFBUXpoQixFQUFhQyxHQUMxQyxNQUFNeWhCLEVBQWMvYixLQUFLZ1YsZ0JBQWdCN2MsSUFBSXVqQixHQUN2Q0MsRUFBVTNiLEtBQUt0QixHQUFHLFVBQVcsdUJBRTdCc2QsRUFBU2hjLEtBQUt0QixHQUFHLE1BQU8sc0JBRXhCdWQsRUFBZWpjLEtBQUt0QixHQUFHLE1BQU8sa0JBQzlCd2QsRUFBV2xjLEtBQUt0QixHQUFHLFFBQVMsdUNBQ2xDd2QsRUFBUzFiLEtBQU8sV0FDaEIwYixFQUFTNVMsS0FBTyxjQUNoQjRTLEVBQVMxZ0IsTUFBUWtnQixJQUFTampCLEVBQVksRUFBS3dDLElBQUksbUJBQXFCeWdCLEVBQ3BFUSxFQUFTekMsUUFBVXFDLEVBQU9qUyxNQUFPdE4sR0FBT2xDLEVBQVl5SixTQUFTdkgsRUFBR0MsS0FDaEUwZixFQUFTM0QsaUJBQWlCLFNBQVcxRyxJQUNqQyxNQUFNMkgsRUFBVzNILEVBQUVwUCxPQUFPZ1gsUUFDMUJ6WixLQUFLd1ksS0FBS3ZPLEVBQVl5RCx1QkFBd0IsQ0FDMUN4USxNQUFPd2UsSUFBU2pqQixFQUFZQyxFQUFrQmdqQixFQUM5Q3hMLFFBQVNzSixNQUdqQnlDLEVBQWFFLE9BQU9ELEdBQ3BCLE1BQU01VixFQUFRdEcsS0FBS3RCLEdBQUcsT0FBUSx1QkFBd0JnZCxJQUFTampCLEVBQVksRUFBS3dDLElBQUksbUJBQXFCeWdCLEdBQ25HVSxFQUFPcGMsS0FBS3RCLEdBQUcsTUFBTyx1QkFDNUIwZCxFQUFLRCxPQUFPRixFQUFjM1YsR0FDMUIsTUFBTW9QLEVBQVExVixLQUFLdEIsR0FBRyxPQUFRLHVCQUF3QndFLE9BQU80WSxFQUFPMWYsU0FDOUQrWSxFQUFZblYsS0FBS3RCLEdBQUcsU0FBVSx5QkFDcEN5VyxFQUFVM1UsS0FBTyxTQUNqQjJVLEVBQVVqVyxhQUFhLGdCQUFpQmdFLFFBQVE2WSxJQUNoRCxNQUFNLEVBQUUvVCxFQUFDLFFBQUU4TCxHQUEwQk8sRUFBZDBILEVBQXNCLGFBQXdCLGFBQy9EM0csRUFBYXBWLEtBQUtxYyxjQUFjclUsRUFBRyxDQUFFMlMsVUFBVyxVQUFXN0csWUFDM0R3SSxFQUFhbEgsRUFBV21ILGNBQWMsUUFDNUNwSCxFQUFVZ0gsT0FBTy9HLEdBQ2pCNEcsRUFBT0csT0FBT0MsRUFBTTFHLEVBQU9QLEdBRTNCLE1BQU1xSCxFQUFLeGMsS0FBS3RCLEdBQUcsS0FBTSxvQkFDckJxZCxHQUNBUyxFQUFHbkQsVUFBVXhWLElBQUksVUFDckI3RCxLQUFLeWMsb0JBQW9CRCxHQUN6QixJQUFLLE1BQU1qZ0IsS0FBTXVmLEVBQU8vZCxLQUFLdVcsR0FBZ0IsQ0FDekMsTUFBTW9JLEVBQWdCcmlCLEVBQVl5SixTQUFTdkgsRUFBR0MsSUFDOUNnZ0IsRUFBR1gsWUFBWTdiLEtBQUsyYyxXQUFXcGdCLEVBQUltZ0IsRUFBZXBpQixHQUN0RCxDQWlCQSxPQWhCQTZhLEVBQVVvRCxpQkFBaUIsUUFBUyxLQUNMdlksS0FBS2dWLGdCQUFnQjdjLElBQUl1akIsSUFFaEQxYixLQUFLZ1YsZ0JBQWdCelQsT0FBT21hLEdBQzVCYyxFQUFHbkQsVUFBVTVkLE9BQU8sVUFDcEI2Z0IsRUFBV3BkLGFBQWEsSUFBS21WLEVBQVEsYUFBYXJNLEdBQ2xEbU4sRUFBVWpXLGFBQWEsZ0JBQWlCLFVBR3hDYyxLQUFLZ1YsZ0JBQWdCblIsSUFBSTZYLEdBQ3pCYyxFQUFHbkQsVUFBVXhWLElBQUksVUFDakJ5WSxFQUFXcGQsYUFBYSxJQUFLbVYsRUFBUSxjQUFjck0sR0FDbkRtTixFQUFValcsYUFBYSxnQkFBaUIsWUFHaER5YyxFQUFRUSxPQUFPSCxFQUFRUSxHQUNoQmIsQ0FDWCxDQUNBLFVBQUFnQixDQUFXcGdCLEVBQUltZ0IsRUFBZXBpQixHQUMxQixNQUFNc2lCLEVBQVl0aUIsRUFBV3dKLFNBQVN2SCxFQUFHQyxJQUNuQ3FnQixFQUFTLGNBQ1RDLEVBQUs5YyxLQUFLdEIsR0FBRyxLQUFNa2UsRUFBWSxTQUFTQyxzQkFBNkJBLEdBQzNFQyxFQUFHOUQsUUFBUXhjLEdBQUswRyxPQUFPM0csRUFBR0MsSUFDMUJzZ0IsRUFBR0MsV0FBWSxFQUVmRCxFQUFHdkUsaUJBQWlCLFlBQWMxRyxJQUM5QjdSLEtBQUs0VSxPQUFTa0ksRUFDZDljLEtBQUs2VSxnQkFBa0JpSSxFQUFHRSxjQUMxQmhkLEtBQUs4VSxlQUFpQm5MLE1BQU1zVCxVQUFVQyxRQUFRQyxLQUFLTCxFQUFHRSxlQUFlSSxVQUFZLEdBQUlOLEdBQ2pGakwsRUFBRXdMLGVBQ0Z4TCxFQUFFd0wsYUFBYUMsY0FBZ0IsUUFDbkNSLEVBQUd6RCxVQUFVeFYsSUFBSSxnQkFFckJpWixFQUFHdkUsaUJBQWlCLFVBQVcsS0FDM0IsSUFBS3ZZLEtBQUs0VSxPQUNOLE9BQ0osTUFBTTJJLEVBQVN2ZCxLQUFLNFUsT0FBT29JLGNBQ3JCUSxFQUFXRCxFQUFTNVQsTUFBTXNULFVBQVVDLFFBQVFDLEtBQUtJLEVBQU9ILFNBQVVwZCxLQUFLNFUsU0FBVyxFQUN4RjVVLEtBQUs0VSxPQUFPeUUsVUFBVTVkLE9BQU8sY0FDN0IsTUFBTTZSLEVBQVN0TixLQUFLNFUsT0FBT29FLFFBQVF4YyxJQUFNLEdBQ3pDd0QsS0FBSzRVLE9BQVMsS0FDVnRILEdBQVV0TixLQUFLOFUsZ0JBQWtCLEdBQUswSSxHQUFZLEdBQUtBLElBQWF4ZCxLQUFLOFUsZ0JBQ3pFOVUsS0FBS3dZLEtBQUt2TyxFQUFZb0QsY0FBZSxDQUNqQ0MsT0FBUWlDLE9BQU9qQyxHQUNmQyxVQUFXdk4sS0FBSzhVLGVBQ2hCdEgsUUFBU2dRLElBR2pCeGQsS0FBSzhVLGdCQUFrQixFQUN2QjlVLEtBQUs2VSxnQkFBa0IsT0FHM0IsTUFBTW9ILEVBQWVqYyxLQUFLdEIsR0FBRyxNQUFPLGtCQUM5QitlLEVBQWdCYixFQUNoQixvQ0FDQSxzQ0FDQVYsRUFBV2xjLEtBQUt0QixHQUFHLFFBQVMrZSxHQUNsQ3ZCLEVBQVMxYixLQUFPLFdBQ2hCMGIsRUFBUzVTLEtBQU8sY0FDaEI0UyxFQUFTMWdCLE1BQVEwSCxPQUFPM0csRUFBR0MsSUFDM0IwZixFQUFTekMsUUFBVWlELEVBQ25CUixFQUFTM0QsaUJBQWlCLFNBQVcxRyxJQUNqQyxNQUFNMkgsRUFBVzNILEVBQUVwUCxPQUFPZ1gsUUFDMUJ6WixLQUFLd1ksS0FBS3ZPLEVBQVl5RCx1QkFBd0IsQ0FBRWxSLEdBQUlELEVBQUdDLEdBQUkwVCxRQUFTc0osTUFFeEV5QyxFQUFhRSxPQUFPRCxHQUVwQixNQUFNd0IsRUFBYWQsRUFBWSw4QkFBZ0MsOEJBQ3pEZSxFQUFRM2QsS0FBS3RCLEdBQUcsT0FBUWdmLEVBQVl4YSxPQUFPM0csRUFBR0csUUFFOUNraEIsRUFBTzVkLEtBQUt0QixHQUFHLE1BQU8sa0JBTzVCLEdBTkFrZixFQUFLckYsaUJBQWlCLGVBQWdCLEtBQzlCdlksS0FBSzZVLGlCQUFtQitILElBRTVCNWMsS0FBSzBaLGlCQUNMMVosS0FBS3dZLEtBQUt2TyxFQUFZMEQsY0FBZSxDQUFFblIsR0FBSUQsRUFBR0MsUUFFOUNvZ0IsRUFBVyxDQUNYLE1BQU1pQixFQUFPN2QsS0FBS3RCLEdBQUcsT0FBUSxjQUN2QixFQUFFc0osRUFBQyxRQUFFOEwsR0FBWU8sRUFBUSxRQUN6QjZHLEVBQU9sYixLQUFLcWMsY0FBY3JVLEVBQUcsQ0FDL0IyUyxVQUFXLGNBQ1g3RyxZQUVFcFgsRUFBUXNELEtBQUt0QixHQUFHLFlBQVFuRCxFQUFXLEVBQUtOLElBQUksaUJBQ2xENGlCLEVBQUsxQixPQUFPakIsRUFBTXhlLEdBQ2xCa2hCLEVBQUt6QixPQUFPMEIsRUFDaEIsQ0FDQSxNQUFNL2tCLEVBQVNrSCxLQUFLdEIsR0FBRyxNQUFPLFNBQVVuQyxFQUFHekQsT0FBTzBDLE9BQ2xEb2lCLEVBQUt6QixPQUFPcmpCLEdBQ1osTUFBTWdsQixFQUFhOWQsS0FBSytkLG1CQUFtQnhoQixHQUUzQyxPQURBdWdCLEVBQUdYLE9BQU9GLEVBQWMwQixFQUFPQyxFQUFNRSxHQUM5QmhCLENBQ1gsQ0FDQSxrQkFBQWlCLENBQW1CeGhCLEdBQ2YsTUFBTXdjLEVBQU12YSxTQUFTcWMsY0FBYyxVQUNuQzlCLEVBQUk0QixVQUFZLFdBQ2hCLE1BQU0sRUFBRTNTLEVBQUMsUUFBRThMLEdBQVlPLEVBQVEsV0FDekI2RyxFQUFPbGIsS0FBS3FjLGNBQWNyVSxFQUFHLENBQy9CMlMsVUFBVyxjQUNYN0csWUFRSixPQU5BaUYsRUFBSThDLFlBQVlYLEdBQ2hCbkMsRUFBSVIsaUJBQWlCLFFBQVMsS0FDMUJ2WSxLQUFLeVUsSUFBSTRDLGlCQUFpQmdDLFVBQVU1ZCxPQUFPLFVBQzNDdUUsS0FBS3lVLElBQUk2QyxpQkFBaUI5YixNQUFRZSxFQUFHWSxTQUFXLEdBQ2hENkMsS0FBS3lVLElBQUk4QyxtQkFBbUIvYixNQUFRMEgsT0FBTzNHLEVBQUdDLE1BRTNDdWMsQ0FDWCxDQUNBLGdCQUFBWSxHQUNRM1osS0FBSytVLGVBQ0x6UyxhQUFhdEMsS0FBSytVLGVBQ2xCL1UsS0FBSzZVLGtCQUVUN1UsS0FBSytVLGNBQWdCM1MsV0FBVyxLQUM1QnBDLEtBQUsrVSxjQUFnQixLQUNyQi9VLEtBQUt3WSxLQUFLdk8sRUFBWTJELG9CQUFnQnJTLElBQ3ZDeUUsS0FBSzJVLGlCQUNaLENBQ0EsY0FBQStFLEdBQ1MxWixLQUFLK1UsZ0JBRVZ6UyxhQUFhdEMsS0FBSytVLGVBQ2xCL1UsS0FBSytVLGNBQWdCLEtBQ3pCLENBTUEsbUJBQUEwSCxDQUFvQkQsR0FDaEJBLEVBQUdqRSxpQkFBaUIsV0FBYTFHLElBRTdCLEdBREFBLEVBQUVtTSxrQkFDR2hlLEtBQUs0VSxPQUNOLE9BQ0osR0FBSTVVLEtBQUs2VSxpQkFBbUIySCxJQUFPeGMsS0FBSzZVLGdCQUNwQyxPQUNKLE1BQU1vSixFQUFXcE0sRUFBRXBQLFFBQVF5YixRQUFRLE1BQ25DLEdBQUlELEdBQVlBLElBQWFqZSxLQUFLNFUsT0FBUSxDQUN0QyxNQUFNdUosRUFBT0YsRUFBU0csd0JBQ2hCQyxFQUFVeE0sRUFBRXlNLFFBQVVILEVBQUtJLElBQU1KLEVBQUs3WixPQUFTLEVBQ3JEa1ksRUFBR2dDLGFBQWF4ZSxLQUFLNFUsT0FBUXlKLEVBQVVKLEVBQVNRLFlBQWNSLEVBQ2xFLE1BQ1VBLEdBQ056QixFQUFHWCxZQUFZN2IsS0FBSzRVLFVBRzVCNEgsRUFBR2pFLGlCQUFpQixPQUFTMUcsR0FBTUEsRUFBRW1NLGlCQUN6QyxDQUNBLGlCQUFBdkQsQ0FBa0JsaEIsR0FDZCxPQUFPb1EsTUFBTTRKLEtBQUssSUFBSXJiLElBQUlxQixFQUFNNEIsSUFBSzhDLElBQU9BLEVBQUVmLE9BQVMsSUFBSVMsUUFBUXJCLE9BQVE4VCxHQUFNQSxFQUFFaFUsT0FBUyxLQUFLMkIsS0FBSyxDQUFDaEYsRUFBR2lGLElBQU1qRixFQUFFd2lCLGNBQWN2ZCxHQUNwSSxDQUNBLFlBQUFxZCxDQUFhOWhCLEdBQ1QsTUFBTW1sQixFQUFJLElBQUluaEIsSUFDZCxJQUFLLE1BQU1oQixLQUFNaEQsRUFBTyxDQUNwQixNQUFNOEIsR0FBT2tCLEVBQUdXLE9BQVN4RSxHQUFpQmlGLFFBQVVsRixFQUMvQ2ltQixFQUFFdm1CLElBQUlrRCxJQUNQcWpCLEVBQUV0akIsSUFBSUMsRUFBSyxJQUNmcWpCLEVBQUV6akIsSUFBSUksR0FBSytCLEtBQUtiLEVBQ3BCLENBQ0EsT0FBT21pQixDQUNYLENBQ0Esd0JBQUFoRyxHQUNJLE1BQU01YyxFQUFNa0UsS0FBS3dVLElBQUkrSCxjQUFjLHlDQUF5Qy9nQixNQUM1RSxNQUFlLFNBQVJNLEVBQWlCLE9BQVMsS0FDckMsQ0FDQSxzQkFBQTZjLEdBQ0ksTUFBTTdjLEVBQU1rRSxLQUFLd1UsSUFBSStILGNBQWMsdUNBQXVDL2dCLE1BQzFFLE1BQWUsYUFBUk0sRUFBcUIsV0FBYSxNQUM3QyxDQUNBLHVCQUFBMmMsQ0FBd0J6ZSxHQUNwQixNQUNNMmtCLEVBQWUsVUFEWDNrQixHQUFVZ0csS0FBSzBZLDRCQUV6QjFZLEtBQUt5VSxJQUFJdUIsWUFBWXhZLFFBQVNrQixHQUFPQSxFQUFHMmEsVUFBVXVGLE9BQU8sVUFBV0QsSUFDcEUzZSxLQUFLeVUsSUFBSXdCLGlCQUFpQjRJLFVBQVlGLEVBQ3RDM2UsS0FBS3lVLElBQUl5QixrQkFBa0IySSxVQUFZRixDQUMzQyxDQUNBLGtCQUFBdkUsQ0FBbUIwRSxFQUFRdGpCLEdBQ3ZCc2pCLEVBQU90aEIsUUFBU3NJLEdBQU9BLEVBQUUyVCxRQUFVM1QsRUFBRXRLLFFBQVVBLEVBQ25ELENBQ0EsUUFBQW9kLENBQVNtRyxFQUFTQyxFQUFVQyxHQUN4QixNQUFNQyxFQUFVLENBQUNqZ0IsRUFBR2tnQixLQUNoQixNQUFNdG1CLEVBQVMsTUFBTG9HLEdBQW1CLEtBQU5BLEVBQVdzUSxPQUFPdFEsR0FBS21nQixJQUM5QyxPQUFPN1AsT0FBT3VKLFNBQVNqZ0IsR0FBS0EsRUFBSXNtQixHQUc5QkUsRUFBUUMsSUFDVixNQUFNclosRUFBTWlaLEVBQVFGLEVBQVMvWSxLQUFPOFksRUFBUTlZLElBQUtzSixPQUFPZ1EsbUJBQ2xEOWEsRUFBTXlhLEVBQVFGLEVBQVN2YSxLQUFPc2EsRUFBUXRhLElBQUs4SyxPQUFPaVEsbUJBQ2xEQyxFQUFPUCxFQUFRRixFQUFTUyxNQUFRVixFQUFRVSxLQUFNLEdBQzlDM25CLEVBQU15WCxPQUFPK1AsR0FDYkksRUFOSSxFQUFDN21CLEVBQUdvTixFQUFLeEIsSUFBUUQsS0FBS3lCLElBQUl6QixLQUFLQyxJQUFJNUwsRUFBR29OLEdBQU14QixHQU10Q2tiLENBQU1wUSxPQUFPdUosU0FBU2hoQixHQUFPQSxFQUFNLEVBQUdtTyxFQUFLeEIsR0FDckRtYixFQUFVcGIsS0FBSzBCLE1BQU13WixFQUFVRCxHQUFRQSxFQUN2Q0ksRUFBUXRRLE9BQU9xUSxFQUFRRSxRQUFRLElBQ3JDZCxFQUFTeGpCLE1BQVEwSCxPQUFPMmMsR0FDeEJkLEVBQVF2akIsTUFBUTBILE9BQU8yYyxHQUN2QlosSUFBVVksSUFFZGQsRUFBUXhHLGlCQUFpQixRQUFTLElBQU04RyxFQUFLTixFQUFRdmpCLFFBQ3JEd2pCLEVBQVN6RyxpQkFBaUIsUUFBUyxJQUFNOEcsRUFBS0wsRUFBU3hqQixPQUMzRCxDQUNBLG1CQUFBeWYsQ0FBb0JoaUIsR0FDaEIsTUFBTThtQixFQUFXL2YsS0FBS3dVLElBQUkvVixpQkFBaUIsbUNBRXJDdWhCLEVBQVkvbUIsSUFBV2tHLEVBQ3ZCOGdCLEVBQW1CaG5CLElBQVdrRyxHQUFxQmxHLElBQVdrRyxFQUM5RCtnQixFQUFham5CLElBQVdrRyxFQUM5QjRnQixFQUFTdmlCLFFBQVNrQixJQUNkLE1BQU15aEIsSUFBZ0JILEdBQ2pCQyxHQUFvQnZoQixFQUFHMGhCLGFBQWEsd0JBQ3BDRixJQUFjLEVBQ25CeGhCLEVBQUdtZ0IsVUFBWXNCLEdBRXZCLENBQ0EsMkJBQUE5RixDQUE0QmdHLEdBQ3hCcmdCLEtBQUt5VSxJQUFJa0IscUJBQXFCelcsYUFBYSxnQkFBaUJnRSxPQUFPbWQsSUFDbkUsTUFBTSxFQUFFclksRUFBQyxRQUFFOEwsR0FBdUJPLEVBQVhnTSxFQUFtQixnQkFBMkIsa0JBQ3JFcmdCLEtBQUt5VSxJQUFJa0IscUJBQXFCMkssVUFBWSxHQUMxQ3RnQixLQUFLeVUsSUFBSWtCLHFCQUFxQmtHLFlBQVk3YixLQUFLcWMsY0FBY3JVLEVBQUcsQ0FBRThMLFVBQVM2RyxVQUFXLGFBQ3RGM2EsS0FBS3lVLElBQUltQixvQkFBb0J5RCxVQUFVdUYsT0FBTyxVQUFXeUIsRUFDN0QsQ0FDQSxzQkFBQUUsQ0FBdUIxakIsR0FFbkIsTUFBTyxPQURxQixTQUFWQSxFQUFtQixRQUFVQSxHQUN4QjJqQixtQkFDM0IsQ0FDQSxpQkFBQWxHLENBQWtCemQsR0FDZG1ELEtBQUt5VSxJQUFJOEIsa0JBQWtCL1ksUUFBU2lqQixJQUNoQyxNQUFNakgsRUFBV2lILEVBQU96SCxRQUFRQyxZQUFjcGMsRUFDOUM0akIsRUFBT3ZoQixhQUFhLGdCQUFpQnNhLEVBQVcsT0FBUyxXQUU3RHhaLEtBQUt5VSxJQUFJK0IsZ0JBQWdCNVgsWUFBYy9CLEVBQ3ZDbUQsS0FBS3lVLElBQUlnQyxjQUFja0UsVUFBWSxvQ0FDbkMzYSxLQUFLeVUsSUFBSWdDLGNBQWM0QyxVQUFVeFYsSUFBSTdELEtBQUt1Z0IsdUJBQXVCMWpCLEdBQ3JFLENBQ0EsbUJBQUEwZCxDQUFvQnRkLEdBQ2hCK0MsS0FBS3lVLElBQUlxQyxxQkFBcUJ0WixRQUFTaWpCLElBQ25DLE1BQU1qSCxFQUFXaUgsRUFBT3pILFFBQVFJLGVBQWlCbmMsRUFDakR3akIsRUFBT3ZoQixhQUFhLGdCQUFpQnNhLEVBQVcsT0FBUyxXQUU3RHhaLEtBQUt5VSxJQUFJc0MsbUJBQW1CblksWUFBYzNCLEVBQVN5akIsV0FBVyxJQUFLLElBQ3ZFLENBQ0EsdUJBQUFsRyxDQUF3Qm1HLEVBQWdCQyxHQUNwQzVnQixLQUFLeVUsSUFBSXVDLGlCQUFpQnNKLFVBQVksR0FDdEN0Z0IsS0FBS3lVLElBQUl1QyxpQkFBaUJtRixPQUFPbmMsS0FBSzZnQixRQUFRcG9CLEVBQVcsRUFBS3dDLElBQUksbUJBQW9CMmxCLElBQWdCbm9CLElBQ3RHLElBQUssTUFBTXlFLEtBQVN5akIsRUFBZ0IsQ0FDaEMsTUFDTW5sQixFQURZLENBQUM0VSxJQUFPQSxHQUFLLElBQUl6UyxPQUNyQm1qQixDQUFVNWpCLEdBQ3hCOEMsS0FBS3lVLElBQUl1QyxpQkFBaUJtRixPQUFPbmMsS0FBSzZnQixRQUFRcmxCLEVBQU8wQixFQUFPMGpCLElBQWdCMWpCLEdBQ2hGLENBQ0EsTUFBTTZqQixFQUFZL2dCLEtBQUs2Z0IsUUFBUTdnQixLQUFLMFUsVUFBVyxFQUFLelosSUFBSSxrQkFDeEQrRSxLQUFLeVUsSUFBSXVDLGlCQUFpQm1GLE9BQU80RSxFQUNyQyxDQUNBLFVBQUF6SCxDQUFXamdCLEdBQ1AsTUFBTWtGLEVBQU9DLFNBQVN3aUIsaUJBQ0csV0FBVjNuQixFQUNUNG5CLE9BQU9DLFdBQVcsZ0NBQWdDQyxRQUN4QyxTQUFWOW5CLEdBRUZrRixFQUFLOGEsVUFBVXhWLElBQUksUUFHbkJ0RixFQUFLOGEsVUFBVTVkLE9BQU8sUUFFMUJ1RSxLQUFLeVUsSUFBSXFELGNBQWM1WSxhQUFhLGNBQWVnRSxPQUFpQixVQUFWN0osSUFDMUQyRyxLQUFLeVUsSUFBSXNELGFBQWE3WSxhQUFhLGNBQWVnRSxPQUFpQixTQUFWN0osSUFDekQyRyxLQUFLeVUsSUFBSXVELGVBQWU5WSxhQUFhLGNBQWVnRSxPQUFpQixXQUFWN0osR0FDL0QsQ0FDQSxVQUFBMmdCLENBQVc1Z0IsR0FHUCxHQUZBNEcsS0FBS3lVLElBQUkwRCxXQUFXdlosWUFBY3NFLE9BQU85SixFQUFTZ0QsUUFDbEQ0RCxLQUFLeVUsSUFBSTJELFVBQVVrSSxVQUFZLEdBQzNCbG5CLEVBQVNnRCxRQUFVLEVBR25CLE9BRkE0RCxLQUFLeVUsSUFBSTJELFVBQVVpQixVQUFVeFYsSUFBSSxlQUNqQzdELEtBQUt5VSxJQUFJNEQsV0FBV2dCLFVBQVU1ZCxPQUFPLFVBR3pDLElBQUssTUFBTXRDLEtBQVdDLEVBQVUsQ0FDNUIsTUFBTWdvQixFQUFTcGhCLEtBQUt0QixHQUFHLEtBQU0sZUFDdkIyaUIsRUFBWXJoQixLQUFLdEIsR0FBRyxNQUFPLGtCQUMzQjRpQixFQUFRdGhCLEtBQUt0QixHQUFHLElBQUssdUNBQXdDdkYsR0FDbkVtb0IsRUFBTUMsS0FBT3BvQixFQUNibW9CLEVBQU03ZSxPQUFTLFNBQ2Y0ZSxFQUFVeEYsWUFBWXlGLEdBQ3RCLE1BQU1FLEVBQWdCeGhCLEtBQUt0QixHQUFHLFNBQVUsWUFDeEM4aUIsRUFBY3RpQixhQUFhLHNCQUF1QixRQUNsRCxNQUFNdWlCLEVBQWdCcE4sRUFBUSxVQUN4QnFOLEVBQWExaEIsS0FBS3FjLGNBQWNvRixFQUFjelosRUFBRyxDQUNuRDJTLFVBQVcsVUFDWDdHLFFBQVMyTixFQUFjM04sVUFFM0IwTixFQUFjM0YsWUFBWTZGLEdBQzFCLE1BQU1DLEVBQWdCM2hCLEtBQUt0QixHQUFHLFNBQVUsNkJBQ3hDaWpCLEVBQWN6aUIsYUFBYSxzQkFBdUIsUUFDbEQsTUFBTTBpQixFQUFnQnZOLEVBQVEsVUFDeEJ3TixFQUFhN2hCLEtBQUtxYyxjQUFjdUYsRUFBYzVaLEVBQUcsQ0FDbkQyUyxVQUFXLFVBQ1g3RyxRQUFTOE4sRUFBYzlOLFVBRTNCNk4sRUFBYzlGLFlBQVlnRyxHQUMxQlQsRUFBT3ZGLFlBQVl3RixHQUNuQkQsRUFBT3ZGLFlBQVkyRixHQUNuQkosRUFBT3ZGLFlBQVk4RixHQUNuQjNoQixLQUFLeVUsSUFBSTJELFVBQVV5RCxZQUFZdUYsR0FDL0JJLEVBQWNqSixpQkFBaUIsUUFBUyxLQUNwQ3ZZLEtBQUt3WSxLQUFLdk8sRUFBWXNFLGtCQUFtQixDQUFFcFYsY0FFL0N3b0IsRUFBY3BKLGlCQUFpQixRQUFTLEtBQ3BDdlksS0FBS3dZLEtBQUt2TyxFQUFZb0Usa0JBQW1CLENBQUVsVixhQUVuRCxDQUNBNkcsS0FBS3lVLElBQUkyRCxVQUFVaUIsVUFBVTVkLE9BQU8sVUFDcEN1RSxLQUFLeVUsSUFBSTRELFdBQVdnQixVQUFVeFYsSUFBSSxTQUN0QyxDQUNBLGtCQUFBa1csQ0FBbUJ4ZixHQUNmLElBQUssTUFBTXVuQixLQUFnQnZuQixFQUFlLENBQ3RDLE1BQU13bkIsRUFBWS9oQixLQUFLZ2lCLHFCQUFxQkYsR0FDNUM5aEIsS0FBS3lVLElBQUk2RCxZQUFZdUQsWUFBWWtHLEdBQ2pDL2hCLEtBQUt3WSxLQUFLdk8sRUFBWWtFLHdCQUF5QixDQUFFQyxLQUFNMFQsRUFBYTFULE1BQ3hFLENBQ0osQ0FDQSxvQkFBQTRULENBQXFCRixHQUNqQixNQUFNQyxFQUFZL2hCLEtBQUt0QixHQUFHLE1BQU8sZ0JBQWdCb2pCLEVBQWEzYSxRQUN4RDhhLEVBQWU1TixFQUFReU4sRUFBYTNhLE1BQ3BDK2EsRUFBWWxpQixLQUFLcWMsY0FBYzRGLEVBQWFqYSxFQUFHLENBQ2pEMlMsVUFBVyxhQUNYN0csUUFBU21PLEVBQWFuTyxVQUVwQnFPLEVBQVluaUIsS0FBS3RCLEdBQUcsTUFBTyxjQUMzQjBqQixFQUFPcGlCLEtBQUt0QixHQUFHLElBQUssYUFBY29qQixFQUFhbGdCLFNBQ3JEdWdCLEVBQVV0RyxZQUFZdUcsR0FDdEIsTUFBTUMsRUFBV3JpQixLQUFLdEIsR0FBRyxTQUFVLDRCQUE0Qm9qQixFQUFhM2EsUUFDdEVtYixFQUFlak8sRUFBUSxTQUN2QmtPLEVBQVl2aUIsS0FBS3FjLGNBQWNpRyxFQUFhdGEsRUFBRyxDQUNqRDJTLFVBQVcsY0FDWDdHLFFBQVN3TyxFQUFheE8sVUFFMUJ1TyxFQUFTeEcsWUFBWTBHLEdBQ3JCUixFQUFVbEcsWUFBWXFHLEdBQ3RCSCxFQUFVbEcsWUFBWXNHLEdBQ3RCSixFQUFVbEcsWUFBWXdHLEdBQ3RCLE1BQU1HLEVBQVV2QixPQUFPN2UsV0FBVyxLQUMxQjJmLEVBQVVVLGFBQ1ZWLEVBQVV0bUIsVUFDZnVFLEtBQUtpVixvQkFNUixPQUxBb04sRUFBUzlKLGlCQUFpQixRQUFTLEtBQy9CalcsYUFBYWtnQixHQUNUVCxFQUFVVSxhQUNWVixFQUFVdG1CLFdBRVhzbUIsQ0FDWCxDQUNBLENBQUE3TSxDQUFFd04sR0FDRSxNQUFNaGtCLEVBQUtzQixLQUFLd1UsSUFBSStILGNBQWNtRyxHQUNsQyxJQUFLaGtCLEVBQ0QsTUFBTSxJQUFJdUUsTUFBTSxnQ0FBZ0N5ZixLQUNwRCxPQUFPaGtCLENBQ1gsQ0FDQSxJQUFBb1gsQ0FBSzRNLEdBQ0QsT0FBTzFpQixLQUFLd1UsSUFBSS9WLGlCQUFpQmlrQixFQUNyQyxDQUNBLEVBQUFoa0IsQ0FBR2lrQixFQUFLaEksRUFBV3JULEdBQ2YsTUFBTXNiLEVBQU81aUIsS0FBS3dVLElBQUlxRyxjQUFjOEgsR0FLcEMsT0FKSWhJLElBQ0FpSSxFQUFLakksVUFBWUEsUUFDUnBmLElBQVQrTCxJQUNBc2IsRUFBS2hrQixZQUFjMEksR0FDaEJzYixDQUNYLENBQ0EsT0FBQS9CLENBQVFybEIsRUFBT2tCLEVBQU84YyxHQUFXLEdBQzdCLE1BQU05UCxFQUFJMUosS0FBS3dVLElBQUlxRyxjQUFjLFVBS2pDLE9BSkFuUixFQUFFbE8sTUFBUUEsRUFDVmtPLEVBQUU5SyxZQUFjbEMsRUFDWjhjLElBQ0E5UCxFQUFFOFAsVUFBVyxHQUNWOVAsQ0FDWCxDQUNBLGFBQUEyUyxDQUFjclUsRUFBRzdFLEVBQU8sQ0FBQyxHQUNyQixNQUFNMGYsRUFBUyw2QkFDVEMsRUFBTXRrQixTQUFTdWtCLGdCQUFnQkYsRUFBUSxPQUs3QyxHQUpBQyxFQUFJNWpCLGFBQWEsVUFBV2lFLEVBQUsyUSxTQUFXLGFBQzVDZ1AsRUFBSTVqQixhQUFhLFFBQVNpRSxFQUFLd1gsV0FBYSxlQUM1Q21JLEVBQUk1akIsYUFBYSxPQUFRLGdCQUN6QjRqQixFQUFJNWpCLGFBQWEsY0FBZSxRQUM1QmlFLEVBQUs2ZixNQUNMLElBQUssTUFBT0MsRUFBR3BxQixLQUFNOFksT0FBT3VSLFFBQVEvZixFQUFLNmYsT0FDckNGLEVBQUk1akIsYUFBYStqQixFQUFHcHFCLEdBRTVCLE1BQU1zcUIsRUFBUzNrQixTQUFTdWtCLGdCQUFnQkYsRUFBUSxRQUdoRCxPQUZBTSxFQUFPamtCLGFBQWEsSUFBSzhJLEdBQ3pCOGEsRUFBSWpILFlBQVlzSCxHQUNUTCxDQUNYLEVDNXJCSmxvQixlQUFlbVEsSUFDWCxNQUFNVixFQUFPLElBQUlrSyxFQUFVL1YsVUFDckI0a0IsRUFBYSxJQUFJaFosRUFBZ0JDLFNBQ2pDK1ksRUFBV3JZLE9BQ3JCLENBRWdDLGFBQXhCdk0sU0FBUzZrQixZQUFxRCxnQkFBeEI3a0IsU0FBUzZrQixXQUMxQ3RZLElBQVFvRyxNQUFPbk8sSUFDaEJNLFFBQVF2QixNQUFNLDBCQUEyQmlCLEtBSTdDeEUsU0FBUytaLGlCQUFpQixtQkFBb0IsS0FBV3hOLElBQVFvRyxNQUFPbk8sSUFDcEVNLFFBQVF2QixNQUFNLDBCQUEyQmlCLE1BQ3pDLENBQ0FzZ0IsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29tbW9uL21lc3NhZ2VzLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi91cmwudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvYXBwL21vZGVsLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc3RvcmFnZS90YWJsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9zdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaTE4bi50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL3N0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL2FjdGlvbl90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL2VmZmVjdF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvbWVzc2FnaW5nL2FwaS50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9wb3J0X3JwYy50cyIsIndlYnBhY2s6Ly8vLi9pbmZyYS9jZHAvY2RwX2NsaWVudC50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL2NhcHR1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9leHBvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvaW1wb3J0LnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdHlwZXMvdWlfZXZlbnRfdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9jb250cm9sbGVyL3BhbmVsX2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvdXBkYXRlLnRzIiwid2VicGFjazovLy8uL2luZnJhL2Nocm9tZS90YWJzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvbWVzc2FnaW5nL2Nvbm5lY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2ljb25zLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdmlldy9wYW5lbF92aWV3LnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvYXBwL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFAyQyA9IHtcbiAgICBQSU5HOiAnUElORycsXG4gICAgVE9HR0xFX1NFTEVDVDogJ1RPR0dMRV9TRUxFQ1QnLFxuICAgIFJFTkRFUjogJ1JFTkRFUicsXG4gICAgQ0xFQVI6ICdDTEVBUicsXG4gICAgSE9WRVI6ICdIT1ZFUicsXG4gICAgTUVBU1VSRV9TSVpFOiAnTUVBU1VSRV9TSVpFJyxcbn07XG5jb25zdCBDMlAgPSB7XG4gICAgU0VMRUNURUQ6ICdTRUxFQ1RFRCcsXG4gICAgTUlTU0lOR19JRFM6ICdNSVNTSU5HX0lEUycsXG4gICAgQ09OVEVOVF9TSVpFX1JFU1VMVDogJ0NPTlRFTlRfU0laRV9SRVNVTFQnLFxufTtcbmNvbnN0IEIyUCA9IHtcbiAgICBBQ1RJVkVfVEFCX0NIQU5HRUQ6ICdBQ1RJVkVfVEFCX0NIQU5HRUQnLFxufTtcbmV4cG9ydCBjb25zdCBNU0dfVFlQRSA9IHsgLi4uUDJDLCAuLi5DMlAsIC4uLkIyUCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzcG9uc2UobXNnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtc2cgPT09ICdvYmplY3QnICYmIG1zZyAhPT0gbnVsbCAmJiAnaWQnIGluIG1zZyAmJiAnb2snIGluIG1zZztcbn1cbiIsIi8qKlxuICogQnVpbGRzIGEgcGFnZSBrZXkgZnJvbSBhIFVSTC4gQnkgZGVmYXVsdCBleGNsdWRlcyB0aGUgaGFzaCBhbmQgdXNlc1xuICogb3JpZ2luICsgcGF0aG5hbWUgKyBzZWFyY2guXG4gKlxuICogQHBhcmFtIHVybCAtIElucHV0IFVSTCAocmV0dXJuZWQgYXMtaXMgaWYgaW52YWxpZClcbiAqIEBwYXJhbSBpbmNsdWRlSGFzaCAtIFdoZXRoZXIgdG8gaW5jbHVkZSB0aGUgaGFzaCAoZGVmYXVsdDogZmFsc2UpXG4gKiBAcmV0dXJucyBQYWdlIGtleSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhZ2VLZXkodXJsLCBpbmNsdWRlSGFzaCA9IGZhbHNlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdSA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVIYXNoXG4gICAgICAgICAgICA/IGAke3Uub3JpZ2lufSR7dS5wYXRobmFtZX0ke3Uuc2VhcmNofSR7dS5oYXNofWBcbiAgICAgICAgICAgIDogYCR7dS5vcmlnaW59JHt1LnBhdGhuYW1lfSR7dS5zZWFyY2h9YDtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgVVJMIHNob3VsZCBiZSBleGNsdWRlZCBmcm9tIGV4dGVuc2lvbiBvcGVyYXRpb24uXG4gKlxuICogVW5wYXJzZWFibGUvdW5rbm93biBzY2hlbWVzIGFyZSB0cmVhdGVkIGFzIHJlc3RyaWN0ZWQuXG4gKiBOb24td2ViIHNjaGVtZXMgKGUuZy4sIHZpZXctc291cmNlOiwgZGF0YTosIGJsb2I6LCBmaWxlc3lzdGVtOikgYXJlIGJsb2NrZWQgZWFybHkuXG4gKiBDaHJvbWUgV2ViIFN0b3JlIHBhZ2VzIGFyZSBhbHdheXMgZXhjbHVkZWQgKGNvbnRlbnQgc2NyaXB0cyBhcmUgbm90IGFsbG93ZWQgdGhlcmUpLlxuICpcbiAqIEBwYXJhbSByYXcgLSBVUkwgc3RyaW5nIHRvIGV2YWx1YXRlLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBVUkwgc2hvdWxkIGJlIHNraXBwZWQgYnkgdGhlIGV4dGVuc2lvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzdHJpY3RlZChyYXcpIHtcbiAgICBpZiAoIXJhdylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCd2aWV3LXNvdXJjZTonKSB8fFxuICAgICAgICByYXcuc3RhcnRzV2l0aCgnZGF0YTonKSB8fFxuICAgICAgICByYXcuc3RhcnRzV2l0aCgnYmxvYjonKSB8fFxuICAgICAgICByYXcuc3RhcnRzV2l0aCgnZmlsZXN5c3RlbTonKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHVybDtcbiAgICB0cnkge1xuICAgICAgICB1cmwgPSBuZXcgVVJMKHJhdyk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgLy8gSW52YWxpZCBvciBub24tc3RhbmRhcmQgVVJMIOKGkiBza2lwIGZvciBzYWZldHkuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBBbGxvdy1saXN0IHBvbGljeTogb25seSBvcGVyYXRlIG9uIHR5cGljYWwgd2ViIHBhZ2VzLlxuICAgIGNvbnN0IGFsbG93ZWQgPSBuZXcgU2V0KFsnaHR0cDonLCAnaHR0cHM6JywgJ2ZpbGU6J10pO1xuICAgIGlmICghYWxsb3dlZC5oYXModXJsLnByb3RvY29sKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gQ2hyb21lIFdlYiBTdG9yZSAoY3VycmVudCBhbmQgbGVnYWN5IGhvc3QpIOKAlCBjb250ZW50IHNjcmlwdHMgYXJlIGRpc2FsbG93ZWQgYnkgcGxhdGZvcm0gcG9saWN5LlxuICAgIGNvbnN0IHdlYlN0b3JlSG9zdHMgPSBuZXcgU2V0KFsnY2hyb21ld2Vic3RvcmUuZ29vZ2xlLmNvbScsICdjaHJvbWUuZ29vZ2xlLmNvbSddKTtcbiAgICBpZiAod2ViU3RvcmVIb3N0cy5oYXModXJsLmhvc3RuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiY29uc3QgSVRFTV9DT0xPUlMgPSBbXG4gICAgJ0dyYXknLFxuICAgICdSZWQnLFxuICAgICdZZWxsb3cnLFxuICAgICdHcmVlbicsXG4gICAgJ0JsdWUnLFxuICAgICdMaW1lJyxcbiAgICAnUHVycGxlJyxcbiAgICAnUGluaycsXG4gICAgJ09yYW5nZScsXG4gICAgJ0N5YW4nLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZW1Db2xvcih2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiBJVEVNX0NPTE9SUy5pbmNsdWRlcyh2KTtcbn1cbmNvbnN0IElURU1fU0hBUEUgPSBbJ2NpcmNsZScsICdzcXVhcmUnXTtcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZW1TaGFwZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiBJVEVNX1NIQVBFLmluY2x1ZGVzKHYpO1xufVxuZXhwb3J0IGNvbnN0IElURU1fUE9TSVRJT05fVkFMVUVTID0gW1xuICAgICdyaWdodC10b3Atb3V0c2lkZScsXG4gICAgJ3JpZ2h0LXRvcC1pbnNpZGUnLFxuICAgICdyaWdodC1vdXRzaWRlJyxcbiAgICAncmlnaHQtaW5zaWRlJyxcbiAgICAncmlnaHQtYm90dG9tLW91dHNpZGUnLFxuICAgICdyaWdodC1ib3R0b20taW5zaWRlJyxcbiAgICAndG9wLW91dHNpZGUnLFxuICAgICd0b3AtaW5zaWRlJyxcbiAgICAnY2VudGVyJyxcbiAgICAnYm90dG9tLW91dHNpZGUnLFxuICAgICdib3R0b20taW5zaWRlJyxcbiAgICAnbGVmdC10b3Atb3V0c2lkZScsXG4gICAgJ2xlZnQtdG9wLWluc2lkZScsXG4gICAgJ2xlZnQtb3V0c2lkZScsXG4gICAgJ2xlZnQtaW5zaWRlJyxcbiAgICAnbGVmdC1ib3R0b20tb3V0c2lkZScsXG4gICAgJ2xlZnQtYm90dG9tLWluc2lkZScsXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbVBvc2l0aW9uKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fUE9TSVRJT05fVkFMVUVTLmluY2x1ZGVzKHYpO1xufVxuZXhwb3J0IGNvbnN0IFVOR1JPVVBFRCA9ICdfX3VuZ3JvdXBlZF9fJztcbmV4cG9ydCBjb25zdCBVTkdST1VQRURfVkFMVUUgPSAnJztcbmV4cG9ydCBjb25zdCBMQUJFTF9GT1JNQVQgPSBbJ051bWJlcnMnLCAnVXBwZXJBbHBoYScsICdMb3dlckFscGhhJywgJ05vbmUnXTtcbmV4cG9ydCBmdW5jdGlvbiBpc0xhYmVsRm9ybWF0KHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIExBQkVMX0ZPUk1BVC5pbmNsdWRlcyh2KTtcbn1cbi8qKlxuICogTmFycm93aW5nIGd1YXJkIGZvciBhIG1pbmltYWwgYFNjcmVlbkl0ZW1gLWxpa2Ugc2hhcGUuXG4gKiBDaGVja3Mgb25seSB0aGUgZmllbGRzIHJlcXVpcmVkIGJ5IHRoaXMgaW1wb3J0IHBhdGggKGFuY2hvciBzdHJ1Y3R1cmUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY3JlZW5JdGVtTGlrZSh2KSB7XG4gICAgaWYgKCF2IHx8IHR5cGVvZiB2ICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IG8gPSB2O1xuICAgIGNvbnN0IGFuY2hvciA9IG9bJ2FuY2hvciddO1xuICAgIGlmICghYW5jaG9yIHx8IHR5cGVvZiBhbmNob3IgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYSA9IGFuY2hvcjtcbiAgICByZXR1cm4gKGFbJ2tpbmQnXSA9PT0gJ2NzcycgJiZcbiAgICAgICAgdHlwZW9mIGFbJ3ZhbHVlJ10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICh0eXBlb2YgYVsndmVyc2lvbiddID09PSAnbnVtYmVyJyB8fCBhWyd2ZXJzaW9uJ10gPT09IDEpKTtcbn1cbi8qKlxuICogVmFsaWRhdGVzIGEgcGFyc2VkIEpTT04gdmFsdWUgYWdhaW5zdCB0aGUgZXhwZWN0ZWQgZXhwb3J0IHBheWxvYWQgY29udHJhY3QuXG4gKiBSZXF1aXJlczogYGZvcm1hdCA9PT0gJ3NwZWNza2V0Y2gtZXhwb3J0J2AsIGBraW5kID09PSAnc2NyZWVuLXN0YXRlJ2AsXG4gKiBgdmVyc2lvbjogbnVtYmVyYCwgYHBhZ2VLZXk6IHN0cmluZ2AsIGFuZCBgaXRlbXM6IFNjcmVlbkl0ZW1bXWAtbGlrZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRQYXlsb2FkKHYpIHtcbiAgICBpZiAoIXYgfHwgdHlwZW9mIHYgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbyA9IHY7XG4gICAgaWYgKG9bJ2Zvcm1hdCddICE9PSAnc3BlY3NrZXRjaC1leHBvcnQnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG9bJ2tpbmQnXSAhPT0gJ3NjcmVlbi1zdGF0ZScpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9bJ3ZlcnNpb24nXSAhPT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9bJ3BhZ2VLZXknXSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob1snaXRlbXMnXSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gb1snaXRlbXMnXS5ldmVyeShpc1NjcmVlbkl0ZW1MaWtlKTtcbn1cbiIsImltcG9ydCB7IFVOR1JPVVBFRF9WQUxVRSwgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmV4cG9ydCBjb25zdCBpbml0aWFsTW9kZWwgPSB7XG4gICAgc3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICB0YWJJZDogbnVsbCxcbiAgICBwYWdlS2V5OiAnJyxcbiAgICBwYWdlS2V5czogW10sXG4gICAgdGhlbWU6ICdkZXZpY2UnLFxuICAgIHNlbGVjdGlvbkVuYWJsZWQ6IGZhbHNlLFxuICAgIGl0ZW1zOiBbXSxcbiAgICBkZWZhdWx0U2l6ZTogMTQsXG4gICAgZGVmYXVsdENvbG9yOiAnQmx1ZScsXG4gICAgZGVmYXVsdFNoYXBlOiAnY2lyY2xlJyxcbiAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6ICdOdW1iZXJzJyxcbiAgICBkZWZhdWx0VmlzaWJsZTogdHJ1ZSxcbiAgICBkZWZhdWx0UG9zaXRpb246ICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICBkZWZhdWx0R3JvdXA6IFVOR1JPVVBFRF9WQUxVRSxcbiAgICBjYXB0dXJlOiB7XG4gICAgICAgIGZvcm1hdDogJ3BuZycsXG4gICAgICAgIGFyZWE6ICdmdWxsJyxcbiAgICAgICAgcXVhbGl0eTogOTAsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBwYW5lbEV4cGFuZGVkOiBmYWxzZSxcbiAgICB9LFxuICAgIHNlbGVjdEl0ZW1zOiBbXSxcbiAgICBtaXNzaW5nSWRzOiBbXSxcbiAgICB0b2FzdE1lc3NhZ2VzOiBbXSxcbn07XG4iLCJpbXBvcnQgeyBVTkdST1VQRURfVkFMVUUgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbi8qKlxuICogQ3JlYXRlcyBhIGtleS1zY29wZWQg4oCcbWFwIHRhYmxl4oCdIHRoYXQgc3RvcmVzIGEgcmVjb3JkIGB7IFtwYWdlS2V5XTogVCB9YFxuICogdW5kZXIgYSBzaW5nbGUgcm9vdCBrZXkgaW4gYGNocm9tZS5zdG9yYWdlLmxvY2FsYC5cbiAqXG4gKiBVc2UgdGhpcyBmb3IgcGVyLXBhZ2Ugb3IgcGVyLXNjb3BlIHN0YXRlIHdoZXJlIHZhbHVlcyBhcmUgZGlzdGluZ3Vpc2hlZCBieSBhIHJvdyBrZXkuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gVmFsdWUgdHlwZSBzdG9yZWQgcGVyIHJvdy5cbiAqIEBwYXJhbSByb290S2V5IC0gUm9vdCBrZXkgKHdpdGhvdXQgbmFtZXNwYWNlIHByZWZpeCkgdW5kZXIgd2hpY2ggdGhlIGVudGlyZSBtYXAgaXMgc3RvcmVkLlxuICogQHBhcmFtIGRlZmF1bHRPZiAtIE9wdGlvbmFsIGZhY3RvcnkgdGhhdCByZXR1cm5zIGEgZGVmYXVsdCB2YWx1ZSB3aGVuIGEgcm93IGlzIG1pc3NpbmcuXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBDUlVEIGhlbHBlcnMgZm9yIHRoZSB0YWJsZTogYHsga2V5LCByZWFkQWxsLCB3cml0ZUFsbCwgZ2V0LCBzZXQsIHJlbW92ZSwgY2xlYXIgfWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYXBUYWJsZShyb290S2V5LCBkZWZhdWx0T2YpIHtcbiAgICBjb25zdCBLRVkgPSByb290S2V5O1xuICAgIC8qKlxuICAgICAqIExvYWRzIHRoZSBlbnRpcmUgc3RhdGUgbWFwIGZyb20gYGNocm9tZS5zdG9yYWdlLmxvY2FsYCBmb3IgdGhpcyB0YWJsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBmdWxsIHN0YXRlIG1hcDsgcmV0dXJucyBhbiBlbXB0eSBvYmplY3Qgd2hlbiBub3RoaW5nIGlzIHN0b3JlZC5cbiAgICAgKiBAcmVtYXJrcyBQZXJmb3JtcyBzdG9yYWdlIEkvTyBvbiBldmVyeSBjYWxsLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlYWRBbGwoKSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChLRVkpO1xuICAgICAgICByZXR1cm4gcmF3W0tFWV0gPz8ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcnNpc3RzIHRoZSBlbnRpcmUgc3RhdGUgbWFwIHRvIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgZm9yIHRoaXMgdGFibGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWFwIC0gVGhlIGNvbXBsZXRlIHN0YXRlIG1hcCB0byB3cml0ZS5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgd3JpdGUgY29tcGxldGVzLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHdyaXRlQWxsKG1hcCkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBbS0VZXTogbWFwIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBzaW5nbGUgcm93IGJ5IGl0cyBwYWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlS2V5IC0gUm93IGtleSAoZS5nLiwgcGFnZSBpZGVudGlmaWVyKS5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgc3RvcmVkIHZhbHVlOyBpZiBtaXNzaW5nIGFuZCBgZGVmYXVsdE9mYCBpcyBwcm92aWRlZCwgdGhhdCBkZWZhdWx0IGlzIHJldHVybmVkLlxuICAgICAqIEByZW1hcmtzIFdoZW4gYGRlZmF1bHRPZmAgaXMgbm90IHByb3ZpZGVkIGFuZCB0aGUgcm93IGlzIG1pc3NpbmcsIGB1bmRlZmluZWRgIGlzIHJldHVybmVkICh0eXBlZCBhcyBgVGApLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldChwYWdlS2V5KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGF3YWl0IHJlYWRBbGwoKTtcbiAgICAgICAgY29uc3QgZm91bmQgPSBtYXBbcGFnZUtleV07XG4gICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICBpZiAoZGVmYXVsdE9mKVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRPZihwYWdlS2V5KTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBzZXJ0cyBhIHNpbmdsZSByb3cgZm9yIHRoZSBnaXZlbiBwYWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlS2V5IC0gUm93IGtleSB0byB3cml0ZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBwZXJzaXN0LlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHNldChwYWdlS2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBtYXAgPSBhd2FpdCByZWFkQWxsKCk7XG4gICAgICAgIG1hcFtwYWdlS2V5XSA9IHZhbHVlO1xuICAgICAgICBhd2FpdCB3cml0ZUFsbChtYXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgc2luZ2xlIHJvdyBmb3IgdGhlIGdpdmVuIHBhZ2Uga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VLZXkgLSBSb3cga2V5IHRvIGRlbGV0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZW1vdmUocGFnZUtleSkge1xuICAgICAgICBjb25zdCBtYXAgPSBhd2FpdCByZWFkQWxsKCk7XG4gICAgICAgIGlmIChwYWdlS2V5IGluIG1hcCkge1xuICAgICAgICAgICAgZGVsZXRlIG1hcFtwYWdlS2V5XTtcbiAgICAgICAgICAgIGF3YWl0IHdyaXRlQWxsKG1hcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBlbnRpcmUgdGFibGUgKHJlbW92ZXMgYWxsIHJvd3MgdW5kZXIgdGhpcyByb290IGtleSkuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGF3YWl0IHdyaXRlQWxsKHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsga2V5OiBLRVksIHJlYWRBbGwsIHdyaXRlQWxsLCBnZXQsIHNldCwgcmVtb3ZlLCBjbGVhciB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEga2V5LXNjb3BlZCDigJxzaW5nbGV0b27igJ0gc3RvcmUgdGhhdCBzYXZlcyBhIHNpbmdsZSB2YWx1ZSBkaXJlY3RseVxuICogdW5kZXIgdGhlIGdpdmVuIHJvb3Qga2V5IGluIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAuXG4gKlxuICogVXNlIHRoaXMgZm9yIGdsb2JhbCBzZXR0aW5ncyBvciBhbnkgY29uZmlndXJhdGlvbiB0aGF0IGlzIG5vdCBrZXllZCBieSBwYWdlLlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIFZhbHVlIHR5cGUgc3RvcmVkIGFzIGEgc2luZ2xldG9uLlxuICogQHBhcmFtIHJvb3RLZXkgLSBSb290IGtleSAod2l0aG91dCBuYW1lc3BhY2UgcHJlZml4KSB1bmRlciB3aGljaCB0aGUgdmFsdWUgaXMgc3RvcmVkLlxuICogQHBhcmFtIGRlZmF1bHRGYWN0b3J5IC0gRmFjdG9yeSBmdW5jdGlvbiB0byBsYXppbHkgc3VwcGx5IHRoZSBkZWZhdWx0IHdoZW4gbm8gdmFsdWUgZXhpc3RzLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggaGVscGVycyBmb3IgdGhlIHNpbmdsZXRvbjogYHsga2V5LCBnZXQsIHNldCwgcmVtb3ZlIH1gLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uKHJvb3RLZXksIGRlZmF1bHRGYWN0b3J5KSB7XG4gICAgY29uc3QgS0VZID0gcm9vdEtleTtcbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgc2luZ2xldG9uIHZhbHVlIGZyb20gc3RvcmFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBzdG9yZWQgdmFsdWU7IGZhbGxzIGJhY2sgdG8gYGRlZmF1bHRGYWN0b3J5KClgIHdoZW4gbWlzc2luZy5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChLRVkpO1xuICAgICAgICBjb25zdCB2YWwgPSByYXdbS0VZXTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEZhY3RvcnkoKSA6IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBzaW5nbGV0b24gdmFsdWUgdG8gc3RvcmFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFZhbHVlIHRvIHBlcnNpc3QuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IFtLRVldOiB2YWx1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc2luZ2xldG9uIHZhbHVlIGZyb20gc3RvcmFnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnJlbW92ZShLRVkpO1xuICAgIH1cbiAgICByZXR1cm4geyBrZXk6IEtFWSwgZ2V0LCBzZXQsIHJlbW92ZSB9O1xufVxuZnVuY3Rpb24gZGVmYXVsdFNjcmVlblN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgbmV4dElkOiAxLFxuICAgICAgICBkZWZhdWx0U2l6ZTogMTQsXG4gICAgICAgIGRlZmF1bHRDb2xvcjogJ0JsdWUnLFxuICAgICAgICBkZWZhdWx0U2hhcGU6ICdjaXJjbGUnLFxuICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6ICdOdW1iZXJzJyxcbiAgICAgICAgZGVmYXVsdFZpc2libGU6IHRydWUsXG4gICAgICAgIGRlZmF1bHRQb3NpdGlvbjogJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgICAgICBkZWZhdWx0R3JvdXA6IFVOR1JPVVBFRF9WQUxVRSxcbiAgICB9O1xufVxuLyoqXG4gKiBUYWJsZSBmb3IgcGVyLXBhZ2UgYFNjcmVlblN0YXRlYCB2YWx1ZXMuXG4gKiBFYWNoIHJvdyBpcyBhZGRyZXNzZWQgYnkgYSBwYWdlIGtleTsgbWlzc2luZyByb3dzIGZhbGwgYmFjayB0byBgZGVmYXVsdFNjcmVlblN0YXRlKClgLlxuICovXG5leHBvcnQgY29uc3Qgc2NyZWVuU3RhdGVUYWJsZSA9IGNyZWF0ZU1hcFRhYmxlKCdzY3JlZW5TdGF0ZUJ5UGFnZScsICgpID0+IGRlZmF1bHRTY3JlZW5TdGF0ZSgpKTtcbi8qKlxuICogU2luZ2xldG9uIGZvciBnbG9iYWwgdGhlbWUgbW9kZS5cbiAqIFN0b3JlcyBhIHNpbmdsZSBgVGhlbWVNb2RlYCB2YWx1ZTsgZGVmYXVsdHMgdG8gYCdkZXZpY2UnYCB3aGVuIG5vdCBzZXQuXG4gKi9cbmV4cG9ydCBjb25zdCB0aGVtZVRhYmxlID0gY3JlYXRlU2luZ2xldG9uKCd0aGVtZU1vZGUnLCAoKSA9PiAnZGV2aWNlJyk7XG4iLCJpbXBvcnQgeyBzY3JlZW5TdGF0ZVRhYmxlIH0gZnJvbSAnQHBhbmVsL3N0b3JhZ2UvdGFibGVzJztcbi8qKlxuICogQXBwbGllcyBhIHBhdGNoIChhZGQvdXBkYXRlL3JlbW92ZSkgdG8gdGhlIHN0YXRlIGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXksXG4gKiByZWxhYmVscyBzZXF1ZW50aWFsbHkgaWYgYW55IHJlbW92YWwgb2NjdXJyZWQsIHBlcnNpc3RzIHRoZSByZXN1bHQsXG4gKiBhbmQgcmV0dXJucyB0aGUgdXBkYXRlZCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gcGFnZUtleVN0ciAtIFBhZ2Uga2V5IG9mIHRoZSBzdGF0ZSB0byBtb2RpZnkuXG4gKiBAcGFyYW0gcGF0Y2ggLSBDaGFuZ2VzIHRvIGFwcGx5IHRvIHRoZSBzdGF0ZS5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSB1cGRhdGVkIFNjcmVlblN0YXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlQYXRjaChwYWdlS2V5LCBwYXRjaCkge1xuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQocGFnZUtleSk7XG4gICAgaWYgKHBhdGNoLnJlbW92ZWRJZHM/Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCB0b1JlbW92ZSA9IG5ldyBTZXQocGF0Y2gucmVtb3ZlZElkcyk7XG4gICAgICAgIHN0YXRlLml0ZW1zID0gc3RhdGUuaXRlbXMuZmlsdGVyKChpdCkgPT4gIXRvUmVtb3ZlLmhhcyhpdC5pZCkpO1xuICAgIH1cbiAgICBpZiAocGF0Y2guYWRkZWQ/Lmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgcGF0Y2guYWRkZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gc3RhdGUubmV4dElkKys7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IEluZmluaXR5O1xuICAgICAgICAgICAgY29uc3QgaXQgPSB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhLmFuY2hvcixcbiAgICAgICAgICAgICAgICBzaXplOiBhLnNpemUgPz8gc3RhdGUuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgY29sb3I6IGEuY29sb3IgPz8gc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgIHNoYXBlOiBhLnNoYXBlID8/IHN0YXRlLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBsYWJlbEZvcm1hdDogYS5sYWJlbEZvcm1hdCA/PyBzdGF0ZS5kZWZhdWx0TGFiZWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogYS52aXNpYmxlID8/IHN0YXRlLmRlZmF1bHRWaXNpYmxlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhLnBvc2l0aW9uID8/IHN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBncm91cDogYS5ncm91cCA/PyBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgY29tbWVudDogYS5jb21tZW50ID8/ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLml0ZW1zLnB1c2goaXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlLml0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChzdGF0ZS5pdGVtcyk7XG4gICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQocGFnZUtleSwgc3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbi8qKlxuICogVG9nZ2xlcyBzZWxlY3Rpb24gZm9yIHRoZSBnaXZlbiBhbmNob3JzIChmcm9tIENvbnRlbnQpOiBpZiBhbiBhbmNob3IgYWxyZWFkeVxuICogZXhpc3RzLCByZW1vdmUgaXQ7IG90aGVyd2lzZSBhZGQgaXQuIERlZHVwZSBpbmNvbWluZyBhbmNob3JzIGJ5IGB2YWx1ZWAsXG4gKiBhcHBseSB0aGUgY29ycmVzcG9uZGluZyBwYXRjaCwgcGVyc2lzdCwgYW5kIHJldHVybiB0aGUgbGF0ZXN0IHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5U3RyIC0gUGFnZSBrZXkgb2YgdGhlIHN0YXRlIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSBhbmNob3JzIC0gQW5jaG9ycyByZXBvcnRlZCBieSBDb250ZW50LlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVwZGF0ZWQgU2NyZWVuU3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVTZWxlY3RlZChwYWdlS2V5LCBhbmNob3JzKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBjb25zdCB1bmlxID0gQXJyYXkuZnJvbShuZXcgU2V0KGFuY2hvcnMubWFwKChhKSA9PiBhLnZhbHVlKSkpXG4gICAgICAgIC5tYXAoKHYpID0+IGFuY2hvcnMuZmluZCgoYSkgPT4gYS52YWx1ZSA9PT0gdikpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgcmVtb3ZlZElkcyA9IFtdO1xuICAgIGNvbnN0IHRvQWRkID0gW107XG4gICAgZm9yIChjb25zdCBhIG9mIHVuaXEpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSBzdGF0ZS5pdGVtcy5maW5kKChpdCkgPT4gaXQuYW5jaG9yLmtpbmQgPT09IGEua2luZCAmJiBpdC5hbmNob3IudmFsdWUgPT09IGEudmFsdWUpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWRJZHMucHVzaChmb3VuZC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b0FkZC5wdXNoKHsgYW5jaG9yOiBhIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhdGNoID0ge307XG4gICAgaWYgKHJlbW92ZWRJZHMubGVuZ3RoKVxuICAgICAgICBwYXRjaC5yZW1vdmVkSWRzID0gcmVtb3ZlZElkcztcbiAgICBpZiAodG9BZGQubGVuZ3RoKVxuICAgICAgICBwYXRjaC5hZGRlZCA9IHRvQWRkO1xuICAgIHJldHVybiBhcHBseVBhdGNoKHBhZ2VLZXksIHBhdGNoKTtcbn1cbi8qKlxuICogUmVsYWJlbHMgaXRlbXMgY29uc2VjdXRpdmVseSAoMS4ubikgKndpdGhpbiBlYWNoIGdyb3VwKiBhbmQgcmVwb3J0c1xuICogdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgXCJubyBncm91cFwiIGJ1Y2tldC5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBUaGUgb3JpZ2luYWwgbGlzdCBvZiBpdGVtcyAodHJlYXRlZCBpbW11dGFibHkpLlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5vcm1hbGl6ZWQgaXRlbXMgYW5kIHRoZSBuby1ncm91cCBjb3VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXMpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTsgLy8gJycgaXMgdW5pZmllZCBhcyBVbkdyb3VwXG4gICAgLy8gQnVja2V0IFtpbmRleCwgaXRlbV0gZm9yIGVhY2ggZ3JvdXBcbiAgICBjb25zdCBidWNrZXRzID0gbmV3IE1hcCgpO1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZShpdGVtLmdyb3VwKTtcbiAgICAgICAgaWYgKCFidWNrZXRzLmhhcyhrZXkpKVxuICAgICAgICAgICAgYnVja2V0cy5zZXQoa2V5LCBbXSk7XG4gICAgICAgIGJ1Y2tldHMuZ2V0KGtleSkucHVzaCh7IGluZGV4LCBpdGVtIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IG91dCA9IGl0ZW1zLnNsaWNlKCk7XG4gICAgLy8gU29ydCBlYWNoIGdyb3VwIOKGkiBSZWFzc2lnbiAxLi5uXG4gICAgZm9yIChjb25zdCBbLCBidWNrZXRdIG9mIGJ1Y2tldHMpIHtcbiAgICAgICAgYnVja2V0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLml0ZW0ubGFiZWwgIT09IGIuaXRlbS5sYWJlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5pdGVtLmxhYmVsIC0gYi5pdGVtLmxhYmVsO1xuICAgICAgICAgICAgcmV0dXJuIGEuaXRlbS5pZCAtIGIuaXRlbS5pZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1Y2tldC5mb3JFYWNoKCh7IGluZGV4LCBpdGVtIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWQgPSBpICsgMTtcbiAgICAgICAgICAgIGlmIChpdGVtLmxhYmVsICE9PSBkZXNpcmVkKSB7XG4gICAgICAgICAgICAgICAgb3V0W2luZGV4XSA9IHsgLi4uaXRlbSwgbGFiZWw6IGRlc2lyZWQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCJjb25zdCBpMThuID0geyBnZXQsIGxvY2FsaXplIH07XG4vKipcbiAqIFJldHJpZXZlcyBhIGxvY2FsaXplZCBtZXNzYWdlIGJ5IGtleS4gRmFsbHMgYmFjayB0byB0aGUga2V5IGl0c2VsZiB3aGVuIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gS2V5IGRlZmluZWQgaW4gX2xvY2FsZXMvbWVzc2FnZXMuanNvblxuICogQHBhcmFtIHN1YnMgLSBPcHRpb25hbCBzdWJzdGl0dXRpb24gYXJndW1lbnRzXG4gKiBAcmV0dXJucyBMb2NhbGl6ZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGdldChrZXksIHN1YnMpIHtcbiAgICByZXR1cm4gY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShrZXksIHN1YnMpIHx8IGtleTtcbn1cbi8qKlxuICogV2Fsa3MgdGhlIERPTSBhbmQgYXBwbGllcyBsb2NhbGl6ZWQgc3RyaW5ncyB0byBlbGVtZW50cyB3aXRoXG4gKiBgZGF0YS1pMThuYCBhbmQgYGRhdGEtaTE4bi1hdHRyYC5cbiAqXG4gKiBAcGFyYW0gcm9vdCAtIFJvb3Qgbm9kZSB0byBsb2NhbGl6ZSAoZGVmYXVsdHMgdG8gZG9jdW1lbnQpXG4gKiBAcmVtYXJrc1xuICogLSBgZGF0YS1pMThuYCByZXBsYWNlcyBgdGV4dENvbnRlbnRgLlxuICogLSBgZGF0YS1pMThuLWF0dHJgIHVzZXMgYGF0dHI6a2V5O2F0dHI6a2V5Oy4uLmAgdG8gc2V0IGF0dHJpYnV0ZXMuXG4gKiAtIE11dGF0ZXMgdGhlIERPTSBpbiBwbGFjZS5cbiAqL1xuZnVuY3Rpb24gbG9jYWxpemUocm9vdCA9IGRvY3VtZW50KSB7XG4gICAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pMThuXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pMThuJyk7XG4gICAgICAgIGlmIChrZXkpXG4gICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IGdldChrZXkpO1xuICAgIH0pO1xuICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaTE4bi1hdHRyXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bi1hdHRyJyk7XG4gICAgICAgIGlmICghc3BlYylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHNwZWMuc3BsaXQoJzsnKSkge1xuICAgICAgICAgICAgY29uc3QgW2F0dHIsIGtleV0gPSBwYWlyLnNwbGl0KCc6JykubWFwKChzKSA9PiBzPy50cmltKCkpO1xuICAgICAgICAgICAgaWYgKGF0dHIgJiYga2V5KVxuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCBnZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGkxOG47XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuZXhwb3J0IGNvbnN0IFNUQVRVUyA9IHtcbiAgICBSRVNUUklDVEVEOiAnUkVTVFJJQ1RFRCcsXG4gICAgQ09OTkVDVElORzogJ0NPTk5FQ1RJTkcnLFxuICAgIENPTk5FQ1RFRDogJ0NPTk5FQ1RFRCcsXG4gICAgRElTQ09OTkVDVEVEOiAnRElTQ09OTkVDVEVEJyxcbn07XG5jb25zdCBTVEFUVVNfTVNHX0tFWSA9IHtcbiAgICBSRVNUUklDVEVEOiAnc3RhdHVzX3Jlc3RyaWN0ZWQnLFxuICAgIENPTk5FQ1RJTkc6ICdzdGF0dXNfY29ubmVjdGluZycsXG4gICAgQ09OTkVDVEVEOiAnc3RhdHVzX2Nvbm5lY3RlZCcsXG4gICAgRElTQ09OTkVDVEVEOiAnc3RhdHVzX2Rpc2Nvbm5lY3RlZCcsXG59O1xuZXhwb3J0IGNvbnN0IFNUQVRVU19DTEFTU19CWV9LRVkgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1yZXN0cmljdGVkJyxcbiAgICBDT05ORUNUSU5HOiAnY29ubmVjdC1zdGF0dXMtLWNvbm5lY3RpbmcnLFxuICAgIENPTk5FQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1jb25uZWN0ZWQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1kaXNjb25uZWN0ZWQnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNNZXNzYWdlKGtleSkge1xuICAgIGNvbnN0IG1zZ0tleSA9IFNUQVRVU19NU0dfS0VZW2tleV07XG4gICAgcmV0dXJuIGkxOG4uZ2V0KG1zZ0tleSkgfHwgbXNnS2V5O1xufVxuIiwiLyoqXG4gKiBBY3Rpb25UeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQW4gZXhoYXVzdGl2ZSBsaXN0IG9mICphcHBsaWNhdGlvbi1sZXZlbCBldmVudHMqIGNvbnN1bWVkIGJ5IHRoZSByZWR1Y2VyICh1cGRhdGUudHMpLlxuICogT3JpZ2luczpcbiAqICAgLSBWaWV3IFVJIGV2ZW50cyAobm9ybWFsaXplZCBieSB0aGUgQ29udHJvbGxlcilcbiAqICAgLSBNZXNzYWdlcyBmcm9tIENvbnRlbnQvQmFja2dyb3VuZCBzY3JpcHRzXG4gKiAgIC0gUmVzdWx0cyBvZiBhc3luYyBJL08gKGNhcHR1cmUgc3VjY2Vzcy9mYWlsdXJlLCBldGMuKVxuICogVXNhZ2U6XG4gKiAgIC0gQWN0cyBhcyB0aGUgZGlzY3JpbWluYW50IGZvciBgc3dpdGNoKGFjdGlvbi50eXBlKWAgaW4gdGhlIHJlZHVjZXJcbiAqICAgLSBQdXJlbHkgZGV0ZXJtaW5lcyBob3cgdGhlIE1vZGVsIHRyYW5zaXRpb25zIChubyBzaWRlIGVmZmVjdHMgaGVyZSlcbiAqL1xuZXhwb3J0IHZhciBBY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChBY3Rpb25UeXBlKSB7XG4gICAgLyoqIEFwcCBib290c3RyYXAgLyBzdGFydCAqL1xuICAgIEFjdGlvblR5cGVbXCJJTklUXCJdID0gXCJJTklUXCI7XG4gICAgLyoqIEFjdGl2ZSB0YWIgcmVzb2x2ZWQgYW5kIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgKHRhYklkL3BhZ2VLZXkgZGVjaWRlZCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ09OTkVDVEVEXCJdID0gXCJDT05ORUNURURcIjtcbiAgICAvKiogVXBkYXRlIHBhbmVsIHN0YXR1cyAoQ09OTkVDVElORyAvIENPTk5FQ1RFRCAvIFJFU1RSSUNURUQgLyBESVNDT05ORUNURUQsIGV0Yy4pICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9TVEFUVVNcIl0gPSBcIlNFVF9TVEFUVVNcIjtcbiAgICAvKiogUmVzdG9yZSBwZXJzaXN0ZWQgc3RhdGU6IGl0ZW1zIGFuZCBkZWZhdWx0cyAoc2l6ZS9jb2xvci9zaGFwZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVTVE9SRV9TVEFURVwiXSA9IFwiUkVTVE9SRV9TVEFURVwiO1xuICAgIC8qKiBPdmVyd3JpdGVzIHRoZSBzZXQgb2YgZWxlbWVudHMgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIGNvbnRlbnQgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX01JU1NJTkdfSURTXCJdID0gXCJTRVRfTUlTU0lOR19JRFNcIjtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBwYWdlIG92ZXJsYXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIEFjdGlvblR5cGVbXCJDTEVBUl9BTExcIl0gPSBcIkNMRUFSX0FMTFwiO1xuICAgIC8qKiBDb250ZW50IOKGkiBQYW5lbDogYW5jaG9ycyB3ZXJlIHRvZ2dsZWQgKHNlbGVjdGVkL3Vuc2VsZWN0ZWQpIG9uIHRoZSBwYWdlICovXG4gICAgQWN0aW9uVHlwZVtcIkNPTlRFTlRfU0VMRUNURURcIl0gPSBcIkNPTlRFTlRfU0VMRUNURURcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2Ugc2l6ZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NJWkVcIl0gPSBcIlNFVF9CQURHRV9TSVpFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIGNvbG9yIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfQ09MT1JcIl0gPSBcIlNFVF9CQURHRV9DT0xPUlwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBzaGFwZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NIQVBFXCJdID0gXCJTRVRfQkFER0VfU0hBUEVcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2UgbGFiZWwgZm9ybWF0IChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfTEFCRUxfRk9STUFUXCJdID0gXCJTRVRfQkFER0VfTEFCRUxfRk9STUFUXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIHZpc2FibGUgKGFsc28gYXBwbHkgdG8gZXhpc3RpbmcgaXRlbXMpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9CQURHRV9WSVNJQkxFXCJdID0gXCJTRVRfQkFER0VfVklTSUJMRVwiO1xuICAgIC8qKiBEZWxldGUgdGhlIHNlbGVjdGVkIGJhZGdlICovXG4gICAgQWN0aW9uVHlwZVtcIkJBREdFX0RFTEVURVwiXSA9IFwiQkFER0VfREVMRVRFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIHBvc2l0aW9uIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfUE9TSVRJT05cIl0gPSBcIlNFVF9CQURHRV9QT1NJVElPTlwiO1xuICAgIC8qKiBVcGRhdGUgY2FwdHVyZSBmb3JtYXQgKHBuZy9qcGVnKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQ0FQVFVSRV9GT1JNQVRcIl0gPSBcIlNFVF9DQVBUVVJFX0ZPUk1BVFwiO1xuICAgIC8qKiBVcGRhdGUgY2FwdHVyZSBhcmVhIChmdWxsL3ZpZXdwb3J0KSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQ0FQVFVSRV9BUkVBXCJdID0gXCJTRVRfQ0FQVFVSRV9BUkVBXCI7XG4gICAgLyoqIFVwZGF0ZSBKUEVHIHF1YWxpdHkgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfUVVBTElUWVwiXSA9IFwiU0VUX0NBUFRVUkVfUVVBTElUWVwiO1xuICAgIC8qKiBVcGRhdGUgY2FwdHVyZSBzY2FsZSBmYWN0b3IgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfU0NBTEVcIl0gPSBcIlNFVF9DQVBUVVJFX1NDQUxFXCI7XG4gICAgLyoqIFRvZ2dsZSBjYXB0dXJlIG9wdGlvbnMgZHJvcGRvd24gKGV4cGFuZC9jb2xsYXBzZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX0NBUFRVUkVfUEFORUxcIl0gPSBcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCI7XG4gICAgLyoqIHJlcXVlc3QgbWVhc3VyaW5nIHRoZSBjb250ZW50IHNpemUgKi9cbiAgICBBY3Rpb25UeXBlW1wiTUVBU1VSRV9DT05URU5UX1NJWkVcIl0gPSBcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCI7XG4gICAgLyoqIFJlcXVlc3QgdG8gcnVuIGEgY2FwdHVyZSAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX1JFUVVFU1RFRFwiXSA9IFwiQ0FQVFVSRV9SRVFVRVNURURcIjtcbiAgICAvKiogQ2FwdHVyZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5ICovXG4gICAgQWN0aW9uVHlwZVtcIkNBUFRVUkVfU1VDQ0VFREVEXCJdID0gXCJDQVBUVVJFX1NVQ0NFRURFRFwiO1xuICAgIC8qKiBDYXB0dXJlIGZhaWxlZCB3aXRoIGFuIGVycm9yICovXG4gICAgQWN0aW9uVHlwZVtcIkNBUFRVUkVfRkFJTEVEXCJdID0gXCJDQVBUVVJFX0ZBSUxFRFwiO1xuICAgIC8qKiBSZW9yZGVyaW5nIHNlbGVjdGVkIGl0ZW1zIChkcmFnIGFuZCBkcm9wKSAqL1xuICAgIEFjdGlvblR5cGVbXCJSRU9SREVSX0lURU1TXCJdID0gXCJSRU9SREVSX0lURU1TXCI7XG4gICAgLyoqIFVwZGF0ZSBhIGdyb3VwIG9mIGVsZW1lbnRzICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9HUk9VUFwiXSA9IFwiU0VUX0dST1VQXCI7XG4gICAgLyoqIFBvcnQgZGlzY29ubmVjdGVkIChsb3N0IGNvbm5lY3Rpb24gdG8gQ29udGVudC9TZXJ2aWNlIFdvcmtlcikgKi9cbiAgICBBY3Rpb25UeXBlW1wiUE9SVF9ESVNDT05ORUNURURcIl0gPSBcIlBPUlRfRElTQ09OTkVDVEVEXCI7XG4gICAgLyoqIFJlcXVlc3QgdG8gY2xvc2UgdGhlIHBhbmVsIHdoZW4gdGhlIHRhYklkIG1hdGNoZXMgKEJhY2tncm91bmQg4oaSIFBhbmVsKSAqL1xuICAgIEFjdGlvblR5cGVbXCJDTE9TRV9QQU5FTF9SRVFVRVNURURcIl0gPSBcIkNMT1NFX1BBTkVMX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBFbWl0dGVkIHdoZW4gYW4gaXRlbSdzIGVkaXQtc2VsZWN0aW9uIGNoZWNrYm94IGNoYW5nZXMgc3RhdGUgKi9cbiAgICBBY3Rpb25UeXBlW1wiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiXSA9IFwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiO1xuICAgIC8qKiBTdGFydCBpdGVtIGhvdmVyICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fSE9WRVJfSU5cIl0gPSBcIklURU1fSE9WRVJfSU5cIjtcbiAgICAvKiogRW5kIGl0ZW0gaG92ZXIgKi9cbiAgICBBY3Rpb25UeXBlW1wiSVRFTV9IT1ZFUl9PVVRcIl0gPSBcIklURU1fSE9WRVJfT1VUXCI7XG4gICAgLyoqIFBlcnNpc3QgdGhlIGVkaXRlZCBjb21tZW50IHRleHQgZm9yIHRoZSB0YXJnZXRlZCBpdGVtICovXG4gICAgQWN0aW9uVHlwZVtcIlVQREFURV9JVEVNX0NPTU1FTlRcIl0gPSBcIlVQREFURV9JVEVNX0NPTU1FTlRcIjtcbiAgICAvKiogU2V0ZSBVSSB0aGVtZSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfVEhFTUVcIl0gPSBcIlNFVF9USEVNRVwiO1xuICAgIC8qKiBVcGRhdGUgdGhlIFVJIHRoZW1lICovXG4gICAgQWN0aW9uVHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIERpc3BhdGNoZWQgdG8gcmVxdWVzdCByZWxvYWRpbmcgdGhlIGxhdGVzdCBkYXRhICovXG4gICAgQWN0aW9uVHlwZVtcIlNUT1JFX1JFTE9BRF9SRVFVRVNURURcIl0gPSBcIlNUT1JFX1JFTE9BRF9SRVFVRVNURURcIjtcbiAgICAvKiogRGlzcGF0Y2hlZCBhZnRlciB0aGUgc3RvcmUgaXMgc3VjY2Vzc2Z1bGx5IHJlbG9hZGVkIHdpdGggdGhlIGxhdGVzdCBkYXRhICovXG4gICAgQWN0aW9uVHlwZVtcIlNUT1JFX1JFTE9BRF9TVUNDRUVERURcIl0gPSBcIlNUT1JFX1JFTE9BRF9TVUNDRUVERURcIjtcbiAgICAvKiogSW1wb3J0IGEgU2NyZWVuU3RhdGUgZnJvbSBhIHNlbGVjdGVkIEpTT04gZmlsZS4gKi9cbiAgICBBY3Rpb25UeXBlW1wiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCJdID0gXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBpbXBvcnQgb3BlcmF0aW9uIGZhaWxzLiAqL1xuICAgIEFjdGlvblR5cGVbXCJJTVBPUlRfRkFJTEVEXCJdID0gXCJJTVBPUlRfRkFJTEVEXCI7XG4gICAgLyoqIERpc21pc3MgYSB0b2FzdCBieSBVVUlEICovXG4gICAgQWN0aW9uVHlwZVtcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCJdID0gXCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBSZW1vdmUgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgQWN0aW9uVHlwZVtcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiXSA9IFwiUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFXCI7XG4gICAgLyoqIEV4cG9ydCBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFXCJdID0gXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIjtcbiAgICAvKiogRXhwb3J0IGZhaWxlZCB3aXRoIGFuIGVycm9yICovXG4gICAgQWN0aW9uVHlwZVtcIkVYUE9SVF9GQUlMRURcIl0gPSBcIkVYUE9SVF9GQUlMRURcIjtcbn0pKEFjdGlvblR5cGUgfHwgKEFjdGlvblR5cGUgPSB7fSkpO1xuIiwiLyoqXG4gKiBFZmZlY3RUeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQSBkZWNsYXJhdGl2ZSBzZXQgb2YgKnNpZGUtZWZmZWN0IHJlcXVlc3RzKiBwcm9kdWNlZCBieSB0aGUgcmVkdWNlci5cbiAqIEV4ZWN1dG9yOlxuICogICAtIFRoZSBDb250cm9sbGVyIGludGVycHJldHMgYW5kIHBlcmZvcm1zIGVhY2ggZWZmZWN0IChJL08sIFJQQywgcGVyc2lzdGVuY2UpLlxuICogUHVycG9zZTpcbiAqICAgLSBLZWVwIHRoZSByZWR1Y2VyIHB1cmUgd2hpbGUgc3RpbGwgZW5hYmxpbmcgbmVjZXNzYXJ5IGV4dGVybmFsIGVmZmVjdHMuXG4gKi9cbmV4cG9ydCB2YXIgRWZmZWN0VHlwZTtcbihmdW5jdGlvbiAoRWZmZWN0VHlwZSkge1xuICAgIC8qKiBQdXNoIHRoZSBjdXJyZW50IGl0ZW1zIHRvIHRoZSBDb250ZW50IHNjcmlwdCB0byByZW5kZXIgdGhlIG92ZXJsYXkgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVOREVSX0NPTlRFTlRcIl0gPSBcIlJFTkRFUl9DT05URU5UXCI7XG4gICAgLyoqIEVuYWJsZS9kaXNhYmxlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBDb250ZW50IHNpZGUgKi9cbiAgICBFZmZlY3RUeXBlW1wiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UXCJdID0gXCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlRcIjtcbiAgICAvKiogQ2xlYXIgb3ZlcmxheSBvbiB0aGUgQ29udGVudCBzaWRlICovXG4gICAgRWZmZWN0VHlwZVtcIkNMRUFSX0NPTlRFTlRcIl0gPSBcIkNMRUFSX0NPTlRFTlRcIjtcbiAgICAvKiogaXRlbSBob3ZlciAqL1xuICAgIEVmZmVjdFR5cGVbXCJIT1ZFUlwiXSA9IFwiSE9WRVJcIjtcbiAgICAvKiogcmVxdWVzdCBtZWFzdXJpbmcgdGhlIGNvbnRlbnQgc2l6ZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiXSA9IFwiTUVBU1VSRV9DT05URU5UX1NJWkVcIjtcbiAgICAvKiogUnVuIGEgY2FwdHVyZSB3aXRoIHRoZSBnaXZlbiBwYXJhbWV0ZXJzICh0YWJJZC9mb3JtYXQvYXJlYS9xdWFsaXR5L3NjYWxlKSAqL1xuICAgIEVmZmVjdFR5cGVbXCJDQVBUVVJFXCJdID0gXCJDQVBUVVJFXCI7XG4gICAgLyoqIFBlcnNpc3QgdGhlIHN0YXRlIHRvIHN0b3JhZ2Ugd2l0aCBzZWxlY3RlZCBpdGVtcyByZXNldCAoY2xlYXJlZCkuICovXG4gICAgRWZmZWN0VHlwZVtcIkNMRUFSX1NUQVRFXCJdID0gXCJDTEVBUl9TVEFURVwiO1xuICAgIC8qKlxuICAgICAqIFBlcnNpc3QgdGhlIGN1cnJlbnQgc3RhdGUgdG8gc3RvcmFnZS5cbiAgICAgKiBOT1RFOiBNdXN0IHByZXNlcnZlIGV4aXN0aW5nIGNvdW50ZXJzIChuZXh0SWQvbmV4dExhYmVsKTsgZG8gbm90IHJlc2V0IHRoZW0uXG4gICAgICovXG4gICAgRWZmZWN0VHlwZVtcIlBFUlNJU1RfU1RBVEVcIl0gPSBcIlBFUlNJU1RfU1RBVEVcIjtcbiAgICAvKiogU2V0ZSBVSSB0aGVtZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJTRVRfVEhFTUVcIl0gPSBcIlNFVF9USEVNRVwiO1xuICAgIC8qKiBVcGRhdGUgdGhlIFVJIHRoZW1lICovXG4gICAgRWZmZWN0VHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIFJlYWQgdGhlIHNjcmVlbi1zdGF0ZSBtYXAgZnJvbSBgY2hyb21lLnN0b3JhZ2UubG9jYWxgICovXG4gICAgRWZmZWN0VHlwZVtcIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFXCJdID0gXCJSRUFEX1NDUkVFTl9TVEFURV9TVE9SRVwiO1xuICAgIC8qKiBJbXBvcnQgYSBTY3JlZW5TdGF0ZSBmcm9tIGEgc2VsZWN0ZWQgSlNPTiBmaWxlLiAqL1xuICAgIEVmZmVjdFR5cGVbXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIl0gPSBcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiO1xuICAgIC8qKiBSZW1vdmUgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgRWZmZWN0VHlwZVtcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVlcIl0gPSBcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVlcIjtcbiAgICAvKiogRXhwb3J0IHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEVmZmVjdFR5cGVbXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZXCJdID0gXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZXCI7XG4gICAgLyoqIFJlcG9ydC9sb2cgYW4gZXJyb3IgKGFuZCBvcHRpb25hbGx5IHN1cmZhY2UgaXQgdG8gdGhlIFVJKSAqL1xuICAgIEVmZmVjdFR5cGVbXCJOT1RJRllfRVJST1JcIl0gPSBcIk5PVElGWV9FUlJPUlwiO1xufSkoRWZmZWN0VHlwZSB8fCAoRWZmZWN0VHlwZSA9IHt9KSk7XG4iLCJleHBvcnQgY29uc3QgUFJPVE9DT0xfVkVSU0lPTiA9IDE7XG5leHBvcnQgY29uc3QgQ0hBTk5FTCA9IHtcbiAgICBQQU5FTF9DT05URU5UOiBgc3BzazpwYW5lbC1jb250ZW50OnYke1BST1RPQ09MX1ZFUlNJT059YCxcbn07XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBQb3J0Lm5hbWUgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGNoYW5uZWwuXG4gKiBVc2UgdGhpcyB0byBzYWZlbHkgZGlzdGluZ3Vpc2ggY29ubmVjdGlvbiB0eXBlcyBiZXR3ZWVuIFBhbmVsIGFuZCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSBwb3J0IC0gQSBjb25uZWN0ZWQgcnVudGltZS5Qb3J0XG4gKiBAcGFyYW0gbmFtZSAtIFRhcmdldCBjaGFubmVsIG5hbWUgdG8gY29tcGFyZVxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcG9ydCBiZWxvbmdzIHRvIHRoZSBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0NoYW5uZWwocG9ydCwgbmFtZSkge1xuICAgIHJldHVybiBwb3J0Lm5hbWUgPT09IG5hbWU7XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcG9ydCBpcyB1c2VkIGZvciBQYW5lbCDihpQgQ29udGVudCBjb21tdW5pY2F0aW9uLlxuICogQSBjb252ZW5pZW5jZSB3cmFwcGVyIGZvciBDSEFOTkVMLlBBTkVMX0NPTlRFTlQuXG4gKlxuICogQHBhcmFtIHBvcnQgLSBBIGNvbm5lY3RlZCBydW50aW1lLlBvcnRcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvcnQgaXMgdGhlIFBhbmVs4oCTQ29udGVudCBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BhbmVsQ29udGVudFBvcnQocG9ydCkge1xuICAgIHJldHVybiBpc0NoYW5uZWwocG9ydCwgQ0hBTk5FTC5QQU5FTF9DT05URU5UKTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG4vKipcbiAqIFRoaW4gUlBDIHdyYXBwZXIgZm9yIHNlbmRpbmcgbWVzc2FnZXMgZnJvbSBQYW5lbCB0byBDb250ZW50LlxuICogRXhwb3NlcyBoaWdoLWxldmVsIG1ldGhvZHMgZm9yIGVhY2ggbWVzc2FnZSB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgUGFuZWxBcGkge1xuICAgIHJwYztcbiAgICBjb25zdHJ1Y3RvcihycGMpIHtcbiAgICAgICAgdGhpcy5ycGMgPSBycGM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNlbmQgaGVscGVyIHRoYXQgYXR0YWNoZXMgYW4gUlBDIHJlcXVlc3QgaWQgYXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZHkgLSBNZXNzYWdlIHBheWxvYWQgdG8gc2VuZFxuICAgICAqIEByZXR1cm5zIFZvaWQtbGlrZSB3aGVuIG5vIHJlcGx5IGlzIGV4cGVjdGVkOyBvdGhlcndpc2UgcmVzb2x2ZXMgd2l0aCBhIHJlc3BvbnNlXG4gICAgICovXG4gICAgc2VuZChib2R5KSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZXhwZWN0UmVwbHk6IGZhbHNlLFxuICAgICAgICAgICAgLi4uYm9keSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnNlbmQocmVxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgQ29udGVudCB0byByZW5kZXIgdGhlIGdpdmVuIGl0ZW1zLlxuICAgICAqIEBwYXJhbSBpdGVtcyAtIEl0ZW1zIHRvIGRyYXdcbiAgICAgKi9cbiAgICByZW5kZXIoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLlJFTkRFUiwgcGF5bG9hZDogeyBpdGVtcyB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHNlbGVjdGlvbiBtb2RlIGluIENvbnRlbnQuXG4gICAgICogQHBhcmFtIGVuYWJsZWQgLSBUcnVlIHRvIGVuYWJsZVxuICAgICAqL1xuICAgIHRvZ2dsZVNlbGVjdChlbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5UT0dHTEVfU0VMRUNULCBwYXlsb2FkOiB7IGVuYWJsZWQgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBDb250ZW50IG92ZXJsYXkuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5DTEVBUiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBob3ZlcmVkIGl0ZW0gYW5kIHJlcXVlc3QgYSB0cmFuc2llbnQgaGlnaGxpZ2h0IG9uIENvbnRlbnQuXG4gICAgICogUGFzcyBgbnVsbGAgdG8gY2xlYXIgdGhlIGN1cnJlbnQgaG92ZXIgaGlnaGxpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIC0gVGFyZ2V0IGl0ZW0gSUQsIG9yIGBudWxsYCB0byBjbGVhci5cbiAgICAgKi9cbiAgICBob3ZlcihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuSE9WRVIsIHBheWxvYWQ6IHsgaWQgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IHRvIG1lYXN1cmUgdGhlIGN1cnJlbnQgY29udGVudCBzaXplLlxuICAgICAqL1xuICAgIG1lYXN1cmVTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuTUVBU1VSRV9TSVpFIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGNvbm5lY3Rpdml0eSBoZWFsdGggY2hlY2sgKHJvdW5kLXRyaXApLlxuICAgICAqIFNlbnQgYXMgYSByZXF1ZXN0IGV4cGVjdGluZyBhIHJlcGx5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlLCBvciB1bmRlZmluZWQgb24gdGltZW91dFxuICAgICAqL1xuICAgIHBpbmcoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZXhwZWN0UmVwbHk6IHRydWUsXG4gICAgICAgICAgICB0eXBlOiBNU0dfVFlQRS5QSU5HLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMuc2VuZChyZXEsIDUwMDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGlzUmVzcG9uc2UgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbi8qKlxuICogSW1wbGVtZW50cyBhIG1pbmltYWwgcmVxdWVzdC9yZXNwb25zZSBSUEMgb3ZlciBjaHJvbWUucnVudGltZS5Qb3J0LlxuICogVHJhY2tzIHBlbmRpbmcgcmVxdWVzdHMgYnkgaWQgYW5kIGhhbmRsZXMgdGltZW91dHMgYW5kIGRpc2Nvbm5lY3RzLlxuICovXG5leHBvcnQgY2xhc3MgUG9ydFJwYyB7XG4gICAgcG9ydDtcbiAgICBwZW5kaW5nID0gbmV3IE1hcCgpO1xuICAgIGFsaXZlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRvIHBvcnQgbWVzc2FnZSBhbmQgZGlzY29ubmVjdCBldmVudHMuXG4gICAgICogQHBhcmFtIHBvcnQgLSBUaGUgcnVudGltZS5Qb3J0IHVzZWQgZm9yIG1lc3NhZ2luZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBvcnQpIHtcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgdGhpcy5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShtc2cpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmdldChtc2cuaWQpPy4obXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKG1zZy5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFJlYXNvbnMgc3VjaCBhcyBCRkNhY2hlIG1heSBiZSBpbmNsdWRlZFxuICAgICAgICAgICAgY29uc3QgcmVhc29uID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yPy5tZXNzYWdlID8/ICdkaXNjb25uZWN0ZWQnO1xuICAgICAgICAgICAgLy8gVHJlYXQgcGVuZGluZyBzdGF0dXMgYXMgZmFpbHVyZSB3aGVuIGEgZGlzY29ubmVjdGlvbiBvY2N1cnMuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgcmVzb2x2ZV0gb2YgdGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGlkLCBvazogZmFsc2UsIGVycm9yOiByZWFzb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEdldCB0aGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXR1c1xuICAgIGdldCBpc0FsaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGl2ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYW4gUlBDIHJlcXVlc3QgYW5kIG9wdGlvbmFsbHkgYXdhaXRzIGEgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxIC0gVGhlIFJQQyByZXF1ZXN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0gdGltZW91dE1zIC0gVGltZW91dCAobXMpIHdoZW4gd2FpdGluZyBmb3IgYSByZXBseSAoZGVmYXVsdCA1MDAwKVxuICAgICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSB3aGVuIGBleHBlY3RSZXBseWAgaXMgdHJ1ZTsgb3RoZXJ3aXNlIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHNlbmQocmVxLCB0aW1lb3V0TXMgPSA1MDAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgYWxyZWFkeSBkaXNjb25uZWN0ZWQsIGltbWVkaWF0ZWx5IHRlcm1pbmF0ZSAoYXZvaWQgVW5jaGVja2VkIHJ1bnRpbWUubGFzdEVycm9yKVxuICAgICAgICAgICAgaWYgKCF0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVxLmV4cGVjdFJlcGx5ID8gdW5kZWZpbmVkIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXEuZXhwZWN0UmVwbHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5zZXQocmVxLmlkLCAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHJlcSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcS5leHBlY3RSZXBseSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShyZXEuaWQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlcS5leHBlY3RSZXBseSlcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBDRFBfVkVSU0lPTiA9ICcxLjMnO1xuLyoqXG4gKiBXcmFwcyBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBpbnRvIGEgc3RhbmRhcmQgYEVycm9yYCBpbnN0YW5jZS5cbiAqXG4gKiBAcmV0dXJucyBBbiBgRXJyb3JgIGlmIGEgbGFzdCBlcnJvciBleGlzdHM7IG90aGVyd2lzZSBgbnVsbGAuXG4gKi9cbmZ1bmN0aW9uIGxhc3RFcnJvcigpIHtcbiAgICBjb25zdCBlcnIgPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I7XG4gICAgcmV0dXJuIGVyciA/IG5ldyBFcnJvcihlcnIubWVzc2FnZSB8fCBTdHJpbmcoZXJyKSkgOiBudWxsO1xufVxuLyoqIFRyYWNrcyB0YWJJZHMgdGhhdCB0aGlzIGV4dGVuc2lvbiBjdXJyZW50bHkgb3ducyAoYXR0YWNoZWQgYnkgaXRzZWxmKS4gKi9cbmNvbnN0IE9XTkVEID0gbmV3IFNldCgpO1xuLyoqIENsZWFycyBvd25lcnNoaXAgb24gZGV0YWNoIChjb3ZlcnMgZXh0ZXJuYWwgY2F1c2VzIGxpa2Ugb3BlbmluZy9jbG9zaW5nIERldlRvb2xzKS4gKi9cbmNocm9tZS5kZWJ1Z2dlci5vbkRldGFjaC5hZGRMaXN0ZW5lcigoZGVidWdnZWUpID0+IHtcbiAgICBjb25zdCBpZCA9IGRlYnVnZ2VlLnRhYklkO1xuICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKVxuICAgICAgICBPV05FRC5kZWxldGUoaWQpO1xufSk7XG4vKipcbiAqIERldGFjaGVzIHRoZSBDaHJvbWUgRGVidWdnZXIgKENEUCkgZnJvbSB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgZGVidWdnZWUgdG8gZGV0YWNoIGZyb20uXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGRldGFjaG1lbnQgY29tcGxldGVzLlxuICovXG5hc3luYyBmdW5jdGlvbiBkZXRhY2godGFyZ2V0KSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLmRldGFjaCh0YXJnZXQsICgpID0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFNhZmVseSBhdHRhY2hlcyB0byB0aGUgdGFyZ2V0LiBJZiBhIHByZXZpb3VzIHNlc3Npb24gb3duZWQgYnkgdGhpcyBleHRlbnNpb25cbiAqIGlzIGFscmVhZHkgYXR0YWNoZWQsIGl0IHJldXNlcyBpdCBpbnN0ZWFkIG9mIGZhaWxpbmcuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBhdHRhY2ggdG8gKGUuZy4sIGB7IHRhYklkIH1gKS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGB0cnVlYCB3aGVuIHRoaXMgY2FsbCBwZXJmb3JtZWQgYSBuZXcgYXR0YWNoLFxuICogICAgICAgICAgb3IgYGZhbHNlYCB3aGVuIGFuIGV4aXN0aW5nIG93bmVkIHNlc3Npb24gaXMgcmV1c2VkLlxuICogQHRocm93cyBJZiBhbm90aGVyIGNsaWVudCAoRGV2VG9vbHMvYW5vdGhlciBleHRlbnNpb24pIGlzIGF0dGFjaGVkLCBvciBvbiBvdGhlciBhdHRhY2ggZXJyb3JzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXR0YWNoT3duZWQodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFiSWQgPSB0YXJnZXQudGFiSWQgPz8gbnVsbDtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuYXR0YWNoKHRhcmdldCwgQ0RQX1ZFUlNJT04sICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhYklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIE9XTkVELmFkZCh0YWJJZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsgLy8gbmV3bHkgYXR0YWNoZWQgYnkgdGhpcyBjYWxsXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbXNnID0gZXJyLm1lc3NhZ2UgfHwgJyc7XG4gICAgICAgICAgICBpZiAobXNnLmluY2x1ZGVzKCdBbm90aGVyIGRlYnVnZ2VyIGlzIGFscmVhZHkgYXR0YWNoZWQnKSkge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgYXR0YWNoZWQ6IHJldXNlIG9ubHkgaWYgb3duZWQgYnkgdGhpcyBleHRlbnNpb24uXG4gICAgICAgICAgICAgICAgaWYgKHRhYklkICE9IG51bGwgJiYgT1dORUQuaGFzKHRhYklkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsgLy8gcmV1c2UgZXhpc3Rpbmcgb3duZWQgc2Vzc2lvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRGVidWdnZXIgaXMgYWxyZWFkeSBhdHRhY2hlZCBieSBhbm90aGVyIGNsaWVudCAoRGV2VG9vbHMvZXh0ZW5zaW9uKS4nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihtc2cpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFNhZmVseSBkZXRhY2hlcyBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgZXh0ZW5zaW9uIG93bnMgdGhlIHNlc3Npb24uXG4gKiBOby1vcHMgaWYgdGhlIHRhcmdldCBpcyBub3Qgb3duZWQuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBkZXRhY2ggZnJvbS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGRldGFjaGluZyAob3IgaW1tZWRpYXRlbHkgaWYgbm90IG93bmVkKS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRldGFjaE93bmVkKHRhcmdldCkge1xuICAgIGNvbnN0IHRhYklkID0gdGFyZ2V0LnRhYklkID8/IG51bGw7XG4gICAgaWYgKHRhYklkID09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoIU9XTkVELmhhcyh0YWJJZCkpXG4gICAgICAgIHJldHVybjsgLy8gbm90IG93bmVkIGJ5IHRoaXMgZXh0ZW5zaW9uXG4gICAgYXdhaXQgZGV0YWNoKHRhcmdldCk7XG4gICAgT1dORUQuZGVsZXRlKHRhYklkKTtcbn1cbi8qKlxuICogU2VuZHMgYSBDRFAgY29tbWFuZCB0byB0aGUgYXR0YWNoZWQgdGFyZ2V0LlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIEV4cGVjdGVkIHJlc3VsdCB0eXBlIG9mIHRoZSBjb21tYW5kLlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byB3aGljaCB0aGUgY29tbWFuZCBpcyBzZW50LlxuICogQHBhcmFtIG1ldGhvZCAtIENEUCBtZXRob2QgbmFtZSAoZS5nLiwgYCdQYWdlLmNhcHR1cmVTY3JlZW5zaG90J2ApLlxuICogQHBhcmFtIHBhcmFtcyAtIE9wdGlvbmFsIHBhcmFtZXRlcnMgb2JqZWN0IGZvciB0aGUgY29tbWFuZC5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbW1hbmQgcmVzdWx0IG9yIHJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZCh0YXJnZXQsIG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLnNlbmRDb21tYW5kKHRhcmdldCwgbWV0aG9kLCBwYXJhbXMgPz8ge30sIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGxhc3RFcnJvcigpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgocmVzdWx0ID8/IHt9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgaXNSZXN0cmljdGVkIH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgYXR0YWNoT3duZWQsIGRldGFjaE93bmVkLCBzZW5kIH0gZnJvbSAnQGluZnJhL2NkcC9jZHBfY2xpZW50Jztcbi8qKlxuICogTm9ybWFsaXplcyBhIHN0cmluZyBmb3Igc2FmZSB1c2UgYXMgYSBmaWxlbmFtZTpcbiAqIHJlcGxhY2VzIHJlc2VydmVkIGNoYXJhY3RlcnMsIGNvbGxhcHNlcyB3aGl0ZXNwYWNlLCBhbmQgdHJpbXMgZW5kcy5cbiAqXG4gKiBAcGFyYW0gcyAtIFJhdyBzdHJpbmcgdG8gc2FuaXRpemUuXG4gKiBAcmV0dXJucyBTYW5pdGl6ZWQgZmlsZW5hbWUtc2FmZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplRm9yRmlsZW5hbWUocykge1xuICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9bXFxcXC86Kj9cIjw+fF0vZywgJ18nKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAgIC50cmltKCk7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHRpbWVzdGFtcGVkIGZpbGVuYW1lIGZvciB0aGUgY2FwdHVyZSBiYXNlZCBvbiB0aGUgdGFiJ3MgdGl0bGUgb3IgaG9zdC5cbiAqIFRydW5jYXRlcyB0aGUgYmFzZSBuYW1lIHRvIDgwIGNoYXJhY3RlcnMgYW5kIGFwcGVuZHMgdGhlIHByb3BlciBleHRlbnNpb24uXG4gKlxuICogQHBhcmFtIHRhYiAtIFNvdXJjZSB0YWIgKHRpdGxlL3VybCB1c2VkIGZvciBuYW1pbmcpLlxuICogQHBhcmFtIGZtdCAtIFRhcmdldCBpbWFnZSBmb3JtYXQgKCdwbmcnIHwgJ2pwZWcnKS5cbiAqIEByZXR1cm5zIEEgZmlsZW5hbWUgbGlrZSBgcGFnZS0yMDI1LTA4LTEzVDEwLTIwLTMwLTAwMFoucG5nYC5cbiAqL1xuZnVuY3Rpb24gbWFrZUZpbGVuYW1lKHRhYiwgZm10KSB7XG4gICAgY29uc3QgdGl0bGUgPSB0YWIudGl0bGUgJiYgdGFiLnRpdGxlLnRyaW0oKSA/IHRhYi50aXRsZSA6ICcnO1xuICAgIGxldCBiYXNlID0gdGl0bGUgfHxcbiAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwodGFiLnVybCA/PyAnJykuaG9zdCB8fCAncGFnZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdwYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICBiYXNlID0gc2FuaXRpemVGb3JGaWxlbmFtZShiYXNlKTtcbiAgICBpZiAoYmFzZS5sZW5ndGggPiA4MClcbiAgICAgICAgYmFzZSA9IGJhc2Uuc2xpY2UoMCwgODApO1xuICAgIGNvbnN0IHRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcbiAgICByZXR1cm4gYCR7YmFzZX0tJHt0c30uJHtmbXR9YDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCB2aXN1YWwgdmlld3BvcnQgcmVjdGFuZ2xlIGluIENTUyBwaXhlbHMgKGZvciB2aWV3cG9ydCBjYXB0dXJlKS5cbiAqIEBwYXJhbSB0YXJnZXQgLSBEZXZUb29scyBQcm90b2NvbCB0YXJnZXQgdGFiIChgY2hyb21lLmRlYnVnZ2VyLkRlYnVnZ2VlYCkuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH1gIGluIENTUyBwaXhlbHMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZpZXdwb3J0Q3NzUmVjdCh0YXJnZXQpIHtcbiAgICBjb25zdCBsbSA9IGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5nZXRMYXlvdXRNZXRyaWNzJyk7XG4gICAgY29uc3QgdiA9IGxtLmNzc1Zpc3VhbFZpZXdwb3J0O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IE1hdGgubWF4KDAsIE1hdGguZmxvb3Iodi5wYWdlWCkgfCAwKSxcbiAgICAgICAgeTogTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2LnBhZ2VZKSB8IDApLFxuICAgICAgICB3aWR0aDogTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHYuY2xpZW50V2lkdGgpIHwgMCksXG4gICAgICAgIGhlaWdodDogTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHYuY2xpZW50SGVpZ2h0KSB8IDApLFxuICAgIH07XG59XG4vKipcbiAqIFJlc29sdmVzIHNjcmVlbnNob3QgZ2VvbWV0cnkgZm9yIHRoZSBzZWxlY3RlZCBjYXB0dXJlIGFyZWEuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gRGV2VG9vbHMgUHJvdG9jb2wgdGFyZ2V0IHRhYiAoYGNocm9tZS5kZWJ1Z2dlci5EZWJ1Z2dlZWApLlxuICogQHBhcmFtIGFyZWEgLSBDYXB0dXJlIGFyZWE6IGAnZnVsbCdgIChlbnRpcmUgcGFnZSkgb3IgYCd2aWV3cG9ydCdgICh2aXNpYmxlIGFyZWEpLlxuICogQHBhcmFtIHNjYWxlIC0gSW1hZ2Ugc2NhbGUgZmFjdG9yIGFwcGxpZWQgdG8gYGNsaXAuc2NhbGVgLlxuICogQHBhcmFtIGNvbnRlbnRTaXplIC0gTWVhc3VyZWQgcGFnZSBjb250ZW50IHNpemUgaW4gQ1NTIHBpeGVscyB1c2VkIHdoZW4gYGFyZWFgIGlzIGAnZnVsbCdgLlxuICogQHJldHVybnMgYENhcHR1cmVHZW9tZXRyeWAgZGVzY3JpYmluZyB3aGV0aGVyIGRldmljZSBtZXRyaWNzIG92ZXJyaWRlIGlzIHJlcXVpcmVkIGFuZCB0aGUgY2xpcCByZWN0YW5nbGUgZm9yIGBQYWdlLmNhcHR1cmVTY3JlZW5zaG90YC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZUdlb21ldHJ5KHRhcmdldCwgYXJlYSwgc2NhbGUsIGNvbnRlbnRTaXplKSB7XG4gICAgaWYgKGFyZWEgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgLy8gTm8gb3ZlcnJpZGUgcmVxdWlyZWQ6IENsaXAgdGhlIGN1cnJlbnQgZGlzcGxheSBhcmVhIHdpdGggY2xpcFxuICAgICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGF3YWl0IGdldFZpZXdwb3J0Q3NzUmVjdCh0YXJnZXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlT3ZlcnJpZGU6IGZhbHNlLFxuICAgICAgICAgICAgY2xpcDogeyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9LFxuICAgICAgICAgICAgY2FwdHVyZUJleW9uZFZpZXdwb3J0OiB0cnVlLFxuICAgICAgICAgICAgc2hvdWxkU2Nyb2xsVG9wOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoY29udGVudFNpemUud2lkdGgpIHwgMCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGNvbnRlbnRTaXplLmhlaWdodCkgfCAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VPdmVycmlkZTogdHJ1ZSxcbiAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBkZXZpY2VTY2FsZUZhY3RvcjogMSxcbiAgICAgICAgICAgIG1vYmlsZTogZmFsc2UsXG4gICAgICAgICAgICBzY3JlZW5XaWR0aDogd2lkdGgsXG4gICAgICAgICAgICBzY3JlZW5IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHBvc2l0aW9uWDogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uWTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgY2xpcDogeyB4OiAwLCB5OiAwLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9LFxuICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IHRydWUsXG4gICAgICAgIHNob3VsZFNjcm9sbFRvcDogdHJ1ZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDYXB0dXJlIHNjcmVlbnNob3RzIGFuZCBzYXZlIHRoZW0gdmlhIHRoZSBkb3dubG9hZCBBUEkuXG4gKlxuICogQHBhcmFtIG9wdHMgLSBDYXB0dXJlIG9wdGlvbnMgKHRhYiBpZCwgZm9ybWF0LCBxdWFsaXR5LCBzY2FsZSwgZXRjLikuXG4gKiBAcmV0dXJucyBUaGUgYGRvd25sb2FkSWRgIHdoZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5OyBgdW5kZWZpbmVkYCB3aGVuIGNhcHR1cmUgaXMgc2tpcHBlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhcHR1cmUob3B0cykge1xuICAgIGNvbnN0IHRhYiA9IGF3YWl0IGNocm9tZS50YWJzLmdldChvcHRzLnRhYklkKTtcbiAgICBpZiAoIXRhYi5pZCB8fCBpc1Jlc3RyaWN0ZWQodGFiLnVybCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDYXB0dXJpbmcgaXMgbm90IHBvc3NpYmxlIGR1ZSB0byByZXN0cmljdGVkIFVSTDonLCB0YWIudXJsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSB7IHRhYklkOiB0YWIuaWQgfTtcbiAgICBjb25zdCBmbXQgPSBvcHRzLmZvcm1hdCA/PyAncG5nJztcbiAgICBjb25zdCBzZXR0bGVNcyA9IG9wdHMuc2V0dGxlTXMgPz8gNTAwO1xuICAgIGNvbnN0IHNjYWxlID0gb3B0cy5zY2FsZSA/PyAxO1xuICAgIGNvbnN0IGFyZWEgPSBvcHRzLmFyZWEgPz8gJ2Z1bGwnO1xuICAgIGxldCBkaWRBdHRhY2ggPSBmYWxzZTtcbiAgICBsZXQgdXNlZE92ZXJyaWRlID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlkQXR0YWNoID0gYXdhaXQgYXR0YWNoT3duZWQodGFyZ2V0KTtcbiAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmVuYWJsZScpO1xuICAgICAgICBpZiAob3B0cy5icmluZ1RvRnJvbnQgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmJyaW5nVG9Gcm9udCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlb20gPSBhd2FpdCByZXNvbHZlR2VvbWV0cnkodGFyZ2V0LCBhcmVhLCBzY2FsZSwgb3B0cy5jb250ZW50U2l6ZSk7XG4gICAgICAgIGlmIChnZW9tLnNob3VsZFNjcm9sbFRvcCkge1xuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdSdW50aW1lLmV2YWx1YXRlJywgeyBleHByZXNzaW9uOiAnd2luZG93LnNjcm9sbFRvKDAsMCknIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZW9tLnVzZU92ZXJyaWRlICYmIGdlb20ubWV0cmljcykge1xuICAgICAgICAgICAgdXNlZE92ZXJyaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0b3AgJiB3YWl0IGJyaWVmbHkgZm9yIGxheW91dC9pbWFnZSBzdGFiaWxpemF0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ0VtdWxhdGlvbi5zZXREZXZpY2VNZXRyaWNzT3ZlcnJpZGUnLCBnZW9tLm1ldHJpY3MpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIHNldHRsZU1zKSk7XG4gICAgICAgIGNvbnN0IGNhcFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZvcm1hdDogZm10LFxuICAgICAgICAgICAgZnJvbVN1cmZhY2U6IHRydWUsXG4gICAgICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IGdlb20uY2FwdHVyZUJleW9uZFZpZXdwb3J0LFxuICAgICAgICAgICAgY2xpcDogZ2VvbS5jbGlwLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZm10ID09PSAnanBlZycgJiYgdHlwZW9mIG9wdHMucXVhbGl0eSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNhcFBhcmFtcy5xdWFsaXR5ID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKG9wdHMucXVhbGl0eSkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5jYXB0dXJlU2NyZWVuc2hvdCcsIGNhcFBhcmFtcyk7XG4gICAgICAgIGNvbnN0IG1pbWUgPSBmbXQgPT09ICdwbmcnID8gJ2ltYWdlL3BuZycgOiAnaW1hZ2UvanBlZyc7XG4gICAgICAgIGNvbnN0IHVybCA9IGBkYXRhOiR7bWltZX07YmFzZTY0LCR7ZGF0YX1gO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IG9wdHMuZmlsZW5hbWUgPz8gbWFrZUZpbGVuYW1lKHRhYiwgZm10KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoeyB1cmwsIGZpbGVuYW1lLCBzYXZlQXM6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHVzZWRPdmVycmlkZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ0VtdWxhdGlvbi5jbGVhckRldmljZU1ldHJpY3NPdmVycmlkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZEF0dGFjaCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBkZXRhY2hPd25lZCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyB0aW1lc3RhbXAgfSBmcm9tICdAY29tbW9uL3V0aWxzJztcbi8qKlxuICogRXhwb3J0cyBhIHtAbGluayBTY3JlZW5TdGF0ZX0gYXMgYSBKU09OIGZpbGUgYW5kIHNhdmVzXG4gKlxuICogVGhlIEpTT04gcGF5bG9hZCBpbmNsdWRlcyBiYXNpYyBtZXRhZGF0YSAoZm9ybWF0L2tpbmQvdmVyc2lvbi9leHBvcnRlZEF0L3BhZ2VLZXkpXG4gKiBhbmQgdGhlIHN0YXRlJ3MgYGl0ZW1zYCBmb3IgZnV0dXJlIGNvbXBhdGliaWxpdHkgYW5kIGVhc3kgcmUtaW1wb3J0LlxuICpcbiAqIEBwYXJhbSBzdGF0ZSAtIFRoZSBzY3JlZW4gc3RhdGUgdG8gZXhwb3J0LlxuICogQHBhcmFtIHBhZ2VLZXkgLSBBIHBhZ2Uga2V5IHRvIGVtYmVkIGludG8gdGhlIGV4cG9ydGVkIG1ldGFkYXRhIGFuZCB0byBkZXJpdmUgdGhlIGZpbGVuYW1lLlxuICogQHBhcmFtIG9wdHMgLSBFeHBvcnQgb3B0aW9ucyAoZS5nLiwgYHNhdmVBc2AsIGBwcmVmaXhgKS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIGRvd25sb2FkIElEIHJldHVybmVkIGJ5IGBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkYC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydFNjcmVlblN0YXRlKHN0YXRlLCBwYWdlS2V5LCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB7IHNhdmVBcyA9IGZhbHNlLCBwcmVmaXggPSAnc3BlY3NrZXRjaC1zY3JlZW4tc3RhdGUnIH0gPSBvcHRzO1xuICAgIC8vIE1ldGFkYXRhICsgcGF5bG9hZCAoa2VlcCB2ZXJzaW9uaW5nIGZvciBmb3J3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgZm9ybWF0OiAnc3BlY3NrZXRjaC1leHBvcnQnLFxuICAgICAgICBraW5kOiAnc2NyZWVuLXN0YXRlJyxcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgZXhwb3J0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBwYWdlS2V5LFxuICAgICAgICBpdGVtczogc3RhdGUuaXRlbXMsXG4gICAgfTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgMik7XG4gICAgY29uc3QgYmFzZTY0ID0gdG9CYXNlNjRVdGY4KGpzb24pO1xuICAgIGNvbnN0IG1pbWUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgY29uc3QgdXJsID0gYGRhdGE6JHttaW1lfTtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwke2Jhc2U2NH1gO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gbWFrZUZpbGVuYW1lKHByZWZpeCwgcGFnZUtleSwgJ2pzb24nKTtcbiAgICAvLyBTYXZlIHVzaW5nIHRoZSBzYW1lIEFQSSBwYXR0ZXJuIGFzIGltYWdlIGRvd25sb2FkXG4gICAgcmV0dXJuIGF3YWl0IGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoeyB1cmwsIGZpbGVuYW1lLCBzYXZlQXMgfSk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcgdG8gQmFzZTY0IGZvciB1c2UgaW4gYSBkYXRhIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRoZSBVVEYtOCB0ZXh0IHRvIGVuY29kZS5cbiAqIEByZXR1cm5zIEJhc2U2NCBzdHJpbmcgKG5vIGRhdGEgVVJMIHByZWZpeCkuXG4gKi9cbmZ1bmN0aW9uIHRvQmFzZTY0VXRmOCh0ZXh0KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCk7IC8vIFVpbnQ4QXJyYXlcbiAgICBsZXQgYmluID0gJyc7XG4gICAgZm9yIChjb25zdCBiIG9mIGJ5dGVzKSB7XG4gICAgICAgIGJpbiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShiaW4pO1xufVxuLyoqXG4gKiBCdWlsZHMgYSBzYW5pdGl6ZWQgZmlsZW5hbWUgaW4gdGhlIGZvcm06XG4gKiBge3ByZWZpeH1fe3Nhbml0aXplZFBhZ2VLZXl9X3tZWVlZLU1NLUREX0hILW1tLXNzKzA5MDB9LntleHR9YFxuICpcbiAqIEBwYXJhbSBwcmVmaXggLSBGaWxlbmFtZSBwcmVmaXggKGUuZy4sIHByb2R1Y3Qgb3IgZmVhdHVyZSBuYW1lKS5cbiAqIEBwYXJhbSBwYWdlS2V5IC0gVGhlIG9yaWdpbmFsIHBhZ2Uga2V5IHN0cmluZyB0byBkZXJpdmUgYSBzYWZlIGZpbGVuYW1lIHBhcnQuXG4gKiBAcGFyYW0gZXh0IC0gRmlsZSBleHRlbnNpb24gd2l0aG91dCBkb3QgKGUuZy4sICdqc29uJykuXG4gKiBAcmV0dXJucyBBIHNhZmUgZmlsZW5hbWUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBtYWtlRmlsZW5hbWUocHJlZml4LCBwYWdlS2V5LCBleHQpIHtcbiAgICBjb25zdCBzYWZlS2V5ID0gKHBhZ2VLZXkgPz8gJycpXG4gICAgICAgIC5yZXBsYWNlKC9odHRwcz86XFwvXFwvLywgJycpXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOS5fLV0rL2csICctJylcbiAgICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcbiAgICAgICAgLnJlcGxhY2UoL14tfC0kL2csICcnKVxuICAgICAgICAuc2xpY2UoMCwgMTIwKSB8fCAncGFnZSc7XG4gICAgcmV0dXJuIGAke3ByZWZpeH1fJHtzYWZlS2V5fV8ke3RpbWVzdGFtcCgpfS4ke2V4dH1gO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdGFtcChkID0gbmV3IERhdGUoKSkge1xuICAgIGNvbnN0IHBhZCA9IChuLCB3ID0gMikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KHcsICcwJyk7XG4gICAgY29uc3QgdHpvID0gLWQuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICBjb25zdCBzaWduID0gdHpvID49IDAgPyAnKycgOiAnLSc7XG4gICAgY29uc3QgaGggPSBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyh0em8pIC8gNjApKTtcbiAgICBjb25zdCBtbSA9IHBhZChNYXRoLmFicyh0em8pICUgNjApO1xuICAgIHJldHVybiBgJHtkLmdldEZ1bGxZZWFyKCl9LSR7cGFkKGQuZ2V0TW9udGgoKSArIDEpfS0ke3BhZChkLmdldERhdGUoKSl9XyR7cGFkKGQuZ2V0SG91cnMoKSl9LSR7cGFkKGQuZ2V0TWludXRlcygpKX0tJHtwYWQoZC5nZXRTZWNvbmRzKCkpfSR7c2lnbn0ke2hofSR7bW19YDtcbn1cbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5pbXBvcnQgeyBpc1ZhbGlkUGF5bG9hZCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG5pbXBvcnQgeyBhcHBseVBhdGNoIH0gZnJvbSAnLi9zdGF0ZSc7XG4vKipcbiAqIEltcG9ydCBhIFNjcmVlblN0YXRlLWxpa2UgSlNPTiBmaWxlIGFuZCBtZXJnZSBpdHMgaXRlbXMgaW50byB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIC0gT25seSBgLmpzb25gIChieSBleHRlbnNpb24pIG9yIGBhcHBsaWNhdGlvbi9qc29uYCAvIGB0ZXh0L2pzb25gIChieSBNSU1FKSBpcyBhY2NlcHRlZC5cbiAqIC0gUGF5bG9hZCBtdXN0IG1hdGNoIHRoZSBcInNwZWNza2V0Y2gtZXhwb3J0IC8gc2NyZWVuLXN0YXRlXCIgY29udHJhY3QuXG4gKiAtIEl0ZW1zIGFyZSBtZXJnZWQgYnkgKiphbmNob3IqKiBpZGVudGl0eTsgYW4gaW1wb3J0ZWQgaXRlbSBpcyBza2lwcGVkIGlmIGFuIGl0ZW0gd2l0aCB0aGVcbiAqICAgc2FtZSBhbmNob3IgYHtraW5kLCB2ZXJzaW9uLCB2YWx1ZX1gIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogQHBhcmFtIGZpbGUgICAgIEEgdXNlci1zZWxlY3RlZCBKU09OIGZpbGUgdGhhdCBjb250YWlucyBleHBvcnQgcGF5bG9hZC5cbiAqIEBwYXJhbSBwYWdlS2V5ICBUaGUgdGFyZ2V0IHBhZ2Uga2V5IHRvIG1lcmdlIGludG8uXG4gKiBAcmV0dXJucyAgICAgICAgVGhlIHVwZGF0ZWQge0BsaW5rIFNjcmVlblN0YXRlfSBhZnRlciBhcHBseWluZyB0aGUgcGF0Y2guXG4gKlxuICogQHRocm93cyBFcnJvciB3aXRoIGkxOG4gbWVzc2FnZSBgaW1wb3J0X2ZpbGVfbm90X2pzb25gXG4gKiAgICAgICAgIHdoZW4gdGhlIGZpbGUgaXMgbm90IHJlY29nbml6ZWQgYXMgSlNPTi5cbiAqIEB0aHJvd3MgRXJyb3Igd2l0aCBpMThuIG1lc3NhZ2UgYGltcG9ydF9wYXlsb2FkX2ludmFsaWRgXG4gKiAgICAgICAgIHdoZW4gdGhlIHBhcnNlZCBKU09OIGRvZXMgbm90IHNhdGlzZnkgdGhlIGV4cGVjdGVkIHBheWxvYWQgY29udHJhY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbXBvcnRTY3JlYW5TdGF0ZShmaWxlLCBwYWdlS2V5KSB7XG4gICAgLy8gVmFsaWRhdGUgZmlsZSB0eXBlIGFzIEpTT04gYnkgZXh0ZW5zaW9uIG9yIE1JTUUgKGVtcHR5IE1JTUUgaXMgYWxsb3dlZCBvbiBzb21lIGJyb3dzZXJzKS5cbiAgICBjb25zdCBpc0pzb25CeUV4dCA9IC9cXC5qc29uJC9pLnRlc3QoZmlsZS5uYW1lKTtcbiAgICBjb25zdCBpc0pzb25CeU1pbWUgPSBmaWxlLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmaWxlLnR5cGUgPT09ICd0ZXh0L2pzb24nIHx8IGZpbGUudHlwZSA9PT0gJyc7XG4gICAgaWYgKCFpc0pzb25CeUV4dCAmJiAhaXNKc29uQnlNaW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihpMThuLmdldCgnaW1wb3J0X2ZpbGVfbm90X2pzb24nKSk7XG4gICAgfVxuICAgIC8vIFBhcnNlIEpTT04gdGV4dCDihpIgdmFsdWUuXG4gICAgbGV0IHBhcnNlZDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgLy8gVHJlYXQgbWFsZm9ybWVkIEpTT04gdGhlIHNhbWUgYXMgcGF5bG9hZCBpbnZhbGlkLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaTE4bi5nZXQoJ2ltcG9ydF9wYXlsb2FkX2ludmFsaWQnKSk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHBheWxvYWQgY29udHJhY3Q6IGZvcm1hdC9raW5kL3ZlcnNpb24vcGFnZUtleS9pdGVtcyAoaXRlbXMgbXVzdCBiZSBhcnJheS1saWtlIFNjcmVlbkl0ZW0pLlxuICAgIGlmICghaXNWYWxpZFBheWxvYWQocGFyc2VkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaTE4bi5nZXQoJ2ltcG9ydF9wYXlsb2FkX2ludmFsaWQnKSk7XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBwYXJzZWQ7XG4gICAgY29uc3QgaXRlbXMgPSBwYXlsb2FkLml0ZW1zO1xuICAgIC8vIEZldGNoIGN1cnJlbnQgc3RhdGUgKGlmIG1pc3NpbmcsIHRyZWF0IGFzIGVtcHR5IGl0ZW1zIGZvciBjb21wYXJpc29uKS5cbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHBhZ2VLZXkpO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gc3RhdGU/Lml0ZW1zID8/IFtdO1xuICAgIC8vIEJ1aWxkIGEgZmFzdCBsb29rdXAgb2YgZXhpc3RpbmcgYW5jaG9ycyAoaWRlbnRpdHkgPSBraW5kOnZlcnNpb246dmFsdWUpLlxuICAgIGNvbnN0IGtleU9mID0gKGl0KSA9PiBgJHtpdC5hbmNob3Iua2luZH06JHtpdC5hbmNob3IudmVyc2lvbn06JHtpdC5hbmNob3IudmFsdWV9YDtcbiAgICBjb25zdCBleGlzdGluZ1NldCA9IG5ldyBTZXQoZXhpc3RpbmcubWFwKGtleU9mKSk7XG4gICAgLy8gQ3JlYXRlIHRoZSBtaW5pbWFsIHBhdGNoIHBheWxvYWQgZm9yIGBhcHBseVBhdGNoYCDigJQgb25seSBmaWVsZHMgc3VwcG9ydGVkIGJ5IFwiYWRkZWRcIi5cbiAgICBjb25zdCBhZGRlZCA9IGl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0KSA9PiAhZXhpc3RpbmdTZXQuaGFzKGtleU9mKGl0KSkpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmlkIC0gYS5pZClcbiAgICAgICAgLm1hcCgoaXQpID0+ICh7XG4gICAgICAgIGFuY2hvcjogaXQuYW5jaG9yLFxuICAgICAgICBzaXplOiBpdC5zaXplLFxuICAgICAgICBjb2xvcjogaXQuY29sb3IsXG4gICAgICAgIHNoYXBlOiBpdC5zaGFwZSxcbiAgICAgICAgcG9zaXRpb246IGl0LnBvc2l0aW9uLFxuICAgICAgICBncm91cDogaXQuZ3JvdXAsXG4gICAgICAgIGNvbW1lbnQ6IGl0LmNvbW1lbnQsXG4gICAgfSkpO1xuICAgIHJldHVybiBhd2FpdCBhcHBseVBhdGNoKHBhZ2VLZXksIHsgYWRkZWQgfSk7XG59XG4iLCIvKipcbiAqIFVJRXZlbnRUeXBlIC8gVUlFdmVudFBheWxvYWRNYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIHR5cGVkIGNhdGFsb2cgb2YgKnB1cmUgVUkgZXZlbnRzKiBlbWl0dGVkIGJ5IHRoZSBWaWV3IChwYW5lbF92aWV3LnRzKS5cbiAqIC0gVGhlIFZpZXcgcmVhZHMgRE9NIHN0YXRlLCBub3JtYWxpemVzIGl0LCBhbmQgZW1pdHMgb25lIG9mIHRoZXNlIGV2ZW50cy5cbiAqIC0gVGhlIENvbnRyb2xsZXIgbWFwcyBlYWNoIFVJIGV2ZW50IHRvIGFuIEFjdGlvblR5cGUgYW5kIGRpc3BhdGNoZXMgaXQuXG4gKiAtIFBheWxvYWRzIGFyZSBzdHJvbmdseSB0eXBlZCB2aWEgVUlFdmVudFBheWxvYWRNYXA7IHVzZSBgdW5kZWZpbmVkYCBmb3Igbm8gcGF5bG9hZC5cbiAqL1xuZXhwb3J0IHZhciBVSUV2ZW50VHlwZTtcbihmdW5jdGlvbiAoVUlFdmVudFR5cGUpIHtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0dHTEVfU0VMRUNUXCJdID0gXCJUT0dHTEVfU0VMRUNUXCI7XG4gICAgLyoqIENsZWFyIGFsbCBzZWxlY3Rpb25zICovXG4gICAgVUlFdmVudFR5cGVbXCJDTEVBUlwiXSA9IFwiQ0xFQVJcIjtcbiAgICAvKiogVHJpZ2dlciBwYWdlIGNhcHR1cmUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVcIl0gPSBcIkNBUFRVUkVcIjtcbiAgICAvKiogQmFkZ2Ugc2l6ZSBjaGFuZ2VkIChyYW5nZS9udW1iZXIgaW5wdXRzKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfU0laRV9DSEFOR0VcIl0gPSBcIkJBREdFX1NJWkVfQ0hBTkdFXCI7XG4gICAgLyoqIEJhZGdlIGNvbG9yIHBpY2tlZCAocG9wb3ZlciBidXR0b25zKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfQ09MT1JfU0VMRUNUXCJdID0gXCJCQURHRV9DT0xPUl9TRUxFQ1RcIjtcbiAgICAvKiogQmFkZ2Ugc2hhcGUgY2hhbmdlZCAoc2VsZWN0KSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfU0hBUEVfQ0hBTkdFXCJdID0gXCJCQURHRV9TSEFQRV9DSEFOR0VcIjtcbiAgICAvKiogQmFkZ2UgbGFiZWwgZm9ybWF0IGNoYW5nZWQgKHNlbGVjdCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0xBQkVMX0ZPUk1BVF9DSEFOR0VcIl0gPSBcIkJBREdFX0xBQkVMX0ZPUk1BVF9DSEFOR0VcIjtcbiAgICAvKiogQmFkZ2UgdmlzaWJsZSBmb3JtYXQgY2hhbmdlZCAoc2VsZWN0KSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfVklTSUJMRV9DSEFOR0VcIl0gPSBcIkJBREdFX1ZJU0lCTEVfQ0hBTkdFXCI7XG4gICAgLyoqIERlbGV0ZSB0aGUgc2VsZWN0ZWQgYmFkZ2UgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0RFTEVURVwiXSA9IFwiQkFER0VfREVMRVRFXCI7XG4gICAgLyoqIEJhZGdlIHBvc2l0aW9uIHBpY2tlZCAocG9wb3ZlciBidXR0b25zKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfUE9TSVRJT05fU0VMRUNUXCJdID0gXCJCQURHRV9QT1NJVElPTl9TRUxFQ1RcIjtcbiAgICAvKiogVXBkYXRlIGEgZ3JvdXAgb2YgZWxlbWVudHMgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlNFVF9HUk9VUFwiXSA9IFwiU0VUX0dST1VQXCI7XG4gICAgLyoqIENhcHR1cmUgZm9ybWF0IGNoYW5nZWQgKHJhZGlvKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0VcIjtcbiAgICAvKiogQ2FwdHVyZSBhcmVhIGNoYW5nZWQgKHJhZGlvKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9BUkVBX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9BUkVBX0NIQU5HRVwiO1xuICAgIC8qKiBKUEVHIHF1YWxpdHkgY2hhbmdlZCAocmFuZ2UvbnVtYmVyKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRVwiO1xuICAgIC8qKiBDYXB0dXJlIHNjYWxlIGNoYW5nZWQgKHJhbmdlL251bWJlcikgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfU0NBTEVfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX1NDQUxFX0NIQU5HRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiXSA9IFwiVE9HR0xFX0NBUFRVUkVfUEFORUxcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlJFT1JERVJfSVRFTVNcIl0gPSBcIlJFT1JERVJfSVRFTVNcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCJdID0gXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCI7XG4gICAgLyoqIFN0YXJ0IGl0ZW0gaG92ZXIgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fSE9WRVJfSU5cIl0gPSBcIklURU1fSE9WRVJfSU5cIjtcbiAgICAvKiogRW5kIGl0ZW0gaG92ZXIgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBBcHBseSBwZW5kaW5nIGNvbW1lbnQgZWRpdHMgdG8gdGhlIHNlbGVjdGVkIGl0ZW0gKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fQ09NTUVOVF9BUFBMWVwiXSA9IFwiSVRFTV9DT01NRU5UX0FQUExZXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIEVtaXR0ZWQgYWZ0ZXIgdGhlIFNldHRpbmdzIG1vZGFsIGlzIHNob3cgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlNFVFRJTkdfTU9EQUxfU0hPV1wiXSA9IFwiU0VUVElOR19NT0RBTF9TSE9XXCI7XG4gICAgLyoqIEltcG9ydCBhIFNjcmVlblN0YXRlIGZyb20gYSBzZWxlY3RlZCBKU09OIGZpbGUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiXSA9IFwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCI7XG4gICAgLyoqIERpc21pc3MgYSB0b2FzdCBieSBVVUlEICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRFwiXSA9IFwiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIjtcbiAgICAvKiogQ2xpY2sgdG8gcmVtb3ZlIHRoZSBzYXZlZCBwYWdlICovXG4gICAgVUlFdmVudFR5cGVbXCJSRU1PVkVfUEFHRV9DTElDS1wiXSA9IFwiUkVNT1ZFX1BBR0VfQ0xJQ0tcIjtcbiAgICAvKiogQ2xpY2sgdGhlIGV4cG9ydCBidXR0b24gKi9cbiAgICBVSUV2ZW50VHlwZVtcIkVYUE9SVF9QQUdFX0NMSUNLXCJdID0gXCJFWFBPUlRfUEFHRV9DTElDS1wiO1xufSkoVUlFdmVudFR5cGUgfHwgKFVJRXZlbnRUeXBlID0ge30pKTtcbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBpc1Jlc3RyaWN0ZWQsIHBhZ2VLZXkgfSBmcm9tICdAY29tbW9uL3VybCc7XG5pbXBvcnQgeyBnZXRBY3RpdmVUYWIgfSBmcm9tICdAaW5mcmEvY2hyb21lL3RhYnMnO1xuaW1wb3J0IHsgaW5pdGlhbE1vZGVsIH0gZnJvbSAnQHBhbmVsL2FwcC9tb2RlbCc7XG5pbXBvcnQgeyB1cGRhdGUgfSBmcm9tICdAcGFuZWwvYXBwL3VwZGF0ZSc7XG5pbXBvcnQgeyBjb25uZWN0VG9UYWIgfSBmcm9tICdAcGFuZWwvbWVzc2FnaW5nL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHsgY2FwdHVyZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9jYXB0dXJlJztcbmltcG9ydCB7IGV4cG9ydFNjcmVlblN0YXRlIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL2V4cG9ydCc7XG5pbXBvcnQgeyBpbXBvcnRTY3JlYW5TdGF0ZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9pbXBvcnQnO1xuaW1wb3J0IHsgaGFuZGxlU2VsZWN0ZWQgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvc3RhdGUnO1xuaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSwgdGhlbWVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL2FjdGlvbl90eXBlcyc7XG5pbXBvcnQgeyBFZmZlY3RUeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL2VmZmVjdF90eXBlcyc7XG5pbXBvcnQgeyBTVEFUVVMgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3VpX2V2ZW50X3R5cGVzJztcbmV4cG9ydCBjbGFzcyBQYW5lbENvbnRyb2xsZXIge1xuICAgIHZpZXc7XG4gICAgbW9kZWwgPSBzdHJ1Y3R1cmVkQ2xvbmUoaW5pdGlhbE1vZGVsKTtcbiAgICBjb25uID0gbnVsbDtcbiAgICBjdXJyZW50V2luZG93SWQgPSBudWxsO1xuICAgIHN0YXRpYyBSRVFVSVJFU19DT05OID0gbmV3IFNldChbXG4gICAgICAgIEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuVE9HR0xFX1NFTEVDVF9PTl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuSE9WRVIsXG4gICAgXSk7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSU5JVCB9KTtcbiAgICAgICAgY29uc3QgeyBvayB9ID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoeyBmb3JjZVJlY29ubmVjdDogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcih0aGlzLm1vZGVsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlld0hhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIGNvbnN0IHcgPSBhd2FpdCBjaHJvbWUud2luZG93cy5nZXRDdXJyZW50KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFdpbmRvd0lkID0gdy5pZCA/PyBudWxsO1xuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1zZykgPT4ge1xuICAgICAgICAgICAgaWYgKG1zZy50eXBlICE9PSBNU0dfVFlQRS5BQ1RJVkVfVEFCX0NIQU5HRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc2VuZGVyV2luZG93SWQgPSBtc2cucGF5bG9hZC53aW5kb3dJZDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRXaW5kb3dJZCA9PSBudWxsIHx8IHRoaXMuY3VycmVudFdpbmRvd0lkICE9PSBzZW5kZXJXaW5kb3dJZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2b2lkIHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKHsgZm9yY2VSZWNvbm5lY3Q6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlclZpZXdIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPR0dMRV9TRUxFQ1QsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1QgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0xFQVIsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNMRUFSX0FMTCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9TSVpFX0NIQU5HRSwgKHsgc2l6ZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfU0laRSwgc2l6ZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9DT0xPUl9TRUxFQ1QsICh7IGNvbG9yIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUiwgY29sb3IgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfU0hBUEVfQ0hBTkdFLCAoeyBzaGFwZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfU0hBUEUsIHNoYXBlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX0xBQkVMX0ZPUk1BVF9DSEFOR0UsICh7IGxhYmVsRm9ybWF0IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9MQUJFTF9GT1JNQVQsIGxhYmVsRm9ybWF0IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1ZJU0lCTEVfQ0hBTkdFLCAoeyB2aXNpYmxlIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9WSVNJQkxFLCB2aXNpYmxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuQkFER0VfREVMRVRFIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgKHsgcG9zaXRpb24gfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OLCBwb3NpdGlvbiB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUwgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCAoeyBmb3JtYXQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfRk9STUFULCBmb3JtYXQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9BUkVBX0NIQU5HRSwgKHsgYXJlYSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9BUkVBLCBhcmVhIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfUVVBTElUWV9DSEFOR0UsICh7IHF1YWxpdHkgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfUVVBTElUWSwgcXVhbGl0eSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX1NDQUxFX0NIQU5HRSwgKHsgc2NhbGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfU0NBTEUsIHNjYWxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsICh7IGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVMsIGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlNFVF9HUk9VUCwgKHsgZ3JvdXAgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0dST1VQLCBncm91cCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCAocGF5bG9hZCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgLi4ucGF5bG9hZCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCAoeyBpZCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOLCBpZCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9PVVQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9DT01NRU5UX0FQUExZLCAoeyBpZCwgY29tbWVudCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5ULCBpZCwgY29tbWVudCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5VUERBVEVfVEhFTUUsICh7IHRoZW1lIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlVQREFURV9USEVNRSwgdGhlbWUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuU0VUVElOR19NT0RBTF9TSE9XLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfUkVRVUVTVEVEIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgKHsgZmlsZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsIGZpbGUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVE9BU1RfRElTTUlTU19SRVFVRVNURUQsICh7IHV1aWQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVE9BU1RfRElTTUlTU19SRVFVRVNURUQsIHV1aWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuUkVNT1ZFX1BBR0VfQ0xJQ0ssICh7IHBhZ2VLZXkgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFLCBwYWdlS2V5IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkVYUE9SVF9QQUdFX0NMSUNLLCAoeyBwYWdlS2V5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRSwgcGFnZUtleSB9KSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICBjb25zdCB7IG1vZGVsOiBuZXh0LCBlZmZlY3RzIH0gPSB1cGRhdGUodGhpcy5tb2RlbCwgYWN0aW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5leHQ7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIHZvaWQgdGhpcy5leGVjRWZmZWN0cyhlZmZlY3RzKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY0VmZmVjdHMoZWZmZWN0cykge1xuICAgICAgICBjb25zdCBuZWVkc0Nvbm4gPSBlZmZlY3RzLnNvbWUoKGZ4KSA9PiBQYW5lbENvbnRyb2xsZXIuUkVRVUlSRVNfQ09OTi5oYXMoZngua2luZCkpO1xuICAgICAgICBpZiAobmVlZHNDb25uKSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoKTtcbiAgICAgICAgICAgIGlmICghci5vayB8fCByLmNvbnRleHRDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZ4IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZngua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkucmVuZGVyKGZ4Lml0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkudG9nZ2xlU2VsZWN0KGZ4LmVuYWJsZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkhPVkVSOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm4/LmFwaS5ob3ZlcihmeC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DTEVBUl9TVEFURTpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQodGhpcy5tb2RlbC5wYWdlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6IHRoaXMubW9kZWwuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpc2libGU6IHRoaXMubW9kZWwuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldCh0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnNldCh0aGlzLm1vZGVsLnBhZ2VLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6IHRoaXMubW9kZWwuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpc2libGU6IHRoaXMubW9kZWwuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuU0VUX1RIRU1FOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gYXdhaXQgdGhlbWVUYWJsZS5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1RIRU1FLCB0aGVtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoZW1lVGFibGUuc2V0KGZ4LnRoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBpbXBvcnRTY3JlYW5TdGF0ZShmeC5maWxlLCB0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0YXRlLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogc3RhdGUuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZTogc3RhdGUuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3RhdGUuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0YXRlLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5JTVBPUlRfRkFJTEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZXM6IFttZXNzYWdlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWToge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnJlbW92ZShmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuU3RhdGVzID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5yZWFkQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VLZXlzID0gT2JqZWN0LmtleXMoc2NyZWVuU3RhdGVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlNUT1JFX1JFTE9BRF9TVUNDRUVERUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQodGhpcy5tb2RlbC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogc3QuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzdC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiBzdC5kZWZhdWx0TGFiZWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpc2libGU6IHN0LmRlZmF1bHRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3QuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogc3QuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cG9ydFNjcmVlblN0YXRlKHN0YXRlLCBmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9GQUlMRUQsIGVycm9yIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLm1lYXN1cmVTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DQVBUVVJFOlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FwdHVyZShmeC5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfU1VDQ0VFREVEIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX0ZBSUxFRCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihmeC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGVuc3VyZUNvbm5lY3Rpb25BbGl2ZShvcHRzKSB7XG4gICAgICAgIGNvbnN0IHByZXZLZXkgPSB0aGlzLm1vZGVsLnBhZ2VLZXk7XG4gICAgICAgIGNvbnN0IGZvcmNlID0gb3B0cz8uZm9yY2VSZWNvbm5lY3QgPT09IHRydWU7XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbmcgPSBhd2FpdCB0aGlzLmNvbm4/LmFwaS5waW5nKCk7XG4gICAgICAgICAgICBpZiAocG9uZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWIgPSBhd2FpdCBnZXRBY3RpdmVUYWIoKTtcbiAgICAgICAgaWYgKCF0YWI/LmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuUkVTVFJJQ1RFRCB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHBhZ2VLZXkodGFiLnVybCk7XG4gICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DT05ORUNURUQsIHRhYklkLCBwYWdlS2V5OiBuZXdLZXkgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9TVEFUVVMsIHN0YXR1czogU1RBVFVTLkNPTk5FQ1RJTkcgfSk7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgY2xvc2UgdGhlIG9sZCBwb3J0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4/LnBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uID0gYXdhaXQgY29ubmVjdFRvVGFiKHRhYklkKTtcbiAgICAgICAgdGhpcy5jb25uLm9uRGlzY29ubmVjdCgoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5QT1JUX0RJU0NPTk5FQ1RFRCB9KSk7XG4gICAgICAgIHRoaXMuY29ubi5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihhc3luYyAobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5TRUxFQ1RFRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBoYW5kbGVTZWxlY3RlZCh0aGlzLm1vZGVsLnBhZ2VLZXksIG1zZy5wYXlsb2FkLmFuY2hvcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogcy5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogcy5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6IHMuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpc2libGU6IHMuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHMuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1zZz8udHlwZSA9PT0gTVNHX1RZUEUuTUlTU0lOR19JRFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFMsXG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdJZHM6IG1zZy5wYXlsb2FkLm1pc3NpbmdJZHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLkNPTlRFTlRfU0laRV9SRVNVTFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX1JFUVVFU1RFRCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFNpemU6IG1zZy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3QgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChuZXdLZXkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHN0Lml0ZW1zLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzdC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0LmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHN0LmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6IHN0LmRlZmF1bHRMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZTogc3QuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiBzdC5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzdC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuQ09OTkVDVEVEIH0pO1xuICAgICAgICBjb25zdCBjb250ZXh0Q2hhbmdlZCA9ICEhcHJldktleSAmJiBwcmV2S2V5ICE9PSBuZXdLZXk7XG4gICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZCB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFVOR1JPVVBFRF9WQUxVRSB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZCB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9zdGF0ZSc7XG5pbXBvcnQgeyBTVEFUVVMgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IEFjdGlvblR5cGUgfSBmcm9tICcuLi90eXBlcy9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHsgRWZmZWN0VHlwZSB9IGZyb20gJy4uL3R5cGVzL2VmZmVjdF90eXBlcyc7XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG1vZGVsLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JTklUOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuU0VUX1RIRU1FIH1dIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DT05ORUNURUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbDogeyAuLi5tb2RlbCwgdGFiSWQ6IGFjdGlvbi50YWJJZCwgcGFnZUtleTogYWN0aW9uLnBhZ2VLZXkgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9TVEFUVVM6IHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uc3RhdHVzID09PSBTVEFUVVMuQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zOiBbXSwgc3RhdHVzOiBhY3Rpb24uc3RhdHVzIH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogYWN0aW9uLnN0YXRlLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogYWN0aW9uLnN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogYWN0aW9uLnN0YXRlLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiBhY3Rpb24uc3RhdGUuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZTogYWN0aW9uLnN0YXRlLmRlZmF1bHRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IGFjdGlvbi5zdGF0ZS5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogYWN0aW9uLnN0YXRlLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zOiBhY3Rpb24uc3RhdGUuaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX01JU1NJTkdfSURTOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgbWlzc2luZ0lkczogYWN0aW9uLm1pc3NpbmdJZHMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5UT0dHTEVfU0VMRUNUOiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gIW1vZGVsLnNlbGVjdGlvbkVuYWJsZWQ7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3Rpb25FbmFibGVkOiBuZXh0IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsIGVuYWJsZWQ6IG5leHQgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DTEVBUl9BTEw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQgfSwgeyBraW5kOiBFZmZlY3RUeXBlLkNMRUFSX1NUQVRFIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNPTlRFTlRfU0VMRUNURUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBwYW5lbEV4cGFuZGVkOiAhbW9kZWwuY2FwdHVyZS5wYW5lbEV4cGFuZGVkIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQkFER0VfU0laRToge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IHNpemU6IGFjdGlvbi5zaXplIH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0U2l6ZTogYWN0aW9uLnNpemUsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQkFER0VfQ09MT1I6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyBjb2xvcjogYWN0aW9uLmNvbG9yIH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0Q29sb3I6IGFjdGlvbi5jb2xvciwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSEFQRToge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IHNoYXBlOiBhY3Rpb24uc2hhcGUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRTaGFwZTogYWN0aW9uLnNoYXBlLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX0xBQkVMX0ZPUk1BVDoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IGxhYmVsRm9ybWF0OiBhY3Rpb24ubGFiZWxGb3JtYXQgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRMYWJlbEZvcm1hdDogYWN0aW9uLmxhYmVsRm9ybWF0LCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1ZJU0lCTEU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyB2aXNpYmxlOiBhY3Rpb24udmlzaWJsZSB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFZpc2libGU6IGFjdGlvbi52aXNpYmxlLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQkFER0VfREVMRVRFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc01hcmtlZEZvclJlbGFiZWwgPSBtb2RlbC5pdGVtcy5maWx0ZXIoKGl0KSA9PiAhbW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9QT1NJVElPTjoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IHBvc2l0aW9uOiBhY3Rpb24ucG9zaXRpb24gfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRQb3NpdGlvbjogYWN0aW9uLnBvc2l0aW9uLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0dST1VQOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc01hcmtlZEZvclJlbGFiZWwgPSB1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbChtb2RlbC5pdGVtcywgbW9kZWwuc2VsZWN0SXRlbXMsIGFjdGlvbi5ncm91cCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXNNYXJrZWRGb3JSZWxhYmVsKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRHcm91cDogYWN0aW9uLmdyb3VwLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfRk9STUFUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBmb3JtYXQ6IGFjdGlvbi5mb3JtYXQgfSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0FSRUE6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBhcmVhOiBhY3Rpb24uYXJlYSB9IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9RVUFMSVRZOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBxdWFsaXR5OiBhY3Rpb24ucXVhbGl0eSB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfU0NBTEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHNjYWxlOiBhY3Rpb24uc2NhbGUgfSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLk1FQVNVUkVfQ09OVEVOVF9TSVpFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLk1FQVNVUkVfQ09OVEVOVF9TSVpFIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNBUFRVUkVfUkVRVUVTVEVEOiB7XG4gICAgICAgICAgICBpZiAobW9kZWwudGFiSWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUiwgZXJyb3I6ICdObyB0YWJJZCcgfV0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBFZmZlY3RUeXBlLkNBUFRVUkUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSWQ6IG1vZGVsLnRhYklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbW9kZWwuY2FwdHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYTogbW9kZWwuY2FwdHVyZS5hcmVhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IG1vZGVsLmNhcHR1cmUucXVhbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogbW9kZWwuY2FwdHVyZS5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2l6ZTogYWN0aW9uLmNvbnRlbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9TVUNDRUVERUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNBUFRVUkVfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogYWN0aW9uLmVycm9yIH1dIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRU9SREVSX0lURU1TOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc01hcmtlZEZvclJlbGFiZWwgPSByZW9yZGVySXRlbUxhYmVsKG1vZGVsLml0ZW1zLCBhY3Rpb24uZnJvbUlkLCBhY3Rpb24uZnJvbUluZGV4LCBhY3Rpb24udG9JbmRleCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXNNYXJrZWRGb3JSZWxhYmVsKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VEOiB7XG4gICAgICAgICAgICBpZiAoJ2lkJyBpbiBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QvZGVzZWxlY3QgYSBzaW5nbGUgaXRlbVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQoYWN0aW9uLmlkLCBhY3Rpb24uaXNDaGVjaywgbW9kZWwuc2VsZWN0SXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJ2dyb3VwJyBpbiBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QvZGVzZWxlY3QgYSBncm91cFxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwKGFjdGlvbi5ncm91cCwgYWN0aW9uLmlzQ2hlY2ssIG1vZGVsLnNlbGVjdEl0ZW1zLCBtb2RlbC5pdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgYWxsL0Rlc2VsZWN0IGFsbFxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckFsbChhY3Rpb24uYWxsQ2hlY2ssIG1vZGVsLml0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9JTjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5IT1ZFUiwgaWQ6IGFjdGlvbi5pZCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX0hPVkVSX09VVDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5IT1ZFUiwgaWQ6IG51bGwgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVVBEQVRFX0lURU1fQ09NTUVOVDoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihpdC5pZCA9PT0gYWN0aW9uLmlkID8geyBjb21tZW50OiBhY3Rpb24uY29tbWVudCB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlBPUlRfRElTQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc3RhdHVzOiBTVEFUVVMuRElTQ09OTkVDVEVELCBzZWxlY3Rpb25FbmFibGVkOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuVE9HR0xFX1NFTEVDVF9PTl9DT05URU5ULCBlbmFibGVkOiBmYWxzZSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfVEhFTUU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0aGVtZTogYWN0aW9uLnRoZW1lIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVVBEQVRFX1RIRU1FOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdGhlbWU6IGFjdGlvbi50aGVtZSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuVVBEQVRFX1RIRU1FLCB0aGVtZTogYWN0aW9uLnRoZW1lIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUT1JFX1JFTE9BRF9SRVFVRVNURUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHBhZ2VLZXlzOiBhY3Rpb24ucGFnZUtleXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFLCBmaWxlOiBhY3Rpb24uZmlsZSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JTVBPUlRfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdG9hc3RNZXNzYWdlczogYWN0aW9uLnRvYXN0TWVzc2FnZXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5UT0FTVF9ESVNNSVNTX1JFUVVFU1RFRDoge1xuICAgICAgICAgICAgY29uc3QgdG9hc3RNZXNzYWdlcyA9IG1vZGVsLnRvYXN0TWVzc2FnZXMuZmlsdGVyKCh0KSA9PiB0LnV1aWQgIT09IGFjdGlvbi51dWlkKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRvYXN0TWVzc2FnZXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW1xuICAgICAgICAgICAgICAgICAgICB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWSwgcGFnZUtleTogYWN0aW9uLnBhZ2VLZXkgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZLCBwYWdlS2V5OiBhY3Rpb24ucGFnZUtleSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5FWFBPUlRfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogYWN0aW9uLmVycm9yIH1dIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICB9XG59XG4vKipcbiAqIFJlbGFiZWwgaXRlbXMgYXMgaWYgdGhlIGl0ZW0gd2l0aCBgZnJvbUlkYCB3YXMgbW92ZWQgdG8gdGhlIHBvc2l0aW9uXG4gKiB3aG9zZSBsYWJlbCBlcXVhbHMgYGl0ZW1zW3RvSW5kZXhdLmxhYmVsYC4gTGFiZWxzIG9mIHRoZSBpdGVtcyBpbiBiZXR3ZWVuXG4gKiBhcmUgc2hpZnRlZCBieSDCsTEgdG8ga2VlcCBsYWJlbHMgdW5pcXVlIGFuZCBjb250aWd1b3VzIChpZiB0aGV5IHdlcmUpLlxuICpcbiAqIEBwYXJhbSBpdGVtcyAgIC0gU291cmNlIGl0ZW1zIChub3QgbXV0YXRlZCkuXG4gKiBAcGFyYW0gZnJvbUlkICAtIElEIG9mIHRoZSBpdGVtIHRvIG1vdmUuXG4gKiBAcGFyYW0gZnJvbUluZGV4ICAtIFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBpdGVtIHRvIGJlIG1vdmVkLlxuICogQHBhcmFtIHRvSW5kZXggLSBUYXJnZXQgaW5kZXggaW4gYGl0ZW1zYCB3aG9zZSBsYWJlbCBiZWNvbWVzIHRoZSBuZXcgbGFiZWwuXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSB3aXRoIHVwZGF0ZWQgbGFiZWxzLlxuICogQHRocm93cyBSYW5nZUVycm9yIGlmIGB0b0luZGV4YCBpcyBvdXQgb2YgYm91bmRzIG9yIEVycm9yIGlmIGBmcm9tSWRgIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gcmVvcmRlckl0ZW1MYWJlbChpdGVtcywgZnJvbUlkLCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICBpZiAodG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYHRvSW5kZXggb3V0IG9mIHJhbmdlOiAke3RvSW5kZXh9YCk7XG4gICAgfVxuICAgIGNvbnN0IGZyb21JZHggPSBpdGVtcy5maW5kSW5kZXgoKGkpID0+IGkuaWQgPT09IGZyb21JZCk7XG4gICAgaWYgKGZyb21JZHggPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSXRlbSBub3QgZm91bmQgZm9yIGlkPSR7ZnJvbUlkfWApO1xuICAgIH1cbiAgICBpZiAodG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBpdGVtcy5maWx0ZXIoKGl0KSA9PiBpdC5ncm91cCA9PT0gaXRlbXNbZnJvbUlkeF0uZ3JvdXApLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgdG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7dG9JbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgT0ZGU0VUX0FGVEVSID0gMS4xO1xuICAgIGNvbnN0IE9GRlNFVF9CRUZPUkUgPSAwLjE7XG4gICAgY29uc3Qgb2Zmc2V0ID0gZnJvbUluZGV4IDwgdG9JbmRleCA/IE9GRlNFVF9BRlRFUiA6IE9GRlNFVF9CRUZPUkU7XG4gICAgY29uc3QgbGFiZWwgPSB0b0luZGV4ICsgb2Zmc2V0O1xuICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiAoaXQuaWQgPT09IGZyb21JZCA/IHsgLi4uaXQsIGxhYmVsIH0gOiBpdCkpO1xufVxuLyoqXG4gKiBCdW1wcyB0aGUgbGFiZWwgb2Ygc2VsZWN0ZWQgaXRlbXMgdGhhdCBhbHJlYWR5IGJlbG9uZyB0byB0aGUgdHJpbW1lZCB0YXJnZXQgZ3JvdXAsIHdoaWxlIGRlZmVycmluZyBsYWJlbCBub3JtYWxpemF0aW9uLlxuICpcbiAqIE5vdGVzXG4gKiAtIFRoZSBmdW5jdGlvbiBvbmx5IHRvdWNoZXMgaXRlbXMgd2hvc2UgYGlkYCBpcyBpbiBgc2VsZWN0SXRlbXNgIGFuZCB3aG9zZSBjdXJyZW50IGBncm91cGAgbWF0Y2hlcyBgbmV4dEdyb3VwUmF3YCAoYWZ0ZXIgdHJpbW1pbmcpLlxuICogLSBMYWJlbHMgYXJlIHJlYXNzaWduZWQgdG8gbGFyZ2UgZGVzY2VuZGluZyBudW1iZXJzIHNvIHRoYXQgYHJlbGFiZWxDb25zZWN1dGl2ZVBlckdyb3VwKClgIGNhbiBsYXRlciBjb21wYWN0IHRoZW0uXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gRnVsbCBsaXN0IG9mIHNjcmVlbiBpdGVtcy5cbiAqIEBwYXJhbSBzZWxlY3RJdGVtcyAtIElEcyBvZiB0aGUgaXRlbXMgdGhhdCBzaG91bGQgcmVjZWl2ZSBhIHRlbXBvcmFyeSBsYWJlbCBidW1wLlxuICogQHBhcmFtIG5leHRHcm91cFJhdyAtIFRhcmdldCBncm91cCBuYW1lOyB0cmltbWVkIGJlZm9yZSBjb21wYXJpc29uLlxuICogQHJldHVybnMgQSBuZXcgYXJyYXkgd2hlcmUgdGhlIG1hdGNoaW5nIGl0ZW1zIGdhaW4gYSB0ZW1wb3JhcnkgaGlnaC1wcmlvcml0eSBsYWJlbDsgb3RoZXIgaXRlbXMgYXJlIHVudG91Y2hlZC5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlR3JvdXBBbmREZWZlclJlbGFiZWwoaXRlbXMsIHNlbGVjdEl0ZW1zLCBuZXh0R3JvdXBSYXcpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTtcbiAgICBjb25zdCBuZXh0R3JvdXAgPSBub3JtYWxpemUobmV4dEdyb3VwUmF3KTtcbiAgICBsZXQgdXBkYXRlSXRlbUNudCA9IDA7XG4gICAgcmV0dXJuIGl0ZW1zXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmlkIC0gYS5pZClcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXRlbS5pZCkgJiYgaXRlbS5ncm91cCAhPT0gbmV4dEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gdXBkYXRlSXRlbUNudCsrO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgZ3JvdXA6IG5leHRHcm91cCwgbGFiZWwgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRCeUlkKGlkLCBpc0NoZWNrLCBzZWxlY3RJdGVtcykge1xuICAgIGlmIChpc0NoZWNrKSB7XG4gICAgICAgIGlmICghc2VsZWN0SXRlbXMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnNlbGVjdEl0ZW1zLCBpZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gaWQpO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwKGdyb3VwLCBpc0NoZWNrLCBzZWxlY3RJdGVtcywgaXRlbXMpIHtcbiAgICBjb25zdCBnID0gZ3JvdXAudHJpbSgpO1xuICAgIGNvbnN0IGdyb3VwSWRzID0gaXRlbXNcbiAgICAgICAgLmZpbHRlcigoaXQpID0+IChpdC5ncm91cCA/PyBVTkdST1VQRURfVkFMVUUpLnRyaW0oKSA9PT0gZylcbiAgICAgICAgLm1hcCgoaXQpID0+IGl0LmlkKTtcbiAgICBpZiAoZ3JvdXBJZHMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXM7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldChzZWxlY3RJdGVtcyk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ3JvdXBJZHMpXG4gICAgICAgICAgICBzZXQuYWRkKGlkKTtcbiAgICAgICAgcmV0dXJuIFsuLi5zZXRdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZ3JvdXBTZXQgPSBuZXcgU2V0KGdyb3VwSWRzKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdEl0ZW1zLmZpbHRlcigoaWQpID0+ICFncm91cFNldC5oYXMoaWQpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFsbENoZWNrLCBpdGVtcykge1xuICAgIGlmIChhbGxDaGVjaykge1xuICAgICAgICByZXR1cm4gaXRlbXMubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgcGFnZUtleSB9IGZyb20gJ0Bjb21tb24vdXJsJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVUYWIoKSB7XG4gICAgY29uc3QgdGFicyA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0pO1xuICAgIHJldHVybiB0YWJzWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQWN0aXZlVGFiQnJvYWRjYXN0KCkge1xuICAgIC8vIFRhYiBzd2l0Y2hpbmdcbiAgICBjb25zdCBvbkFjdGl2YXRlZCA9IGFzeW5jICh7IHRhYklkLCB3aW5kb3dJZCB9KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBbdGFiXSA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCB3aW5kb3dJZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYj8udXJsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgYXdhaXQgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZCwgdXJsLCBwYWdlS2V5OiBrZXkgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlbG9hZC90cmFuc2l0aW9uIGRldGVjdGlvbiB3aXRoaW4gdGhlIHNhbWUgdGFiXG4gICAgY29uc3Qgb25VcGRhdGVkID0gYXN5bmMgKHRhYklkLCBpbmZvLCB0YWIpID0+IHtcbiAgICAgICAgaWYgKCF0YWI/LmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGluZm8uc3RhdHVzID09PSAnbG9hZGluZycgfHwgdHlwZW9mIGluZm8udXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0YWIudXJsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHVybCA/IHBhZ2VLZXkodXJsKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyB0YWJJZCwgd2luZG93SWQ6IHRhYi53aW5kb3dJZCwgdXJsLCBwYWdlS2V5OiBrZXkgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjaHJvbWUudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcihvbkFjdGl2YXRlZCk7XG4gICAgY2hyb21lLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKG9uVXBkYXRlZCk7XG59XG4iLCJpbXBvcnQgeyBDSEFOTkVMIH0gZnJvbSAnQGNvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgUGFuZWxBcGkgfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyBQb3J0UnBjIH0gZnJvbSAnLi9wb3J0X3JwYyc7XG4vKipcbiAqIEluamVjdHMgdGhlIGNvbnRlbnQgc2NyaXB0IGludG8gdGhlIHRhYiBpZiBuZWVkZWQsIGFuZFxuICogaW5pdGlhbGl6ZXMgdGhlIFBvcnQgY29ubmVjdGlvbiBhbmQgUlBDIGZvciBQYW5lbCDihpQgQ29udGVudC5cbiAqXG4gKiBAcGFyYW0gdGFiSWQgLSBUYXJnZXQgdGFiIGlkXG4gKiBAcmV0dXJucyBBIGNvbm5lY3Rpb24gb2JqZWN0IGJ1bmRsaW5nIEFQSSwgUG9ydCwgYW5kIFJQQ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvVGFiKHRhYklkKSB7XG4gICAgYXdhaXQgY2hyb21lLnNjcmlwdGluZ1xuICAgICAgICAuZXhlY3V0ZVNjcmlwdCh7XG4gICAgICAgIHRhcmdldDogeyB0YWJJZCB9LFxuICAgICAgICBmaWxlczogWydjb250ZW50L21haW4uanMnXSxcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAvKiBJZ25vcmUgaWYgYWxyZWFkeSBpbmplY3RlZCAqL1xuICAgIH0pO1xuICAgIGNvbnN0IHBvcnQgPSBjaHJvbWUudGFicy5jb25uZWN0KHRhYklkLCB7IG5hbWU6IENIQU5ORUwuUEFORUxfQ09OVEVOVCB9KTtcbiAgICBjb25zdCBycGMgPSBuZXcgUG9ydFJwYyhwb3J0KTtcbiAgICBjb25zdCBhcGkgPSBuZXcgUGFuZWxBcGkocnBjKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBwb3J0Lm9uRGlzY29ubmVjdC5hZGRMaXN0ZW5lcigoKSA9PiBsaXN0ZW5lcnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGksXG4gICAgICAgIHBvcnQsXG4gICAgICAgIHJwYyxcbiAgICAgICAgb25EaXNjb25uZWN0OiAoY2IpID0+IGxpc3RlbmVycy5wdXNoKGNiKSxcbiAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgY29uc3QgSUNPTlMgPSB7XG4gICAgY2FyZXREb3duOiB7XG4gICAgICAgIGQ6ICdNNS4yMyA3LjIxYS43NS43NSAwIDAxMS4wNi4wMkwxMCAxMC45MzlsMy43MS0zLjcxYS43NS43NSAwIDExMS4wNiAxLjA2MkwxMC41MyAxMi41M2EuNzUuNzUgMCAwMS0xLjA2IDBMNS4yMyA4LjI3YS43NS43NSAwIDAxLjAyLTEuMDZ6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjYXJldERvd25GaWxsOiB7XG4gICAgICAgIGQ6ICdNNy4yNDcgMTEuMTQgMi40NTEgNS42NThDMS44ODUgNS4wMTMgMi4zNDUgNCAzLjIwNCA0aDkuNTkyYTEgMSAwIDAgMSAuNzUzIDEuNjU5bC00Ljc5NiA1LjQ4YTEgMSAwIDAgMS0xLjUwNiAweicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMTYgMTYnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodDoge1xuICAgICAgICBkOiAnTTcuMjkzIDE0LjcwN2ExIDEgMCAwMS0xLjQxNC0xLjQxNEwxMC4xNzIgOSA1Ljg3OSA0LjcwN2ExIDEgMCAwMTEuNDE0LTEuNDE0bDUgNWExIDEgMCAwMTAgMS40MTRsLTUgNXonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0UmlnaHRGaWxsOiB7XG4gICAgICAgIGQ6ICdtMTIuMTQgOC43NTMtNS40ODIgNC43OTZjLS42NDYuNTY2LTEuNjU4LjEwNi0xLjY1OC0uNzUzVjMuMjA0YTEgMSAwIDAgMSAxLjY1OS0uNzUzbDUuNDggNC43OTZhMSAxIDAgMCAxIDAgMS41MDZ6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBzdWNjZXNzOiB7XG4gICAgICAgIGQ6ICdNMTAgMThhOCA4IDAgMSAwIDAtMTYgOCA4IDAgMCAwIDAgMTZabTMuNzA3LTguNzA3YTEgMSAwIDAgMC0xLjQxNC0xLjQxNEw5IDExLjE3MiA3LjcwNyA5Ljg3OWExIDEgMCAxIDAtMS40MTQgMS40MTRsMiAyYTEgMSAwIDAgMCAxLjQxNCAwbDQtNFonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGVycm9yOiB7XG4gICAgICAgIGQ6ICdNMTAgMThhOCA4IDAgMSAwIDAtMTYgOCA4IDAgMCAwIDAgMTZabS0uNzUtMTEuNWEuNzUuNzUgMCAwIDEgMS41IDB2NWEuNzUuNzUgMCAwIDEtMS41IDB2LTVabS43NSA4YTEgMSAwIDEgMCAwLTIgMSAxIDAgMCAwIDAgMlonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIHdhcm46IHtcbiAgICAgICAgZDogJ005LjA0OSAyLjkyN2ExLjUgMS41IDAgMDEyLjkwMiAwbDYuNDEgMTEuOTRBMS41IDEuNSAwIDAxMTcuMDEgMTdIMi45OWExLjUgMS41IDAgMDEtMS4zNTEtMi4xMzNsNi40MS0xMS45NHpNMTEgMTNhMSAxIDAgMTAtMiAwIDEgMSAwIDAwMiAwem0tMS0yYTEgMSAwIDAwMS0xVjdhMSAxIDAgMTAtMiAwdjNhMSAxIDAgMDAxIDF6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjb21tZW50OiB7XG4gICAgICAgIGQ6ICdNMCAyYTIgMiAwIDAgMSAyLTJoMTJhMiAyIDAgMCAxIDIgMnY4YTIgMiAwIDAgMS0yIDJINC40MTRhMSAxIDAgMCAwLS43MDcuMjkzTC44NTQgMTUuMTQ2QS41LjUgMCAwIDEgMCAxNC43OTN6bTUgNGExIDEgMCAxIDAtMiAwIDEgMSAwIDAgMCAyIDBtNCAwYTEgMSAwIDEgMC0yIDAgMSAxIDAgMCAwIDIgMG0zIDFhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICByZW1vdmU6IHtcbiAgICAgICAgZDogJ003IDNhMSAxIDAgMCAxIDEtMWg0YTEgMSAwIDAgMSAxIDF2MWgzYTEgMSAwIDEgMSAwIDJoLTFsLTEgMTBhMiAyIDAgMCAxLTIgMkg4YTIgMiAwIDAgMS0yLTJMNSA2SDRhMSAxIDAgMSAxIDAtMmgzVjNabTEgM2ExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMSAwIDIgMFY3YTEgMSAwIDAgMC0xLTFabTQgMGExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMSAwIDIgMFY3YTEgMSAwIDAgMC0xLTFaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBleHBvcnQ6IHtcbiAgICAgICAgZDogJ00zIDE2LjI1YS43NS43NSAwIDAgMSAuNzUtLjc1aDEyLjVhLjc1Ljc1IDAgMCAxIDAgMS41SDMuNzVhLjc1Ljc1IDAgMCAxLS43NS0uNzVabTcuNTMtMi4wM2EuNzUuNzUgMCAwIDEtMS4wNiAwbC0zLTNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwxLjcyIDEuNzJWMy43NWEuNzUuNzUgMCAwIDEgMS41IDB2OC4xM2wxLjcyLTEuNzJhLjc1Ljc1IDAgMSAxIDEuMDYgMS4wNmwtMyAzWicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2xvc2U6IHtcbiAgICAgICAgZDogJ001LjIzIDUuMjNhLjc1Ljc1IDAgMCAxIDEuMDYgMEwxMCA4Ljk0bDMuNzEtMy43MWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2TDExLjA2IDEwbDMuNzEgMy43MWEuNzUuNzUgMCAxIDEtMS4wNiAxLjA2TDEwIDExLjA2bC0zLjcxIDMuNzFhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNkw4Ljk0IDEwIDUuMjMgNi4yOWEuNzUuNzUgMCAwIDEgMC0xLjA2WicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24obmFtZSkge1xuICAgIGNvbnN0IHsgZCwgdmlld0JveCA9ICcwIDAgMjAgMjAnIH0gPSBJQ09OU1tuYW1lXTtcbiAgICByZXR1cm4geyBkLCB2aWV3Qm94IH07XG59XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuaW1wb3J0IHsgZ2V0SWNvbiB9IGZyb20gJ0Bjb21tb24vaWNvbnMnO1xuaW1wb3J0IHsgaXNJdGVtQ29sb3IsIGlzSXRlbVBvc2l0aW9uLCBpc0l0ZW1TaGFwZSwgaXNMYWJlbEZvcm1hdCwgVU5HUk9VUEVELCBVTkdST1VQRURfVkFMVUUsIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdGF0dXNNZXNzYWdlLCBTVEFUVVMsIFNUQVRVU19DTEFTU19CWV9LRVkgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnLi4vdHlwZXMvdWlfZXZlbnRfdHlwZXMnO1xuZnVuY3Rpb24gYnlMYWJlbFRoZW5JZChhLCBiKSB7XG4gICAgaWYgKGEubGFiZWwgIT09IGIubGFiZWwpXG4gICAgICAgIHJldHVybiBhLmxhYmVsIC0gYi5sYWJlbDtcbiAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XG59XG5leHBvcnQgY2xhc3MgUGFuZWxWaWV3IHtcbiAgICBkb2M7XG4gICAgbGlzdGVuZXJzID0ge307XG4gICAgZWxzO1xuICAgIE5FV19HUk9VUCA9ICdfX25ld2dyb3VwX18nO1xuICAgIEhPVkVSX09VVF9ERUxBWSA9IDEwMDA7XG4gICAgZHJhZ0VsID0gbnVsbDtcbiAgICBkcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgIGRyYWdTdGFydEluZGV4ID0gLTE7XG4gICAgaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgY29sbGFwc2VkR3JvdXBzID0gbmV3IFNldCgpO1xuICAgIFRPQVNUX0FVVE9fRElTTUlTUyA9IDEwMDAwO1xuICAgIGNvbnN0cnVjdG9yKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgaTE4bi5sb2NhbGl6ZShkb2MpO1xuICAgICAgICB0aGlzLmVscyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy4kKCcjc3RhdHVzJyksXG4gICAgICAgICAgICB0b2dnbGVCdG46IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QnKSxcbiAgICAgICAgICAgIHRvZ2dsZUljb246IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtaWNvbicpLFxuICAgICAgICAgICAgdG9nZ2xlTGFiZWw6IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtbGFiZWwnKSxcbiAgICAgICAgICAgIGNsZWFyQnRuOiB0aGlzLiQoJyNjbGVhcicpLFxuICAgICAgICAgICAgY2FwdHVyZUJ0bjogdGhpcy4kKCcjY2FwdHVyZScpLFxuICAgICAgICAgICAgbGlzdDogdGhpcy4kKCcjc2VsZWN0LWxpc3QnKSxcbiAgICAgICAgICAgIGVtcHR5OiB0aGlzLiQoJyNzZWxlY3QtZW1wdHknKSxcbiAgICAgICAgICAgIGNvdW50OiB0aGlzLiQoJyNzZWxlY3QtY291bnQnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zVG9nZ2xlOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMtdG9nZ2xlJyksXG4gICAgICAgICAgICBjYXB0dXJlT3B0aW9uc1BhbmVsOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMnKSxcbiAgICAgICAgICAgIGNhcHR1cmVGbXRSYWRpb3M6IHRoaXMuJGFsbCgnaW5wdXRbbmFtZT1cImNhcHR1cmUtZm9ybWF0XCJdJyksXG4gICAgICAgICAgICBjYXB0dXJlQXJlYVJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1hcmVhXCJdJyksXG4gICAgICAgICAgICBqcGVnT25seUVsczogdGhpcy4kYWxsKCcuanBlZy1vbmx5JyksXG4gICAgICAgICAgICBqcGVnUXVhbGl0eVJhbmdlOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktcmFuZ2UnKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5TnVtYmVyOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktbnVtYmVyJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVSYW5nZTogdGhpcy4kKCcjY2FwdHVyZS1zY2FsZS1yYW5nZScpLFxuICAgICAgICAgICAgY2FwdHVyZVNjYWxlTnVtYmVyOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VTaXplUmFuZ2U6IHRoaXMuJCgnI2JhZGdlLXNpemUtcmFuZ2UnKSxcbiAgICAgICAgICAgIGJhZGdlU2l6ZU51bWJlcjogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1udW1iZXInKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JCdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1jb2xvci1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yTGFiZWw6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yRG90OiB0aGlzLiQoJyNiYWRnZS1jb2xvci1kb3QnKSxcbiAgICAgICAgICAgIGJhZGdlU2hhcGVTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLXNoYXBlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VMYWJlbEZvcm1hdFNlbGVjdDogdGhpcy4kKCcjYmFkZ2UtbGFiZWwtZm9ybWF0LXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VWaXNpYmxlU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS12aXNpYmxlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VEZWxldGVCdXR0b246IHRoaXMuJCgnI2JhZGdlLWRlbGV0ZS1idXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25CdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1wb3NpdGlvbi1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZVBvc2l0aW9uTGFiZWw6IHRoaXMuJCgnI2JhZGdlLXBvc2l0aW9uLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUdyb3VwU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS1ncm91cC1zZWxlY3QnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZU1vZGFsOiB0aGlzLiQoJyNncm91cC1uYW1lLW1vZGFsJyksXG4gICAgICAgICAgICBncm91cE5hbWVJbnB1dDogdGhpcy4kKCcjZ3JvdXAtbmFtZS1pbnB1dCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ2FuY2VsQnRuOiB0aGlzLiQoJyNncm91cC1uYW1lLWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUNyZWF0ZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY3JlYXRlLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRNb2RhbDogdGhpcy4kKCcjaXRlbS1jb21tZW50LW1vZGFsJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SWRJbnB1dDogdGhpcy4kKCcjaXRlbS1jb21tZW50LWlkLWlucHV0JyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudENhbmNlbEJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50QXBwbHlCdG46IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1hcHBseS1idG4nKSxcbiAgICAgICAgICAgIHNlbGVjdEl0ZW1BbGxDaGVja2JveDogdGhpcy4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cIml0ZW0tc2VsZWN0XCJdW3ZhbHVlPVwiYWxsXCJdJyksXG4gICAgICAgICAgICBzZXR0aW5nTW9kYWw6IHRoaXMuJCgnI3NldHRpbmctbW9kYWwnKSxcbiAgICAgICAgICAgIHNldHRpbmdCdXR0b246IHRoaXMuJCgnI3NldHRpbmctYnV0dG9uJyksXG4gICAgICAgICAgICBzZXR0aW5nQ2xvc2VCdXR0b246IHRoaXMuJCgnI3NldHRpbmctY2xvc2UtYnRuJyksXG4gICAgICAgICAgICB0aGVtZUxpZ2h0QnRuOiB0aGlzLiQoJyN0aGVtZS1saWdodC1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGFya0J0bjogdGhpcy4kKCcjdGhlbWUtZGFyay1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGV2aWNlQnRuOiB0aGlzLiQoJyN0aGVtZS1kZXZpY2UtYnRuJyksXG4gICAgICAgICAgICBpbXBvcnRGaWxlSW5wdXQ6IHRoaXMuJCgnI2ltcG9ydC1maWxlLWlucHV0JyksXG4gICAgICAgICAgICBpbXBvcnRCdG46IHRoaXMuJCgnI2ltcG9ydC1idG4nKSxcbiAgICAgICAgICAgIHN0b3JlQ291bnQ6IHRoaXMuJCgnI3N0b3JlLWNvdW50JyksXG4gICAgICAgICAgICBzdG9yZUxpc3Q6IHRoaXMuJCgnI3N0b3JlLWxpc3QnKSxcbiAgICAgICAgICAgIHN0b3JlRW1wdHk6IHRoaXMuJCgnI3N0b3JlLWVtcHR5JyksXG4gICAgICAgICAgICB0b2FzdFBhcmVudDogdGhpcy4kKCcjdG9hc3QtcGFyZW50JyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5lbHMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0xFQVIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAvLyA9PT0gQ2FwdHVyZSBvcHRpb25zID09PVxuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MuZm9yRWFjaCgocikgPT4gci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCB7IGZvcm1hdDogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCB7IGFyZWE6IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZSwgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgeyBxdWFsaXR5OiB2IH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZSwgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLCAodikgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCB7IHNjYWxlOiB2IH0pKTtcbiAgICAgICAgLy8gPT09IEJhZGdlID09PVxuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLCB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIpO1xuICAgICAgICBjb25zdCBmaXJlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBOdW1iZXIodGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCB7IHNpemU6IHYgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQuY29sb3JOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaXNJdGVtQ29sb3IocmF3KSA/IHJhdyA6ICdCbHVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCB7IGNvbG9yIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGlzSXRlbVNoYXBlKHYpID8gdiA6ICdjaXJjbGUnO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgeyBzaGFwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QudmFsdWUgPz8gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsRm9ybWF0ID0gaXNMYWJlbEZvcm1hdCh2KSA/IHYgOiAnTnVtYmVycyc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfTEFCRUxfRk9STUFUX0NIQU5HRSwgeyBsYWJlbEZvcm1hdCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlVmlzaWJsZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gdGhpcy5lbHMuYmFkZ2VWaXNpYmxlU2VsZWN0LnZhbHVlID09PSAndHJ1ZSc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfVklTSUJMRV9DSEFOR0UsIHsgdmlzaWJsZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGJ0bi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGlzSXRlbVBvc2l0aW9uKHJhdykgPyByYXcgOiAnbGVmdC10b3Atb3V0c2lkZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QudmFsdWUgPz8gVU5HUk9VUEVEO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YWx1ZSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT09IHRoaXMuTkVXX0dST1VQKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDcmVhdGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgfHwgdmFsdWUgPT09IHRoaXMuTkVXX0dST1VQID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRBcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGhpcy5lbHMuaXRlbUNvbW1lbnRJZElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksIHsgaWQsIGNvbW1lbnQgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuc2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnNldHRpbmdNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRUSU5HX01PREFMX1NIT1csIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5zZXR0aW5nQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5zZXR0aW5nTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2xpZ2h0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGFya0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RhcmsnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEZXZpY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUoJ2RldmljZScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RldmljZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5pbXBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBubyBmaWxlIGlzIHNlbGVjdGVkLCBvcGVuIHRoZSBkaWFsb2dcbiAgICAgICAgICAgIGlmICghdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzIHx8IHRoaXMuZWxzLmltcG9ydEZpbGVJbnB1dC5maWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5pbXBvcnRGaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzWzBdO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgeyBmaWxlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLmVscy5zZWxlY3RJdGVtQWxsQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCB7IGFsbENoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgKCkgPT4gdGhpcy5jYW5jZWxIb3Zlck91dCgpKTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB0aGlzLnNjaGVkdWxlSG92ZXJPdXQoKSk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEhvdmVyT3V0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGFyciA9ICh0aGlzLmxpc3RlbmVyc1t0eXBlXSA/Pz0gW10pO1xuICAgICAgICBhcnIucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCBlKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBhcnI/LmZvckVhY2goKGgpID0+IGgoZSkpO1xuICAgIH1cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgdGhpcy5hcHBseVRvYXN0TWVzc2FnZXMobW9kZWwudG9hc3RNZXNzYWdlcyk7XG4gICAgICAgIHRoaXMuYXBwbHlUaGVtZShtb2RlbC50aGVtZSk7XG4gICAgICAgIHRoaXMuYXBwbHlTdG9yZShtb2RlbC5wYWdlS2V5cyk7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdHVzKG1vZGVsLnN0YXR1cyk7XG4gICAgICAgIHRoaXMucmVuZGVyVG9nZ2xlKG1vZGVsLnNlbGVjdGlvbkVuYWJsZWQpO1xuICAgICAgICB0aGlzLnJlbmRlckxpc3QobW9kZWwuaXRlbXMsIG1vZGVsLnNlbGVjdEl0ZW1zLCBtb2RlbC5taXNzaW5nSWRzKTtcbiAgICAgICAgdGhpcy5zZWxlY3RSYWRpb0J5VmFsdWUodGhpcy5lbHMuY2FwdHVyZUZtdFJhZGlvcywgbW9kZWwuY2FwdHVyZS5mb3JtYXQpO1xuICAgICAgICB0aGlzLnNlbGVjdFJhZGlvQnlWYWx1ZSh0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcywgbW9kZWwuY2FwdHVyZS5hcmVhKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5xdWFsaXR5KTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnF1YWxpdHkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlU2NhbGVOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5zY2FsZSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVTY2FsZVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUuc2NhbGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KG1vZGVsLmNhcHR1cmUuZm9ybWF0KTtcbiAgICAgICAgdGhpcy5hcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkobW9kZWwuY2FwdHVyZS5wYW5lbEV4cGFuZGVkKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlID0gU3RyaW5nKG1vZGVsLmRlZmF1bHRTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplUmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFNpemUpO1xuICAgICAgICB0aGlzLmFwcGx5QmFkZ2VDb2xvclVJKG1vZGVsLmRlZmF1bHRDb2xvcik7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2hhcGVTZWxlY3QudmFsdWUgPSBtb2RlbC5kZWZhdWx0U2hhcGU7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QudmFsdWUgPSBtb2RlbC5kZWZhdWx0TGFiZWxGb3JtYXQgPz8gJ051bWJlcnMnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVZpc2libGVTZWxlY3QudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFZpc2libGUgPz8gJ3RydWUnKTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlUG9zaXRvblVJKG1vZGVsLmRlZmF1bHRQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkodGhpcy5nZXRFeGlzdGluZ0dyb3Vwcyhtb2RlbC5pdGVtcyksIG1vZGVsLmRlZmF1bHRHcm91cCk7XG4gICAgfVxuICAgIHJlbmRlclN0YXR1cyhrZXkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBTVEFUVVNfQ0xBU1NfQllfS0VZW2tleV07XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHMuc3RhdHVzO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gYGNvbm5lY3Qtc3RhdHVzICR7c3R5bGV9YDtcbiAgICAgICAgY29uc3QgZG90ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZCgnY29ubmVjdC1zdGF0dXMtZG90Jyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBnZXRTdGF0dXNNZXNzYWdlKGtleSk7XG4gICAgICAgIGVsLnJlcGxhY2VDaGlsZHJlbihkb3QsIHRleHQpO1xuICAgICAgICB0aGlzLmRpc2FibGVGb3JtQ29udHJvbHMoa2V5KTtcbiAgICB9XG4gICAgcmVuZGVyVG9nZ2xlKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZWxzLnRvZ2dsZUljb247XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXRvZ2dsZS1pY29uJywgZW5hYmxlZCA/ICdiZy1pbmRpZ28tNTAwJyA6ICdiZy1zbGF0ZS0zMDAnKTtcbiAgICAgICAgdGhpcy5lbHMudG9nZ2xlTGFiZWwudGV4dENvbnRlbnQgPSBpMThuLmdldChlbmFibGVkID8gJ3RvZ2dsZV9vbicgOiAndG9nZ2xlX29mZicpO1xuICAgIH1cbiAgICByZW5kZXJMaXN0KGl0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICB0aGlzLmVscy5jb3VudC50ZXh0Q29udGVudCA9IFN0cmluZyhpdGVtcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBhbGxDaGVja2VkID0gaXRlbXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiBpdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5jaGVja2VkID0gYWxsQ2hlY2tlZDtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5lbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cEJ5R3JvdXAoaXRlbXMpO1xuICAgICAgICBjb25zdCBncm91cEtleXMgPSBBcnJheS5mcm9tKGdyb3Vwcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhID09PSBVTkdST1VQRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGIgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmcmFnID0gdGhpcy5kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGdLZXkgb2YgZ3JvdXBLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5yZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ3JvdXBzLmdldChnS2V5KSwgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbihmcmFnKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXBTZWN0aW9uKGdLZXksIGdJdGVtcywgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpIHtcbiAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmVsKCdzZWN0aW9uJywgJ3NlbGVjdC1pdGVtLXNlY3Rpb24nKTtcbiAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuZWwoJ2RpdicsICdzZWxlY3QtaXRlbS1oZWFkZXInKTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCAnc3Bzay1jaGVja2JveCBzcHNrLWNoZWNrYm94LS1ub3JtYWwnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBnSXRlbXMuZXZlcnkoKGl0KSA9PiBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogZ0tleSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogZ0tleSxcbiAgICAgICAgICAgICAgICBpc0NoZWNrOiBzZWxlY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC10aXRsZScsIGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXkpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWdoLWxlZnQnKTtcbiAgICAgICAgbGVmdC5hcHBlbmQoY2hlY2tib3hXcmFwLCB0aXRsZSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC1jb3VudCcsIFN0cmluZyhnSXRlbXMubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IHRoaXMuZWwoJ2J1dHRvbicsICdzZWxlY3QtaXRlbS1naC10b2dnbGUnKTtcbiAgICAgICAgdG9nZ2xlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghaXNDb2xsYXBzZWQpKTtcbiAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBpc0NvbGxhcHNlZCA/IGdldEljb24oJ2NhcmV0UmlnaHQnKSA6IGdldEljb24oJ2NhcmV0RG93bicpO1xuICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgY2xhc3NOYW1lOiAnaWNvbi1zbScsIHZpZXdCb3ggfSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZVBhdGggPSB0b2dnbGVJY29uLnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKTtcbiAgICAgICAgdG9nZ2xlQnRuLmFwcGVuZCh0b2dnbGVJY29uKTtcbiAgICAgICAgaGVhZGVyLmFwcGVuZChsZWZ0LCBjb3VudCwgdG9nZ2xlQnRuKTtcbiAgICAgICAgLy8gdWxcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLmVsKCd1bCcsICdzZWxlY3QtaXRlbS1saXN0Jyk7XG4gICAgICAgIGlmIChpc0NvbGxhcHNlZClcbiAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmF0dGFjaFVsRG5ESGFuZGxlcnModWwpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGdJdGVtcy5zb3J0KGJ5TGFiZWxUaGVuSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RDaGVja2VkID0gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudGx5Q29sbGFwc2VkID0gdGhpcy5jb2xsYXBzZWRHcm91cHMuaGFzKGdLZXkpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRseUNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2VkR3JvdXBzLmRlbGV0ZShnS2V5KTtcbiAgICAgICAgICAgICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGdldEljb24oJ2NhcmV0RG93bicpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuYWRkKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXRSaWdodCcpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kKGhlYWRlciwgdWwpO1xuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgcmVuZGVySXRlbShpdCwgc2VsZWN0Q2hlY2tlZCwgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc01pc3NpbmcgPSBtaXNzaW5nSWRzLmluY2x1ZGVzKGl0LmlkKTtcbiAgICAgICAgY29uc3QgbGlCYXNlID0gJ3NlbGVjdC1pdGVtJztcbiAgICAgICAgY29uc3QgbGkgPSB0aGlzLmVsKCdsaScsIGlzTWlzc2luZyA/IGBncm91cCAke2xpQmFzZX0gc2VsZWN0LWl0ZW0tLXdhcm5gIDogbGlCYXNlKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGxpLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIC8vIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwgPSBsaTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbGkucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGxpLnBhcmVudEVsZW1lbnQ/LmNoaWxkcmVuID8/IFtdLCBsaSk7XG4gICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpXG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZHJhZ0VsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHBhcmVudCA/IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCB0aGlzLmRyYWdFbCkgOiAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JZCA9IHRoaXMuZHJhZ0VsLmRhdGFzZXQuaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZnJvbUlkICYmIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPj0gMCAmJiBlbmRJbmRleCA+PSAwICYmIGVuZEluZGV4ICE9PSB0aGlzLmRyYWdTdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUlkOiBOdW1iZXIoZnJvbUlkKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbUluZGV4OiB0aGlzLmRyYWdTdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0b0luZGV4OiBlbmRJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoZWNrYm94XG4gICAgICAgIGNvbnN0IGNoZWNrYm94V3JhcCA9IHRoaXMuZWwoJ2RpdicsICdzcHNrLWNoZWNrd3JhcCcpO1xuICAgICAgICBjb25zdCBjaGVja2JveFN0eWxlID0gaXNNaXNzaW5nXG4gICAgICAgICAgICA/ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLXdhcm4nXG4gICAgICAgICAgICA6ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCc7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCBjaGVja2JveFN0eWxlKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzZWxlY3RDaGVja2VkO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgaWQ6IGl0LmlkLCBpc0NoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrYm94V3JhcC5hcHBlbmQoY2hlY2tib3gpO1xuICAgICAgICAvLyBiYWRnZVxuICAgICAgICBjb25zdCBiYWRnZVN0eWxlID0gaXNNaXNzaW5nID8gJ3Nwc2stYmFkZ2Ugc3Bzay1iYWRnZS0td2FybicgOiAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS1ub3JtJztcbiAgICAgICAgY29uc3QgYmFkZ2UgPSB0aGlzLmVsKCdzcGFuJywgYmFkZ2VTdHlsZSwgU3RyaW5nKGl0LmxhYmVsKSk7XG4gICAgICAgIC8vIG1haW4gKG1pc3NpbmdJY29uLCBhbmNob3IpXG4gICAgICAgIGNvbnN0IG1haW4gPSB0aGlzLmVsKCdkaXYnLCAnbWluLXctMCBmbGV4LTEnKTtcbiAgICAgICAgbWFpbi5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgfHwgaXNNaXNzaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCB7IGlkOiBpdC5pZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc01pc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaXAgPSB0aGlzLmVsKCdzcGFuJywgJ2NoaXAtd2FybicpO1xuICAgICAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBnZXRJY29uKCd3YXJuJyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICAgICAgdmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsKCdzcGFuJywgdW5kZWZpbmVkLCBpMThuLmdldCgnbWlzc2luZ19pdGVtJykpO1xuICAgICAgICAgICAgY2hpcC5hcHBlbmQoaWNvbiwgbGFiZWwpO1xuICAgICAgICAgICAgbWFpbi5hcHBlbmQoY2hpcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5lbCgnZGl2JywgJ2FuY2hvcicsIGl0LmFuY2hvci52YWx1ZSk7XG4gICAgICAgIG1haW4uYXBwZW5kKGFuY2hvcik7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRCdG4gPSB0aGlzLmdlbmVyYXRlQ29tbWVudEJ0bihpdCk7XG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveFdyYXAsIGJhZGdlLCBtYWluLCBjb21tZW50QnRuKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbW1lbnRCdG4oaXQpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuLWljb24nO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ2NvbW1lbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihkLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRJbnB1dC52YWx1ZSA9IGl0LmNvbW1lbnQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElkSW5wdXQudmFsdWUgPSBTdHJpbmcoaXQuaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ0bjtcbiAgICB9XG4gICAgc2NoZWR1bGVIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSwgdGhpcy5IT1ZFUl9PVVRfREVMQVkpO1xuICAgIH1cbiAgICBjYW5jZWxIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhvdmVyT3V0VGltZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTCBEJkQgSGFuZGxlclxuICAgICAqIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAqIEBwYXJhbSB1bFxuICAgICAqL1xuICAgIGF0dGFjaFVsRG5ESGFuZGxlcnModWwpIHtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYWdFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgJiYgdWwgIT09IHRoaXMuZHJhZ1N0YXJ0UGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpID0gZS50YXJnZXQ/LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TGkgJiYgdGFyZ2V0TGkgIT09IHRoaXMuZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldExpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQWZ0ZXIgPSBlLmNsaWVudFkgLSByZWN0LnRvcCA+IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB1bC5pbnNlcnRCZWZvcmUodGhpcy5kcmFnRWwsIGlzQWZ0ZXIgPyB0YXJnZXRMaS5uZXh0U2libGluZyA6IHRhcmdldExpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0YXJnZXRMaSkge1xuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKHRoaXMuZHJhZ0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG4gICAgZ2V0RXhpc3RpbmdHcm91cHMoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChpdGVtcy5tYXAoKGkpID0+IChpLmdyb3VwID8/ICcnKS50cmltKCkpLmZpbHRlcigoZykgPT4gZy5sZW5ndGggPiAwKSkpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XG4gICAgfVxuICAgIGdyb3VwQnlHcm91cChpdGVtcykge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSAoaXQuZ3JvdXAgPz8gVU5HUk9VUEVEX1ZBTFVFKS50cmltKCkgfHwgVU5HUk9VUEVEO1xuICAgICAgICAgICAgaWYgKCFtLmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgIG0uc2V0KGtleSwgW10pO1xuICAgICAgICAgICAgbS5nZXQoa2V5KS5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ2pwZWcnID8gJ2pwZWcnIDogJ3BuZyc7XG4gICAgfVxuICAgIGdldFNlbGVjdGVkQ2FwdHVyZUFyZWEoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ3ZpZXdwb3J0JyA/ICd2aWV3cG9ydCcgOiAnZnVsbCc7XG4gICAgfVxuICAgIHVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KGZvcm1hdCkge1xuICAgICAgICBjb25zdCBmID0gZm9ybWF0ID8/IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCk7XG4gICAgICAgIGNvbnN0IGlzSnBlZyA9IGYgPT09ICdqcGVnJztcbiAgICAgICAgdGhpcy5lbHMuanBlZ09ubHlFbHMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc0pwZWcpKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS5kaXNhYmxlZCA9ICFpc0pwZWc7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5TnVtYmVyLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICB9XG4gICAgc2VsZWN0UmFkaW9CeVZhbHVlKHJhZGlvcywgdmFsdWUpIHtcbiAgICAgICAgcmFkaW9zLmZvckVhY2goKHIpID0+IChyLmNoZWNrZWQgPSByLnZhbHVlID09PSB2YWx1ZSkpO1xuICAgIH1cbiAgICBiaW5kU3luYyhyYW5nZUVsLCBudW1iZXJFbCwgb25WYWx1ZSkge1xuICAgICAgICBjb25zdCByZWFkTnVtID0gKHMsIGZhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gcyAhPSBudWxsICYmIHMgIT09ICcnID8gTnVtYmVyKHMpIDogTmFOO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSA/IHYgOiBmYWxsYmFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodiwgbWluLCBtYXgpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAocmF3U3RyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSByZWFkTnVtKG51bWJlckVsLm1pbiB8fCByYW5nZUVsLm1pbiwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IHJlYWROdW0obnVtYmVyRWwubWF4IHx8IHJhbmdlRWwubWF4LCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHJlYWROdW0obnVtYmVyRWwuc3RlcCB8fCByYW5nZUVsLnN0ZXAsIDEpO1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gTnVtYmVyKHJhd1N0cik7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXAoTnVtYmVyLmlzRmluaXRlKHJhdykgPyByYXcgOiAwLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBjb25zdCByb3VuZGVkID0gTWF0aC5yb3VuZChjbGFtcGVkIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSBOdW1iZXIocm91bmRlZC50b0ZpeGVkKDYpKTtcbiAgICAgICAgICAgIG51bWJlckVsLnZhbHVlID0gU3RyaW5nKGZpeGVkKTtcbiAgICAgICAgICAgIHJhbmdlRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgb25WYWx1ZT8uKGZpeGVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmFuZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMocmFuZ2VFbC52YWx1ZSkpO1xuICAgICAgICBudW1iZXJFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMobnVtYmVyRWwudmFsdWUpKTtcbiAgICB9XG4gICAgZGlzYWJsZUZvcm1Db250cm9scyhzdGF0dXMpIHtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24sIHNlbGVjdCwgaW5wdXQsIHRleHRhcmVhJyk7XG4gICAgICAgIC8vIERldGVybWluZSBlbmFibGVtZW50IHBvbGljeSBwZXIgc3RhdHVzXG4gICAgICAgIGNvbnN0IGVuYWJsZUFsbCA9IHN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRDtcbiAgICAgICAgY29uc3QgZW5hYmxlSWdub3JlT25seSA9IHN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RJTkcgfHwgc3RhdHVzID09PSBTVEFUVVMuRElTQ09OTkVDVEVEO1xuICAgICAgICBjb25zdCBlbmFibGVOb25lID0gc3RhdHVzID09PSBTVEFUVVMuUkVTVFJJQ1RFRDtcbiAgICAgICAgY29udHJvbHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9IChlbmFibGVBbGwgJiYgdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICAoZW5hYmxlSWdub3JlT25seSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtaWdub3JlLWRpc2FibGUnKSkgfHxcbiAgICAgICAgICAgICAgICAoZW5hYmxlTm9uZSAmJiBmYWxzZSk7XG4gICAgICAgICAgICBlbC5kaXNhYmxlZCA9ICFzaG91bGRFbmFibGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkoZXhwYW5kZWQpIHtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKGV4cGFuZGVkKSk7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZXhwYW5kZWQgPyBnZXRJY29uKCdjYXJldERvd25GaWxsJykgOiBnZXRJY29uKCdjYXJldFJpZ2h0RmlsbCcpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgdmlld0JveCwgY2xhc3NOYW1lOiAnaC00IHctNCcgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFleHBhbmRlZCk7XG4gICAgfVxuICAgIGdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpIHtcbiAgICAgICAgY29uc3QgY29sb3JOYW1lID0gY29sb3IgPT09ICdHcmF5JyA/ICdzbGF0ZScgOiBjb2xvcjtcbiAgICAgICAgcmV0dXJuIGBiZy0ke2NvbG9yTmFtZS50b0xvd2VyQ2FzZSgpfS01MDBgO1xuICAgIH1cbiAgICBhcHBseUJhZGdlQ29sb3JVSShjb2xvcikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQuY29sb3JOYW1lID09PSBjb2xvcjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckxhYmVsLnRleHRDb250ZW50ID0gY29sb3I7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NOYW1lID0gJ2lubGluZS1ibG9jayB3LTQgaC00IHJvdW5kZWQtZnVsbCc7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NMaXN0LmFkZCh0aGlzLmdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpKTtcbiAgICB9XG4gICAgYXBwbHlCYWRnZVBvc2l0b25VSShwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZVBvc2l0aW9uQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQucG9zaXRpb25OYW1lID09PSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkxhYmVsLnRleHRDb250ZW50ID0gcG9zaXRpb24ucmVwbGFjZUFsbCgnLScsICcgJyk7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJKGV4aXN0aW5nR3JvdXBzLCBkZWZhdXRHcm91cCkge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQoVU5HUk9VUEVELCBpMThuLmdldCgnZ3JvdXBfdW5ncm91cGVkJyksIGRlZmF1dEdyb3VwID09PSBVTkdST1VQRUQpKTtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBleGlzdGluZ0dyb3Vwcykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vcm1hbGl6ZShncm91cCk7XG4gICAgICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQodmFsdWUsIGdyb3VwLCBkZWZhdXRHcm91cCA9PT0gZ3JvdXApKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVPcHQgPSB0aGlzLm1ha2VPcHQodGhpcy5ORVdfR1JPVVAsIGkxOG4uZ2V0KCdjb21tb25fY3JlYXRlJykpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZChjcmVhdGVPcHQpO1xuICAgIH1cbiAgICBhcHBseVRoZW1lKHRoZW1lKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRGFyayA9IHRoZW1lID09PSAnZGV2aWNlJ1xuICAgICAgICAgICAgPyB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXNcbiAgICAgICAgICAgIDogdGhlbWUgPT09ICdkYXJrJztcbiAgICAgICAgaWYgKGlzRGFyaykge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb290LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdsaWdodCcpKTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEYXJrQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdkYXJrJykpO1xuICAgICAgICB0aGlzLmVscy50aGVtZURldmljZUJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgU3RyaW5nKHRoZW1lID09PSAnZGV2aWNlJykpO1xuICAgIH1cbiAgICBhcHBseVN0b3JlKHBhZ2VLZXlzKSB7XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlQ291bnQudGV4dENvbnRlbnQgPSBTdHJpbmcocGFnZUtleXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBpZiAocGFnZUtleXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYWdlS2V5IG9mIHBhZ2VLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBsaUVsZW0gPSB0aGlzLmVsKCdsaScsICdzZWxlY3QtaXRlbScpO1xuICAgICAgICAgICAgY29uc3QgYVdyYXBFbGVtID0gdGhpcy5lbCgnZGl2JywgJ21pbi13LTAgZmxleC0xJyk7XG4gICAgICAgICAgICBjb25zdCBhRWxlbSA9IHRoaXMuZWwoJ2EnLCAnYW5jaG9yIHdoaXRlc3BhY2Utbm9ybWFsIGJyZWFrLXdvcmRzJywgcGFnZUtleSk7XG4gICAgICAgICAgICBhRWxlbS5ocmVmID0gcGFnZUtleTtcbiAgICAgICAgICAgIGFFbGVtLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgYVdyYXBFbGVtLmFwcGVuZENoaWxkKGFFbGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEJ0bkVsZW0gPSB0aGlzLmVsKCdidXR0b24nLCAnYnRuLWljb24nKTtcbiAgICAgICAgICAgIGV4cG9ydEJ0bkVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlnbm9yZS1kaXNhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb25EZWYgPSBnZXRJY29uKCdleHBvcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZXhwb3J0SWNvbkRlZi5kLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnaWNvbi1zbScsXG4gICAgICAgICAgICAgICAgdmlld0JveDogZXhwb3J0SWNvbkRlZi52aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFwcGVuZENoaWxkKGV4cG9ydEljb24pO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlQnRuRWxlbSA9IHRoaXMuZWwoJ2J1dHRvbicsICdidG4taWNvbiBidG4taWNvbi0tZGFuZ2VyJyk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uRGVmID0gZ2V0SWNvbigncmVtb3ZlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKHJlbW92ZUljb25EZWYuZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ljb24tc20nLFxuICAgICAgICAgICAgICAgIHZpZXdCb3g6IHJlbW92ZUljb25EZWYudmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlQnRuRWxlbS5hcHBlbmRDaGlsZChyZW1vdmVJY29uKTtcbiAgICAgICAgICAgIGxpRWxlbS5hcHBlbmRDaGlsZChhV3JhcEVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKGV4cG9ydEJ0bkVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKHJlbW92ZUJ0bkVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmFwcGVuZENoaWxkKGxpRWxlbSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5SRU1PVkVfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmVscy5zdG9yZUVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBhcHBseVRvYXN0TWVzc2FnZXModG9hc3RNZXNzYWdlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHRvYXN0TWVzc2FnZSBvZiB0b2FzdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmVscy50b2FzdFBhcmVudC5hcHBlbmRDaGlsZCh0b2FzdEVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB7IHV1aWQ6IHRvYXN0TWVzc2FnZS51dWlkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSkge1xuICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmVsKCdkaXYnLCBgdG9hc3QgdG9hc3QtLSR7dG9hc3RNZXNzYWdlLmtpbmR9YCk7XG4gICAgICAgIGNvbnN0IHRvYXN0SWNvbkRlZiA9IGdldEljb24odG9hc3RNZXNzYWdlLmtpbmQpO1xuICAgICAgICBjb25zdCB0b2FzdEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24odG9hc3RJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3RvYXN0LWljb24nLFxuICAgICAgICAgICAgdmlld0JveDogdG9hc3RJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2FzdEJvZHkgPSB0aGlzLmVsKCdkaXYnLCAndG9hc3QtYm9keScpO1xuICAgICAgICBjb25zdCBkZXNjID0gdGhpcy5lbCgncCcsICd0b2FzdC1kZXNjJywgdG9hc3RNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICB0b2FzdEJvZHkuYXBwZW5kQ2hpbGQoZGVzYyk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gdGhpcy5lbCgnYnV0dG9uJywgYHRvYXN0LWNsb3NlIHRvYXN0LWNsb3NlLS0ke3RvYXN0TWVzc2FnZS5raW5kfWApO1xuICAgICAgICBjb25zdCBjbG9zZUljb25EZWYgPSBnZXRJY29uKCdjbG9zZScpO1xuICAgICAgICBjb25zdCBjbG9zZUljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oY2xvc2VJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgIHZpZXdCb3g6IGNsb3NlSWNvbkRlZi52aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VCdG4uYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICAgICAgdG9hc3RFbGVtLmFwcGVuZENoaWxkKHRvYXN0SWNvbik7XG4gICAgICAgIHRvYXN0RWxlbS5hcHBlbmRDaGlsZCh0b2FzdEJvZHkpO1xuICAgICAgICB0b2FzdEVsZW0uYXBwZW5kQ2hpbGQoY2xvc2VCdG4pO1xuICAgICAgICBjb25zdCB0aW1lcklkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRvYXN0RWxlbS5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgICAgICB0b2FzdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIH0sIHRoaXMuVE9BU1RfQVVUT19ESVNNSVNTKTtcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICBpZiAodG9hc3RFbGVtLmlzQ29ubmVjdGVkKVxuICAgICAgICAgICAgICAgIHRvYXN0RWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b2FzdEVsZW07XG4gICAgfVxuICAgICQoc2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFlbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW1BhbmVsVmlld10gTWlzc2luZyBlbGVtZW50OiAke3NlbGVjdG9yfWApO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgICRhbGwoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBlbCh0YWcsIGNsYXNzTmFtZSwgdGV4dCkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKVxuICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGlmICh0ZXh0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG1ha2VPcHQodmFsdWUsIGxhYmVsLCBzZWxlY3RlZCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgby52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBvLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIGlmIChzZWxlY3RlZClcbiAgICAgICAgICAgIG8uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG4gICAgY3JlYXRlU3ZnSWNvbihkLCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3N2ZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgb3B0cy52aWV3Qm94ID8/ICcwIDAgMjAgMjAnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBvcHRzLmNsYXNzTmFtZSA/PyAnaC0zLjUgdy0zLjUnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdjdXJyZW50Q29sb3InKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICBpZiAob3B0cy5hdHRycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMob3B0cy5hdHRycykpXG4gICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShrLCB2KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAncGF0aCcpO1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKCdkJywgZCk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoRWwpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBhbmVsQ29udHJvbGxlciB9IGZyb20gJ0BwYW5lbC9jb250cm9sbGVyL3BhbmVsX2NvbnRyb2xsZXInO1xuaW1wb3J0IHsgUGFuZWxWaWV3IH0gZnJvbSAnLi4vdmlldy9wYW5lbF92aWV3Jztcbi8qKlxuICogT3JjaGVzdHJhdGVzIFVJIGluaXRpYWxpemF0aW9uIGFuZCBjb25uZWN0aW9uIGxpZmVjeWNsZS5cbiAqIC0gQXBwbHkgaTE4blxuICogLSBEZXRlY3QgYW5kIGNvbm5lY3QgdG8gdGhlIGFjdGl2ZSB0YWJcbiAqIC0gUmVzdG9yZSBzdGF0ZSBhbmQgcGVyZm9ybSBpbml0aWFsIHJlbmRlclxuICogLSBCaW5kIFVJIGV2ZW50c1xuICovXG5hc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IFBhbmVsVmlldyhkb2N1bWVudCk7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQYW5lbENvbnRyb2xsZXIodmlldyk7XG4gICAgYXdhaXQgY29udHJvbGxlci5zdGFydCgpO1xufVxuKGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xuICAgICAgICB2b2lkIHN0YXJ0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFuZWwgYm9vdHN0cmFwIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB2b2lkIHN0YXJ0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFuZWwgYm9vdHN0cmFwIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiJdLCJuYW1lcyI6WyJpc1Jlc3RyaWN0ZWQiLCJyYXciLCJzdGFydHNXaXRoIiwidXJsIiwiVVJMIiwiU2V0IiwiaGFzIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsIklURU1fQ09MT1JTIiwiSVRFTV9TSEFQRSIsIklURU1fUE9TSVRJT05fVkFMVUVTIiwiVU5HUk9VUEVEIiwiVU5HUk9VUEVEX1ZBTFVFIiwiTEFCRUxfRk9STUFUIiwiaXNTY3JlZW5JdGVtTGlrZSIsInYiLCJhbmNob3IiLCJhIiwiaW5pdGlhbE1vZGVsIiwic3RhdHVzIiwidGFiSWQiLCJwYWdlS2V5IiwicGFnZUtleXMiLCJ0aGVtZSIsInNlbGVjdGlvbkVuYWJsZWQiLCJpdGVtcyIsImRlZmF1bHRTaXplIiwiZGVmYXVsdENvbG9yIiwiZGVmYXVsdFNoYXBlIiwiZGVmYXVsdExhYmVsRm9ybWF0IiwiZGVmYXVsdFZpc2libGUiLCJkZWZhdWx0UG9zaXRpb24iLCJkZWZhdWx0R3JvdXAiLCJjYXB0dXJlIiwiZm9ybWF0IiwiYXJlYSIsInF1YWxpdHkiLCJzY2FsZSIsInBhbmVsRXhwYW5kZWQiLCJzZWxlY3RJdGVtcyIsIm1pc3NpbmdJZHMiLCJ0b2FzdE1lc3NhZ2VzIiwic2NyZWVuU3RhdGVUYWJsZSIsInJvb3RLZXkiLCJkZWZhdWx0T2YiLCJLRVkiLCJhc3luYyIsInJlYWRBbGwiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJ3cml0ZUFsbCIsIm1hcCIsInNldCIsImtleSIsImZvdW5kIiwidW5kZWZpbmVkIiwidmFsdWUiLCJyZW1vdmUiLCJjbGVhciIsImNyZWF0ZU1hcFRhYmxlIiwibmV4dElkIiwidGhlbWVUYWJsZSIsInZhbCIsImNyZWF0ZVNpbmdsZXRvbiIsImFwcGx5UGF0Y2giLCJwYXRjaCIsInN0YXRlIiwicmVtb3ZlZElkcyIsImxlbmd0aCIsInRvUmVtb3ZlIiwiZmlsdGVyIiwiaXQiLCJpZCIsImFkZGVkIiwibGFiZWwiLCJJbmZpbml0eSIsInNpemUiLCJjb2xvciIsInNoYXBlIiwibGFiZWxGb3JtYXQiLCJ2aXNpYmxlIiwicG9zaXRpb24iLCJncm91cCIsImNvbW1lbnQiLCJwdXNoIiwibm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZCIsImJ1Y2tldHMiLCJNYXAiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwidHJpbSIsIm91dCIsInNsaWNlIiwiYnVja2V0Iiwic29ydCIsImIiLCJpIiwiZGVzaXJlZCIsInN1YnMiLCJpMThuIiwiZ2V0TWVzc2FnZSIsImxvY2FsaXplIiwicm9vdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiZ2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJzcGVjIiwicGFpciIsInNwbGl0IiwiYXR0ciIsInMiLCJzZXRBdHRyaWJ1dGUiLCJTVEFUVVMiLCJTVEFUVVNfTVNHX0tFWSIsIlJFU1RSSUNURUQiLCJDT05ORUNUSU5HIiwiQ09OTkVDVEVEIiwiRElTQ09OTkVDVEVEIiwiU1RBVFVTX0NMQVNTX0JZX0tFWSIsIkFjdGlvblR5cGUiLCJFZmZlY3RUeXBlIiwiQ0hBTk5FTCIsIlBhbmVsQXBpIiwicnBjIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwic2VuZCIsImJvZHkiLCJyZXEiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZXhwZWN0UmVwbHkiLCJyZW5kZXIiLCJ0eXBlIiwicGF5bG9hZCIsInRvZ2dsZVNlbGVjdCIsImVuYWJsZWQiLCJob3ZlciIsIm1lYXN1cmVTaXplIiwicGluZyIsIlBvcnRScGMiLCJwb3J0IiwicGVuZGluZyIsImFsaXZlIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiLCJtc2ciLCJpc1Jlc3BvbnNlIiwiZGVsZXRlIiwib25EaXNjb25uZWN0IiwicmVhc29uIiwicnVudGltZSIsImxhc3RFcnJvciIsIm1lc3NhZ2UiLCJyZXNvbHZlIiwib2siLCJlcnJvciIsImlzQWxpdmUiLCJ0aW1lb3V0TXMiLCJQcm9taXNlIiwidGltZXIiLCJzZXRUaW1lb3V0IiwicmVzIiwiY2xlYXJUaW1lb3V0IiwicG9zdE1lc3NhZ2UiLCJPV05FRCIsInRhcmdldCIsIm1ldGhvZCIsInBhcmFtcyIsInJlamVjdCIsImRlYnVnZ2VyIiwic2VuZENvbW1hbmQiLCJyZXN1bHQiLCJlcnIiLCJFcnJvciIsIlN0cmluZyIsIm9wdHMiLCJ0YWIiLCJ0YWJzIiwiY29uc29sZSIsIndhcm4iLCJmbXQiLCJzZXR0bGVNcyIsImRpZEF0dGFjaCIsInVzZWRPdmVycmlkZSIsImF0dGFjaCIsImFkZCIsImluY2x1ZGVzIiwiYXR0YWNoT3duZWQiLCJicmluZ1RvRnJvbnQiLCJnZW9tIiwiY29udGVudFNpemUiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY3NzVmlzdWFsVmlld3BvcnQiLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJwYWdlWCIsInBhZ2VZIiwiY2VpbCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Vmlld3BvcnRDc3NSZWN0IiwidXNlT3ZlcnJpZGUiLCJjbGlwIiwiY2FwdHVyZUJleW9uZFZpZXdwb3J0Iiwic2hvdWxkU2Nyb2xsVG9wIiwibWV0cmljcyIsImRldmljZVNjYWxlRmFjdG9yIiwibW9iaWxlIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJyZXNvbHZlR2VvbWV0cnkiLCJleHByZXNzaW9uIiwiciIsImNhcFBhcmFtcyIsImZyb21TdXJmYWNlIiwibWluIiwicm91bmQiLCJkYXRhIiwiZmlsZW5hbWUiLCJiYXNlIiwidGl0bGUiLCJob3N0IiwicmVwbGFjZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1ha2VGaWxlbmFtZSIsImRvd25sb2FkcyIsImRvd25sb2FkIiwic2F2ZUFzIiwiZGV0YWNoIiwiZGV0YWNoT3duZWQiLCJleHBvcnRTY3JlZW5TdGF0ZSIsInByZWZpeCIsImtpbmQiLCJ2ZXJzaW9uIiwiZXhwb3J0ZWRBdCIsInRleHQiLCJieXRlcyIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiYmluIiwiZnJvbUNoYXJDb2RlIiwiYnRvYSIsInRvQmFzZTY0VXRmOCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkIiwicGFkIiwibiIsInciLCJwYWRTdGFydCIsInR6byIsImdldFRpbWV6b25lT2Zmc2V0Iiwic2lnbiIsImhoIiwiYWJzIiwibW0iLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJ0aW1lc3RhbXAiLCJpbXBvcnRTY3JlYW5TdGF0ZSIsImZpbGUiLCJpc0pzb25CeUV4dCIsInRlc3QiLCJuYW1lIiwiaXNKc29uQnlNaW1lIiwicGFyc2VkIiwicGFyc2UiLCJvIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJpc1ZhbGlkUGF5bG9hZCIsImtleU9mIiwiZXhpc3RpbmdTZXQiLCJVSUV2ZW50VHlwZSIsIm9uRGV0YWNoIiwiZGVidWdnZWUiLCJQYW5lbENvbnRyb2xsZXIiLCJ2aWV3IiwibW9kZWwiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJjb25uIiwiY3VycmVudFdpbmRvd0lkIiwic3RhdGljIiwiUkVOREVSX0NPTlRFTlQiLCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQiLCJDTEVBUl9DT05URU5UIiwiSE9WRVIiLCJzdGFydCIsImRpc3BhdGNoIiwiSU5JVCIsImVuc3VyZUNvbm5lY3Rpb25BbGl2ZSIsImZvcmNlUmVjb25uZWN0IiwicmVnaXN0ZXJWaWV3SGFuZGxlcnMiLCJ3aW5kb3dzIiwiZ2V0Q3VycmVudCIsInNlbmRlcldpbmRvd0lkIiwid2luZG93SWQiLCJvbiIsIlRPR0dMRV9TRUxFQ1QiLCJDTEVBUiIsIkNMRUFSX0FMTCIsIkNBUFRVUkUiLCJNRUFTVVJFX0NPTlRFTlRfU0laRSIsIkJBREdFX1NJWkVfQ0hBTkdFIiwiU0VUX0JBREdFX1NJWkUiLCJCQURHRV9DT0xPUl9TRUxFQ1QiLCJTRVRfQkFER0VfQ09MT1IiLCJCQURHRV9TSEFQRV9DSEFOR0UiLCJTRVRfQkFER0VfU0hBUEUiLCJCQURHRV9MQUJFTF9GT1JNQVRfQ0hBTkdFIiwiU0VUX0JBREdFX0xBQkVMX0ZPUk1BVCIsIkJBREdFX1ZJU0lCTEVfQ0hBTkdFIiwiU0VUX0JBREdFX1ZJU0lCTEUiLCJCQURHRV9ERUxFVEUiLCJCQURHRV9QT1NJVElPTl9TRUxFQ1QiLCJTRVRfQkFER0VfUE9TSVRJT04iLCJUT0dHTEVfQ0FQVFVSRV9QQU5FTCIsIkNBUFRVUkVfRk9STUFUX0NIQU5HRSIsIlNFVF9DQVBUVVJFX0ZPUk1BVCIsIkNBUFRVUkVfQVJFQV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9BUkVBIiwiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSIsIlNFVF9DQVBUVVJFX1FVQUxJVFkiLCJDQVBUVVJFX1NDQUxFX0NIQU5HRSIsIlNFVF9DQVBUVVJFX1NDQUxFIiwiUkVPUkRFUl9JVEVNUyIsImZyb21JZCIsImZyb21JbmRleCIsInRvSW5kZXgiLCJTRVRfR1JPVVAiLCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEIiwiSVRFTV9IT1ZFUl9JTiIsIklURU1fSE9WRVJfT1VUIiwiSVRFTV9DT01NRU5UX0FQUExZIiwiVVBEQVRFX0lURU1fQ09NTUVOVCIsIlVQREFURV9USEVNRSIsIlNFVFRJTkdfTU9EQUxfU0hPVyIsIlNUT1JFX1JFTE9BRF9SRVFVRVNURUQiLCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUiLCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRCIsInV1aWQiLCJSRU1PVkVfUEFHRV9DTElDSyIsIlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRSIsIkVYUE9SVF9QQUdFX0NMSUNLIiwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFIiwiYWN0aW9uIiwibmV4dCIsImVmZmVjdHMiLCJTRVRfVEhFTUUiLCJTRVRfU1RBVFVTIiwiUkVTVE9SRV9TVEFURSIsIlNFVF9NSVNTSU5HX0lEUyIsIkNMRUFSX1NUQVRFIiwiQ09OVEVOVF9TRUxFQ1RFRCIsIlBFUlNJU1RfU1RBVEUiLCJpdGVtc01hcmtlZEZvclJlbGFiZWwiLCJuZXh0R3JvdXBSYXciLCJuZXh0R3JvdXAiLCJ1cGRhdGVJdGVtQ250IiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsInVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsIiwiQ0FQVFVSRV9SRVFVRVNURUQiLCJOT1RJRllfRVJST1IiLCJDQVBUVVJFX1NVQ0NFRURFRCIsIkNBUFRVUkVfRkFJTEVEIiwiUmFuZ2VFcnJvciIsImZyb21JZHgiLCJmaW5kSW5kZXgiLCJyZW9yZGVySXRlbUxhYmVsIiwiaXNDaGVjayIsImFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRCeUlkIiwiZyIsImdyb3VwSWRzIiwiZ3JvdXBTZXQiLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAiLCJhbGxDaGVjayIsIlBPUlRfRElTQ09OTkVDVEVEIiwiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkUiLCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEIiwiSU1QT1JUX0ZBSUxFRCIsInQiLCJSRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZIiwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWSIsIkVYUE9SVF9GQUlMRUQiLCJ1cGRhdGUiLCJleGVjRWZmZWN0cyIsImNhdGNoIiwic29tZSIsImZ4IiwiUkVRVUlSRVNfQ09OTiIsImNvbnRleHRDaGFuZ2VkIiwiYXBpIiwicHJldiIsInNjcmVlblN0YXRlcyIsIk9iamVjdCIsImtleXMiLCJlIiwic3QiLCJwcmV2S2V5IiwicXVlcnkiLCJhY3RpdmUiLCJjdXJyZW50V2luZG93IiwiZ2V0QWN0aXZlVGFiIiwibmV3S2V5IiwiaW5jbHVkZUhhc2giLCJ1Iiwib3JpZ2luIiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNoIiwiZGlzY29ubmVjdCIsInNjcmlwdGluZyIsImV4ZWN1dGVTY3JpcHQiLCJmaWxlcyIsImNvbm5lY3QiLCJsaXN0ZW5lcnMiLCJmbiIsImNiIiwiZGlzcG9zZSIsImNvbm5lY3RUb1RhYiIsImFuY2hvcnMiLCJ1bmlxIiwiZnJvbSIsImZpbmQiLCJCb29sZWFuIiwidG9BZGQiLCJoYW5kbGVTZWxlY3RlZCIsIklDT05TIiwiY2FyZXREb3duIiwidmlld0JveCIsImNhcmV0RG93bkZpbGwiLCJjYXJldFJpZ2h0IiwiY2FyZXRSaWdodEZpbGwiLCJzdWNjZXNzIiwiZXhwb3J0IiwiY2xvc2UiLCJnZXRJY29uIiwiYnlMYWJlbFRoZW5JZCIsIlBhbmVsVmlldyIsImRvYyIsImVscyIsIk5FV19HUk9VUCIsIkhPVkVSX09VVF9ERUxBWSIsImRyYWdFbCIsImRyYWdTdGFydFBhcmVudCIsImRyYWdTdGFydEluZGV4IiwiaG92ZXJPdXRUaW1lciIsImNvbGxhcHNlZEdyb3VwcyIsIlRPQVNUX0FVVE9fRElTTUlTUyIsIiQiLCJ0b2dnbGVCdG4iLCJ0b2dnbGVJY29uIiwidG9nZ2xlTGFiZWwiLCJjbGVhckJ0biIsImNhcHR1cmVCdG4iLCJsaXN0IiwiZW1wdHkiLCJjb3VudCIsImNhcHR1cmVPcHRpb25zVG9nZ2xlIiwiY2FwdHVyZU9wdGlvbnNQYW5lbCIsImNhcHR1cmVGbXRSYWRpb3MiLCIkYWxsIiwiY2FwdHVyZUFyZWFSYWRpb3MiLCJqcGVnT25seUVscyIsImpwZWdRdWFsaXR5UmFuZ2UiLCJqcGVnUXVhbGl0eU51bWJlciIsImNhcHR1cmVTY2FsZVJhbmdlIiwiY2FwdHVyZVNjYWxlTnVtYmVyIiwiYmFkZ2VTaXplUmFuZ2UiLCJiYWRnZVNpemVOdW1iZXIiLCJiYWRnZUNvbG9yQnV0dG9ucyIsImJhZGdlQ29sb3JMYWJlbCIsImJhZGdlQ29sb3JEb3QiLCJiYWRnZVNoYXBlU2VsZWN0IiwiYmFkZ2VMYWJlbEZvcm1hdFNlbGVjdCIsImJhZGdlVmlzaWJsZVNlbGVjdCIsImJhZGdlRGVsZXRlQnV0dG9uIiwiYmFkZ2VQb3NpdGlvbkJ1dHRvbnMiLCJiYWRnZVBvc2l0aW9uTGFiZWwiLCJiYWRnZUdyb3VwU2VsZWN0IiwiZ3JvdXBOYW1lTW9kYWwiLCJncm91cE5hbWVJbnB1dCIsImdyb3VwTmFtZUNhbmNlbEJ0biIsImdyb3VwTmFtZUNyZWF0ZWxCdG4iLCJpdGVtQ29tbWVudE1vZGFsIiwiaXRlbUNvbW1lbnRJbnB1dCIsIml0ZW1Db21tZW50SWRJbnB1dCIsIml0ZW1Db21tZW50Q2FuY2VsQnRuIiwiaXRlbUNvbW1lbnRBcHBseUJ0biIsInNlbGVjdEl0ZW1BbGxDaGVja2JveCIsInNldHRpbmdNb2RhbCIsInNldHRpbmdCdXR0b24iLCJzZXR0aW5nQ2xvc2VCdXR0b24iLCJ0aGVtZUxpZ2h0QnRuIiwidGhlbWVEYXJrQnRuIiwidGhlbWVEZXZpY2VCdG4iLCJpbXBvcnRGaWxlSW5wdXQiLCJpbXBvcnRCdG4iLCJzdG9yZUNvdW50Iiwic3RvcmVMaXN0Iiwic3RvcmVFbXB0eSIsInRvYXN0UGFyZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVtaXQiLCJ1cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSIsImdldFNlbGVjdGVkQ2FwdHVyZUZvcm1hdCIsImdldFNlbGVjdGVkQ2FwdHVyZUFyZWEiLCJiaW5kU3luYyIsImZpcmVTaXplIiwiaXNGaW5pdGUiLCJidG4iLCJkYXRhc2V0IiwiY29sb3JOYW1lIiwiaXNJdGVtU2hhcGUiLCJpc0xhYmVsRm9ybWF0IiwicG9zaXRpb25OYW1lIiwiY2xhc3NMaXN0IiwiYXBwbHlUaGVtZSIsImNsaWNrIiwic2VsZWN0ZWQiLCJjaGVja2VkIiwiY2FuY2VsSG92ZXJPdXQiLCJzY2hlZHVsZUhvdmVyT3V0IiwiaGFuZGxlciIsImFyciIsImgiLCJhcHBseVRvYXN0TWVzc2FnZXMiLCJhcHBseVN0b3JlIiwicmVuZGVyU3RhdHVzIiwicmVuZGVyVG9nZ2xlIiwicmVuZGVyTGlzdCIsInNlbGVjdFJhZGlvQnlWYWx1ZSIsImFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSSIsImFwcGx5QmFkZ2VDb2xvclVJIiwiYXBwbHlCYWRnZVBvc2l0b25VSSIsImFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJIiwiZ2V0RXhpc3RpbmdHcm91cHMiLCJzdHlsZSIsImNsYXNzTmFtZSIsImRvdCIsImNyZWF0ZUVsZW1lbnQiLCJtc2dLZXkiLCJnZXRTdGF0dXNNZXNzYWdlIiwicmVwbGFjZUNoaWxkcmVuIiwiZGlzYWJsZUZvcm1Db250cm9scyIsImljb24iLCJhbGxDaGVja2VkIiwiZ3JvdXBzIiwiZ3JvdXBCeUdyb3VwIiwiZ3JvdXBLZXlzIiwibG9jYWxlQ29tcGFyZSIsImZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZ0tleSIsInNlY3Rpb24iLCJyZW5kZXJHcm91cFNlY3Rpb24iLCJhcHBlbmRDaGlsZCIsImdJdGVtcyIsImlzQ29sbGFwc2VkIiwiaGVhZGVyIiwiY2hlY2tib3hXcmFwIiwiY2hlY2tib3giLCJhcHBlbmQiLCJsZWZ0IiwiY3JlYXRlU3ZnSWNvbiIsInRvZ2dsZVBhdGgiLCJxdWVyeVNlbGVjdG9yIiwidWwiLCJhdHRhY2hVbERuREhhbmRsZXJzIiwic2VsZWN0Q2hlY2tlZCIsInJlbmRlckl0ZW0iLCJpc01pc3NpbmciLCJsaUJhc2UiLCJsaSIsImRyYWdnYWJsZSIsInBhcmVudEVsZW1lbnQiLCJwcm90b3R5cGUiLCJpbmRleE9mIiwiY2FsbCIsImNoaWxkcmVuIiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0QWxsb3dlZCIsInBhcmVudCIsImVuZEluZGV4IiwiY2hlY2tib3hTdHlsZSIsImJhZGdlU3R5bGUiLCJiYWRnZSIsIm1haW4iLCJjaGlwIiwiY29tbWVudEJ0biIsImdlbmVyYXRlQ29tbWVudEJ0biIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0TGkiLCJjbG9zZXN0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlzQWZ0ZXIiLCJjbGllbnRZIiwidG9wIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJtIiwiaXNKcGVnIiwidG9nZ2xlIiwiZGlzYWJsZWQiLCJyYWRpb3MiLCJyYW5nZUVsIiwibnVtYmVyRWwiLCJvblZhbHVlIiwicmVhZE51bSIsImZhbGxiYWNrIiwiTmFOIiwic3luYyIsInJhd1N0ciIsIk5FR0FUSVZFX0lORklOSVRZIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJzdGVwIiwiY2xhbXBlZCIsImNsYW1wIiwicm91bmRlZCIsImZpeGVkIiwidG9GaXhlZCIsImNvbnRyb2xzIiwiZW5hYmxlQWxsIiwiZW5hYmxlSWdub3JlT25seSIsImVuYWJsZU5vbmUiLCJzaG91bGRFbmFibGUiLCJoYXNBdHRyaWJ1dGUiLCJleHBhbmRlZCIsImlubmVySFRNTCIsImdldEJhZGdlQ29sb3JTdHlsZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImJ1dHRvbiIsInJlcGxhY2VBbGwiLCJleGlzdGluZ0dyb3VwcyIsImRlZmF1dEdyb3VwIiwibWFrZU9wdCIsIm5vcm1hbGl6ZSIsImNyZWF0ZU9wdCIsImRvY3VtZW50RWxlbWVudCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwibGlFbGVtIiwiYVdyYXBFbGVtIiwiYUVsZW0iLCJocmVmIiwiZXhwb3J0QnRuRWxlbSIsImV4cG9ydEljb25EZWYiLCJleHBvcnRJY29uIiwicmVtb3ZlQnRuRWxlbSIsInJlbW92ZUljb25EZWYiLCJyZW1vdmVJY29uIiwidG9hc3RNZXNzYWdlIiwidG9hc3RFbGVtIiwiZ2VuZXJhdGVUb2FzdE1lc3NhZ2UiLCJ0b2FzdEljb25EZWYiLCJ0b2FzdEljb24iLCJ0b2FzdEJvZHkiLCJkZXNjIiwiY2xvc2VCdG4iLCJjbG9zZUljb25EZWYiLCJjbG9zZUljb24iLCJ0aW1lcklkIiwiaXNDb25uZWN0ZWQiLCJzZWxlY3RvciIsInRhZyIsIm5vZGUiLCJTVkdfTlMiLCJzdmciLCJjcmVhdGVFbGVtZW50TlMiLCJhdHRycyIsImsiLCJlbnRyaWVzIiwicGF0aEVsIiwiY29udHJvbGxlciIsInJlYWR5U3RhdGUiLCJvbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==