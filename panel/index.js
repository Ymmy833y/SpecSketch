(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",s="RENDER",i="CLEAR",a="HOVER",n="MEASURE_SIZE",o="SELECTED",r="MISSING_IDS",l="CONTENT_SIZE_RESULT",c="ACTIVE_TAB_CHANGED";function E(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const d=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],h=["circle","square"],u=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",T="",m=["Numbers","UpperAlpha","LowerAlpha","None"];function _(e){if(!e||"object"!=typeof e)return!1;const t=e.anchor;if(!t||"object"!=typeof t)return!1;const s=t;return"css"===s.kind&&"string"==typeof s.value&&("number"==typeof s.version||1===s.version)}const S={status:"DISCONNECTED",tabId:null,pageKey:"",pageKeys:[],theme:"device",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultLabelFormat:"Numbers",defaultPosition:"left-top-outside",defaultGroup:T,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[],toastMessages:[]},g=function(e,t){const s="screenStateByPage";async function i(){return(await chrome.storage.local.get(s))[s]??{}}async function a(e){await chrome.storage.local.set({[s]:e})}return{key:s,readAll:i,writeAll:a,get:async function(e){const s=(await i())[e];return void 0!==s?s:t?t():void 0},set:async function(e,t){const s=await i();s[e]=t,await a(s)},remove:async function(e){const t=await i();e in t&&(delete t[e],await a(t))},clear:async function(){await a({})}}}(0,()=>({items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultLabelFormat:"Numbers",defaultPosition:"left-top-outside",defaultGroup:T})),A=function(){const e="themeMode";return{key:e,get:async function(){const t=(await chrome.storage.local.get(e))[e];return void 0===t?"device":t},set:async function(t){await chrome.storage.local.set({[e]:t})},remove:async function(){await chrome.storage.local.remove(e)}}}();async function f(e,t){const s=await g.get(e);if(t.removedIds?.length){const e=new Set(t.removedIds);s.items=s.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:s.nextId++,label:1/0,anchor:e.anchor,size:e.size??s.defaultSize,color:e.color??s.defaultColor,shape:e.shape??s.defaultShape,labelFormat:e.labelFormat??"Numbers",position:e.position??s.defaultPosition,group:e.group??s.defaultGroup,comment:e.comment??""};s.items.push(t)}return s.items=C(s.items),await g.set(e,s),s}function C(e){const t=new Map;e.forEach((e,s)=>{const i=(e.group??"").trim();t.has(i)||t.set(i,[]),t.get(i).push({index:s,item:e})});const s=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},i)=>{const a=i+1;t.label!==a&&(s[e]={...t,label:a})});return s}function R(e,t){return chrome.i18n.getMessage(e,t)||e}const O={get:R,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=R(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const s of t.split(";")){const[t,i]=s.split(":").map(e=>e?.trim());t&&i&&e.setAttribute(t,R(i))}})}},I="RESTRICTED",N="CONNECTING",L="CONNECTED",b="DISCONNECTED",v={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},y={RESTRICTED:"connect-status--restricted",CONNECTING:"connect-status--connecting",CONNECTED:"connect-status--connected",DISCONNECTED:"connect-status--disconnected"};var D,P;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.SET_BADGE_LABEL_FORMAT="SET_BADGE_LABEL_FORMAT",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.STORE_RELOAD_REQUESTED="STORE_RELOAD_REQUESTED",e.STORE_RELOAD_SUCCEEDED="STORE_RELOAD_SUCCEEDED",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.IMPORT_FAILED="IMPORT_FAILED",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_SCREEN_STATE_BY_PAGE="REMOVE_SCREEN_STATE_BY_PAGE",e.EXPORT_SCREEN_STATE_BY_PAGE="EXPORT_SCREEN_STATE_BY_PAGE",e.EXPORT_FAILED="EXPORT_FAILED"}(D||(D={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.READ_SCREEN_STATE_STORE="READ_SCREEN_STATE_STORE",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY="REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY",e.EXPORT_SCREEN_STATE_BY_PAGE_KEY="EXPORT_SCREEN_STATE_BY_PAGE_KEY",e.NOTIFY_ERROR="NOTIFY_ERROR"}(P||(P={}));const w="spsk:panel-content:v1";class M{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:s,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:i})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class G{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,s]of this.pending)s({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(s=>{if(!this.alive)return s(void e.expectReply);if(e.expectReply){const i=setTimeout(()=>{this.pending.delete(e.id),s(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(i),s(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void s(void 0)}e.expectReply||s(void 0)})}}const U=new Set;async function B(e,t,s){return await new Promise((i,a)=>{chrome.debugger.sendCommand(e,t,s??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):i(e??{})})})}async function k(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||E(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const s={tabId:t.id},i=e.format??"png",a=e.settleMs??500,n=e.scale??1,o=e.area??"full";let r=!1,l=!1;try{r=await async function(e){const t=e.tabId??null;return await new Promise((s,i)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&U.add(t),void s(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&U.has(t)?s(!1):i(new Error("Debugger is already attached by another client (DevTools/extension).")):i(new Error(a))})})}(s),await B(s,"Page.enable"),(e.bringToFront??1)&&await B(s,"Page.bringToFront");const c=await async function(e,t,s,i){if("viewport"===t){const{x:t,y:i,width:a,height:n}=await async function(e){const t=(await B(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:i,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(i.width)),n=Math.max(1,0|Math.ceil(i.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!0}}(s,o,n,e.contentSize);c.shouldScrollTop&&await B(s,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),c.useOverride&&c.metrics&&(l=!0,await B(s,"Emulation.setDeviceMetricsOverride",c.metrics)),await new Promise(e=>setTimeout(e,a));const E={format:i,fromSurface:!0,captureBeyondViewport:c.captureBeyondViewport,clip:c.clip};"jpeg"===i&&"number"==typeof e.quality&&(E.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:d}=await B(s,"Page.captureScreenshot",E),h=`data:${"png"===i?"image/png":"image/jpeg"};base64,${d}`,u=e.filename??function(e,t){let s=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return s=s.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),s.length>80&&(s=s.slice(0,80)),`${s}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,i);return await chrome.downloads.download({url:h,filename:u,saveAs:!1})}finally{if(l)try{await B(s,"Emulation.clearDeviceMetricsOverride")}catch{}if(r)try{await async function(e){const t=e.tabId??null;null!=t&&U.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),U.delete(t))}(s)}catch{}}}async function x(e,t,s={}){const{saveAs:i=!1,prefix:a="specsketch-screen-state"}=s,n={format:"specsketch-export",kind:"screen-state",version:1,exportedAt:(new Date).toISOString(),pageKey:t,items:e.items},o=`data:application/json;charset=utf-8;base64,${function(e){const t=(new TextEncoder).encode(e);let s="";for(const e of t)s+=String.fromCharCode(e);return btoa(s)}(JSON.stringify(n,null,2))}`,r=function(e,t){return`${e}_${(t??"").replace(/https?:\/\//,"").replace(/[^a-zA-Z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,120)||"page"}_${function(e=new Date){const t=(e,t=2)=>String(e).padStart(t,"0"),s=-e.getTimezoneOffset(),i=s>=0?"+":"-",a=t(Math.floor(Math.abs(s)/60)),n=t(Math.abs(s)%60);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}_${t(e.getHours())}-${t(e.getMinutes())}-${t(e.getSeconds())}${i}${a}${n}`}()}.json`}(a,t);return await chrome.downloads.download({url:o,filename:r,saveAs:i})}async function H(e,t){const s=/\.json$/i.test(e.name),i="application/json"===e.type||"text/json"===e.type||""===e.type;if(!s&&!i)throw new Error(O.get("import_file_not_json"));let a;try{const t=await e.text();a=JSON.parse(t)}catch{throw new Error(O.get("import_payload_invalid"))}if(!function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"specsketch-export"===t.format&&"screen-state"===t.kind&&"number"==typeof t.version&&"string"==typeof t.pageKey&&!!Array.isArray(t.items)&&t.items.every(_)}(a))throw new Error(O.get("import_payload_invalid"));const n=a.items,o=await g.get(t),r=e=>`${e.anchor.kind}:${e.anchor.version}:${e.anchor.value}`,l=new Set((o?.items??[]).map(r)),c=n.filter(e=>!l.has(r(e))).sort((e,t)=>t.id-e.id).map(e=>({anchor:e.anchor,size:e.size,color:e.color,shape:e.shape,position:e.position,group:e.group,comment:e.comment}));return await f(t,{added:c})}var F;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&U.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_LABEL_FORMAT_CHANGE="BADGE_LABEL_FORMAT_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY",e.UPDATE_THEME="UPDATE_THEME",e.SETTING_MODAL_SHOW="SETTING_MODAL_SHOW",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_PAGE_CLICK="REMOVE_PAGE_CLICK",e.EXPORT_PAGE_CLICK="EXPORT_PAGE_CLICK"}(F||(F={}));class ${view;model=structuredClone(S);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([P.RENDER_CONTENT,P.TOGGLE_SELECT_ON_CONTENT,P.CLEAR_CONTENT,P.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:D.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==c)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(F.TOGGLE_SELECT,()=>this.dispatch({type:D.TOGGLE_SELECT})),this.view.on(F.CLEAR,()=>this.dispatch({type:D.CLEAR_ALL})),this.view.on(F.CAPTURE,()=>this.dispatch({type:D.MEASURE_CONTENT_SIZE})),this.view.on(F.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:D.SET_BADGE_SIZE,size:e})),this.view.on(F.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:D.SET_BADGE_COLOR,color:e})),this.view.on(F.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:D.SET_BADGE_SHAPE,shape:e})),this.view.on(F.BADGE_LABEL_FORMAT_CHANGE,({labelFormat:e})=>this.dispatch({type:D.SET_BADGE_LABEL_FORMAT,labelFormat:e})),this.view.on(F.BADGE_DELETE,()=>this.dispatch({type:D.BADGE_DELETE})),this.view.on(F.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:D.SET_BADGE_POSITION,position:e})),this.view.on(F.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:D.TOGGLE_CAPTURE_PANEL})),this.view.on(F.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:D.SET_CAPTURE_FORMAT,format:e})),this.view.on(F.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:D.SET_CAPTURE_AREA,area:e})),this.view.on(F.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:D.SET_CAPTURE_QUALITY,quality:e})),this.view.on(F.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:D.SET_CAPTURE_SCALE,scale:e})),this.view.on(F.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:s})=>this.dispatch({type:D.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:s})),this.view.on(F.SET_GROUP,({group:e})=>this.dispatch({type:D.SET_GROUP,group:e})),this.view.on(F.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:D.ITEM_SELECTION_CHANGED,...e})),this.view.on(F.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:D.ITEM_HOVER_IN,id:e})),this.view.on(F.ITEM_HOVER_OUT,()=>this.dispatch({type:D.ITEM_HOVER_OUT})),this.view.on(F.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:D.UPDATE_ITEM_COMMENT,id:e,comment:t})),this.view.on(F.UPDATE_THEME,({theme:e})=>this.dispatch({type:D.UPDATE_THEME,theme:e})),this.view.on(F.SETTING_MODAL_SHOW,()=>this.dispatch({type:D.STORE_RELOAD_REQUESTED})),this.view.on(F.IMPORT_SCREAN_STATE_FILE,({file:e})=>this.dispatch({type:D.IMPORT_SCREAN_STATE_FILE,file:e})),this.view.on(F.TOAST_DISMISS_REQUESTED,({uuid:e})=>this.dispatch({type:D.TOAST_DISMISS_REQUESTED,uuid:e})),this.view.on(F.REMOVE_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:D.REMOVE_SCREEN_STATE_BY_PAGE,pageKey:e})),this.view.on(F.EXPORT_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:D.EXPORT_SCREEN_STATE_BY_PAGE,pageKey:e}))}dispatch(e){const{model:t,effects:s}=function(e,t){switch(t.type){case D.INIT:return{model:e,effects:[{kind:P.SET_THEME}]};case D.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case D.SET_STATUS:return t.status===L?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case D.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultLabelFormat:t.state.defaultLabelFormat,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:P.RENDER_CONTENT,items:t.state.items}]};case D.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case D.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:P.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case D.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:P.CLEAR_CONTENT},{kind:P.CLEAR_STATE}]};case D.CONTENT_SELECTED:return{model:e,effects:[]};case D.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case D.SET_BADGE_SIZE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_COLOR:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_SHAPE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_BADGE_LABEL_FORMAT:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{labelFormat:t.labelFormat}:{}}));return{model:{...e,defaultLabelFormat:t.labelFormat,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.BADGE_DELETE:{const t=C(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:t}]}}case D.SET_BADGE_POSITION:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.SET_GROUP:{const s=function(e,t,s){const i=(s??"").trim();let a=0;return e.sort((e,t)=>t.id-e.id).map(e=>{if(t.includes(e.id)&&e.group!==i){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:i,label:t}}return e})}(e.items,e.selectItems,t.group),i=C(s);return{model:{...e,defaultGroup:t.group,items:i},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:i}]}}case D.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case D.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case D.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case D.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case D.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:P.MEASURE_CONTENT_SIZE}]};case D.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:P.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:P.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case D.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case D.CAPTURE_FAILED:return{model:e,effects:[{kind:P.NOTIFY_ERROR,error:t.error}]};case D.REORDER_ITEMS:{const s=function(e,t,s,i){if(i<0||i>=e.length)throw new RangeError(`toIndex out of range: ${i}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(i<0||i>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${i}`);const n=i+(s<i?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),i=C(s);return{model:{...e,items:i},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:i}]}}case D.ITEM_SELECTION_CHANGED:if("id"in t){const s=function(e,t,s){return t&&!s.includes(e)?[...s,e]:s.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:s},effects:[]}}if("group"in t){const s=function(e,t,s,i){const a=e.trim(),n=i.filter(e=>(e.group??T).trim()===a).map(e=>e.id);if(0===n.length)return s;if(t){const e=new Set(s);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return s.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:s},effects:[]}}{const a=(s=t.allCheck,i=e.items,s?i.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case D.ITEM_HOVER_IN:return{model:e,effects:[{kind:P.HOVER,id:t.id}]};case D.ITEM_HOVER_OUT:return{model:e,effects:[{kind:P.HOVER,id:null}]};case D.UPDATE_ITEM_COMMENT:{const s=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:s},effects:[{kind:P.PERSIST_STATE},{kind:P.RENDER_CONTENT,items:s}]}}case D.PORT_DISCONNECTED:return{model:{...e,status:b,selectionEnabled:!1},effects:[{kind:P.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};case D.SET_THEME:return{model:{...e,theme:t.theme},effects:[]};case D.UPDATE_THEME:return{model:{...e,theme:t.theme},effects:[{kind:P.UPDATE_THEME,theme:t.theme}]};case D.STORE_RELOAD_REQUESTED:return{model:e,effects:[{kind:P.READ_SCREEN_STATE_STORE}]};case D.STORE_RELOAD_SUCCEEDED:return{model:{...e,pageKeys:t.pageKeys},effects:[]};case D.IMPORT_SCREAN_STATE_FILE:return{model:e,effects:[{kind:P.IMPORT_SCREAN_STATE_FILE,file:t.file}]};case D.IMPORT_FAILED:return{model:{...e,toastMessages:t.toastMessages},effects:[]};case D.TOAST_DISMISS_REQUESTED:{const s=e.toastMessages.filter(e=>e.uuid!==t.uuid);return{model:{...e,toastMessages:s},effects:[]}}case D.REMOVE_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:P.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY,pageKey:t.pageKey}]};case D.EXPORT_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:P.EXPORT_SCREEN_STATE_BY_PAGE_KEY,pageKey:t.pageKey}]};case D.EXPORT_FAILED:return{model:e,effects:[{kind:P.NOTIFY_ERROR,error:t.error}]};default:return{model:e,effects:[]}}var s,i}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(s).catch(console.error)}async execEffects(e){if(e.some(e=>$.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case P.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case P.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case P.CLEAR_CONTENT:await(this.conn?.api.clear());break;case P.HOVER:await(this.conn?.api.hover(t.id));break;case P.CLEAR_STATE:await g.set(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultLabelFormat:this.model.defaultLabelFormat,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case P.PERSIST_STATE:{const e=await g.get(this.model.pageKey);await g.set(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultLabelFormat:this.model.defaultLabelFormat,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case P.SET_THEME:{const e=await A.get();this.dispatch({type:D.SET_THEME,theme:e});break}case P.UPDATE_THEME:await A.set(t.theme);break;case P.READ_SCREEN_STATE_STORE:{const e=await g.readAll(),t=Object.keys(e);this.dispatch({type:D.STORE_RELOAD_SUCCEEDED,pageKeys:t});break}case P.IMPORT_SCREAN_STATE_FILE:try{const e=await H(t.file,this.model.pageKey);this.dispatch({type:D.RESTORE_STATE,state:{items:e.items,defaultSize:e.defaultSize,defaultColor:e.defaultColor,defaultShape:e.defaultShape,defaultLabelFormat:e.defaultLabelFormat,defaultPosition:e.defaultPosition,defaultGroup:e.defaultGroup}})}catch(e){const t=e,s={uuid:crypto.randomUUID(),message:t.message,kind:"error"};this.dispatch({type:D.IMPORT_FAILED,toastMessages:[s]})}break;case P.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY:{await g.remove(t.pageKey);const e=await g.readAll(),s=Object.keys(e);this.dispatch({type:D.STORE_RELOAD_SUCCEEDED,pageKeys:s});const i=await g.get(this.model.pageKey);this.dispatch({type:D.RESTORE_STATE,state:{items:i.items,defaultSize:i.defaultSize,defaultColor:i.defaultColor,defaultShape:i.defaultShape,defaultLabelFormat:i.defaultLabelFormat,defaultPosition:i.defaultPosition,defaultGroup:i.defaultGroup}});break}case P.EXPORT_SCREEN_STATE_BY_PAGE_KEY:try{const e=await g.get(t.pageKey);await x(e,t.pageKey)}catch(e){this.dispatch({type:D.EXPORT_FAILED,error:e})}break;case P.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case P.CAPTURE:try{await k(t.payload),this.dispatch({type:D.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:D.CAPTURE_FAILED,error:e})}break;case P.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const s=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!s?.id||E(s.url))return this.dispatch({type:D.SET_STATUS,status:I}),{ok:!1};const i=function(e,t=!1){try{const s=new URL(e);return t?`${s.origin}${s.pathname}${s.search}${s.hash}`:`${s.origin}${s.pathname}${s.search}`}catch{return e}}(s.url),a=s.id;this.dispatch({type:D.CONNECTED,tabId:a,pageKey:i}),this.dispatch({type:D.SET_STATUS,status:N});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:w}),s=new G(t),i=new M(s),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:i,port:t,rpc:s,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:D.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===o){const t=await async function(e,t){const s=await g.get(e),i=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of i){const t=s.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const o={};return a.length&&(o.removedIds=a),n.length&&(o.added=n),f(e,o)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:D.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultLabelFormat:t.defaultLabelFormat,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===r?this.dispatch({type:D.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===l&&this.dispatch({type:D.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await g.get(i);return this.dispatch({type:D.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultLabelFormat:n.defaultLabelFormat,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:D.SET_STATUS,status:L}),{ok:!0,contextChanged:!!t&&t!==i}}}const V={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},success:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.707-8.707a1 1 0 0 0-1.414-1.414L9 11.172 7.707 9.879a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4Z",viewBox:"0 0 20 20"},error:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-11.5a.75.75 0 0 1 1.5 0v5a.75.75 0 0 1-1.5 0v-5Zm.75 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",viewBox:"0 0 20 20"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"},remove:{d:"M7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h3a1 1 0 1 1 0 2h-1l-1 10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6H4a1 1 0 1 1 0-2h3V3Zm1 3a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z",viewBox:"0 0 20 20"},export:{d:"M3 16.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm7.53-2.03a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V3.75a.75.75 0 0 1 1.5 0v8.13l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3Z",viewBox:"0 0 20 20"},close:{d:"M5.23 5.23a.75.75 0 0 1 1.06 0L10 8.94l3.71-3.71a.75.75 0 1 1 1.06 1.06L11.06 10l3.71 3.71a.75.75 0 1 1-1.06 1.06L10 11.06l-3.71 3.71a.75.75 0 1 1-1.06-1.06L8.94 10 5.23 6.29a.75.75 0 0 1 0-1.06Z",viewBox:"0 0 20 20"}};function z(e){const{d:t,viewBox:s="0 0 20 20"}=V[e];return{d:t,viewBox:s}}function Y(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class K{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;TOAST_AUTO_DISMISS=1e4;constructor(e){this.doc=e,O.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeLabelFormatSelect:this.$("#badge-label-format-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]'),settingModal:this.$("#setting-modal"),settingButton:this.$("#setting-button"),settingCloseButton:this.$("#setting-close-btn"),themeLightBtn:this.$("#theme-light-btn"),themeDarkBtn:this.$("#theme-dark-btn"),themeDeviceBtn:this.$("#theme-device-btn"),importFileInput:this.$("#import-file-input"),importBtn:this.$("#import-btn"),storeCount:this.$("#store-count"),storeList:this.$("#store-list"),storeEmpty:this.$("#store-empty"),toastParent:this.$("#toast-parent")},this.els.toggleBtn.addEventListener("click",()=>this.emit(F.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(F.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(F.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(F.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(F.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(F.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(F.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(F.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(F.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",s="string"==typeof(i=t)&&d.includes(i)?t:"Blue";var i;this.emit(F.BADGE_COLOR_SELECT,{color:s})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&h.includes(e)}(e)?e:"circle";this.emit(F.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeLabelFormatSelect.addEventListener("change",()=>{const e=this.els.badgeLabelFormatSelect.value??null,t=function(e){return"string"==typeof e&&m.includes(e)}(e)?e:"Numbers";this.emit(F.BADGE_LABEL_FORMAT_CHANGE,{labelFormat:t})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(F.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",s="string"==typeof(i=t)&&u.includes(i)?t:"left-top-outside";var i;this.emit(F.BADGE_POSITION_SELECT,{position:s})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?T:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(F.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?T:e;this.emit(F.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(F.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.els.settingButton.addEventListener("click",()=>{this.els.settingModal.classList.remove("hidden"),this.emit(F.SETTING_MODAL_SHOW,void 0)}),this.els.settingCloseButton.addEventListener("click",()=>{this.els.settingModal.classList.add("hidden")}),this.els.themeLightBtn.addEventListener("click",()=>{this.applyTheme("light"),this.emit(F.UPDATE_THEME,{theme:"light"})}),this.els.themeDarkBtn.addEventListener("click",()=>{this.applyTheme("dark"),this.emit(F.UPDATE_THEME,{theme:"dark"})}),this.els.themeDeviceBtn.addEventListener("click",()=>{this.applyTheme("device"),this.emit(F.UPDATE_THEME,{theme:"device"})}),this.els.importBtn.addEventListener("click",()=>{if(!this.els.importFileInput.files||0===this.els.importFileInput.files.length)return void this.els.importFileInput.click();const e=this.els.importFileInput.files[0];this.emit(F.IMPORT_SCREAN_STATE_FILE,{file:e})}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(F.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(F.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const s=this.listeners[e];s?.forEach(e=>e(t))}render(e){this.applyToastMessages(e.toastMessages),this.applyTheme(e.theme),this.applyStore(e.pageKeys),this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.els.badgeLabelFormatSelect.value=e.defaultLabelFormat??"Numbers",this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup)}renderStatus(e){const t=y[e],s=this.els.status;s.className="",s.className=`connect-status ${t}`;const i=this.doc.createElement("span");i.classList.add("connect-status-dot");const a=this.doc.createElement("span");a.textContent=function(e){const t=v[e];return O.get(t)||t}(e),s.replaceChildren(i,a),this.disableFormControls(e)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=O.get(e?"toggle_on":"toggle_off")}renderList(e,t,s){this.els.count.textContent=String(e.length);const i=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=i,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),o=this.doc.createDocumentFragment();for(const e of n){const i=this.renderGroupSection(e,a.get(e),t,s);o.appendChild(i)}this.els.list.replaceChildren(o)}renderGroupSection(e,t,s,i){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),o=this.el("div","select-item-header"),r=this.el("div","spsk-checkwrap"),l=this.el("input","spsk-checkbox spsk-checkbox--normal");l.type="checkbox",l.name="item-select",l.value=e===p?O.get("group_ungrouped"):e,l.checked=t.every(e=>s.includes(e.id)),l.addEventListener("change",t=>{const s=t.target.checked;this.emit(F.ITEM_SELECTION_CHANGED,{group:e===p?T:e,isCheck:s})}),r.append(l);const c=this.el("span","select-item-gh-title",e===p?O.get("group_ungrouped"):e),E=this.el("div","select-item-gh-left");E.append(r,c);const d=this.el("span","select-item-gh-count",String(t.length)),h=this.el("button","select-item-gh-toggle");h.type="button",h.setAttribute("aria-expanded",String(!a));const{d:u,viewBox:m}=z(a?"caretRight":"caretDown"),_=this.createSvgIcon(u,{className:"icon-sm",viewBox:m}),S=_.querySelector("path");h.append(_),o.append(E,d,h);const g=this.el("ul","select-item-list");a&&g.classList.add("hidden"),this.attachUlDnDHandlers(g);for(const e of t.sort(Y)){const t=s.includes(e.id);g.appendChild(this.renderItem(e,t,i))}return h.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),g.classList.remove("hidden"),S.setAttribute("d",z("caretDown").d),h.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),g.classList.add("hidden"),S.setAttribute("d",z("caretRight").d),h.setAttribute("aria-expanded","false"))}),n.append(o,g),n}renderItem(e,t,s){const i=s.includes(e.id),a="select-item",n=this.el("li",i?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const s=this.dragEl.dataset.id??"";this.dragEl=null,s&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(F.REORDER_ITEMS,{fromId:Number(s),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const o=this.el("div","spsk-checkwrap"),r=i?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",l=this.el("input",r);l.type="checkbox",l.name="item-select",l.value=String(e.id),l.checked=t,l.addEventListener("change",t=>{const s=t.target.checked;this.emit(F.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:s})}),o.append(l);const c=i?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",E=this.el("span",c,String(e.label)),d=this.el("div","min-w-0 flex-1");if(d.addEventListener("pointerenter",()=>{this.dragStartParent||i||(this.cancelHoverOut(),this.emit(F.ITEM_HOVER_IN,{id:e.id}))}),i){const e=this.el("span","chip-warn"),{d:t,viewBox:s}=z("warn"),i=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:s}),a=this.el("span",void 0,O.get("missing_item"));e.append(i,a),d.append(e)}const h=this.el("div","anchor",e.anchor.value);d.append(h);const u=this.generateCommentBtn(e);return n.append(o,E,d,u),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:s,viewBox:i}=z("comment"),a=this.createSvgIcon(s,{className:"h-3.5 w-3.5",viewBox:i});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(F.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const s=t.target?.closest("li");if(s&&s!==this.dragEl){const i=s.getBoundingClientRect(),a=t.clientY-i.top>i.height/2;e.insertBefore(this.dragEl,a?s.nextSibling:s)}else s||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const s of e){const e=(s.group??T).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,s){const i=(e,t)=>{const s=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(s)?s:t},a=a=>{const n=i(t.min||e.min,Number.NEGATIVE_INFINITY),o=i(t.max||e.max,Number.POSITIVE_INFINITY),r=i(t.step||e.step,1),l=Number(a),c=((e,t,s)=>Math.min(Math.max(e,t),s))(Number.isFinite(l)?l:0,n,o),E=Math.round(c/r)*r,d=Number(E.toFixed(6));t.value=String(d),e.value=String(d),s?.(d)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disableFormControls(e){const t=this.doc.querySelectorAll("button, select, input, textarea"),s=e===L,i=e===N||e===b,a=e===I;t.forEach(e=>{const t=!!s||i&&e.hasAttribute("data-ignore-disable")||a&&!1;e.disabled=!t})}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:s}=z(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:s,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const s=t.dataset.colorName===e;t.setAttribute("aria-selected",s?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const s=t.dataset.positionName===e;t.setAttribute("data-selected",s?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,O.get("group_ungrouped"),t===p));for(const s of e){const e=(e=>(e??"").trim())(s);this.els.badgeGroupSelect.append(this.makeOpt(e,s,t===s))}const s=this.makeOpt(this.NEW_GROUP,O.get("common_create"));this.els.badgeGroupSelect.append(s)}applyTheme(e){const t=document.documentElement;("device"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e)?t.classList.add("dark"):t.classList.remove("dark"),this.els.themeLightBtn.setAttribute("data-active",String("light"===e)),this.els.themeDarkBtn.setAttribute("data-active",String("dark"===e)),this.els.themeDeviceBtn.setAttribute("data-active",String("device"===e))}applyStore(e){if(this.els.storeCount.textContent=String(e.length),this.els.storeList.innerHTML="",e.length<=0)return this.els.storeList.classList.add("hidden"),void this.els.storeEmpty.classList.remove("hidden");for(const t of e){const e=this.el("li","select-item"),s=this.el("div","min-w-0 flex-1"),i=this.el("a","anchor whitespace-normal break-words",t);i.href=t,i.target="_blank",s.appendChild(i);const a=this.el("button","btn-icon");a.setAttribute("data-ignore-disable","true");const n=z("export"),o=this.createSvgIcon(n.d,{className:"icon-sm",viewBox:n.viewBox});a.appendChild(o);const r=this.el("button","btn-icon btn-icon--danger");r.setAttribute("data-ignore-disable","true");const l=z("remove"),c=this.createSvgIcon(l.d,{className:"icon-sm",viewBox:l.viewBox});r.appendChild(c),e.appendChild(s),e.appendChild(a),e.appendChild(r),this.els.storeList.appendChild(e),a.addEventListener("click",()=>{this.emit(F.EXPORT_PAGE_CLICK,{pageKey:t})}),r.addEventListener("click",()=>{this.emit(F.REMOVE_PAGE_CLICK,{pageKey:t})})}this.els.storeList.classList.remove("hidden"),this.els.storeEmpty.classList.add("hidden")}applyToastMessages(e){for(const t of e){const e=this.generateToastMessage(t);this.els.toastParent.appendChild(e),this.emit(F.TOAST_DISMISS_REQUESTED,{uuid:t.uuid})}}generateToastMessage(e){const t=this.el("div",`toast toast--${e.kind}`),s=z(e.kind),i=this.createSvgIcon(s.d,{className:"toast-icon",viewBox:s.viewBox}),a=this.el("div","toast-body"),n=this.el("p","toast-desc",e.message);a.appendChild(n);const o=this.el("button",`toast-close toast-close--${e.kind}`),r=z("close"),l=this.createSvgIcon(r.d,{className:"h-3.5 w-3.5",viewBox:r.viewBox});o.appendChild(l),t.appendChild(i),t.appendChild(a),t.appendChild(o);const c=window.setTimeout(()=>{t.isConnected&&t.remove()},this.TOAST_AUTO_DISMISS);return o.addEventListener("click",()=>{clearTimeout(c),t.isConnected&&t.remove()}),t}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,s){const i=this.doc.createElement(e);return t&&(i.className=t),void 0!==s&&(i.textContent=s),i}makeOpt(e,t,s=!1){const i=this.doc.createElement("option");return i.value=e,i.textContent=t,s&&(i.selected=!0),i}createSvgIcon(e,t={}){const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");if(i.setAttribute("viewBox",t.viewBox??"0 0 20 20"),i.setAttribute("class",t.className??"h-3.5 w-3.5"),i.setAttribute("fill","currentColor"),i.setAttribute("aria-hidden","true"),t.attrs)for(const[e,s]of Object.entries(t.attrs))i.setAttribute(e,s);const a=document.createElementNS(s,"path");return a.setAttribute("d",e),i.appendChild(a),i}}async function Q(){const e=new K(document),t=new $(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?Q().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{Q().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHN0UsRUFBTyxDQUFDLEdBQ3JCLE1BQU11ZixFQUFTLDZCQUNUQyxFQUFNbmtCLFNBQVNva0IsZ0JBQWdCRixFQUFRLE9BSzdDLEdBSkFDLEVBQUl6akIsYUFBYSxVQUFXaUUsRUFBS3lRLFNBQVcsYUFDNUMrTyxFQUFJempCLGFBQWEsUUFBU2lFLEVBQUtxWCxXQUFhLGVBQzVDbUksRUFBSXpqQixhQUFhLE9BQVEsZ0JBQ3pCeWpCLEVBQUl6akIsYUFBYSxjQUFlLFFBQzVCaUUsRUFBSzBmLE1BQ0wsSUFBSyxNQUFPQyxFQUFHL3BCLEtBQU0wWSxPQUFPc1IsUUFBUTVmLEVBQUswZixPQUNyQ0YsRUFBSXpqQixhQUFhNGpCLEVBQUcvcEIsR0FFNUIsTUFBTWlxQixFQUFTeGtCLFNBQVNva0IsZ0JBQWdCRixFQUFRLFFBR2hELE9BRkFNLEVBQU85akIsYUFBYSxJQUFLOEksR0FDekIyYSxFQUFJakgsWUFBWXNILEdBQ1RMLENBQ1gsRUN0ckJKOW5CLGVBQWVrUSxJQUNYLE1BQU1WLEVBQU8sSUFBSWdLLEVBQVU3VixVQUNyQnlrQixFQUFhLElBQUk3WSxFQUFnQkMsU0FDakM0WSxFQUFXbFksT0FDckIsQ0FFZ0MsYUFBeEJ2TSxTQUFTMGtCLFlBQXFELGdCQUF4QjFrQixTQUFTMGtCLFdBQzFDblksSUFBUWtHLE1BQU9qTyxJQUNoQk0sUUFBUXZCLE1BQU0sMEJBQTJCaUIsS0FJN0N4RSxTQUFTNFosaUJBQWlCLG1CQUFvQixLQUFXck4sSUFBUWtHLE1BQU9qTyxJQUNwRU0sUUFBUXZCLE1BQU0sMEJBQTJCaUIsTUFDekMsQ0FDQW1nQixNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21tb24vbWVzc2FnZXMudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL3VybC50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zdG9yYWdlL3RhYmxlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL3N0YXRlLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9pMThuLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdHlwZXMvc3RhdHVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdHlwZXMvYWN0aW9uX3R5cGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvdHlwZXMvZWZmZWN0X3R5cGVzLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvYXBpLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvbWVzc2FnaW5nL3BvcnRfcnBjLnRzIiwid2VicGFjazovLy8uL2luZnJhL2NkcC9jZHBfY2xpZW50LnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvY2FwdHVyZS50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL2V4cG9ydC50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9pbXBvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy91aV9ldmVudF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC91cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vaW5mcmEvY2hyb21lL3RhYnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvY29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaWNvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC92aWV3L3BhbmVsX3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUDJDID0ge1xuICAgIFBJTkc6ICdQSU5HJyxcbiAgICBUT0dHTEVfU0VMRUNUOiAnVE9HR0xFX1NFTEVDVCcsXG4gICAgUkVOREVSOiAnUkVOREVSJyxcbiAgICBDTEVBUjogJ0NMRUFSJyxcbiAgICBIT1ZFUjogJ0hPVkVSJyxcbiAgICBNRUFTVVJFX1NJWkU6ICdNRUFTVVJFX1NJWkUnLFxufTtcbmNvbnN0IEMyUCA9IHtcbiAgICBTRUxFQ1RFRDogJ1NFTEVDVEVEJyxcbiAgICBNSVNTSU5HX0lEUzogJ01JU1NJTkdfSURTJyxcbiAgICBDT05URU5UX1NJWkVfUkVTVUxUOiAnQ09OVEVOVF9TSVpFX1JFU1VMVCcsXG59O1xuY29uc3QgQjJQID0ge1xuICAgIEFDVElWRV9UQUJfQ0hBTkdFRDogJ0FDVElWRV9UQUJfQ0hBTkdFRCcsXG59O1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFID0geyAuLi5QMkMsIC4uLkMyUCwgLi4uQjJQIH07XG5leHBvcnQgZnVuY3Rpb24gaXNSZXNwb25zZShtc2cpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1zZyA9PT0gJ29iamVjdCcgJiYgbXNnICE9PSBudWxsICYmICdpZCcgaW4gbXNnICYmICdvaycgaW4gbXNnO1xufVxuIiwiLyoqXG4gKiBCdWlsZHMgYSBwYWdlIGtleSBmcm9tIGEgVVJMLiBCeSBkZWZhdWx0IGV4Y2x1ZGVzIHRoZSBoYXNoIGFuZCB1c2VzXG4gKiBvcmlnaW4gKyBwYXRobmFtZSArIHNlYXJjaC5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gSW5wdXQgVVJMIChyZXR1cm5lZCBhcy1pcyBpZiBpbnZhbGlkKVxuICogQHBhcmFtIGluY2x1ZGVIYXNoIC0gV2hldGhlciB0byBpbmNsdWRlIHRoZSBoYXNoIChkZWZhdWx0OiBmYWxzZSlcbiAqIEByZXR1cm5zIFBhZ2Uga2V5IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFnZUtleSh1cmwsIGluY2x1ZGVIYXNoID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICByZXR1cm4gaW5jbHVkZUhhc2hcbiAgICAgICAgICAgID8gYCR7dS5vcmlnaW59JHt1LnBhdGhuYW1lfSR7dS5zZWFyY2h9JHt1Lmhhc2h9YFxuICAgICAgICAgICAgOiBgJHt1Lm9yaWdpbn0ke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBVUkwgc2hvdWxkIGJlIGV4Y2x1ZGVkIGZyb20gZXh0ZW5zaW9uIG9wZXJhdGlvbi5cbiAqXG4gKiBVbnBhcnNlYWJsZS91bmtub3duIHNjaGVtZXMgYXJlIHRyZWF0ZWQgYXMgcmVzdHJpY3RlZC5cbiAqIE5vbi13ZWIgc2NoZW1lcyAoZS5nLiwgdmlldy1zb3VyY2U6LCBkYXRhOiwgYmxvYjosIGZpbGVzeXN0ZW06KSBhcmUgYmxvY2tlZCBlYXJseS5cbiAqIENocm9tZSBXZWIgU3RvcmUgcGFnZXMgYXJlIGFsd2F5cyBleGNsdWRlZCAoY29udGVudCBzY3JpcHRzIGFyZSBub3QgYWxsb3dlZCB0aGVyZSkuXG4gKlxuICogQHBhcmFtIHJhdyAtIFVSTCBzdHJpbmcgdG8gZXZhbHVhdGUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBzaG91bGQgYmUgc2tpcHBlZCBieSB0aGUgZXh0ZW5zaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZXN0cmljdGVkKHJhdykge1xuICAgIGlmICghcmF3KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJ3ZpZXctc291cmNlOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdkYXRhOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdibG9iOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdmaWxlc3lzdGVtOicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXJsO1xuICAgIHRyeSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwocmF3KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBJbnZhbGlkIG9yIG5vbi1zdGFuZGFyZCBVUkwg4oaSIHNraXAgZm9yIHNhZmV0eS5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEFsbG93LWxpc3QgcG9saWN5OiBvbmx5IG9wZXJhdGUgb24gdHlwaWNhbCB3ZWIgcGFnZXMuXG4gICAgY29uc3QgYWxsb3dlZCA9IG5ldyBTZXQoWydodHRwOicsICdodHRwczonLCAnZmlsZTonXSk7XG4gICAgaWYgKCFhbGxvd2VkLmhhcyh1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgV2ViIFN0b3JlIChjdXJyZW50IGFuZCBsZWdhY3kgaG9zdCkg4oCUIGNvbnRlbnQgc2NyaXB0cyBhcmUgZGlzYWxsb3dlZCBieSBwbGF0Zm9ybSBwb2xpY3kuXG4gICAgY29uc3Qgd2ViU3RvcmVIb3N0cyA9IG5ldyBTZXQoWydjaHJvbWV3ZWJzdG9yZS5nb29nbGUuY29tJywgJ2Nocm9tZS5nb29nbGUuY29tJ10pO1xuICAgIGlmICh3ZWJTdG9yZUhvc3RzLmhhcyh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJjb25zdCBJVEVNX0NPTE9SUyA9IFtcbiAgICAnR3JheScsXG4gICAgJ1JlZCcsXG4gICAgJ1llbGxvdycsXG4gICAgJ0dyZWVuJyxcbiAgICAnQmx1ZScsXG4gICAgJ0xpbWUnLFxuICAgICdQdXJwbGUnLFxuICAgICdQaW5rJyxcbiAgICAnT3JhbmdlJyxcbiAgICAnQ3lhbicsXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbUNvbG9yKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fQ09MT1JTLmluY2x1ZGVzKHYpO1xufVxuY29uc3QgSVRFTV9TSEFQRSA9IFsnY2lyY2xlJywgJ3NxdWFyZSddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbVNoYXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fU0hBUEUuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgSVRFTV9QT1NJVElPTl9WQUxVRVMgPSBbXG4gICAgJ3JpZ2h0LXRvcC1vdXRzaWRlJyxcbiAgICAncmlnaHQtdG9wLWluc2lkZScsXG4gICAgJ3JpZ2h0LW91dHNpZGUnLFxuICAgICdyaWdodC1pbnNpZGUnLFxuICAgICdyaWdodC1ib3R0b20tb3V0c2lkZScsXG4gICAgJ3JpZ2h0LWJvdHRvbS1pbnNpZGUnLFxuICAgICd0b3Atb3V0c2lkZScsXG4gICAgJ3RvcC1pbnNpZGUnLFxuICAgICdjZW50ZXInLFxuICAgICdib3R0b20tb3V0c2lkZScsXG4gICAgJ2JvdHRvbS1pbnNpZGUnLFxuICAgICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAnbGVmdC10b3AtaW5zaWRlJyxcbiAgICAnbGVmdC1vdXRzaWRlJyxcbiAgICAnbGVmdC1pbnNpZGUnLFxuICAgICdsZWZ0LWJvdHRvbS1vdXRzaWRlJyxcbiAgICAnbGVmdC1ib3R0b20taW5zaWRlJyxcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtUG9zaXRpb24odikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9QT1NJVElPTl9WQUxVRVMuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgVU5HUk9VUEVEID0gJ19fdW5ncm91cGVkX18nO1xuZXhwb3J0IGNvbnN0IFVOR1JPVVBFRF9WQUxVRSA9ICcnO1xuZXhwb3J0IGNvbnN0IExBQkVMX0ZPUk1BVCA9IFsnTnVtYmVycycsICdVcHBlckFscGhhJywgJ0xvd2VyQWxwaGEnLCAnTm9uZSddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGFiZWxGb3JtYXQodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgTEFCRUxfRk9STUFULmluY2x1ZGVzKHYpO1xufVxuLyoqXG4gKiBOYXJyb3dpbmcgZ3VhcmQgZm9yIGEgbWluaW1hbCBgU2NyZWVuSXRlbWAtbGlrZSBzaGFwZS5cbiAqIENoZWNrcyBvbmx5IHRoZSBmaWVsZHMgcmVxdWlyZWQgYnkgdGhpcyBpbXBvcnQgcGF0aCAoYW5jaG9yIHN0cnVjdHVyZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjcmVlbkl0ZW1MaWtlKHYpIHtcbiAgICBpZiAoIXYgfHwgdHlwZW9mIHYgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbyA9IHY7XG4gICAgY29uc3QgYW5jaG9yID0gb1snYW5jaG9yJ107XG4gICAgaWYgKCFhbmNob3IgfHwgdHlwZW9mIGFuY2hvciAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhID0gYW5jaG9yO1xuICAgIHJldHVybiAoYVsna2luZCddID09PSAnY3NzJyAmJlxuICAgICAgICB0eXBlb2YgYVsndmFsdWUnXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgKHR5cGVvZiBhWyd2ZXJzaW9uJ10gPT09ICdudW1iZXInIHx8IGFbJ3ZlcnNpb24nXSA9PT0gMSkpO1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBwYXJzZWQgSlNPTiB2YWx1ZSBhZ2FpbnN0IHRoZSBleHBlY3RlZCBleHBvcnQgcGF5bG9hZCBjb250cmFjdC5cbiAqIFJlcXVpcmVzOiBgZm9ybWF0ID09PSAnc3BlY3NrZXRjaC1leHBvcnQnYCwgYGtpbmQgPT09ICdzY3JlZW4tc3RhdGUnYCxcbiAqIGB2ZXJzaW9uOiBudW1iZXJgLCBgcGFnZUtleTogc3RyaW5nYCwgYW5kIGBpdGVtczogU2NyZWVuSXRlbVtdYC1saWtlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFBheWxvYWQodikge1xuICAgIGlmICghdiB8fCB0eXBlb2YgdiAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBvID0gdjtcbiAgICBpZiAob1snZm9ybWF0J10gIT09ICdzcGVjc2tldGNoLWV4cG9ydCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAob1sna2luZCddICE9PSAnc2NyZWVuLXN0YXRlJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb1sndmVyc2lvbiddICE9PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb1sncGFnZUtleSddICE9PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvWydpdGVtcyddKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBvWydpdGVtcyddLmV2ZXJ5KGlzU2NyZWVuSXRlbUxpa2UpO1xufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFLCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxNb2RlbCA9IHtcbiAgICBzdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgIHRhYklkOiBudWxsLFxuICAgIHBhZ2VLZXk6ICcnLFxuICAgIHBhZ2VLZXlzOiBbXSxcbiAgICB0aGVtZTogJ2RldmljZScsXG4gICAgc2VsZWN0aW9uRW5hYmxlZDogZmFsc2UsXG4gICAgaXRlbXM6IFtdLFxuICAgIGRlZmF1bHRTaXplOiAxNCxcbiAgICBkZWZhdWx0Q29sb3I6ICdCbHVlJyxcbiAgICBkZWZhdWx0U2hhcGU6ICdjaXJjbGUnLFxuICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogJ051bWJlcnMnLFxuICAgIGRlZmF1bHRQb3NpdGlvbjogJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgIGRlZmF1bHRHcm91cDogVU5HUk9VUEVEX1ZBTFVFLFxuICAgIGNhcHR1cmU6IHtcbiAgICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICAgICAgYXJlYTogJ2Z1bGwnLFxuICAgICAgICBxdWFsaXR5OiA5MCxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHBhbmVsRXhwYW5kZWQ6IGZhbHNlLFxuICAgIH0sXG4gICAgc2VsZWN0SXRlbXM6IFtdLFxuICAgIG1pc3NpbmdJZHM6IFtdLFxuICAgIHRvYXN0TWVzc2FnZXM6IFtdLFxufTtcbiIsImltcG9ydCB7IFVOR1JPVVBFRF9WQUxVRSB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuLyoqXG4gKiBDcmVhdGVzIGEga2V5LXNjb3BlZCDigJxtYXAgdGFibGXigJ0gdGhhdCBzdG9yZXMgYSByZWNvcmQgYHsgW3BhZ2VLZXldOiBUIH1gXG4gKiB1bmRlciBhIHNpbmdsZSByb290IGtleSBpbiBgY2hyb21lLnN0b3JhZ2UubG9jYWxgLlxuICpcbiAqIFVzZSB0aGlzIGZvciBwZXItcGFnZSBvciBwZXItc2NvcGUgc3RhdGUgd2hlcmUgdmFsdWVzIGFyZSBkaXN0aW5ndWlzaGVkIGJ5IGEgcm93IGtleS5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgLSBWYWx1ZSB0eXBlIHN0b3JlZCBwZXIgcm93LlxuICogQHBhcmFtIHJvb3RLZXkgLSBSb290IGtleSAod2l0aG91dCBuYW1lc3BhY2UgcHJlZml4KSB1bmRlciB3aGljaCB0aGUgZW50aXJlIG1hcCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gZGVmYXVsdE9mIC0gT3B0aW9uYWwgZmFjdG9yeSB0aGF0IHJldHVybnMgYSBkZWZhdWx0IHZhbHVlIHdoZW4gYSByb3cgaXMgbWlzc2luZy5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIENSVUQgaGVscGVycyBmb3IgdGhlIHRhYmxlOiBgeyBrZXksIHJlYWRBbGwsIHdyaXRlQWxsLCBnZXQsIHNldCwgcmVtb3ZlLCBjbGVhciB9YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hcFRhYmxlKHJvb3RLZXksIGRlZmF1bHRPZikge1xuICAgIGNvbnN0IEtFWSA9IHJvb3RLZXk7XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGVudGlyZSBzdGF0ZSBtYXAgZnJvbSBgY2hyb21lLnN0b3JhZ2UubG9jYWxgIGZvciB0aGlzIHRhYmxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIGZ1bGwgc3RhdGUgbWFwOyByZXR1cm5zIGFuIGVtcHR5IG9iamVjdCB3aGVuIG5vdGhpbmcgaXMgc3RvcmVkLlxuICAgICAqIEByZW1hcmtzIFBlcmZvcm1zIHN0b3JhZ2UgSS9PIG9uIGV2ZXJ5IGNhbGwuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVhZEFsbCgpIHtcbiAgICAgICAgY29uc3QgcmF3ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KEtFWSk7XG4gICAgICAgIHJldHVybiByYXdbS0VZXSA/PyB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyc2lzdHMgdGhlIGVudGlyZSBzdGF0ZSBtYXAgdG8gYGNocm9tZS5zdG9yYWdlLmxvY2FsYCBmb3IgdGhpcyB0YWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtYXAgLSBUaGUgY29tcGxldGUgc3RhdGUgbWFwIHRvIHdyaXRlLlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSB3cml0ZSBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gd3JpdGVBbGwobWFwKSB7XG4gICAgICAgIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IFtLRVldOiBtYXAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHNpbmdsZSByb3cgYnkgaXRzIHBhZ2Uga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VLZXkgLSBSb3cga2V5IChlLmcuLCBwYWdlIGlkZW50aWZpZXIpLlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBzdG9yZWQgdmFsdWU7IGlmIG1pc3NpbmcgYW5kIGBkZWZhdWx0T2ZgIGlzIHByb3ZpZGVkLCB0aGF0IGRlZmF1bHQgaXMgcmV0dXJuZWQuXG4gICAgICogQHJlbWFya3MgV2hlbiBgZGVmYXVsdE9mYCBpcyBub3QgcHJvdmlkZWQgYW5kIHRoZSByb3cgaXMgbWlzc2luZywgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQgKHR5cGVkIGFzIGBUYCkuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0KHBhZ2VLZXkpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBjb25zdCBmb3VuZCA9IG1hcFtwYWdlS2V5XTtcbiAgICAgICAgaWYgKGZvdW5kICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgIGlmIChkZWZhdWx0T2YpXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdE9mKHBhZ2VLZXkpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcHNlcnRzIGEgc2luZ2xlIHJvdyBmb3IgdGhlIGdpdmVuIHBhZ2Uga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VLZXkgLSBSb3cga2V5IHRvIHdyaXRlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFZhbHVlIHRvIHBlcnNpc3QuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc2V0KHBhZ2VLZXksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGF3YWl0IHJlYWRBbGwoKTtcbiAgICAgICAgbWFwW3BhZ2VLZXldID0gdmFsdWU7XG4gICAgICAgIGF3YWl0IHdyaXRlQWxsKG1hcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBzaW5nbGUgcm93IGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgdG8gZGVsZXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShwYWdlS2V5KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGF3YWl0IHJlYWRBbGwoKTtcbiAgICAgICAgaWYgKHBhZ2VLZXkgaW4gbWFwKSB7XG4gICAgICAgICAgICBkZWxldGUgbWFwW3BhZ2VLZXldO1xuICAgICAgICAgICAgYXdhaXQgd3JpdGVBbGwobWFwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGVudGlyZSB0YWJsZSAocmVtb3ZlcyBhbGwgcm93cyB1bmRlciB0aGlzIHJvb3Qga2V5KS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgYXdhaXQgd3JpdGVBbGwoe30pO1xuICAgIH1cbiAgICByZXR1cm4geyBrZXk6IEtFWSwgcmVhZEFsbCwgd3JpdGVBbGwsIGdldCwgc2V0LCByZW1vdmUsIGNsZWFyIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBrZXktc2NvcGVkIOKAnHNpbmdsZXRvbuKAnSBzdG9yZSB0aGF0IHNhdmVzIGEgc2luZ2xlIHZhbHVlIGRpcmVjdGx5XG4gKiB1bmRlciB0aGUgZ2l2ZW4gcm9vdCBrZXkgaW4gYGNocm9tZS5zdG9yYWdlLmxvY2FsYC5cbiAqXG4gKiBVc2UgdGhpcyBmb3IgZ2xvYmFsIHNldHRpbmdzIG9yIGFueSBjb25maWd1cmF0aW9uIHRoYXQgaXMgbm90IGtleWVkIGJ5IHBhZ2UuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gVmFsdWUgdHlwZSBzdG9yZWQgYXMgYSBzaW5nbGV0b24uXG4gKiBAcGFyYW0gcm9vdEtleSAtIFJvb3Qga2V5ICh3aXRob3V0IG5hbWVzcGFjZSBwcmVmaXgpIHVuZGVyIHdoaWNoIHRoZSB2YWx1ZSBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gZGVmYXVsdEZhY3RvcnkgLSBGYWN0b3J5IGZ1bmN0aW9uIHRvIGxhemlseSBzdXBwbHkgdGhlIGRlZmF1bHQgd2hlbiBubyB2YWx1ZSBleGlzdHMuXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBoZWxwZXJzIGZvciB0aGUgc2luZ2xldG9uOiBgeyBrZXksIGdldCwgc2V0LCByZW1vdmUgfWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaW5nbGV0b24ocm9vdEtleSwgZGVmYXVsdEZhY3RvcnkpIHtcbiAgICBjb25zdCBLRVkgPSByb290S2V5O1xuICAgIC8qKlxuICAgICAqIFJlYWRzIHRoZSBzaW5nbGV0b24gdmFsdWUgZnJvbSBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHN0b3JlZCB2YWx1ZTsgZmFsbHMgYmFjayB0byBgZGVmYXVsdEZhY3RvcnkoKWAgd2hlbiBtaXNzaW5nLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgY29uc3QgcmF3ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KEtFWSk7XG4gICAgICAgIGNvbnN0IHZhbCA9IHJhd1tLRVldO1xuICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RmFjdG9yeSgpIDogdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgdGhlIHNpbmdsZXRvbiB2YWx1ZSB0byBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gcGVyc2lzdC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW0tFWV06IHZhbHVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzaW5nbGV0b24gdmFsdWUgZnJvbSBzdG9yYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKEtFWSk7XG4gICAgfVxuICAgIHJldHVybiB7IGtleTogS0VZLCBnZXQsIHNldCwgcmVtb3ZlIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0U2NyZWVuU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICBuZXh0SWQ6IDEsXG4gICAgICAgIGRlZmF1bHRTaXplOiAxNCxcbiAgICAgICAgZGVmYXVsdENvbG9yOiAnQmx1ZScsXG4gICAgICAgIGRlZmF1bHRTaGFwZTogJ2NpcmNsZScsXG4gICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogJ051bWJlcnMnLFxuICAgICAgICBkZWZhdWx0UG9zaXRpb246ICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAgICAgZGVmYXVsdEdyb3VwOiBVTkdST1VQRURfVkFMVUUsXG4gICAgfTtcbn1cbi8qKlxuICogVGFibGUgZm9yIHBlci1wYWdlIGBTY3JlZW5TdGF0ZWAgdmFsdWVzLlxuICogRWFjaCByb3cgaXMgYWRkcmVzc2VkIGJ5IGEgcGFnZSBrZXk7IG1pc3Npbmcgcm93cyBmYWxsIGJhY2sgdG8gYGRlZmF1bHRTY3JlZW5TdGF0ZSgpYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNjcmVlblN0YXRlVGFibGUgPSBjcmVhdGVNYXBUYWJsZSgnc2NyZWVuU3RhdGVCeVBhZ2UnLCAoKSA9PiBkZWZhdWx0U2NyZWVuU3RhdGUoKSk7XG4vKipcbiAqIFNpbmdsZXRvbiBmb3IgZ2xvYmFsIHRoZW1lIG1vZGUuXG4gKiBTdG9yZXMgYSBzaW5nbGUgYFRoZW1lTW9kZWAgdmFsdWU7IGRlZmF1bHRzIHRvIGAnZGV2aWNlJ2Agd2hlbiBub3Qgc2V0LlxuICovXG5leHBvcnQgY29uc3QgdGhlbWVUYWJsZSA9IGNyZWF0ZVNpbmdsZXRvbigndGhlbWVNb2RlJywgKCkgPT4gJ2RldmljZScpO1xuIiwiaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG4vKipcbiAqIEFwcGxpZXMgYSBwYXRjaCAoYWRkL3VwZGF0ZS9yZW1vdmUpIHRvIHRoZSBzdGF0ZSBmb3IgdGhlIGdpdmVuIHBhZ2Uga2V5LFxuICogcmVsYWJlbHMgc2VxdWVudGlhbGx5IGlmIGFueSByZW1vdmFsIG9jY3VycmVkLCBwZXJzaXN0cyB0aGUgcmVzdWx0LFxuICogYW5kIHJldHVybnMgdGhlIHVwZGF0ZWQgc3RhdGUuXG4gKlxuICogQHBhcmFtIHBhZ2VLZXlTdHIgLSBQYWdlIGtleSBvZiB0aGUgc3RhdGUgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHBhdGNoIC0gQ2hhbmdlcyB0byBhcHBseSB0byB0aGUgc3RhdGUuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgdXBkYXRlZCBTY3JlZW5TdGF0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5UGF0Y2gocGFnZUtleSwgcGF0Y2gpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHBhZ2VLZXkpO1xuICAgIGlmIChwYXRjaC5yZW1vdmVkSWRzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdG9SZW1vdmUgPSBuZXcgU2V0KHBhdGNoLnJlbW92ZWRJZHMpO1xuICAgICAgICBzdGF0ZS5pdGVtcyA9IHN0YXRlLml0ZW1zLmZpbHRlcigoaXQpID0+ICF0b1JlbW92ZS5oYXMoaXQuaWQpKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoLmFkZGVkPy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCBhIG9mIHBhdGNoLmFkZGVkKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHN0YXRlLm5leHRJZCsrO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGNvbnN0IGl0ID0ge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYS5hbmNob3IsXG4gICAgICAgICAgICAgICAgc2l6ZTogYS5zaXplID8/IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBhLmNvbG9yID8/IHN0YXRlLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBzaGFwZTogYS5zaGFwZSA/PyBzdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgbGFiZWxGb3JtYXQ6IGEubGFiZWxGb3JtYXQgPz8gJ051bWJlcnMnLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhLnBvc2l0aW9uID8/IHN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBncm91cDogYS5ncm91cCA/PyBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgY29tbWVudDogYS5jb21tZW50ID8/ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLml0ZW1zLnB1c2goaXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlLml0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChzdGF0ZS5pdGVtcyk7XG4gICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQocGFnZUtleSwgc3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbi8qKlxuICogVG9nZ2xlcyBzZWxlY3Rpb24gZm9yIHRoZSBnaXZlbiBhbmNob3JzIChmcm9tIENvbnRlbnQpOiBpZiBhbiBhbmNob3IgYWxyZWFkeVxuICogZXhpc3RzLCByZW1vdmUgaXQ7IG90aGVyd2lzZSBhZGQgaXQuIERlZHVwZSBpbmNvbWluZyBhbmNob3JzIGJ5IGB2YWx1ZWAsXG4gKiBhcHBseSB0aGUgY29ycmVzcG9uZGluZyBwYXRjaCwgcGVyc2lzdCwgYW5kIHJldHVybiB0aGUgbGF0ZXN0IHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5U3RyIC0gUGFnZSBrZXkgb2YgdGhlIHN0YXRlIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSBhbmNob3JzIC0gQW5jaG9ycyByZXBvcnRlZCBieSBDb250ZW50LlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVwZGF0ZWQgU2NyZWVuU3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVTZWxlY3RlZChwYWdlS2V5LCBhbmNob3JzKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBjb25zdCB1bmlxID0gQXJyYXkuZnJvbShuZXcgU2V0KGFuY2hvcnMubWFwKChhKSA9PiBhLnZhbHVlKSkpXG4gICAgICAgIC5tYXAoKHYpID0+IGFuY2hvcnMuZmluZCgoYSkgPT4gYS52YWx1ZSA9PT0gdikpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgcmVtb3ZlZElkcyA9IFtdO1xuICAgIGNvbnN0IHRvQWRkID0gW107XG4gICAgZm9yIChjb25zdCBhIG9mIHVuaXEpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSBzdGF0ZS5pdGVtcy5maW5kKChpdCkgPT4gaXQuYW5jaG9yLmtpbmQgPT09IGEua2luZCAmJiBpdC5hbmNob3IudmFsdWUgPT09IGEudmFsdWUpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWRJZHMucHVzaChmb3VuZC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b0FkZC5wdXNoKHsgYW5jaG9yOiBhIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhdGNoID0ge307XG4gICAgaWYgKHJlbW92ZWRJZHMubGVuZ3RoKVxuICAgICAgICBwYXRjaC5yZW1vdmVkSWRzID0gcmVtb3ZlZElkcztcbiAgICBpZiAodG9BZGQubGVuZ3RoKVxuICAgICAgICBwYXRjaC5hZGRlZCA9IHRvQWRkO1xuICAgIHJldHVybiBhcHBseVBhdGNoKHBhZ2VLZXksIHBhdGNoKTtcbn1cbi8qKlxuICogUmVsYWJlbHMgaXRlbXMgY29uc2VjdXRpdmVseSAoMS4ubikgKndpdGhpbiBlYWNoIGdyb3VwKiBhbmQgcmVwb3J0c1xuICogdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgXCJubyBncm91cFwiIGJ1Y2tldC5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBUaGUgb3JpZ2luYWwgbGlzdCBvZiBpdGVtcyAodHJlYXRlZCBpbW11dGFibHkpLlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5vcm1hbGl6ZWQgaXRlbXMgYW5kIHRoZSBuby1ncm91cCBjb3VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXMpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTsgLy8gJycgaXMgdW5pZmllZCBhcyBVbkdyb3VwXG4gICAgLy8gQnVja2V0IFtpbmRleCwgaXRlbV0gZm9yIGVhY2ggZ3JvdXBcbiAgICBjb25zdCBidWNrZXRzID0gbmV3IE1hcCgpO1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZShpdGVtLmdyb3VwKTtcbiAgICAgICAgaWYgKCFidWNrZXRzLmhhcyhrZXkpKVxuICAgICAgICAgICAgYnVja2V0cy5zZXQoa2V5LCBbXSk7XG4gICAgICAgIGJ1Y2tldHMuZ2V0KGtleSkucHVzaCh7IGluZGV4LCBpdGVtIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IG91dCA9IGl0ZW1zLnNsaWNlKCk7XG4gICAgLy8gU29ydCBlYWNoIGdyb3VwIOKGkiBSZWFzc2lnbiAxLi5uXG4gICAgZm9yIChjb25zdCBbLCBidWNrZXRdIG9mIGJ1Y2tldHMpIHtcbiAgICAgICAgYnVja2V0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLml0ZW0ubGFiZWwgIT09IGIuaXRlbS5sYWJlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5pdGVtLmxhYmVsIC0gYi5pdGVtLmxhYmVsO1xuICAgICAgICAgICAgcmV0dXJuIGEuaXRlbS5pZCAtIGIuaXRlbS5pZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1Y2tldC5mb3JFYWNoKCh7IGluZGV4LCBpdGVtIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWQgPSBpICsgMTtcbiAgICAgICAgICAgIGlmIChpdGVtLmxhYmVsICE9PSBkZXNpcmVkKSB7XG4gICAgICAgICAgICAgICAgb3V0W2luZGV4XSA9IHsgLi4uaXRlbSwgbGFiZWw6IGRlc2lyZWQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCJjb25zdCBpMThuID0geyBnZXQsIGxvY2FsaXplIH07XG4vKipcbiAqIFJldHJpZXZlcyBhIGxvY2FsaXplZCBtZXNzYWdlIGJ5IGtleS4gRmFsbHMgYmFjayB0byB0aGUga2V5IGl0c2VsZiB3aGVuIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gS2V5IGRlZmluZWQgaW4gX2xvY2FsZXMvbWVzc2FnZXMuanNvblxuICogQHBhcmFtIHN1YnMgLSBPcHRpb25hbCBzdWJzdGl0dXRpb24gYXJndW1lbnRzXG4gKiBAcmV0dXJucyBMb2NhbGl6ZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGdldChrZXksIHN1YnMpIHtcbiAgICByZXR1cm4gY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShrZXksIHN1YnMpIHx8IGtleTtcbn1cbi8qKlxuICogV2Fsa3MgdGhlIERPTSBhbmQgYXBwbGllcyBsb2NhbGl6ZWQgc3RyaW5ncyB0byBlbGVtZW50cyB3aXRoXG4gKiBgZGF0YS1pMThuYCBhbmQgYGRhdGEtaTE4bi1hdHRyYC5cbiAqXG4gKiBAcGFyYW0gcm9vdCAtIFJvb3Qgbm9kZSB0byBsb2NhbGl6ZSAoZGVmYXVsdHMgdG8gZG9jdW1lbnQpXG4gKiBAcmVtYXJrc1xuICogLSBgZGF0YS1pMThuYCByZXBsYWNlcyBgdGV4dENvbnRlbnRgLlxuICogLSBgZGF0YS1pMThuLWF0dHJgIHVzZXMgYGF0dHI6a2V5O2F0dHI6a2V5Oy4uLmAgdG8gc2V0IGF0dHJpYnV0ZXMuXG4gKiAtIE11dGF0ZXMgdGhlIERPTSBpbiBwbGFjZS5cbiAqL1xuZnVuY3Rpb24gbG9jYWxpemUocm9vdCA9IGRvY3VtZW50KSB7XG4gICAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pMThuXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pMThuJyk7XG4gICAgICAgIGlmIChrZXkpXG4gICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IGdldChrZXkpO1xuICAgIH0pO1xuICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaTE4bi1hdHRyXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bi1hdHRyJyk7XG4gICAgICAgIGlmICghc3BlYylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHNwZWMuc3BsaXQoJzsnKSkge1xuICAgICAgICAgICAgY29uc3QgW2F0dHIsIGtleV0gPSBwYWlyLnNwbGl0KCc6JykubWFwKChzKSA9PiBzPy50cmltKCkpO1xuICAgICAgICAgICAgaWYgKGF0dHIgJiYga2V5KVxuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCBnZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGkxOG47XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuZXhwb3J0IGNvbnN0IFNUQVRVUyA9IHtcbiAgICBSRVNUUklDVEVEOiAnUkVTVFJJQ1RFRCcsXG4gICAgQ09OTkVDVElORzogJ0NPTk5FQ1RJTkcnLFxuICAgIENPTk5FQ1RFRDogJ0NPTk5FQ1RFRCcsXG4gICAgRElTQ09OTkVDVEVEOiAnRElTQ09OTkVDVEVEJyxcbn07XG5jb25zdCBTVEFUVVNfTVNHX0tFWSA9IHtcbiAgICBSRVNUUklDVEVEOiAnc3RhdHVzX3Jlc3RyaWN0ZWQnLFxuICAgIENPTk5FQ1RJTkc6ICdzdGF0dXNfY29ubmVjdGluZycsXG4gICAgQ09OTkVDVEVEOiAnc3RhdHVzX2Nvbm5lY3RlZCcsXG4gICAgRElTQ09OTkVDVEVEOiAnc3RhdHVzX2Rpc2Nvbm5lY3RlZCcsXG59O1xuZXhwb3J0IGNvbnN0IFNUQVRVU19DTEFTU19CWV9LRVkgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1yZXN0cmljdGVkJyxcbiAgICBDT05ORUNUSU5HOiAnY29ubmVjdC1zdGF0dXMtLWNvbm5lY3RpbmcnLFxuICAgIENPTk5FQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1jb25uZWN0ZWQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1kaXNjb25uZWN0ZWQnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNNZXNzYWdlKGtleSkge1xuICAgIGNvbnN0IG1zZ0tleSA9IFNUQVRVU19NU0dfS0VZW2tleV07XG4gICAgcmV0dXJuIGkxOG4uZ2V0KG1zZ0tleSkgfHwgbXNnS2V5O1xufVxuIiwiLyoqXG4gKiBBY3Rpb25UeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQW4gZXhoYXVzdGl2ZSBsaXN0IG9mICphcHBsaWNhdGlvbi1sZXZlbCBldmVudHMqIGNvbnN1bWVkIGJ5IHRoZSByZWR1Y2VyICh1cGRhdGUudHMpLlxuICogT3JpZ2luczpcbiAqICAgLSBWaWV3IFVJIGV2ZW50cyAobm9ybWFsaXplZCBieSB0aGUgQ29udHJvbGxlcilcbiAqICAgLSBNZXNzYWdlcyBmcm9tIENvbnRlbnQvQmFja2dyb3VuZCBzY3JpcHRzXG4gKiAgIC0gUmVzdWx0cyBvZiBhc3luYyBJL08gKGNhcHR1cmUgc3VjY2Vzcy9mYWlsdXJlLCBldGMuKVxuICogVXNhZ2U6XG4gKiAgIC0gQWN0cyBhcyB0aGUgZGlzY3JpbWluYW50IGZvciBgc3dpdGNoKGFjdGlvbi50eXBlKWAgaW4gdGhlIHJlZHVjZXJcbiAqICAgLSBQdXJlbHkgZGV0ZXJtaW5lcyBob3cgdGhlIE1vZGVsIHRyYW5zaXRpb25zIChubyBzaWRlIGVmZmVjdHMgaGVyZSlcbiAqL1xuZXhwb3J0IHZhciBBY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChBY3Rpb25UeXBlKSB7XG4gICAgLyoqIEFwcCBib290c3RyYXAgLyBzdGFydCAqL1xuICAgIEFjdGlvblR5cGVbXCJJTklUXCJdID0gXCJJTklUXCI7XG4gICAgLyoqIEFjdGl2ZSB0YWIgcmVzb2x2ZWQgYW5kIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgKHRhYklkL3BhZ2VLZXkgZGVjaWRlZCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ09OTkVDVEVEXCJdID0gXCJDT05ORUNURURcIjtcbiAgICAvKiogVXBkYXRlIHBhbmVsIHN0YXR1cyAoQ09OTkVDVElORyAvIENPTk5FQ1RFRCAvIFJFU1RSSUNURUQgLyBESVNDT05ORUNURUQsIGV0Yy4pICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9TVEFUVVNcIl0gPSBcIlNFVF9TVEFUVVNcIjtcbiAgICAvKiogUmVzdG9yZSBwZXJzaXN0ZWQgc3RhdGU6IGl0ZW1zIGFuZCBkZWZhdWx0cyAoc2l6ZS9jb2xvci9zaGFwZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVTVE9SRV9TVEFURVwiXSA9IFwiUkVTVE9SRV9TVEFURVwiO1xuICAgIC8qKiBPdmVyd3JpdGVzIHRoZSBzZXQgb2YgZWxlbWVudHMgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIGNvbnRlbnQgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX01JU1NJTkdfSURTXCJdID0gXCJTRVRfTUlTU0lOR19JRFNcIjtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBwYWdlIG92ZXJsYXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIEFjdGlvblR5cGVbXCJDTEVBUl9BTExcIl0gPSBcIkNMRUFSX0FMTFwiO1xuICAgIC8qKiBDb250ZW50IOKGkiBQYW5lbDogYW5jaG9ycyB3ZXJlIHRvZ2dsZWQgKHNlbGVjdGVkL3Vuc2VsZWN0ZWQpIG9uIHRoZSBwYWdlICovXG4gICAgQWN0aW9uVHlwZVtcIkNPTlRFTlRfU0VMRUNURURcIl0gPSBcIkNPTlRFTlRfU0VMRUNURURcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2Ugc2l6ZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NJWkVcIl0gPSBcIlNFVF9CQURHRV9TSVpFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIGNvbG9yIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfQ09MT1JcIl0gPSBcIlNFVF9CQURHRV9DT0xPUlwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBzaGFwZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NIQVBFXCJdID0gXCJTRVRfQkFER0VfU0hBUEVcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2UgbGFiZWwgZm9ybWF0IChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfTEFCRUxfRk9STUFUXCJdID0gXCJTRVRfQkFER0VfTEFCRUxfRk9STUFUXCI7XG4gICAgLyoqIERlbGV0ZSB0aGUgc2VsZWN0ZWQgYmFkZ2UgKi9cbiAgICBBY3Rpb25UeXBlW1wiQkFER0VfREVMRVRFXCJdID0gXCJCQURHRV9ERUxFVEVcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2UgcG9zaXRpb24gKGFsc28gYXBwbHkgdG8gZXhpc3RpbmcgaXRlbXMpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9CQURHRV9QT1NJVElPTlwiXSA9IFwiU0VUX0JBREdFX1BPU0lUSU9OXCI7XG4gICAgLyoqIFVwZGF0ZSBjYXB0dXJlIGZvcm1hdCAocG5nL2pwZWcpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX0ZPUk1BVFwiXSA9IFwiU0VUX0NBUFRVUkVfRk9STUFUXCI7XG4gICAgLyoqIFVwZGF0ZSBjYXB0dXJlIGFyZWEgKGZ1bGwvdmlld3BvcnQpICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX0FSRUFcIl0gPSBcIlNFVF9DQVBUVVJFX0FSRUFcIjtcbiAgICAvKiogVXBkYXRlIEpQRUcgcXVhbGl0eSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQ0FQVFVSRV9RVUFMSVRZXCJdID0gXCJTRVRfQ0FQVFVSRV9RVUFMSVRZXCI7XG4gICAgLyoqIFVwZGF0ZSBjYXB0dXJlIHNjYWxlIGZhY3RvciAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQ0FQVFVSRV9TQ0FMRVwiXSA9IFwiU0VUX0NBUFRVUkVfU0NBTEVcIjtcbiAgICAvKiogVG9nZ2xlIGNhcHR1cmUgb3B0aW9ucyBkcm9wZG93biAoZXhwYW5kL2NvbGxhcHNlKSAqL1xuICAgIEFjdGlvblR5cGVbXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiXSA9IFwiVE9HR0xFX0NBUFRVUkVfUEFORUxcIjtcbiAgICAvKiogcmVxdWVzdCBtZWFzdXJpbmcgdGhlIGNvbnRlbnQgc2l6ZSAqL1xuICAgIEFjdGlvblR5cGVbXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiXSA9IFwiTUVBU1VSRV9DT05URU5UX1NJWkVcIjtcbiAgICAvKiogUmVxdWVzdCB0byBydW4gYSBjYXB0dXJlICovXG4gICAgQWN0aW9uVHlwZVtcIkNBUFRVUkVfUkVRVUVTVEVEXCJdID0gXCJDQVBUVVJFX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBDYXB0dXJlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0FQVFVSRV9TVUNDRUVERURcIl0gPSBcIkNBUFRVUkVfU1VDQ0VFREVEXCI7XG4gICAgLyoqIENhcHR1cmUgZmFpbGVkIHdpdGggYW4gZXJyb3IgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0FQVFVSRV9GQUlMRURcIl0gPSBcIkNBUFRVUkVfRkFJTEVEXCI7XG4gICAgLyoqIFJlb3JkZXJpbmcgc2VsZWN0ZWQgaXRlbXMgKGRyYWcgYW5kIGRyb3ApICovXG4gICAgQWN0aW9uVHlwZVtcIlJFT1JERVJfSVRFTVNcIl0gPSBcIlJFT1JERVJfSVRFTVNcIjtcbiAgICAvKiogVXBkYXRlIGEgZ3JvdXAgb2YgZWxlbWVudHMgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0dST1VQXCJdID0gXCJTRVRfR1JPVVBcIjtcbiAgICAvKiogUG9ydCBkaXNjb25uZWN0ZWQgKGxvc3QgY29ubmVjdGlvbiB0byBDb250ZW50L1NlcnZpY2UgV29ya2VyKSAqL1xuICAgIEFjdGlvblR5cGVbXCJQT1JUX0RJU0NPTk5FQ1RFRFwiXSA9IFwiUE9SVF9ESVNDT05ORUNURURcIjtcbiAgICAvKiogUmVxdWVzdCB0byBjbG9zZSB0aGUgcGFuZWwgd2hlbiB0aGUgdGFiSWQgbWF0Y2hlcyAoQmFja2dyb3VuZCDihpIgUGFuZWwpICovXG4gICAgQWN0aW9uVHlwZVtcIkNMT1NFX1BBTkVMX1JFUVVFU1RFRFwiXSA9IFwiQ0xPU0VfUEFORUxfUkVRVUVTVEVEXCI7XG4gICAgLyoqIEVtaXR0ZWQgd2hlbiBhbiBpdGVtJ3MgZWRpdC1zZWxlY3Rpb24gY2hlY2tib3ggY2hhbmdlcyBzdGF0ZSAqL1xuICAgIEFjdGlvblR5cGVbXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCJdID0gXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCI7XG4gICAgLyoqIFN0YXJ0IGl0ZW0gaG92ZXIgKi9cbiAgICBBY3Rpb25UeXBlW1wiSVRFTV9IT1ZFUl9JTlwiXSA9IFwiSVRFTV9IT1ZFUl9JTlwiO1xuICAgIC8qKiBFbmQgaXRlbSBob3ZlciAqL1xuICAgIEFjdGlvblR5cGVbXCJJVEVNX0hPVkVSX09VVFwiXSA9IFwiSVRFTV9IT1ZFUl9PVVRcIjtcbiAgICAvKiogUGVyc2lzdCB0aGUgZWRpdGVkIGNvbW1lbnQgdGV4dCBmb3IgdGhlIHRhcmdldGVkIGl0ZW0gKi9cbiAgICBBY3Rpb25UeXBlW1wiVVBEQVRFX0lURU1fQ09NTUVOVFwiXSA9IFwiVVBEQVRFX0lURU1fQ09NTUVOVFwiO1xuICAgIC8qKiBTZXRlIFVJIHRoZW1lICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9USEVNRVwiXSA9IFwiU0VUX1RIRU1FXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBBY3Rpb25UeXBlW1wiVVBEQVRFX1RIRU1FXCJdID0gXCJVUERBVEVfVEhFTUVcIjtcbiAgICAvKiogRGlzcGF0Y2hlZCB0byByZXF1ZXN0IHJlbG9hZGluZyB0aGUgbGF0ZXN0IGRhdGEgKi9cbiAgICBBY3Rpb25UeXBlW1wiU1RPUkVfUkVMT0FEX1JFUVVFU1RFRFwiXSA9IFwiU1RPUkVfUkVMT0FEX1JFUVVFU1RFRFwiO1xuICAgIC8qKiBEaXNwYXRjaGVkIGFmdGVyIHRoZSBzdG9yZSBpcyBzdWNjZXNzZnVsbHkgcmVsb2FkZWQgd2l0aCB0aGUgbGF0ZXN0IGRhdGEgKi9cbiAgICBBY3Rpb25UeXBlW1wiU1RPUkVfUkVMT0FEX1NVQ0NFRURFRFwiXSA9IFwiU1RPUkVfUkVMT0FEX1NVQ0NFRURFRFwiO1xuICAgIC8qKiBJbXBvcnQgYSBTY3JlZW5TdGF0ZSBmcm9tIGEgc2VsZWN0ZWQgSlNPTiBmaWxlLiAqL1xuICAgIEFjdGlvblR5cGVbXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIl0gPSBcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiO1xuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGltcG9ydCBvcGVyYXRpb24gZmFpbHMuICovXG4gICAgQWN0aW9uVHlwZVtcIklNUE9SVF9GQUlMRURcIl0gPSBcIklNUE9SVF9GQUlMRURcIjtcbiAgICAvKiogRGlzbWlzcyBhIHRvYXN0IGJ5IFVVSUQgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIl0gPSBcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCI7XG4gICAgLyoqIFJlbW92ZSBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFXCJdID0gXCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIjtcbiAgICAvKiogRXhwb3J0IHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEFjdGlvblR5cGVbXCJFWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIl0gPSBcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiO1xuICAgIC8qKiBFeHBvcnQgZmFpbGVkIHdpdGggYW4gZXJyb3IgKi9cbiAgICBBY3Rpb25UeXBlW1wiRVhQT1JUX0ZBSUxFRFwiXSA9IFwiRVhQT1JUX0ZBSUxFRFwiO1xufSkoQWN0aW9uVHlwZSB8fCAoQWN0aW9uVHlwZSA9IHt9KSk7XG4iLCIvKipcbiAqIEVmZmVjdFR5cGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIGRlY2xhcmF0aXZlIHNldCBvZiAqc2lkZS1lZmZlY3QgcmVxdWVzdHMqIHByb2R1Y2VkIGJ5IHRoZSByZWR1Y2VyLlxuICogRXhlY3V0b3I6XG4gKiAgIC0gVGhlIENvbnRyb2xsZXIgaW50ZXJwcmV0cyBhbmQgcGVyZm9ybXMgZWFjaCBlZmZlY3QgKEkvTywgUlBDLCBwZXJzaXN0ZW5jZSkuXG4gKiBQdXJwb3NlOlxuICogICAtIEtlZXAgdGhlIHJlZHVjZXIgcHVyZSB3aGlsZSBzdGlsbCBlbmFibGluZyBuZWNlc3NhcnkgZXh0ZXJuYWwgZWZmZWN0cy5cbiAqL1xuZXhwb3J0IHZhciBFZmZlY3RUeXBlO1xuKGZ1bmN0aW9uIChFZmZlY3RUeXBlKSB7XG4gICAgLyoqIFB1c2ggdGhlIGN1cnJlbnQgaXRlbXMgdG8gdGhlIENvbnRlbnQgc2NyaXB0IHRvIHJlbmRlciB0aGUgb3ZlcmxheSAqL1xuICAgIEVmZmVjdFR5cGVbXCJSRU5ERVJfQ09OVEVOVFwiXSA9IFwiUkVOREVSX0NPTlRFTlRcIjtcbiAgICAvKiogRW5hYmxlL2Rpc2FibGUgc2VsZWN0aW9uIG1vZGUgb24gdGhlIENvbnRlbnQgc2lkZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlRcIl0gPSBcIlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVFwiO1xuICAgIC8qKiBDbGVhciBvdmVybGF5IG9uIHRoZSBDb250ZW50IHNpZGUgKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0xFQVJfQ09OVEVOVFwiXSA9IFwiQ0xFQVJfQ09OVEVOVFwiO1xuICAgIC8qKiBpdGVtIGhvdmVyICovXG4gICAgRWZmZWN0VHlwZVtcIkhPVkVSXCJdID0gXCJIT1ZFUlwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgRWZmZWN0VHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSdW4gYSBjYXB0dXJlIHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnMgKHRhYklkL2Zvcm1hdC9hcmVhL3F1YWxpdHkvc2NhbGUpICovXG4gICAgRWZmZWN0VHlwZVtcIkNBUFRVUkVcIl0gPSBcIkNBUFRVUkVcIjtcbiAgICAvKiogUGVyc2lzdCB0aGUgc3RhdGUgdG8gc3RvcmFnZSB3aXRoIHNlbGVjdGVkIGl0ZW1zIHJlc2V0IChjbGVhcmVkKS4gKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0xFQVJfU1RBVEVcIl0gPSBcIkNMRUFSX1NUQVRFXCI7XG4gICAgLyoqXG4gICAgICogUGVyc2lzdCB0aGUgY3VycmVudCBzdGF0ZSB0byBzdG9yYWdlLlxuICAgICAqIE5PVEU6IE11c3QgcHJlc2VydmUgZXhpc3RpbmcgY291bnRlcnMgKG5leHRJZC9uZXh0TGFiZWwpOyBkbyBub3QgcmVzZXQgdGhlbS5cbiAgICAgKi9cbiAgICBFZmZlY3RUeXBlW1wiUEVSU0lTVF9TVEFURVwiXSA9IFwiUEVSU0lTVF9TVEFURVwiO1xuICAgIC8qKiBTZXRlIFVJIHRoZW1lICovXG4gICAgRWZmZWN0VHlwZVtcIlNFVF9USEVNRVwiXSA9IFwiU0VUX1RIRU1FXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBFZmZlY3RUeXBlW1wiVVBEQVRFX1RIRU1FXCJdID0gXCJVUERBVEVfVEhFTUVcIjtcbiAgICAvKiogUmVhZCB0aGUgc2NyZWVuLXN0YXRlIG1hcCBmcm9tIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkVcIl0gPSBcIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFXCI7XG4gICAgLyoqIEltcG9ydCBhIFNjcmVlblN0YXRlIGZyb20gYSBzZWxlY3RlZCBKU09OIGZpbGUuICovXG4gICAgRWZmZWN0VHlwZVtcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiXSA9IFwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCI7XG4gICAgLyoqIFJlbW92ZSBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBFZmZlY3RUeXBlW1wiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWVwiXSA9IFwiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWVwiO1xuICAgIC8qKiBFeHBvcnQgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgRWZmZWN0VHlwZVtcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVlcIl0gPSBcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVlcIjtcbiAgICAvKiogUmVwb3J0L2xvZyBhbiBlcnJvciAoYW5kIG9wdGlvbmFsbHkgc3VyZmFjZSBpdCB0byB0aGUgVUkpICovXG4gICAgRWZmZWN0VHlwZVtcIk5PVElGWV9FUlJPUlwiXSA9IFwiTk9USUZZX0VSUk9SXCI7XG59KShFZmZlY3RUeXBlIHx8IChFZmZlY3RUeXBlID0ge30pKTtcbiIsImV4cG9ydCBjb25zdCBQUk9UT0NPTF9WRVJTSU9OID0gMTtcbmV4cG9ydCBjb25zdCBDSEFOTkVMID0ge1xuICAgIFBBTkVMX0NPTlRFTlQ6IGBzcHNrOnBhbmVsLWNvbnRlbnQ6diR7UFJPVE9DT0xfVkVSU0lPTn1gLFxufTtcbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIFBvcnQubmFtZSBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgY2hhbm5lbC5cbiAqIFVzZSB0aGlzIHRvIHNhZmVseSBkaXN0aW5ndWlzaCBjb25uZWN0aW9uIHR5cGVzIGJldHdlZW4gUGFuZWwgYW5kIENvbnRlbnQuXG4gKlxuICogQHBhcmFtIHBvcnQgLSBBIGNvbm5lY3RlZCBydW50aW1lLlBvcnRcbiAqIEBwYXJhbSBuYW1lIC0gVGFyZ2V0IGNoYW5uZWwgbmFtZSB0byBjb21wYXJlXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwb3J0IGJlbG9uZ3MgdG8gdGhlIGNoYW5uZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhbm5lbChwb3J0LCBuYW1lKSB7XG4gICAgcmV0dXJuIHBvcnQubmFtZSA9PT0gbmFtZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwb3J0IGlzIHVzZWQgZm9yIFBhbmVsIOKGlCBDb250ZW50IGNvbW11bmljYXRpb24uXG4gKiBBIGNvbnZlbmllbmNlIHdyYXBwZXIgZm9yIENIQU5ORUwuUEFORUxfQ09OVEVOVC5cbiAqXG4gKiBAcGFyYW0gcG9ydCAtIEEgY29ubmVjdGVkIHJ1bnRpbWUuUG9ydFxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcG9ydCBpcyB0aGUgUGFuZWzigJNDb250ZW50IGNoYW5uZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGFuZWxDb250ZW50UG9ydChwb3J0KSB7XG4gICAgcmV0dXJuIGlzQ2hhbm5lbChwb3J0LCBDSEFOTkVMLlBBTkVMX0NPTlRFTlQpO1xufVxuIiwiaW1wb3J0IHsgTVNHX1RZUEUgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbi8qKlxuICogVGhpbiBSUEMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIFBhbmVsIHRvIENvbnRlbnQuXG4gKiBFeHBvc2VzIGhpZ2gtbGV2ZWwgbWV0aG9kcyBmb3IgZWFjaCBtZXNzYWdlIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYW5lbEFwaSB7XG4gICAgcnBjO1xuICAgIGNvbnN0cnVjdG9yKHJwYykge1xuICAgICAgICB0aGlzLnJwYyA9IHJwYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2VuZCBoZWxwZXIgdGhhdCBhdHRhY2hlcyBhbiBSUEMgcmVxdWVzdCBpZCBhcyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYm9keSAtIE1lc3NhZ2UgcGF5bG9hZCB0byBzZW5kXG4gICAgICogQHJldHVybnMgVm9pZC1saWtlIHdoZW4gbm8gcmVwbHkgaXMgZXhwZWN0ZWQ7IG90aGVyd2lzZSByZXNvbHZlcyB3aXRoIGEgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBzZW5kKGJvZHkpIHtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBleHBlY3RSZXBseTogZmFsc2UsXG4gICAgICAgICAgICAuLi5ib2R5LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMuc2VuZChyZXEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBDb250ZW50IHRvIHJlbmRlciB0aGUgZ2l2ZW4gaXRlbXMuXG4gICAgICogQHBhcmFtIGl0ZW1zIC0gSXRlbXMgdG8gZHJhd1xuICAgICAqL1xuICAgIHJlbmRlcihpdGVtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuUkVOREVSLCBwYXlsb2FkOiB7IGl0ZW1zIH0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgc2VsZWN0aW9uIG1vZGUgaW4gQ29udGVudC5cbiAgICAgKiBAcGFyYW0gZW5hYmxlZCAtIFRydWUgdG8gZW5hYmxlXG4gICAgICovXG4gICAgdG9nZ2xlU2VsZWN0KGVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLlRPR0dMRV9TRUxFQ1QsIHBheWxvYWQ6IHsgZW5hYmxlZCB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIENvbnRlbnQgb3ZlcmxheS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLkNMRUFSIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGhvdmVyZWQgaXRlbSBhbmQgcmVxdWVzdCBhIHRyYW5zaWVudCBoaWdobGlnaHQgb24gQ29udGVudC5cbiAgICAgKiBQYXNzIGBudWxsYCB0byBjbGVhciB0aGUgY3VycmVudCBob3ZlciBoaWdobGlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUYXJnZXQgaXRlbSBJRCwgb3IgYG51bGxgIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIGhvdmVyKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5IT1ZFUiwgcGF5bG9hZDogeyBpZCB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgdG8gbWVhc3VyZSB0aGUgY3VycmVudCBjb250ZW50IHNpemUuXG4gICAgICovXG4gICAgbWVhc3VyZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5NRUFTVVJFX1NJWkUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgY29ubmVjdGl2aXR5IGhlYWx0aCBjaGVjayAocm91bmQtdHJpcCkuXG4gICAgICogU2VudCBhcyBhIHJlcXVlc3QgZXhwZWN0aW5nIGEgcmVwbHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UsIG9yIHVuZGVmaW5lZCBvbiB0aW1lb3V0XG4gICAgICovXG4gICAgcGluZygpIHtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBleHBlY3RSZXBseTogdHJ1ZSxcbiAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLlBJTkcsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy5zZW5kKHJlcSwgNTAwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZXNwb25zZSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuLyoqXG4gKiBJbXBsZW1lbnRzIGEgbWluaW1hbCByZXF1ZXN0L3Jlc3BvbnNlIFJQQyBvdmVyIGNocm9tZS5ydW50aW1lLlBvcnQuXG4gKiBUcmFja3MgcGVuZGluZyByZXF1ZXN0cyBieSBpZCBhbmQgaGFuZGxlcyB0aW1lb3V0cyBhbmQgZGlzY29ubmVjdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb3J0UnBjIHtcbiAgICBwb3J0O1xuICAgIHBlbmRpbmcgPSBuZXcgTWFwKCk7XG4gICAgYWxpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gcG9ydCBtZXNzYWdlIGFuZCBkaXNjb25uZWN0IGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gcG9ydCAtIFRoZSBydW50aW1lLlBvcnQgdXNlZCBmb3IgbWVzc2FnaW5nXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocG9ydCkge1xuICAgICAgICB0aGlzLnBvcnQgPSBwb3J0O1xuICAgICAgICB0aGlzLnBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKG1zZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZ2V0KG1zZy5pZCk/Lihtc2cpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUobXNnLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9ydC5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gUmVhc29ucyBzdWNoIGFzIEJGQ2FjaGUgbWF5IGJlIGluY2x1ZGVkXG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I/Lm1lc3NhZ2UgPz8gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgICAgICAgICAvLyBUcmVhdCBwZW5kaW5nIHN0YXR1cyBhcyBmYWlsdXJlIHdoZW4gYSBkaXNjb25uZWN0aW9uIG9jY3Vycy5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCByZXNvbHZlXSBvZiB0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgaWQsIG9rOiBmYWxzZSwgZXJyb3I6IHJlYXNvbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZy5jbGVhcigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gc3RhdHVzXG4gICAgZ2V0IGlzQWxpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaXZlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhbiBSUEMgcmVxdWVzdCBhbmQgb3B0aW9uYWxseSBhd2FpdHMgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXEgLSBUaGUgUlBDIHJlcXVlc3QgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB0aW1lb3V0TXMgLSBUaW1lb3V0IChtcykgd2hlbiB3YWl0aW5nIGZvciBhIHJlcGx5IChkZWZhdWx0IDUwMDApXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIHdoZW4gYGV4cGVjdFJlcGx5YCBpcyB0cnVlOyBvdGhlcndpc2UgdW5kZWZpbmVkXG4gICAgICovXG4gICAgc2VuZChyZXEsIHRpbWVvdXRNcyA9IDUwMDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBhbHJlYWR5IGRpc2Nvbm5lY3RlZCwgaW1tZWRpYXRlbHkgdGVybWluYXRlIChhdm9pZCBVbmNoZWNrZWQgcnVudGltZS5sYXN0RXJyb3IpXG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXEuZXhwZWN0UmVwbHkgPyB1bmRlZmluZWQgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcS5leHBlY3RSZXBseSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUocmVxLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnNldChyZXEuaWQsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UocmVxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICBpZiAocmVxLmV4cGVjdFJlcGx5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5pZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVxLmV4cGVjdFJlcGx5KVxuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IENEUF9WRVJTSU9OID0gJzEuMyc7XG4vKipcbiAqIFdyYXBzIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGludG8gYSBzdGFuZGFyZCBgRXJyb3JgIGluc3RhbmNlLlxuICpcbiAqIEByZXR1cm5zIEFuIGBFcnJvcmAgaWYgYSBsYXN0IGVycm9yIGV4aXN0czsgb3RoZXJ3aXNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gbGFzdEVycm9yKCkge1xuICAgIGNvbnN0IGVyciA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgICByZXR1cm4gZXJyID8gbmV3IEVycm9yKGVyci5tZXNzYWdlIHx8IFN0cmluZyhlcnIpKSA6IG51bGw7XG59XG4vKiogVHJhY2tzIHRhYklkcyB0aGF0IHRoaXMgZXh0ZW5zaW9uIGN1cnJlbnRseSBvd25zIChhdHRhY2hlZCBieSBpdHNlbGYpLiAqL1xuY29uc3QgT1dORUQgPSBuZXcgU2V0KCk7XG4vKiogQ2xlYXJzIG93bmVyc2hpcCBvbiBkZXRhY2ggKGNvdmVycyBleHRlcm5hbCBjYXVzZXMgbGlrZSBvcGVuaW5nL2Nsb3NpbmcgRGV2VG9vbHMpLiAqL1xuY2hyb21lLmRlYnVnZ2VyLm9uRGV0YWNoLmFkZExpc3RlbmVyKChkZWJ1Z2dlZSkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGVidWdnZWUudGFiSWQ7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpXG4gICAgICAgIE9XTkVELmRlbGV0ZShpZCk7XG59KTtcbi8qKlxuICogRGV0YWNoZXMgdGhlIENocm9tZSBEZWJ1Z2dlciAoQ0RQKSBmcm9tIHRoZSBnaXZlbiB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBkZXRhY2ggZnJvbS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgZGV0YWNobWVudCBjb21wbGV0ZXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRldGFjaCh0YXJnZXQpIHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuZGV0YWNoKHRhcmdldCwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcbn1cbi8qKlxuICogU2FmZWx5IGF0dGFjaGVzIHRvIHRoZSB0YXJnZXQuIElmIGEgcHJldmlvdXMgc2Vzc2lvbiBvd25lZCBieSB0aGlzIGV4dGVuc2lvblxuICogaXMgYWxyZWFkeSBhdHRhY2hlZCwgaXQgcmV1c2VzIGl0IGluc3RlYWQgb2YgZmFpbGluZy5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGF0dGFjaCB0byAoZS5nLiwgYHsgdGFiSWQgfWApLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYHRydWVgIHdoZW4gdGhpcyBjYWxsIHBlcmZvcm1lZCBhIG5ldyBhdHRhY2gsXG4gKiAgICAgICAgICBvciBgZmFsc2VgIHdoZW4gYW4gZXhpc3Rpbmcgb3duZWQgc2Vzc2lvbiBpcyByZXVzZWQuXG4gKiBAdGhyb3dzIElmIGFub3RoZXIgY2xpZW50IChEZXZUb29scy9hbm90aGVyIGV4dGVuc2lvbikgaXMgYXR0YWNoZWQsIG9yIG9uIG90aGVyIGF0dGFjaCBlcnJvcnMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHRhY2hPd25lZCh0YXJnZXQpIHtcbiAgICBjb25zdCB0YWJJZCA9IHRhcmdldC50YWJJZCA/PyBudWxsO1xuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNocm9tZS5kZWJ1Z2dlci5hdHRhY2godGFyZ2V0LCBDRFBfVkVSU0lPTiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO1xuICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFiSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgT1dORUQuYWRkKHRhYklkKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOyAvLyBuZXdseSBhdHRhY2hlZCBieSB0aGlzIGNhbGxcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBlcnIubWVzc2FnZSB8fCAnJztcbiAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoJ0Fub3RoZXIgZGVidWdnZXIgaXMgYWxyZWFkeSBhdHRhY2hlZCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBhdHRhY2hlZDogcmV1c2Ugb25seSBpZiBvd25lZCBieSB0aGlzIGV4dGVuc2lvbi5cbiAgICAgICAgICAgICAgICBpZiAodGFiSWQgIT0gbnVsbCAmJiBPV05FRC5oYXModGFiSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOyAvLyByZXVzZSBleGlzdGluZyBvd25lZCBzZXNzaW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdEZWJ1Z2dlciBpcyBhbHJlYWR5IGF0dGFjaGVkIGJ5IGFub3RoZXIgY2xpZW50IChEZXZUb29scy9leHRlbnNpb24pLicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKG1zZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qKlxuICogU2FmZWx5IGRldGFjaGVzIG9ubHkgd2hlbiB0aGUgY3VycmVudCBleHRlbnNpb24gb3ducyB0aGUgc2Vzc2lvbi5cbiAqIE5vLW9wcyBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBvd25lZC5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGRldGFjaCBmcm9tLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgZGV0YWNoaW5nIChvciBpbW1lZGlhdGVseSBpZiBub3Qgb3duZWQpLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGV0YWNoT3duZWQodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFiSWQgPSB0YXJnZXQudGFiSWQgPz8gbnVsbDtcbiAgICBpZiAodGFiSWQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICghT1dORUQuaGFzKHRhYklkKSlcbiAgICAgICAgcmV0dXJuOyAvLyBub3Qgb3duZWQgYnkgdGhpcyBleHRlbnNpb25cbiAgICBhd2FpdCBkZXRhY2godGFyZ2V0KTtcbiAgICBPV05FRC5kZWxldGUodGFiSWQpO1xufVxuLyoqXG4gKiBTZW5kcyBhIENEUCBjb21tYW5kIHRvIHRoZSBhdHRhY2hlZCB0YXJnZXQuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gRXhwZWN0ZWQgcmVzdWx0IHR5cGUgb2YgdGhlIGNvbW1hbmQuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIHdoaWNoIHRoZSBjb21tYW5kIGlzIHNlbnQuXG4gKiBAcGFyYW0gbWV0aG9kIC0gQ0RQIG1ldGhvZCBuYW1lIChlLmcuLCBgJ1BhZ2UuY2FwdHVyZVNjcmVlbnNob3QnYCkuXG4gKiBAcGFyYW0gcGFyYW1zIC0gT3B0aW9uYWwgcGFyYW1ldGVycyBvYmplY3QgZm9yIHRoZSBjb21tYW5kLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29tbWFuZCByZXN1bHQgb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kKHRhcmdldCwgbWV0aG9kLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuc2VuZENvbW1hbmQodGFyZ2V0LCBtZXRob2QsIHBhcmFtcyA/PyB7fSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbGFzdEVycm9yKCk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKChyZXN1bHQgPz8ge30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBpc1Jlc3RyaWN0ZWQgfSBmcm9tICdAY29tbW9uL3VybCc7XG5pbXBvcnQgeyBhdHRhY2hPd25lZCwgZGV0YWNoT3duZWQsIHNlbmQgfSBmcm9tICdAaW5mcmEvY2RwL2NkcF9jbGllbnQnO1xuLyoqXG4gKiBOb3JtYWxpemVzIGEgc3RyaW5nIGZvciBzYWZlIHVzZSBhcyBhIGZpbGVuYW1lOlxuICogcmVwbGFjZXMgcmVzZXJ2ZWQgY2hhcmFjdGVycywgY29sbGFwc2VzIHdoaXRlc3BhY2UsIGFuZCB0cmltcyBlbmRzLlxuICpcbiAqIEBwYXJhbSBzIC0gUmF3IHN0cmluZyB0byBzYW5pdGl6ZS5cbiAqIEByZXR1cm5zIFNhbml0aXplZCBmaWxlbmFtZS1zYWZlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVGb3JGaWxlbmFtZShzKSB7XG4gICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnXycpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAgICAgLnRyaW0oKTtcbn1cbi8qKlxuICogQnVpbGRzIGEgdGltZXN0YW1wZWQgZmlsZW5hbWUgZm9yIHRoZSBjYXB0dXJlIGJhc2VkIG9uIHRoZSB0YWIncyB0aXRsZSBvciBob3N0LlxuICogVHJ1bmNhdGVzIHRoZSBiYXNlIG5hbWUgdG8gODAgY2hhcmFjdGVycyBhbmQgYXBwZW5kcyB0aGUgcHJvcGVyIGV4dGVuc2lvbi5cbiAqXG4gKiBAcGFyYW0gdGFiIC0gU291cmNlIHRhYiAodGl0bGUvdXJsIHVzZWQgZm9yIG5hbWluZykuXG4gKiBAcGFyYW0gZm10IC0gVGFyZ2V0IGltYWdlIGZvcm1hdCAoJ3BuZycgfCAnanBlZycpLlxuICogQHJldHVybnMgQSBmaWxlbmFtZSBsaWtlIGBwYWdlLTIwMjUtMDgtMTNUMTAtMjAtMzAtMDAwWi5wbmdgLlxuICovXG5mdW5jdGlvbiBtYWtlRmlsZW5hbWUodGFiLCBmbXQpIHtcbiAgICBjb25zdCB0aXRsZSA9IHRhYi50aXRsZSAmJiB0YWIudGl0bGUudHJpbSgpID8gdGFiLnRpdGxlIDogJyc7XG4gICAgbGV0IGJhc2UgPSB0aXRsZSB8fFxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh0YWIudXJsID8/ICcnKS5ob3N0IHx8ICdwYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BhZ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIGJhc2UgPSBzYW5pdGl6ZUZvckZpbGVuYW1lKGJhc2UpO1xuICAgIGlmIChiYXNlLmxlbmd0aCA+IDgwKVxuICAgICAgICBiYXNlID0gYmFzZS5zbGljZSgwLCA4MCk7XG4gICAgY29uc3QgdHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICAgIHJldHVybiBgJHtiYXNlfS0ke3RzfS4ke2ZtdH1gO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpc3VhbCB2aWV3cG9ydCByZWN0YW5nbGUgaW4gQ1NTIHBpeGVscyAoZm9yIHZpZXdwb3J0IGNhcHR1cmUpLlxuICogQHBhcmFtIHRhcmdldCAtIERldlRvb2xzIFByb3RvY29sIHRhcmdldCB0YWIgKGBjaHJvbWUuZGVidWdnZXIuRGVidWdnZWVgKS5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIGB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfWAgaW4gQ1NTIHBpeGVscy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0Vmlld3BvcnRDc3NSZWN0KHRhcmdldCkge1xuICAgIGNvbnN0IGxtID0gYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmdldExheW91dE1ldHJpY3MnKTtcbiAgICBjb25zdCB2ID0gbG0uY3NzVmlzdWFsVmlld3BvcnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2LnBhZ2VYKSB8IDApLFxuICAgICAgICB5OiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHYucGFnZVkpIHwgMCksXG4gICAgICAgIHdpZHRoOiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodi5jbGllbnRXaWR0aCkgfCAwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodi5jbGllbnRIZWlnaHQpIHwgMCksXG4gICAgfTtcbn1cbi8qKlxuICogUmVzb2x2ZXMgc2NyZWVuc2hvdCBnZW9tZXRyeSBmb3IgdGhlIHNlbGVjdGVkIGNhcHR1cmUgYXJlYS5cbiAqIEBwYXJhbSB0YXJnZXQgLSBEZXZUb29scyBQcm90b2NvbCB0YXJnZXQgdGFiIChgY2hyb21lLmRlYnVnZ2VyLkRlYnVnZ2VlYCkuXG4gKiBAcGFyYW0gYXJlYSAtIENhcHR1cmUgYXJlYTogYCdmdWxsJ2AgKGVudGlyZSBwYWdlKSBvciBgJ3ZpZXdwb3J0J2AgKHZpc2libGUgYXJlYSkuXG4gKiBAcGFyYW0gc2NhbGUgLSBJbWFnZSBzY2FsZSBmYWN0b3IgYXBwbGllZCB0byBgY2xpcC5zY2FsZWAuXG4gKiBAcGFyYW0gY29udGVudFNpemUgLSBNZWFzdXJlZCBwYWdlIGNvbnRlbnQgc2l6ZSBpbiBDU1MgcGl4ZWxzIHVzZWQgd2hlbiBgYXJlYWAgaXMgYCdmdWxsJ2AuXG4gKiBAcmV0dXJucyBgQ2FwdHVyZUdlb21ldHJ5YCBkZXNjcmliaW5nIHdoZXRoZXIgZGV2aWNlIG1ldHJpY3Mgb3ZlcnJpZGUgaXMgcmVxdWlyZWQgYW5kIHRoZSBjbGlwIHJlY3RhbmdsZSBmb3IgYFBhZ2UuY2FwdHVyZVNjcmVlbnNob3RgLlxuICovXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlR2VvbWV0cnkodGFyZ2V0LCBhcmVhLCBzY2FsZSwgY29udGVudFNpemUpIHtcbiAgICBpZiAoYXJlYSA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICAvLyBObyBvdmVycmlkZSByZXF1aXJlZDogQ2xpcCB0aGUgY3VycmVudCBkaXNwbGF5IGFyZWEgd2l0aCBjbGlwXG4gICAgICAgIGNvbnN0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gYXdhaXQgZ2V0Vmlld3BvcnRDc3NSZWN0KHRhcmdldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VPdmVycmlkZTogZmFsc2UsXG4gICAgICAgICAgICBjbGlwOiB7IHgsIHksIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0sXG4gICAgICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IHRydWUsXG4gICAgICAgICAgICBzaG91bGRTY3JvbGxUb3A6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChjb250ZW50U2l6ZS53aWR0aCkgfCAwKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoY29udGVudFNpemUuaGVpZ2h0KSB8IDApO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZU92ZXJyaWRlOiB0cnVlLFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiAxLFxuICAgICAgICAgICAgbW9iaWxlOiBmYWxzZSxcbiAgICAgICAgICAgIHNjcmVlbldpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHNjcmVlbkhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgcG9zaXRpb25YOiAwLFxuICAgICAgICAgICAgcG9zaXRpb25ZOiAwLFxuICAgICAgICB9LFxuICAgICAgICBjbGlwOiB7IHg6IDAsIHk6IDAsIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0sXG4gICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogdHJ1ZSxcbiAgICAgICAgc2hvdWxkU2Nyb2xsVG9wOiB0cnVlLFxuICAgIH07XG59XG4vKipcbiAqIENhcHR1cmUgc2NyZWVuc2hvdHMgYW5kIHNhdmUgdGhlbSB2aWEgdGhlIGRvd25sb2FkIEFQSS5cbiAqXG4gKiBAcGFyYW0gb3B0cyAtIENhcHR1cmUgb3B0aW9ucyAodGFiIGlkLCBmb3JtYXQsIHF1YWxpdHksIHNjYWxlLCBldGMuKS5cbiAqIEByZXR1cm5zIFRoZSBgZG93bmxvYWRJZGAgd2hlbiBzYXZlZCBzdWNjZXNzZnVsbHk7IGB1bmRlZmluZWRgIHdoZW4gY2FwdHVyZSBpcyBza2lwcGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FwdHVyZShvcHRzKSB7XG4gICAgY29uc3QgdGFiID0gYXdhaXQgY2hyb21lLnRhYnMuZ2V0KG9wdHMudGFiSWQpO1xuICAgIGlmICghdGFiLmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NhcHR1cmluZyBpcyBub3QgcG9zc2libGUgZHVlIHRvIHJlc3RyaWN0ZWQgVVJMOicsIHRhYi51cmwpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IHsgdGFiSWQ6IHRhYi5pZCB9O1xuICAgIGNvbnN0IGZtdCA9IG9wdHMuZm9ybWF0ID8/ICdwbmcnO1xuICAgIGNvbnN0IHNldHRsZU1zID0gb3B0cy5zZXR0bGVNcyA/PyA1MDA7XG4gICAgY29uc3Qgc2NhbGUgPSBvcHRzLnNjYWxlID8/IDE7XG4gICAgY29uc3QgYXJlYSA9IG9wdHMuYXJlYSA/PyAnZnVsbCc7XG4gICAgbGV0IGRpZEF0dGFjaCA9IGZhbHNlO1xuICAgIGxldCB1c2VkT3ZlcnJpZGUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBkaWRBdHRhY2ggPSBhd2FpdCBhdHRhY2hPd25lZCh0YXJnZXQpO1xuICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuZW5hYmxlJyk7XG4gICAgICAgIGlmIChvcHRzLmJyaW5nVG9Gcm9udCA/PyB0cnVlKSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuYnJpbmdUb0Zyb250Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VvbSA9IGF3YWl0IHJlc29sdmVHZW9tZXRyeSh0YXJnZXQsIGFyZWEsIHNjYWxlLCBvcHRzLmNvbnRlbnRTaXplKTtcbiAgICAgICAgaWYgKGdlb20uc2hvdWxkU2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ1J1bnRpbWUuZXZhbHVhdGUnLCB7IGV4cHJlc3Npb246ICd3aW5kb3cuc2Nyb2xsVG8oMCwwKScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlb20udXNlT3ZlcnJpZGUgJiYgZ2VvbS5tZXRyaWNzKSB7XG4gICAgICAgICAgICB1c2VkT3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRvcCAmIHdhaXQgYnJpZWZseSBmb3IgbGF5b3V0L2ltYWdlIHN0YWJpbGl6YXRpb25cbiAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnRW11bGF0aW9uLnNldERldmljZU1ldHJpY3NPdmVycmlkZScsIGdlb20ubWV0cmljcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgc2V0dGxlTXMpKTtcbiAgICAgICAgY29uc3QgY2FwUGFyYW1zID0ge1xuICAgICAgICAgICAgZm9ybWF0OiBmbXQsXG4gICAgICAgICAgICBmcm9tU3VyZmFjZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogZ2VvbS5jYXB0dXJlQmV5b25kVmlld3BvcnQsXG4gICAgICAgICAgICBjbGlwOiBnZW9tLmNsaXAsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmbXQgPT09ICdqcGVnJyAmJiB0eXBlb2Ygb3B0cy5xdWFsaXR5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY2FwUGFyYW1zLnF1YWxpdHkgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQob3B0cy5xdWFsaXR5KSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmNhcHR1cmVTY3JlZW5zaG90JywgY2FwUGFyYW1zKTtcbiAgICAgICAgY29uc3QgbWltZSA9IGZtdCA9PT0gJ3BuZycgPyAnaW1hZ2UvcG5nJyA6ICdpbWFnZS9qcGVnJztcbiAgICAgICAgY29uc3QgdXJsID0gYGRhdGE6JHttaW1lfTtiYXNlNjQsJHtkYXRhfWA7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gb3B0cy5maWxlbmFtZSA/PyBtYWtlRmlsZW5hbWUodGFiLCBmbXQpO1xuICAgICAgICByZXR1cm4gYXdhaXQgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybCwgZmlsZW5hbWUsIHNhdmVBczogZmFsc2UgfSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAodXNlZE92ZXJyaWRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnRW11bGF0aW9uLmNsZWFyRGV2aWNlTWV0cmljc092ZXJyaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlkQXR0YWNoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRldGFjaE93bmVkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHRpbWVzdGFtcCB9IGZyb20gJ0Bjb21tb24vdXRpbHMnO1xuLyoqXG4gKiBFeHBvcnRzIGEge0BsaW5rIFNjcmVlblN0YXRlfSBhcyBhIEpTT04gZmlsZSBhbmQgc2F2ZXNcbiAqXG4gKiBUaGUgSlNPTiBwYXlsb2FkIGluY2x1ZGVzIGJhc2ljIG1ldGFkYXRhIChmb3JtYXQva2luZC92ZXJzaW9uL2V4cG9ydGVkQXQvcGFnZUtleSlcbiAqIGFuZCB0aGUgc3RhdGUncyBgaXRlbXNgIGZvciBmdXR1cmUgY29tcGF0aWJpbGl0eSBhbmQgZWFzeSByZS1pbXBvcnQuXG4gKlxuICogQHBhcmFtIHN0YXRlIC0gVGhlIHNjcmVlbiBzdGF0ZSB0byBleHBvcnQuXG4gKiBAcGFyYW0gcGFnZUtleSAtIEEgcGFnZSBrZXkgdG8gZW1iZWQgaW50byB0aGUgZXhwb3J0ZWQgbWV0YWRhdGEgYW5kIHRvIGRlcml2ZSB0aGUgZmlsZW5hbWUuXG4gKiBAcGFyYW0gb3B0cyAtIEV4cG9ydCBvcHRpb25zIChlLmcuLCBgc2F2ZUFzYCwgYHByZWZpeGApLlxuICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgZG93bmxvYWQgSUQgcmV0dXJuZWQgYnkgYGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWRgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhwb3J0U2NyZWVuU3RhdGUoc3RhdGUsIHBhZ2VLZXksIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2F2ZUFzID0gZmFsc2UsIHByZWZpeCA9ICdzcGVjc2tldGNoLXNjcmVlbi1zdGF0ZScgfSA9IG9wdHM7XG4gICAgLy8gTWV0YWRhdGEgKyBwYXlsb2FkIChrZWVwIHZlcnNpb25pbmcgZm9yIGZvcndhcmQgY29tcGF0aWJpbGl0eSlcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBmb3JtYXQ6ICdzcGVjc2tldGNoLWV4cG9ydCcsXG4gICAgICAgIGtpbmQ6ICdzY3JlZW4tc3RhdGUnLFxuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICBleHBvcnRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHBhZ2VLZXksXG4gICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICB9O1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCAyKTtcbiAgICBjb25zdCBiYXNlNjQgPSB0b0Jhc2U2NFV0ZjgoanNvbik7XG4gICAgY29uc3QgbWltZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICBjb25zdCB1cmwgPSBgZGF0YToke21pbWV9O2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCR7YmFzZTY0fWA7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBtYWtlRmlsZW5hbWUocHJlZml4LCBwYWdlS2V5LCAnanNvbicpO1xuICAgIC8vIFNhdmUgdXNpbmcgdGhlIHNhbWUgQVBJIHBhdHRlcm4gYXMgaW1hZ2UgZG93bmxvYWRcbiAgICByZXR1cm4gYXdhaXQgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybCwgZmlsZW5hbWUsIHNhdmVBcyB9KTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZyB0byBCYXNlNjQgZm9yIHVzZSBpbiBhIGRhdGEgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gVGhlIFVURi04IHRleHQgdG8gZW5jb2RlLlxuICogQHJldHVybnMgQmFzZTY0IHN0cmluZyAobm8gZGF0YSBVUkwgcHJlZml4KS5cbiAqL1xuZnVuY3Rpb24gdG9CYXNlNjRVdGY4KHRleHQpIHtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTsgLy8gVWludDhBcnJheVxuICAgIGxldCBiaW4gPSAnJztcbiAgICBmb3IgKGNvbnN0IGIgb2YgYnl0ZXMpIHtcbiAgICAgICAgYmluICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYik7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGJpbik7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHNhbml0aXplZCBmaWxlbmFtZSBpbiB0aGUgZm9ybTpcbiAqIGB7cHJlZml4fV97c2FuaXRpemVkUGFnZUtleX1fe1lZWVktTU0tRERfSEgtbW0tc3MrMDkwMH0ue2V4dH1gXG4gKlxuICogQHBhcmFtIHByZWZpeCAtIEZpbGVuYW1lIHByZWZpeCAoZS5nLiwgcHJvZHVjdCBvciBmZWF0dXJlIG5hbWUpLlxuICogQHBhcmFtIHBhZ2VLZXkgLSBUaGUgb3JpZ2luYWwgcGFnZSBrZXkgc3RyaW5nIHRvIGRlcml2ZSBhIHNhZmUgZmlsZW5hbWUgcGFydC5cbiAqIEBwYXJhbSBleHQgLSBGaWxlIGV4dGVuc2lvbiB3aXRob3V0IGRvdCAoZS5nLiwgJ2pzb24nKS5cbiAqIEByZXR1cm5zIEEgc2FmZSBmaWxlbmFtZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG1ha2VGaWxlbmFtZShwcmVmaXgsIHBhZ2VLZXksIGV4dCkge1xuICAgIGNvbnN0IHNhZmVLZXkgPSAocGFnZUtleSA/PyAnJylcbiAgICAgICAgLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05Ll8tXSsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvLSsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvXi18LSQvZywgJycpXG4gICAgICAgIC5zbGljZSgwLCAxMjApIHx8ICdwYWdlJztcbiAgICByZXR1cm4gYCR7cHJlZml4fV8ke3NhZmVLZXl9XyR7dGltZXN0YW1wKCl9LiR7ZXh0fWA7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdGltZXN0YW1wKGQgPSBuZXcgRGF0ZSgpKSB7XG4gICAgY29uc3QgcGFkID0gKG4sIHcgPSAyKSA9PiBTdHJpbmcobikucGFkU3RhcnQodywgJzAnKTtcbiAgICBjb25zdCB0em8gPSAtZC5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIGNvbnN0IHNpZ24gPSB0em8gPj0gMCA/ICcrJyA6ICctJztcbiAgICBjb25zdCBoaCA9IHBhZChNYXRoLmZsb29yKE1hdGguYWJzKHR6bykgLyA2MCkpO1xuICAgIGNvbnN0IG1tID0gcGFkKE1hdGguYWJzKHR6bykgJSA2MCk7XG4gICAgcmV0dXJuIGAke2QuZ2V0RnVsbFllYXIoKX0tJHtwYWQoZC5nZXRNb250aCgpICsgMSl9LSR7cGFkKGQuZ2V0RGF0ZSgpKX1fJHtwYWQoZC5nZXRIb3VycygpKX0tJHtwYWQoZC5nZXRNaW51dGVzKCkpfS0ke3BhZChkLmdldFNlY29uZHMoKSl9JHtzaWdufSR7aGh9JHttbX1gO1xufVxuIiwiaW1wb3J0IGkxOG4gZnJvbSAnQGNvbW1vbi9pMThuJztcbmltcG9ydCB7IGlzVmFsaWRQYXlsb2FkIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBzY3JlZW5TdGF0ZVRhYmxlIH0gZnJvbSAnQHBhbmVsL3N0b3JhZ2UvdGFibGVzJztcbmltcG9ydCB7IGFwcGx5UGF0Y2ggfSBmcm9tICcuL3N0YXRlJztcbi8qKlxuICogSW1wb3J0IGEgU2NyZWVuU3RhdGUtbGlrZSBKU09OIGZpbGUgYW5kIG1lcmdlIGl0cyBpdGVtcyBpbnRvIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogLSBPbmx5IGAuanNvbmAgKGJ5IGV4dGVuc2lvbikgb3IgYGFwcGxpY2F0aW9uL2pzb25gIC8gYHRleHQvanNvbmAgKGJ5IE1JTUUpIGlzIGFjY2VwdGVkLlxuICogLSBQYXlsb2FkIG11c3QgbWF0Y2ggdGhlIFwic3BlY3NrZXRjaC1leHBvcnQgLyBzY3JlZW4tc3RhdGVcIiBjb250cmFjdC5cbiAqIC0gSXRlbXMgYXJlIG1lcmdlZCBieSAqKmFuY2hvcioqIGlkZW50aXR5OyBhbiBpbXBvcnRlZCBpdGVtIGlzIHNraXBwZWQgaWYgYW4gaXRlbSB3aXRoIHRoZVxuICogICBzYW1lIGFuY2hvciBge2tpbmQsIHZlcnNpb24sIHZhbHVlfWAgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBAcGFyYW0gZmlsZSAgICAgQSB1c2VyLXNlbGVjdGVkIEpTT04gZmlsZSB0aGF0IGNvbnRhaW5zIGV4cG9ydCBwYXlsb2FkLlxuICogQHBhcmFtIHBhZ2VLZXkgIFRoZSB0YXJnZXQgcGFnZSBrZXkgdG8gbWVyZ2UgaW50by5cbiAqIEByZXR1cm5zICAgICAgICBUaGUgdXBkYXRlZCB7QGxpbmsgU2NyZWVuU3RhdGV9IGFmdGVyIGFwcGx5aW5nIHRoZSBwYXRjaC5cbiAqXG4gKiBAdGhyb3dzIEVycm9yIHdpdGggaTE4biBtZXNzYWdlIGBpbXBvcnRfZmlsZV9ub3RfanNvbmBcbiAqICAgICAgICAgd2hlbiB0aGUgZmlsZSBpcyBub3QgcmVjb2duaXplZCBhcyBKU09OLlxuICogQHRocm93cyBFcnJvciB3aXRoIGkxOG4gbWVzc2FnZSBgaW1wb3J0X3BheWxvYWRfaW52YWxpZGBcbiAqICAgICAgICAgd2hlbiB0aGUgcGFyc2VkIEpTT04gZG9lcyBub3Qgc2F0aXNmeSB0aGUgZXhwZWN0ZWQgcGF5bG9hZCBjb250cmFjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGltcG9ydFNjcmVhblN0YXRlKGZpbGUsIHBhZ2VLZXkpIHtcbiAgICAvLyBWYWxpZGF0ZSBmaWxlIHR5cGUgYXMgSlNPTiBieSBleHRlbnNpb24gb3IgTUlNRSAoZW1wdHkgTUlNRSBpcyBhbGxvd2VkIG9uIHNvbWUgYnJvd3NlcnMpLlxuICAgIGNvbnN0IGlzSnNvbkJ5RXh0ID0gL1xcLmpzb24kL2kudGVzdChmaWxlLm5hbWUpO1xuICAgIGNvbnN0IGlzSnNvbkJ5TWltZSA9IGZpbGUudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGZpbGUudHlwZSA9PT0gJ3RleHQvanNvbicgfHwgZmlsZS50eXBlID09PSAnJztcbiAgICBpZiAoIWlzSnNvbkJ5RXh0ICYmICFpc0pzb25CeU1pbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGkxOG4uZ2V0KCdpbXBvcnRfZmlsZV9ub3RfanNvbicpKTtcbiAgICB9XG4gICAgLy8gUGFyc2UgSlNPTiB0ZXh0IOKGkiB2YWx1ZS5cbiAgICBsZXQgcGFyc2VkO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBUcmVhdCBtYWxmb3JtZWQgSlNPTiB0aGUgc2FtZSBhcyBwYXlsb2FkIGludmFsaWQuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihpMThuLmdldCgnaW1wb3J0X3BheWxvYWRfaW52YWxpZCcpKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgcGF5bG9hZCBjb250cmFjdDogZm9ybWF0L2tpbmQvdmVyc2lvbi9wYWdlS2V5L2l0ZW1zIChpdGVtcyBtdXN0IGJlIGFycmF5LWxpa2UgU2NyZWVuSXRlbSkuXG4gICAgaWYgKCFpc1ZhbGlkUGF5bG9hZChwYXJzZWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihpMThuLmdldCgnaW1wb3J0X3BheWxvYWRfaW52YWxpZCcpKTtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZCA9IHBhcnNlZDtcbiAgICBjb25zdCBpdGVtcyA9IHBheWxvYWQuaXRlbXM7XG4gICAgLy8gRmV0Y2ggY3VycmVudCBzdGF0ZSAoaWYgbWlzc2luZywgdHJlYXQgYXMgZW1wdHkgaXRlbXMgZm9yIGNvbXBhcmlzb24pLlxuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQocGFnZUtleSk7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBzdGF0ZT8uaXRlbXMgPz8gW107XG4gICAgLy8gQnVpbGQgYSBmYXN0IGxvb2t1cCBvZiBleGlzdGluZyBhbmNob3JzIChpZGVudGl0eSA9IGtpbmQ6dmVyc2lvbjp2YWx1ZSkuXG4gICAgY29uc3Qga2V5T2YgPSAoaXQpID0+IGAke2l0LmFuY2hvci5raW5kfToke2l0LmFuY2hvci52ZXJzaW9ufToke2l0LmFuY2hvci52YWx1ZX1gO1xuICAgIGNvbnN0IGV4aXN0aW5nU2V0ID0gbmV3IFNldChleGlzdGluZy5tYXAoa2V5T2YpKTtcbiAgICAvLyBDcmVhdGUgdGhlIG1pbmltYWwgcGF0Y2ggcGF5bG9hZCBmb3IgYGFwcGx5UGF0Y2hgIOKAlCBvbmx5IGZpZWxkcyBzdXBwb3J0ZWQgYnkgXCJhZGRlZFwiLlxuICAgIGNvbnN0IGFkZGVkID0gaXRlbXNcbiAgICAgICAgLmZpbHRlcigoaXQpID0+ICFleGlzdGluZ1NldC5oYXMoa2V5T2YoaXQpKSlcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuaWQgLSBhLmlkKVxuICAgICAgICAubWFwKChpdCkgPT4gKHtcbiAgICAgICAgYW5jaG9yOiBpdC5hbmNob3IsXG4gICAgICAgIHNpemU6IGl0LnNpemUsXG4gICAgICAgIGNvbG9yOiBpdC5jb2xvcixcbiAgICAgICAgc2hhcGU6IGl0LnNoYXBlLFxuICAgICAgICBwb3NpdGlvbjogaXQucG9zaXRpb24sXG4gICAgICAgIGdyb3VwOiBpdC5ncm91cCxcbiAgICAgICAgY29tbWVudDogaXQuY29tbWVudCxcbiAgICB9KSk7XG4gICAgcmV0dXJuIGF3YWl0IGFwcGx5UGF0Y2gocGFnZUtleSwgeyBhZGRlZCB9KTtcbn1cbiIsIi8qKlxuICogVUlFdmVudFR5cGUgLyBVSUV2ZW50UGF5bG9hZE1hcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEEgdHlwZWQgY2F0YWxvZyBvZiAqcHVyZSBVSSBldmVudHMqIGVtaXR0ZWQgYnkgdGhlIFZpZXcgKHBhbmVsX3ZpZXcudHMpLlxuICogLSBUaGUgVmlldyByZWFkcyBET00gc3RhdGUsIG5vcm1hbGl6ZXMgaXQsIGFuZCBlbWl0cyBvbmUgb2YgdGhlc2UgZXZlbnRzLlxuICogLSBUaGUgQ29udHJvbGxlciBtYXBzIGVhY2ggVUkgZXZlbnQgdG8gYW4gQWN0aW9uVHlwZSBhbmQgZGlzcGF0Y2hlcyBpdC5cbiAqIC0gUGF5bG9hZHMgYXJlIHN0cm9uZ2x5IHR5cGVkIHZpYSBVSUV2ZW50UGF5bG9hZE1hcDsgdXNlIGB1bmRlZmluZWRgIGZvciBubyBwYXlsb2FkLlxuICovXG5leHBvcnQgdmFyIFVJRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChVSUV2ZW50VHlwZSkge1xuICAgIC8qKiBUb2dnbGUgc2VsZWN0aW9uIG1vZGUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlRPR0dMRV9TRUxFQ1RcIl0gPSBcIlRPR0dMRV9TRUxFQ1RcIjtcbiAgICAvKiogQ2xlYXIgYWxsIHNlbGVjdGlvbnMgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNMRUFSXCJdID0gXCJDTEVBUlwiO1xuICAgIC8qKiBUcmlnZ2VyIHBhZ2UgY2FwdHVyZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRVwiXSA9IFwiQ0FQVFVSRVwiO1xuICAgIC8qKiBCYWRnZSBzaXplIGNoYW5nZWQgKHJhbmdlL251bWJlciBpbnB1dHMpICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9TSVpFX0NIQU5HRVwiXSA9IFwiQkFER0VfU0laRV9DSEFOR0VcIjtcbiAgICAvKiogQmFkZ2UgY29sb3IgcGlja2VkIChwb3BvdmVyIGJ1dHRvbnMpICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9DT0xPUl9TRUxFQ1RcIl0gPSBcIkJBREdFX0NPTE9SX1NFTEVDVFwiO1xuICAgIC8qKiBCYWRnZSBzaGFwZSBjaGFuZ2VkIChzZWxlY3QpICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9TSEFQRV9DSEFOR0VcIl0gPSBcIkJBREdFX1NIQVBFX0NIQU5HRVwiO1xuICAgIC8qKiBCYWRnZSBsYWJlbCBmb3JtYXQgY2hhbmdlZCAoc2VsZWN0KSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfTEFCRUxfRk9STUFUX0NIQU5HRVwiXSA9IFwiQkFER0VfTEFCRUxfRk9STUFUX0NIQU5HRVwiO1xuICAgIC8qKiBEZWxldGUgdGhlIHNlbGVjdGVkIGJhZGdlICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9ERUxFVEVcIl0gPSBcIkJBREdFX0RFTEVURVwiO1xuICAgIC8qKiBCYWRnZSBwb3NpdGlvbiBwaWNrZWQgKHBvcG92ZXIgYnV0dG9ucykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1BPU0lUSU9OX1NFTEVDVFwiXSA9IFwiQkFER0VfUE9TSVRJT05fU0VMRUNUXCI7XG4gICAgLyoqIFVwZGF0ZSBhIGdyb3VwIG9mIGVsZW1lbnRzICovXG4gICAgVUlFdmVudFR5cGVbXCJTRVRfR1JPVVBcIl0gPSBcIlNFVF9HUk9VUFwiO1xuICAgIC8qKiBDYXB0dXJlIGZvcm1hdCBjaGFuZ2VkIChyYWRpbykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfRk9STUFUX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFXCI7XG4gICAgLyoqIENhcHR1cmUgYXJlYSBjaGFuZ2VkIChyYWRpbykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfQVJFQV9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfQVJFQV9DSEFOR0VcIjtcbiAgICAvKiogSlBFRyBxdWFsaXR5IGNoYW5nZWQgKHJhbmdlL251bWJlcikgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfUVVBTElUWV9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfUVVBTElUWV9DSEFOR0VcIjtcbiAgICAvKiogQ2FwdHVyZSBzY2FsZSBjaGFuZ2VkIChyYW5nZS9udW1iZXIpICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX1NDQUxFX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9TQ0FMRV9DSEFOR0VcIjtcbiAgICAvKiogVG9nZ2xlIGNhcHR1cmUgb3B0aW9ucyBkcm9wZG93biAoZXhwYW5kL2NvbGxhcHNlKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9HR0xFX0NBUFRVUkVfUEFORUxcIl0gPSBcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCI7XG4gICAgLyoqIFJlb3JkZXJpbmcgc2VsZWN0ZWQgaXRlbXMgKGRyYWcgYW5kIGRyb3ApICovXG4gICAgVUlFdmVudFR5cGVbXCJSRU9SREVSX0lURU1TXCJdID0gXCJSRU9SREVSX0lURU1TXCI7XG4gICAgLyoqIEVtaXR0ZWQgd2hlbiBhbiBpdGVtJ3MgZWRpdC1zZWxlY3Rpb24gY2hlY2tib3ggY2hhbmdlcyBzdGF0ZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiXSA9IFwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRFwiO1xuICAgIC8qKiBTdGFydCBpdGVtIGhvdmVyICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX0hPVkVSX0lOXCJdID0gXCJJVEVNX0hPVkVSX0lOXCI7XG4gICAgLyoqIEVuZCBpdGVtIGhvdmVyICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX0hPVkVSX09VVFwiXSA9IFwiSVRFTV9IT1ZFUl9PVVRcIjtcbiAgICAvKiogQXBwbHkgcGVuZGluZyBjb21tZW50IGVkaXRzIHRvIHRoZSBzZWxlY3RlZCBpdGVtICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX0NPTU1FTlRfQVBQTFlcIl0gPSBcIklURU1fQ09NTUVOVF9BUFBMWVwiO1xuICAgIC8qKiBVcGRhdGUgdGhlIFVJIHRoZW1lICovXG4gICAgVUlFdmVudFR5cGVbXCJVUERBVEVfVEhFTUVcIl0gPSBcIlVQREFURV9USEVNRVwiO1xuICAgIC8qKiBFbWl0dGVkIGFmdGVyIHRoZSBTZXR0aW5ncyBtb2RhbCBpcyBzaG93ICovXG4gICAgVUlFdmVudFR5cGVbXCJTRVRUSU5HX01PREFMX1NIT1dcIl0gPSBcIlNFVFRJTkdfTU9EQUxfU0hPV1wiO1xuICAgIC8qKiBJbXBvcnQgYSBTY3JlZW5TdGF0ZSBmcm9tIGEgc2VsZWN0ZWQgSlNPTiBmaWxlICovXG4gICAgVUlFdmVudFR5cGVbXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIl0gPSBcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiO1xuICAgIC8qKiBEaXNtaXNzIGEgdG9hc3QgYnkgVVVJRCAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIl0gPSBcIlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEXCI7XG4gICAgLyoqIENsaWNrIHRvIHJlbW92ZSB0aGUgc2F2ZWQgcGFnZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiUkVNT1ZFX1BBR0VfQ0xJQ0tcIl0gPSBcIlJFTU9WRV9QQUdFX0NMSUNLXCI7XG4gICAgLyoqIENsaWNrIHRoZSBleHBvcnQgYnV0dG9uICovXG4gICAgVUlFdmVudFR5cGVbXCJFWFBPUlRfUEFHRV9DTElDS1wiXSA9IFwiRVhQT1JUX1BBR0VfQ0xJQ0tcIjtcbn0pKFVJRXZlbnRUeXBlIHx8IChVSUV2ZW50VHlwZSA9IHt9KSk7XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgaXNSZXN0cmljdGVkLCBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlVGFiIH0gZnJvbSAnQGluZnJhL2Nocm9tZS90YWJzJztcbmltcG9ydCB7IGluaXRpYWxNb2RlbCB9IGZyb20gJ0BwYW5lbC9hcHAvbW9kZWwnO1xuaW1wb3J0IHsgdXBkYXRlIH0gZnJvbSAnQHBhbmVsL2FwcC91cGRhdGUnO1xuaW1wb3J0IHsgY29ubmVjdFRvVGFiIH0gZnJvbSAnQHBhbmVsL21lc3NhZ2luZy9jb25uZWN0aW9uJztcbmltcG9ydCB7IGNhcHR1cmUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvY2FwdHVyZSc7XG5pbXBvcnQgeyBleHBvcnRTY3JlZW5TdGF0ZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9leHBvcnQnO1xuaW1wb3J0IHsgaW1wb3J0U2NyZWFuU3RhdGUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvaW1wb3J0JztcbmltcG9ydCB7IGhhbmRsZVNlbGVjdGVkIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL3N0YXRlJztcbmltcG9ydCB7IHNjcmVlblN0YXRlVGFibGUsIHRoZW1lVGFibGUgfSBmcm9tICdAcGFuZWwvc3RvcmFnZS90YWJsZXMnO1xuaW1wb3J0IHsgQWN0aW9uVHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHsgRWZmZWN0VHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy9lZmZlY3RfdHlwZXMnO1xuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3N0YXR1cyc7XG5pbXBvcnQgeyBVSUV2ZW50VHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy91aV9ldmVudF90eXBlcyc7XG5leHBvcnQgY2xhc3MgUGFuZWxDb250cm9sbGVyIHtcbiAgICB2aWV3O1xuICAgIG1vZGVsID0gc3RydWN0dXJlZENsb25lKGluaXRpYWxNb2RlbCk7XG4gICAgY29ubiA9IG51bGw7XG4gICAgY3VycmVudFdpbmRvd0lkID0gbnVsbDtcbiAgICBzdGF0aWMgUkVRVUlSRVNfQ09OTiA9IG5ldyBTZXQoW1xuICAgICAgICBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCxcbiAgICAgICAgRWZmZWN0VHlwZS5DTEVBUl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLkhPVkVSLFxuICAgIF0pO1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklOSVQgfSk7XG4gICAgICAgIGNvbnN0IHsgb2sgfSA9IGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKHsgZm9yY2VSZWNvbm5lY3Q6IHRydWUgfSk7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXdIYW5kbGVycygpO1xuICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICBjb25zdCB3ID0gYXdhaXQgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRXaW5kb3dJZCA9IHcuaWQgPz8gbnVsbDtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChtc2cudHlwZSAhPT0gTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VEKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNlbmRlcldpbmRvd0lkID0gbXNnLnBheWxvYWQud2luZG93SWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50V2luZG93SWQgPT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRXaW5kb3dJZCAhPT0gc2VuZGVyV2luZG93SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdm9pZCB0aGlzLmVuc3VyZUNvbm5lY3Rpb25BbGl2ZSh7IGZvcmNlUmVjb25uZWN0OiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJWaWV3SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5UT0dHTEVfU0VMRUNUIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNMRUFSLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DTEVBUl9BTEwgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRSwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfU0laRV9DSEFOR0UsICh7IHNpemUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1NJWkUsIHNpemUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCAoeyBjb2xvciB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfQ09MT1IsIGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgKHsgc2hhcGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFLCBzaGFwZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9MQUJFTF9GT1JNQVRfQ0hBTkdFLCAoeyBsYWJlbEZvcm1hdCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfTEFCRUxfRk9STUFULCBsYWJlbEZvcm1hdCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9ERUxFVEUsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkJBREdFX0RFTEVURSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9QT1NJVElPTl9TRUxFQ1QsICh7IHBvc2l0aW9uIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9QT1NJVElPTiwgcG9zaXRpb24gfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUwsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfRk9STUFUX0NIQU5HRSwgKHsgZm9ybWF0IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0ZPUk1BVCwgZm9ybWF0IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfQVJFQV9DSEFOR0UsICh7IGFyZWEgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQSwgYXJlYSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX1FVQUxJVFlfQ0hBTkdFLCAoeyBxdWFsaXR5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFksIHF1YWxpdHkgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9TQ0FMRV9DSEFOR0UsICh7IHNjYWxlIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1NDQUxFLCBzY2FsZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5SRU9SREVSX0lURU1TLCAoeyBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5SRU9SREVSX0lURU1TLCBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5TRVRfR1JPVVAsICh7IGdyb3VwIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9HUk9VUCwgZ3JvdXAgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgKHBheWxvYWQpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIC4uLnBheWxvYWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9JTiwgKHsgaWQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9JTiwgaWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklURU1fQ09NTUVOVF9BUFBMWSwgKHsgaWQsIGNvbW1lbnQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX0lURU1fQ09NTUVOVCwgaWQsIGNvbW1lbnQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVVBEQVRFX1RIRU1FLCAoeyB0aGVtZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfVEhFTUUsIHRoZW1lIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlNFVFRJTkdfTU9EQUxfU0hPVywgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1JFUVVFU1RFRCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsICh7IGZpbGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFLCBmaWxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCAoeyB1dWlkIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB1dWlkIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlJFTU9WRV9QQUdFX0NMSUNLLCAoeyBwYWdlS2V5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRSwgcGFnZUtleSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgKHsgcGFnZUtleSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0UsIHBhZ2VLZXkgfSkpO1xuICAgIH1cbiAgICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgeyBtb2RlbDogbmV4dCwgZWZmZWN0cyB9ID0gdXBkYXRlKHRoaXMubW9kZWwsIGFjdGlvbik7XG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXh0O1xuICAgICAgICB0aGlzLnZpZXcucmVuZGVyKHRoaXMubW9kZWwpO1xuICAgICAgICB2b2lkIHRoaXMuZXhlY0VmZmVjdHMoZWZmZWN0cykuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWNFZmZlY3RzKGVmZmVjdHMpIHtcbiAgICAgICAgY29uc3QgbmVlZHNDb25uID0gZWZmZWN0cy5zb21lKChmeCkgPT4gUGFuZWxDb250cm9sbGVyLlJFUVVJUkVTX0NPTk4uaGFzKGZ4LmtpbmQpKTtcbiAgICAgICAgaWYgKG5lZWRzQ29ubikge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKCk7XG4gICAgICAgICAgICBpZiAoIXIub2sgfHwgci5jb250ZXh0Q2hhbmdlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBmeCBvZiBlZmZlY3RzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZ4LmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLnJlbmRlcihmeC5pdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLnRvZ2dsZVNlbGVjdChmeC5lbmFibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5IT1ZFUjpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuaG92ZXIoZnguaWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUuc2V0KHRoaXMubW9kZWwucGFnZUtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMubW9kZWwuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogdGhpcy5tb2RlbC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogdGhpcy5tb2RlbC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHRoaXMubW9kZWwuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiB0aGlzLm1vZGVsLmRlZmF1bHRMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogdGhpcy5tb2RlbC5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHRoaXMubW9kZWwuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHRoaXMubW9kZWwucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjcmVlblN0YXRlVGFibGUuc2V0KHRoaXMubW9kZWwucGFnZUtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLm1vZGVsLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHRoaXMubW9kZWwuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHRoaXMubW9kZWwuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiB0aGlzLm1vZGVsLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogdGhpcy5tb2RlbC5kZWZhdWx0TGFiZWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuU0VUX1RIRU1FOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gYXdhaXQgdGhlbWVUYWJsZS5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1RIRU1FLCB0aGVtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoZW1lVGFibGUuc2V0KGZ4LnRoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBpbXBvcnRTY3JlYW5TdGF0ZShmeC5maWxlLCB0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0YXRlLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogc3RhdGUuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuSU1QT1JUX0ZBSUxFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2VzOiBbbWVzc2FnZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfU1RPUkVfQllfUEFHRV9LRVk6IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5yZW1vdmUoZngucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdCA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KHRoaXMubW9kZWwucGFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogc3QuaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0LmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogc3QuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogc3QuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbEZvcm1hdDogc3QuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3QuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogc3QuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cG9ydFNjcmVlblN0YXRlKHN0YXRlLCBmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9GQUlMRUQsIGVycm9yIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLm1lYXN1cmVTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DQVBUVVJFOlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FwdHVyZShmeC5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfU1VDQ0VFREVEIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX0ZBSUxFRCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihmeC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGVuc3VyZUNvbm5lY3Rpb25BbGl2ZShvcHRzKSB7XG4gICAgICAgIGNvbnN0IHByZXZLZXkgPSB0aGlzLm1vZGVsLnBhZ2VLZXk7XG4gICAgICAgIGNvbnN0IGZvcmNlID0gb3B0cz8uZm9yY2VSZWNvbm5lY3QgPT09IHRydWU7XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbmcgPSBhd2FpdCB0aGlzLmNvbm4/LmFwaS5waW5nKCk7XG4gICAgICAgICAgICBpZiAocG9uZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWIgPSBhd2FpdCBnZXRBY3RpdmVUYWIoKTtcbiAgICAgICAgaWYgKCF0YWI/LmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuUkVTVFJJQ1RFRCB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHBhZ2VLZXkodGFiLnVybCk7XG4gICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DT05ORUNURUQsIHRhYklkLCBwYWdlS2V5OiBuZXdLZXkgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9TVEFUVVMsIHN0YXR1czogU1RBVFVTLkNPTk5FQ1RJTkcgfSk7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgY2xvc2UgdGhlIG9sZCBwb3J0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4/LnBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uID0gYXdhaXQgY29ubmVjdFRvVGFiKHRhYklkKTtcbiAgICAgICAgdGhpcy5jb25uLm9uRGlzY29ubmVjdCgoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5QT1JUX0RJU0NPTk5FQ1RFRCB9KSk7XG4gICAgICAgIHRoaXMuY29ubi5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihhc3luYyAobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5TRUxFQ1RFRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBoYW5kbGVTZWxlY3RlZCh0aGlzLm1vZGVsLnBhZ2VLZXksIG1zZy5wYXlsb2FkLmFuY2hvcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogcy5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogcy5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWxGb3JtYXQ6IHMuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiBzLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogcy5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLk1JU1NJTkdfSURTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuU0VUX01JU1NJTkdfSURTLFxuICAgICAgICAgICAgICAgICAgICBtaXNzaW5nSWRzOiBtc2cucGF5bG9hZC5taXNzaW5nSWRzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5DT05URU5UX1NJWkVfUkVTVUxUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuQ0FQVFVSRV9SRVFVRVNURUQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTaXplOiBtc2cucGF5bG9hZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0ID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQobmV3S2V5KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiBzdC5pdGVtcyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogc3QuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzdC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiBzdC5kZWZhdWx0TGFiZWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiBzdC5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzdC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuQ09OTkVDVEVEIH0pO1xuICAgICAgICBjb25zdCBjb250ZXh0Q2hhbmdlZCA9ICEhcHJldktleSAmJiBwcmV2S2V5ICE9PSBuZXdLZXk7XG4gICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZCB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFVOR1JPVVBFRF9WQUxVRSB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZCB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9zdGF0ZSc7XG5pbXBvcnQgeyBTVEFUVVMgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IEFjdGlvblR5cGUgfSBmcm9tICcuLi90eXBlcy9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHsgRWZmZWN0VHlwZSB9IGZyb20gJy4uL3R5cGVzL2VmZmVjdF90eXBlcyc7XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG1vZGVsLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JTklUOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuU0VUX1RIRU1FIH1dIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DT05ORUNURUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbDogeyAuLi5tb2RlbCwgdGFiSWQ6IGFjdGlvbi50YWJJZCwgcGFnZUtleTogYWN0aW9uLnBhZ2VLZXkgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9TVEFUVVM6IHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uc3RhdHVzID09PSBTVEFUVVMuQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zOiBbXSwgc3RhdHVzOiBhY3Rpb24uc3RhdHVzIH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogYWN0aW9uLnN0YXRlLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogYWN0aW9uLnN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogYWN0aW9uLnN0YXRlLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExhYmVsRm9ybWF0OiBhY3Rpb24uc3RhdGUuZGVmYXVsdExhYmVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IGFjdGlvbi5zdGF0ZS5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogYWN0aW9uLnN0YXRlLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zOiBhY3Rpb24uc3RhdGUuaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX01JU1NJTkdfSURTOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgbWlzc2luZ0lkczogYWN0aW9uLm1pc3NpbmdJZHMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5UT0dHTEVfU0VMRUNUOiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gIW1vZGVsLnNlbGVjdGlvbkVuYWJsZWQ7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3Rpb25FbmFibGVkOiBuZXh0IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsIGVuYWJsZWQ6IG5leHQgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DTEVBUl9BTEw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQgfSwgeyBraW5kOiBFZmZlY3RUeXBlLkNMRUFSX1NUQVRFIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNPTlRFTlRfU0VMRUNURUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBwYW5lbEV4cGFuZGVkOiAhbW9kZWwuY2FwdHVyZS5wYW5lbEV4cGFuZGVkIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQkFER0VfU0laRToge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IHNpemU6IGFjdGlvbi5zaXplIH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0U2l6ZTogYWN0aW9uLnNpemUsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQkFER0VfQ09MT1I6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbW9kZWwuaXRlbXMubWFwKChpdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pdCxcbiAgICAgICAgICAgICAgICAuLi4obW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpID8geyBjb2xvcjogYWN0aW9uLmNvbG9yIH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBkZWZhdWx0Q29sb3I6IGFjdGlvbi5jb2xvciwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSEFQRToge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IHNoYXBlOiBhY3Rpb24uc2hhcGUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRTaGFwZTogYWN0aW9uLnNoYXBlLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX0xBQkVMX0ZPUk1BVDoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IGxhYmVsRm9ybWF0OiBhY3Rpb24ubGFiZWxGb3JtYXQgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRMYWJlbEZvcm1hdDogYWN0aW9uLmxhYmVsRm9ybWF0LCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQkFER0VfREVMRVRFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc01hcmtlZEZvclJlbGFiZWwgPSBtb2RlbC5pdGVtcy5maWx0ZXIoKGl0KSA9PiAhbW9kZWwuc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9QT1NJVElPTjoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IHBvc2l0aW9uOiBhY3Rpb24ucG9zaXRpb24gfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRQb3NpdGlvbjogYWN0aW9uLnBvc2l0aW9uLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0dST1VQOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc01hcmtlZEZvclJlbGFiZWwgPSB1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbChtb2RlbC5pdGVtcywgbW9kZWwuc2VsZWN0SXRlbXMsIGFjdGlvbi5ncm91cCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXNNYXJrZWRGb3JSZWxhYmVsKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRHcm91cDogYWN0aW9uLmdyb3VwLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfRk9STUFUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBmb3JtYXQ6IGFjdGlvbi5mb3JtYXQgfSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX0FSRUE6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBhcmVhOiBhY3Rpb24uYXJlYSB9IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9RVUFMSVRZOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgY2FwdHVyZTogeyAuLi5tb2RlbC5jYXB0dXJlLCBxdWFsaXR5OiBhY3Rpb24ucXVhbGl0eSB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfU0NBTEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHNjYWxlOiBhY3Rpb24uc2NhbGUgfSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLk1FQVNVUkVfQ09OVEVOVF9TSVpFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLk1FQVNVUkVfQ09OVEVOVF9TSVpFIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNBUFRVUkVfUkVRVUVTVEVEOiB7XG4gICAgICAgICAgICBpZiAobW9kZWwudGFiSWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUiwgZXJyb3I6ICdObyB0YWJJZCcgfV0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBFZmZlY3RUeXBlLkNBUFRVUkUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSWQ6IG1vZGVsLnRhYklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbW9kZWwuY2FwdHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYTogbW9kZWwuY2FwdHVyZS5hcmVhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IG1vZGVsLmNhcHR1cmUucXVhbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogbW9kZWwuY2FwdHVyZS5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2l6ZTogYWN0aW9uLmNvbnRlbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9TVUNDRUVERUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNBUFRVUkVfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogYWN0aW9uLmVycm9yIH1dIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRU9SREVSX0lURU1TOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc01hcmtlZEZvclJlbGFiZWwgPSByZW9yZGVySXRlbUxhYmVsKG1vZGVsLml0ZW1zLCBhY3Rpb24uZnJvbUlkLCBhY3Rpb24uZnJvbUluZGV4LCBhY3Rpb24udG9JbmRleCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXNNYXJrZWRGb3JSZWxhYmVsKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VEOiB7XG4gICAgICAgICAgICBpZiAoJ2lkJyBpbiBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QvZGVzZWxlY3QgYSBzaW5nbGUgaXRlbVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQoYWN0aW9uLmlkLCBhY3Rpb24uaXNDaGVjaywgbW9kZWwuc2VsZWN0SXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJ2dyb3VwJyBpbiBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QvZGVzZWxlY3QgYSBncm91cFxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwKGFjdGlvbi5ncm91cCwgYWN0aW9uLmlzQ2hlY2ssIG1vZGVsLnNlbGVjdEl0ZW1zLCBtb2RlbC5pdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgYWxsL0Rlc2VsZWN0IGFsbFxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckFsbChhY3Rpb24uYWxsQ2hlY2ssIG1vZGVsLml0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9JTjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5IT1ZFUiwgaWQ6IGFjdGlvbi5pZCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX0hPVkVSX09VVDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5IT1ZFUiwgaWQ6IG51bGwgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVVBEQVRFX0lURU1fQ09NTUVOVDoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihpdC5pZCA9PT0gYWN0aW9uLmlkID8geyBjb21tZW50OiBhY3Rpb24uY29tbWVudCB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlBPUlRfRElTQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc3RhdHVzOiBTVEFUVVMuRElTQ09OTkVDVEVELCBzZWxlY3Rpb25FbmFibGVkOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuVE9HR0xFX1NFTEVDVF9PTl9DT05URU5ULCBlbmFibGVkOiBmYWxzZSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfVEhFTUU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0aGVtZTogYWN0aW9uLnRoZW1lIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVVBEQVRFX1RIRU1FOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdGhlbWU6IGFjdGlvbi50aGVtZSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuVVBEQVRFX1RIRU1FLCB0aGVtZTogYWN0aW9uLnRoZW1lIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUT1JFX1JFTE9BRF9SRVFVRVNURUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHBhZ2VLZXlzOiBhY3Rpb24ucGFnZUtleXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFLCBmaWxlOiBhY3Rpb24uZmlsZSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JTVBPUlRfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdG9hc3RNZXNzYWdlczogYWN0aW9uLnRvYXN0TWVzc2FnZXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5UT0FTVF9ESVNNSVNTX1JFUVVFU1RFRDoge1xuICAgICAgICAgICAgY29uc3QgdG9hc3RNZXNzYWdlcyA9IG1vZGVsLnRvYXN0TWVzc2FnZXMuZmlsdGVyKCh0KSA9PiB0LnV1aWQgIT09IGFjdGlvbi51dWlkKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRvYXN0TWVzc2FnZXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW1xuICAgICAgICAgICAgICAgICAgICB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWSwgcGFnZUtleTogYWN0aW9uLnBhZ2VLZXkgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZLCBwYWdlS2V5OiBhY3Rpb24ucGFnZUtleSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5FWFBPUlRfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogYWN0aW9uLmVycm9yIH1dIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW10gfTtcbiAgICB9XG59XG4vKipcbiAqIFJlbGFiZWwgaXRlbXMgYXMgaWYgdGhlIGl0ZW0gd2l0aCBgZnJvbUlkYCB3YXMgbW92ZWQgdG8gdGhlIHBvc2l0aW9uXG4gKiB3aG9zZSBsYWJlbCBlcXVhbHMgYGl0ZW1zW3RvSW5kZXhdLmxhYmVsYC4gTGFiZWxzIG9mIHRoZSBpdGVtcyBpbiBiZXR3ZWVuXG4gKiBhcmUgc2hpZnRlZCBieSDCsTEgdG8ga2VlcCBsYWJlbHMgdW5pcXVlIGFuZCBjb250aWd1b3VzIChpZiB0aGV5IHdlcmUpLlxuICpcbiAqIEBwYXJhbSBpdGVtcyAgIC0gU291cmNlIGl0ZW1zIChub3QgbXV0YXRlZCkuXG4gKiBAcGFyYW0gZnJvbUlkICAtIElEIG9mIHRoZSBpdGVtIHRvIG1vdmUuXG4gKiBAcGFyYW0gZnJvbUluZGV4ICAtIFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBpdGVtIHRvIGJlIG1vdmVkLlxuICogQHBhcmFtIHRvSW5kZXggLSBUYXJnZXQgaW5kZXggaW4gYGl0ZW1zYCB3aG9zZSBsYWJlbCBiZWNvbWVzIHRoZSBuZXcgbGFiZWwuXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSB3aXRoIHVwZGF0ZWQgbGFiZWxzLlxuICogQHRocm93cyBSYW5nZUVycm9yIGlmIGB0b0luZGV4YCBpcyBvdXQgb2YgYm91bmRzIG9yIEVycm9yIGlmIGBmcm9tSWRgIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gcmVvcmRlckl0ZW1MYWJlbChpdGVtcywgZnJvbUlkLCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICBpZiAodG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYHRvSW5kZXggb3V0IG9mIHJhbmdlOiAke3RvSW5kZXh9YCk7XG4gICAgfVxuICAgIGNvbnN0IGZyb21JZHggPSBpdGVtcy5maW5kSW5kZXgoKGkpID0+IGkuaWQgPT09IGZyb21JZCk7XG4gICAgaWYgKGZyb21JZHggPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSXRlbSBub3QgZm91bmQgZm9yIGlkPSR7ZnJvbUlkfWApO1xuICAgIH1cbiAgICBpZiAodG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBpdGVtcy5maWx0ZXIoKGl0KSA9PiBpdC5ncm91cCA9PT0gaXRlbXNbZnJvbUlkeF0uZ3JvdXApLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgdG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7dG9JbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgT0ZGU0VUX0FGVEVSID0gMS4xO1xuICAgIGNvbnN0IE9GRlNFVF9CRUZPUkUgPSAwLjE7XG4gICAgY29uc3Qgb2Zmc2V0ID0gZnJvbUluZGV4IDwgdG9JbmRleCA/IE9GRlNFVF9BRlRFUiA6IE9GRlNFVF9CRUZPUkU7XG4gICAgY29uc3QgbGFiZWwgPSB0b0luZGV4ICsgb2Zmc2V0O1xuICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiAoaXQuaWQgPT09IGZyb21JZCA/IHsgLi4uaXQsIGxhYmVsIH0gOiBpdCkpO1xufVxuLyoqXG4gKiBCdW1wcyB0aGUgbGFiZWwgb2Ygc2VsZWN0ZWQgaXRlbXMgdGhhdCBhbHJlYWR5IGJlbG9uZyB0byB0aGUgdHJpbW1lZCB0YXJnZXQgZ3JvdXAsIHdoaWxlIGRlZmVycmluZyBsYWJlbCBub3JtYWxpemF0aW9uLlxuICpcbiAqIE5vdGVzXG4gKiAtIFRoZSBmdW5jdGlvbiBvbmx5IHRvdWNoZXMgaXRlbXMgd2hvc2UgYGlkYCBpcyBpbiBgc2VsZWN0SXRlbXNgIGFuZCB3aG9zZSBjdXJyZW50IGBncm91cGAgbWF0Y2hlcyBgbmV4dEdyb3VwUmF3YCAoYWZ0ZXIgdHJpbW1pbmcpLlxuICogLSBMYWJlbHMgYXJlIHJlYXNzaWduZWQgdG8gbGFyZ2UgZGVzY2VuZGluZyBudW1iZXJzIHNvIHRoYXQgYHJlbGFiZWxDb25zZWN1dGl2ZVBlckdyb3VwKClgIGNhbiBsYXRlciBjb21wYWN0IHRoZW0uXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gRnVsbCBsaXN0IG9mIHNjcmVlbiBpdGVtcy5cbiAqIEBwYXJhbSBzZWxlY3RJdGVtcyAtIElEcyBvZiB0aGUgaXRlbXMgdGhhdCBzaG91bGQgcmVjZWl2ZSBhIHRlbXBvcmFyeSBsYWJlbCBidW1wLlxuICogQHBhcmFtIG5leHRHcm91cFJhdyAtIFRhcmdldCBncm91cCBuYW1lOyB0cmltbWVkIGJlZm9yZSBjb21wYXJpc29uLlxuICogQHJldHVybnMgQSBuZXcgYXJyYXkgd2hlcmUgdGhlIG1hdGNoaW5nIGl0ZW1zIGdhaW4gYSB0ZW1wb3JhcnkgaGlnaC1wcmlvcml0eSBsYWJlbDsgb3RoZXIgaXRlbXMgYXJlIHVudG91Y2hlZC5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlR3JvdXBBbmREZWZlclJlbGFiZWwoaXRlbXMsIHNlbGVjdEl0ZW1zLCBuZXh0R3JvdXBSYXcpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTtcbiAgICBjb25zdCBuZXh0R3JvdXAgPSBub3JtYWxpemUobmV4dEdyb3VwUmF3KTtcbiAgICBsZXQgdXBkYXRlSXRlbUNudCA9IDA7XG4gICAgcmV0dXJuIGl0ZW1zXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmlkIC0gYS5pZClcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXRlbS5pZCkgJiYgaXRlbS5ncm91cCAhPT0gbmV4dEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gdXBkYXRlSXRlbUNudCsrO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgZ3JvdXA6IG5leHRHcm91cCwgbGFiZWwgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRCeUlkKGlkLCBpc0NoZWNrLCBzZWxlY3RJdGVtcykge1xuICAgIGlmIChpc0NoZWNrKSB7XG4gICAgICAgIGlmICghc2VsZWN0SXRlbXMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnNlbGVjdEl0ZW1zLCBpZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gaWQpO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwKGdyb3VwLCBpc0NoZWNrLCBzZWxlY3RJdGVtcywgaXRlbXMpIHtcbiAgICBjb25zdCBnID0gZ3JvdXAudHJpbSgpO1xuICAgIGNvbnN0IGdyb3VwSWRzID0gaXRlbXNcbiAgICAgICAgLmZpbHRlcigoaXQpID0+IChpdC5ncm91cCA/PyBVTkdST1VQRURfVkFMVUUpLnRyaW0oKSA9PT0gZylcbiAgICAgICAgLm1hcCgoaXQpID0+IGl0LmlkKTtcbiAgICBpZiAoZ3JvdXBJZHMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXM7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldChzZWxlY3RJdGVtcyk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ3JvdXBJZHMpXG4gICAgICAgICAgICBzZXQuYWRkKGlkKTtcbiAgICAgICAgcmV0dXJuIFsuLi5zZXRdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZ3JvdXBTZXQgPSBuZXcgU2V0KGdyb3VwSWRzKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdEl0ZW1zLmZpbHRlcigoaWQpID0+ICFncm91cFNldC5oYXMoaWQpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFsbENoZWNrLCBpdGVtcykge1xuICAgIGlmIChhbGxDaGVjaykge1xuICAgICAgICByZXR1cm4gaXRlbXMubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgcGFnZUtleSB9IGZyb20gJ0Bjb21tb24vdXJsJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVUYWIoKSB7XG4gICAgY29uc3QgdGFicyA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0pO1xuICAgIHJldHVybiB0YWJzWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQWN0aXZlVGFiQnJvYWRjYXN0KCkge1xuICAgIC8vIFRhYiBzd2l0Y2hpbmdcbiAgICBjb25zdCBvbkFjdGl2YXRlZCA9IGFzeW5jICh7IHRhYklkLCB3aW5kb3dJZCB9KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBbdGFiXSA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCB3aW5kb3dJZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYj8udXJsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgYXdhaXQgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZCwgdXJsLCBwYWdlS2V5OiBrZXkgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlbG9hZC90cmFuc2l0aW9uIGRldGVjdGlvbiB3aXRoaW4gdGhlIHNhbWUgdGFiXG4gICAgY29uc3Qgb25VcGRhdGVkID0gYXN5bmMgKHRhYklkLCBpbmZvLCB0YWIpID0+IHtcbiAgICAgICAgaWYgKCF0YWI/LmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGluZm8uc3RhdHVzID09PSAnbG9hZGluZycgfHwgdHlwZW9mIGluZm8udXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0YWIudXJsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHVybCA/IHBhZ2VLZXkodXJsKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE1TR19UWVBFLkFDVElWRV9UQUJfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyB0YWJJZCwgd2luZG93SWQ6IHRhYi53aW5kb3dJZCwgdXJsLCBwYWdlS2V5OiBrZXkgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjaHJvbWUudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcihvbkFjdGl2YXRlZCk7XG4gICAgY2hyb21lLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKG9uVXBkYXRlZCk7XG59XG4iLCJpbXBvcnQgeyBDSEFOTkVMIH0gZnJvbSAnQGNvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgUGFuZWxBcGkgfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyBQb3J0UnBjIH0gZnJvbSAnLi9wb3J0X3JwYyc7XG4vKipcbiAqIEluamVjdHMgdGhlIGNvbnRlbnQgc2NyaXB0IGludG8gdGhlIHRhYiBpZiBuZWVkZWQsIGFuZFxuICogaW5pdGlhbGl6ZXMgdGhlIFBvcnQgY29ubmVjdGlvbiBhbmQgUlBDIGZvciBQYW5lbCDihpQgQ29udGVudC5cbiAqXG4gKiBAcGFyYW0gdGFiSWQgLSBUYXJnZXQgdGFiIGlkXG4gKiBAcmV0dXJucyBBIGNvbm5lY3Rpb24gb2JqZWN0IGJ1bmRsaW5nIEFQSSwgUG9ydCwgYW5kIFJQQ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvVGFiKHRhYklkKSB7XG4gICAgYXdhaXQgY2hyb21lLnNjcmlwdGluZ1xuICAgICAgICAuZXhlY3V0ZVNjcmlwdCh7XG4gICAgICAgIHRhcmdldDogeyB0YWJJZCB9LFxuICAgICAgICBmaWxlczogWydjb250ZW50L21haW4uanMnXSxcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAvKiBJZ25vcmUgaWYgYWxyZWFkeSBpbmplY3RlZCAqL1xuICAgIH0pO1xuICAgIGNvbnN0IHBvcnQgPSBjaHJvbWUudGFicy5jb25uZWN0KHRhYklkLCB7IG5hbWU6IENIQU5ORUwuUEFORUxfQ09OVEVOVCB9KTtcbiAgICBjb25zdCBycGMgPSBuZXcgUG9ydFJwYyhwb3J0KTtcbiAgICBjb25zdCBhcGkgPSBuZXcgUGFuZWxBcGkocnBjKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBwb3J0Lm9uRGlzY29ubmVjdC5hZGRMaXN0ZW5lcigoKSA9PiBsaXN0ZW5lcnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGksXG4gICAgICAgIHBvcnQsXG4gICAgICAgIHJwYyxcbiAgICAgICAgb25EaXNjb25uZWN0OiAoY2IpID0+IGxpc3RlbmVycy5wdXNoKGNiKSxcbiAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgY29uc3QgSUNPTlMgPSB7XG4gICAgY2FyZXREb3duOiB7XG4gICAgICAgIGQ6ICdNNS4yMyA3LjIxYS43NS43NSAwIDAxMS4wNi4wMkwxMCAxMC45MzlsMy43MS0zLjcxYS43NS43NSAwIDExMS4wNiAxLjA2MkwxMC41MyAxMi41M2EuNzUuNzUgMCAwMS0xLjA2IDBMNS4yMyA4LjI3YS43NS43NSAwIDAxLjAyLTEuMDZ6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjYXJldERvd25GaWxsOiB7XG4gICAgICAgIGQ6ICdNNy4yNDcgMTEuMTQgMi40NTEgNS42NThDMS44ODUgNS4wMTMgMi4zNDUgNCAzLjIwNCA0aDkuNTkyYTEgMSAwIDAgMSAuNzUzIDEuNjU5bC00Ljc5NiA1LjQ4YTEgMSAwIDAgMS0xLjUwNiAweicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMTYgMTYnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodDoge1xuICAgICAgICBkOiAnTTcuMjkzIDE0LjcwN2ExIDEgMCAwMS0xLjQxNC0xLjQxNEwxMC4xNzIgOSA1Ljg3OSA0LjcwN2ExIDEgMCAwMTEuNDE0LTEuNDE0bDUgNWExIDEgMCAwMTAgMS40MTRsLTUgNXonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0UmlnaHRGaWxsOiB7XG4gICAgICAgIGQ6ICdtMTIuMTQgOC43NTMtNS40ODIgNC43OTZjLS42NDYuNTY2LTEuNjU4LjEwNi0xLjY1OC0uNzUzVjMuMjA0YTEgMSAwIDAgMSAxLjY1OS0uNzUzbDUuNDggNC43OTZhMSAxIDAgMCAxIDAgMS41MDZ6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBzdWNjZXNzOiB7XG4gICAgICAgIGQ6ICdNMTAgMThhOCA4IDAgMSAwIDAtMTYgOCA4IDAgMCAwIDAgMTZabTMuNzA3LTguNzA3YTEgMSAwIDAgMC0xLjQxNC0xLjQxNEw5IDExLjE3MiA3LjcwNyA5Ljg3OWExIDEgMCAxIDAtMS40MTQgMS40MTRsMiAyYTEgMSAwIDAgMCAxLjQxNCAwbDQtNFonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGVycm9yOiB7XG4gICAgICAgIGQ6ICdNMTAgMThhOCA4IDAgMSAwIDAtMTYgOCA4IDAgMCAwIDAgMTZabS0uNzUtMTEuNWEuNzUuNzUgMCAwIDEgMS41IDB2NWEuNzUuNzUgMCAwIDEtMS41IDB2LTVabS43NSA4YTEgMSAwIDEgMCAwLTIgMSAxIDAgMCAwIDAgMlonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIHdhcm46IHtcbiAgICAgICAgZDogJ005LjA0OSAyLjkyN2ExLjUgMS41IDAgMDEyLjkwMiAwbDYuNDEgMTEuOTRBMS41IDEuNSAwIDAxMTcuMDEgMTdIMi45OWExLjUgMS41IDAgMDEtMS4zNTEtMi4xMzNsNi40MS0xMS45NHpNMTEgMTNhMSAxIDAgMTAtMiAwIDEgMSAwIDAwMiAwem0tMS0yYTEgMSAwIDAwMS0xVjdhMSAxIDAgMTAtMiAwdjNhMSAxIDAgMDAxIDF6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjb21tZW50OiB7XG4gICAgICAgIGQ6ICdNMCAyYTIgMiAwIDAgMSAyLTJoMTJhMiAyIDAgMCAxIDIgMnY4YTIgMiAwIDAgMS0yIDJINC40MTRhMSAxIDAgMCAwLS43MDcuMjkzTC44NTQgMTUuMTQ2QS41LjUgMCAwIDEgMCAxNC43OTN6bTUgNGExIDEgMCAxIDAtMiAwIDEgMSAwIDAgMCAyIDBtNCAwYTEgMSAwIDEgMC0yIDAgMSAxIDAgMCAwIDIgMG0zIDFhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICByZW1vdmU6IHtcbiAgICAgICAgZDogJ003IDNhMSAxIDAgMCAxIDEtMWg0YTEgMSAwIDAgMSAxIDF2MWgzYTEgMSAwIDEgMSAwIDJoLTFsLTEgMTBhMiAyIDAgMCAxLTIgMkg4YTIgMiAwIDAgMS0yLTJMNSA2SDRhMSAxIDAgMSAxIDAtMmgzVjNabTEgM2ExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMSAwIDIgMFY3YTEgMSAwIDAgMC0xLTFabTQgMGExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMSAwIDIgMFY3YTEgMSAwIDAgMC0xLTFaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBleHBvcnQ6IHtcbiAgICAgICAgZDogJ00zIDE2LjI1YS43NS43NSAwIDAgMSAuNzUtLjc1aDEyLjVhLjc1Ljc1IDAgMCAxIDAgMS41SDMuNzVhLjc1Ljc1IDAgMCAxLS43NS0uNzVabTcuNTMtMi4wM2EuNzUuNzUgMCAwIDEtMS4wNiAwbC0zLTNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwxLjcyIDEuNzJWMy43NWEuNzUuNzUgMCAwIDEgMS41IDB2OC4xM2wxLjcyLTEuNzJhLjc1Ljc1IDAgMSAxIDEuMDYgMS4wNmwtMyAzWicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2xvc2U6IHtcbiAgICAgICAgZDogJ001LjIzIDUuMjNhLjc1Ljc1IDAgMCAxIDEuMDYgMEwxMCA4Ljk0bDMuNzEtMy43MWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2TDExLjA2IDEwbDMuNzEgMy43MWEuNzUuNzUgMCAxIDEtMS4wNiAxLjA2TDEwIDExLjA2bC0zLjcxIDMuNzFhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNkw4Ljk0IDEwIDUuMjMgNi4yOWEuNzUuNzUgMCAwIDEgMC0xLjA2WicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24obmFtZSkge1xuICAgIGNvbnN0IHsgZCwgdmlld0JveCA9ICcwIDAgMjAgMjAnIH0gPSBJQ09OU1tuYW1lXTtcbiAgICByZXR1cm4geyBkLCB2aWV3Qm94IH07XG59XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuaW1wb3J0IHsgZ2V0SWNvbiB9IGZyb20gJ0Bjb21tb24vaWNvbnMnO1xuaW1wb3J0IHsgaXNJdGVtQ29sb3IsIGlzSXRlbVBvc2l0aW9uLCBpc0l0ZW1TaGFwZSwgaXNMYWJlbEZvcm1hdCwgVU5HUk9VUEVELCBVTkdST1VQRURfVkFMVUUsIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdGF0dXNNZXNzYWdlLCBTVEFUVVMsIFNUQVRVU19DTEFTU19CWV9LRVkgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnLi4vdHlwZXMvdWlfZXZlbnRfdHlwZXMnO1xuZnVuY3Rpb24gYnlMYWJlbFRoZW5JZChhLCBiKSB7XG4gICAgaWYgKGEubGFiZWwgIT09IGIubGFiZWwpXG4gICAgICAgIHJldHVybiBhLmxhYmVsIC0gYi5sYWJlbDtcbiAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XG59XG5leHBvcnQgY2xhc3MgUGFuZWxWaWV3IHtcbiAgICBkb2M7XG4gICAgbGlzdGVuZXJzID0ge307XG4gICAgZWxzO1xuICAgIE5FV19HUk9VUCA9ICdfX25ld2dyb3VwX18nO1xuICAgIEhPVkVSX09VVF9ERUxBWSA9IDEwMDA7XG4gICAgZHJhZ0VsID0gbnVsbDtcbiAgICBkcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgIGRyYWdTdGFydEluZGV4ID0gLTE7XG4gICAgaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgY29sbGFwc2VkR3JvdXBzID0gbmV3IFNldCgpO1xuICAgIFRPQVNUX0FVVE9fRElTTUlTUyA9IDEwMDAwO1xuICAgIGNvbnN0cnVjdG9yKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgaTE4bi5sb2NhbGl6ZShkb2MpO1xuICAgICAgICB0aGlzLmVscyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy4kKCcjc3RhdHVzJyksXG4gICAgICAgICAgICB0b2dnbGVCdG46IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QnKSxcbiAgICAgICAgICAgIHRvZ2dsZUljb246IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtaWNvbicpLFxuICAgICAgICAgICAgdG9nZ2xlTGFiZWw6IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtbGFiZWwnKSxcbiAgICAgICAgICAgIGNsZWFyQnRuOiB0aGlzLiQoJyNjbGVhcicpLFxuICAgICAgICAgICAgY2FwdHVyZUJ0bjogdGhpcy4kKCcjY2FwdHVyZScpLFxuICAgICAgICAgICAgbGlzdDogdGhpcy4kKCcjc2VsZWN0LWxpc3QnKSxcbiAgICAgICAgICAgIGVtcHR5OiB0aGlzLiQoJyNzZWxlY3QtZW1wdHknKSxcbiAgICAgICAgICAgIGNvdW50OiB0aGlzLiQoJyNzZWxlY3QtY291bnQnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zVG9nZ2xlOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMtdG9nZ2xlJyksXG4gICAgICAgICAgICBjYXB0dXJlT3B0aW9uc1BhbmVsOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMnKSxcbiAgICAgICAgICAgIGNhcHR1cmVGbXRSYWRpb3M6IHRoaXMuJGFsbCgnaW5wdXRbbmFtZT1cImNhcHR1cmUtZm9ybWF0XCJdJyksXG4gICAgICAgICAgICBjYXB0dXJlQXJlYVJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1hcmVhXCJdJyksXG4gICAgICAgICAgICBqcGVnT25seUVsczogdGhpcy4kYWxsKCcuanBlZy1vbmx5JyksXG4gICAgICAgICAgICBqcGVnUXVhbGl0eVJhbmdlOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktcmFuZ2UnKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5TnVtYmVyOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktbnVtYmVyJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVSYW5nZTogdGhpcy4kKCcjY2FwdHVyZS1zY2FsZS1yYW5nZScpLFxuICAgICAgICAgICAgY2FwdHVyZVNjYWxlTnVtYmVyOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VTaXplUmFuZ2U6IHRoaXMuJCgnI2JhZGdlLXNpemUtcmFuZ2UnKSxcbiAgICAgICAgICAgIGJhZGdlU2l6ZU51bWJlcjogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1udW1iZXInKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JCdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1jb2xvci1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yTGFiZWw6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yRG90OiB0aGlzLiQoJyNiYWRnZS1jb2xvci1kb3QnKSxcbiAgICAgICAgICAgIGJhZGdlU2hhcGVTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLXNoYXBlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VMYWJlbEZvcm1hdFNlbGVjdDogdGhpcy4kKCcjYmFkZ2UtbGFiZWwtZm9ybWF0LXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VEZWxldGVCdXR0b246IHRoaXMuJCgnI2JhZGdlLWRlbGV0ZS1idXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25CdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1wb3NpdGlvbi1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZVBvc2l0aW9uTGFiZWw6IHRoaXMuJCgnI2JhZGdlLXBvc2l0aW9uLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUdyb3VwU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS1ncm91cC1zZWxlY3QnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZU1vZGFsOiB0aGlzLiQoJyNncm91cC1uYW1lLW1vZGFsJyksXG4gICAgICAgICAgICBncm91cE5hbWVJbnB1dDogdGhpcy4kKCcjZ3JvdXAtbmFtZS1pbnB1dCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ2FuY2VsQnRuOiB0aGlzLiQoJyNncm91cC1uYW1lLWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUNyZWF0ZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY3JlYXRlLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRNb2RhbDogdGhpcy4kKCcjaXRlbS1jb21tZW50LW1vZGFsJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SWRJbnB1dDogdGhpcy4kKCcjaXRlbS1jb21tZW50LWlkLWlucHV0JyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudENhbmNlbEJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50QXBwbHlCdG46IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1hcHBseS1idG4nKSxcbiAgICAgICAgICAgIHNlbGVjdEl0ZW1BbGxDaGVja2JveDogdGhpcy4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cIml0ZW0tc2VsZWN0XCJdW3ZhbHVlPVwiYWxsXCJdJyksXG4gICAgICAgICAgICBzZXR0aW5nTW9kYWw6IHRoaXMuJCgnI3NldHRpbmctbW9kYWwnKSxcbiAgICAgICAgICAgIHNldHRpbmdCdXR0b246IHRoaXMuJCgnI3NldHRpbmctYnV0dG9uJyksXG4gICAgICAgICAgICBzZXR0aW5nQ2xvc2VCdXR0b246IHRoaXMuJCgnI3NldHRpbmctY2xvc2UtYnRuJyksXG4gICAgICAgICAgICB0aGVtZUxpZ2h0QnRuOiB0aGlzLiQoJyN0aGVtZS1saWdodC1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGFya0J0bjogdGhpcy4kKCcjdGhlbWUtZGFyay1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lRGV2aWNlQnRuOiB0aGlzLiQoJyN0aGVtZS1kZXZpY2UtYnRuJyksXG4gICAgICAgICAgICBpbXBvcnRGaWxlSW5wdXQ6IHRoaXMuJCgnI2ltcG9ydC1maWxlLWlucHV0JyksXG4gICAgICAgICAgICBpbXBvcnRCdG46IHRoaXMuJCgnI2ltcG9ydC1idG4nKSxcbiAgICAgICAgICAgIHN0b3JlQ291bnQ6IHRoaXMuJCgnI3N0b3JlLWNvdW50JyksXG4gICAgICAgICAgICBzdG9yZUxpc3Q6IHRoaXMuJCgnI3N0b3JlLWxpc3QnKSxcbiAgICAgICAgICAgIHN0b3JlRW1wdHk6IHRoaXMuJCgnI3N0b3JlLWVtcHR5JyksXG4gICAgICAgICAgICB0b2FzdFBhcmVudDogdGhpcy4kKCcjdG9hc3QtcGFyZW50JyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5lbHMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0xFQVIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAvLyA9PT0gQ2FwdHVyZSBvcHRpb25zID09PVxuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MuZm9yRWFjaCgocikgPT4gci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCB7IGZvcm1hdDogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCB7IGFyZWE6IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZSwgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgeyBxdWFsaXR5OiB2IH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZSwgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLCAodikgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCB7IHNjYWxlOiB2IH0pKTtcbiAgICAgICAgLy8gPT09IEJhZGdlID09PVxuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLCB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIpO1xuICAgICAgICBjb25zdCBmaXJlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBOdW1iZXIodGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCB7IHNpemU6IHYgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQuY29sb3JOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaXNJdGVtQ29sb3IocmF3KSA/IHJhdyA6ICdCbHVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCB7IGNvbG9yIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGlzSXRlbVNoYXBlKHYpID8gdiA6ICdjaXJjbGUnO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgeyBzaGFwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QudmFsdWUgPz8gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsRm9ybWF0ID0gaXNMYWJlbEZvcm1hdCh2KSA/IHYgOiAnTnVtYmVycyc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfTEFCRUxfRk9STUFUX0NIQU5HRSwgeyBsYWJlbEZvcm1hdCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGJ0bi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGlzSXRlbVBvc2l0aW9uKHJhdykgPyByYXcgOiAnbGVmdC10b3Atb3V0c2lkZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QudmFsdWUgPz8gVU5HUk9VUEVEO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YWx1ZSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT09IHRoaXMuTkVXX0dST1VQKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDcmVhdGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgfHwgdmFsdWUgPT09IHRoaXMuTkVXX0dST1VQID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRBcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGhpcy5lbHMuaXRlbUNvbW1lbnRJZElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksIHsgaWQsIGNvbW1lbnQgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuc2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnNldHRpbmdNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRUSU5HX01PREFMX1NIT1csIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5zZXR0aW5nQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5zZXR0aW5nTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2xpZ2h0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGFya0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RhcmsnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEZXZpY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUoJ2RldmljZScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlVQREFURV9USEVNRSwgeyB0aGVtZTogJ2RldmljZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5pbXBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBubyBmaWxlIGlzIHNlbGVjdGVkLCBvcGVuIHRoZSBkaWFsb2dcbiAgICAgICAgICAgIGlmICghdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzIHx8IHRoaXMuZWxzLmltcG9ydEZpbGVJbnB1dC5maWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5pbXBvcnRGaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzWzBdO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgeyBmaWxlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLmVscy5zZWxlY3RJdGVtQWxsQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCB7IGFsbENoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgKCkgPT4gdGhpcy5jYW5jZWxIb3Zlck91dCgpKTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB0aGlzLnNjaGVkdWxlSG92ZXJPdXQoKSk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEhvdmVyT3V0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGFyciA9ICh0aGlzLmxpc3RlbmVyc1t0eXBlXSA/Pz0gW10pO1xuICAgICAgICBhcnIucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCBlKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBhcnI/LmZvckVhY2goKGgpID0+IGgoZSkpO1xuICAgIH1cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgdGhpcy5hcHBseVRvYXN0TWVzc2FnZXMobW9kZWwudG9hc3RNZXNzYWdlcyk7XG4gICAgICAgIHRoaXMuYXBwbHlUaGVtZShtb2RlbC50aGVtZSk7XG4gICAgICAgIHRoaXMuYXBwbHlTdG9yZShtb2RlbC5wYWdlS2V5cyk7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdHVzKG1vZGVsLnN0YXR1cyk7XG4gICAgICAgIHRoaXMucmVuZGVyVG9nZ2xlKG1vZGVsLnNlbGVjdGlvbkVuYWJsZWQpO1xuICAgICAgICB0aGlzLnJlbmRlckxpc3QobW9kZWwuaXRlbXMsIG1vZGVsLnNlbGVjdEl0ZW1zLCBtb2RlbC5taXNzaW5nSWRzKTtcbiAgICAgICAgdGhpcy5zZWxlY3RSYWRpb0J5VmFsdWUodGhpcy5lbHMuY2FwdHVyZUZtdFJhZGlvcywgbW9kZWwuY2FwdHVyZS5mb3JtYXQpO1xuICAgICAgICB0aGlzLnNlbGVjdFJhZGlvQnlWYWx1ZSh0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcywgbW9kZWwuY2FwdHVyZS5hcmVhKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5xdWFsaXR5KTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnF1YWxpdHkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlU2NhbGVOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5zY2FsZSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVTY2FsZVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUuc2NhbGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KG1vZGVsLmNhcHR1cmUuZm9ybWF0KTtcbiAgICAgICAgdGhpcy5hcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkobW9kZWwuY2FwdHVyZS5wYW5lbEV4cGFuZGVkKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlID0gU3RyaW5nKG1vZGVsLmRlZmF1bHRTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplUmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFNpemUpO1xuICAgICAgICB0aGlzLmFwcGx5QmFkZ2VDb2xvclVJKG1vZGVsLmRlZmF1bHRDb2xvcik7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2hhcGVTZWxlY3QudmFsdWUgPSBtb2RlbC5kZWZhdWx0U2hhcGU7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlTGFiZWxGb3JtYXRTZWxlY3QudmFsdWUgPSBtb2RlbC5kZWZhdWx0TGFiZWxGb3JtYXQgPz8gJ051bWJlcnMnO1xuICAgICAgICB0aGlzLmFwcGx5QmFkZ2VQb3NpdG9uVUkobW9kZWwuZGVmYXVsdFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlR3JvdXBTZWxlY3RVSSh0aGlzLmdldEV4aXN0aW5nR3JvdXBzKG1vZGVsLml0ZW1zKSwgbW9kZWwuZGVmYXVsdEdyb3VwKTtcbiAgICB9XG4gICAgcmVuZGVyU3RhdHVzKGtleSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IFNUQVRVU19DTEFTU19CWV9LRVlba2V5XTtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVscy5zdGF0dXM7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSBgY29ubmVjdC1zdGF0dXMgJHtzdHlsZX1gO1xuICAgICAgICBjb25zdCBkb3QgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKCdjb25uZWN0LXN0YXR1cy1kb3QnKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGdldFN0YXR1c01lc3NhZ2Uoa2V5KTtcbiAgICAgICAgZWwucmVwbGFjZUNoaWxkcmVuKGRvdCwgdGV4dCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZUZvcm1Db250cm9scyhrZXkpO1xuICAgIH1cbiAgICByZW5kZXJUb2dnbGUoZW5hYmxlZCkge1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5lbHMudG9nZ2xlSWNvbjtcbiAgICAgICAgaWNvbi5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3QtdG9nZ2xlLWljb24nLCBlbmFibGVkID8gJ2JnLWluZGlnby01MDAnIDogJ2JnLXNsYXRlLTMwMCcpO1xuICAgICAgICB0aGlzLmVscy50b2dnbGVMYWJlbC50ZXh0Q29udGVudCA9IGkxOG4uZ2V0KGVuYWJsZWQgPyAndG9nZ2xlX29uJyA6ICd0b2dnbGVfb2ZmJyk7XG4gICAgfVxuICAgIHJlbmRlckxpc3QoaXRlbXMsIHNlbGVjdEl0ZW1zLCBtaXNzaW5nSWRzKSB7XG4gICAgICAgIHRoaXMuZWxzLmNvdW50LnRleHRDb250ZW50ID0gU3RyaW5nKGl0ZW1zLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGFsbENoZWNrZWQgPSBpdGVtcy5sZW5ndGggPT09IDAgPyBmYWxzZSA6IGl0ZW1zLmV2ZXJ5KChpdCkgPT4gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpKTtcbiAgICAgICAgdGhpcy5lbHMuc2VsZWN0SXRlbUFsbENoZWNrYm94LmNoZWNrZWQgPSBhbGxDaGVja2VkO1xuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5lbHMuZW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBjb25zdCBncm91cHMgPSB0aGlzLmdyb3VwQnlHcm91cChpdGVtcyk7XG4gICAgICAgIGNvbnN0IGdyb3VwS2V5cyA9IEFycmF5LmZyb20oZ3JvdXBzLmtleXMoKSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYiA9PT0gVU5HUk9VUEVEKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZyYWcgPSB0aGlzLmRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGZvciAoY29uc3QgZ0tleSBvZiBncm91cEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLnJlbmRlckdyb3VwU2VjdGlvbihnS2V5LCBncm91cHMuZ2V0KGdLZXkpLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcyk7XG4gICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxzLmxpc3QucmVwbGFjZUNoaWxkcmVuKGZyYWcpO1xuICAgIH1cbiAgICByZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ0l0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuY29sbGFwc2VkR3JvdXBzLmhhcyhnS2V5KTtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuZWwoJ3NlY3Rpb24nLCAnc2VsZWN0LWl0ZW0tc2VjdGlvbicpO1xuICAgICAgICAvLyBoZWFkZXJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWhlYWRlcicpO1xuICAgICAgICAvLyBjaGVja2JveFxuICAgICAgICBjb25zdCBjaGVja2JveFdyYXAgPSB0aGlzLmVsKCdkaXYnLCAnc3Bzay1jaGVja3dyYXAnKTtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0aGlzLmVsKCdpbnB1dCcsICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCcpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgY2hlY2tib3gubmFtZSA9ICdpdGVtLXNlbGVjdCc7XG4gICAgICAgIGNoZWNrYm94LnZhbHVlID0gZ0tleSA9PT0gVU5HUk9VUEVEID8gaTE4bi5nZXQoJ2dyb3VwX3VuZ3JvdXBlZCcpIDogZ0tleTtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGdJdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgIGdyb3VwOiBnS2V5ID09PSBVTkdST1VQRUQgPyBVTkdST1VQRURfVkFMVUUgOiBnS2V5LFxuICAgICAgICAgICAgICAgIGlzQ2hlY2s6IHNlbGVjdGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjaGVja2JveFdyYXAuYXBwZW5kKGNoZWNrYm94KTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmVsKCdzcGFuJywgJ3NlbGVjdC1pdGVtLWdoLXRpdGxlJywgZ0tleSA9PT0gVU5HUk9VUEVEID8gaTE4bi5nZXQoJ2dyb3VwX3VuZ3JvdXBlZCcpIDogZ0tleSk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLmVsKCdkaXYnLCAnc2VsZWN0LWl0ZW0tZ2gtbGVmdCcpO1xuICAgICAgICBsZWZ0LmFwcGVuZChjaGVja2JveFdyYXAsIHRpdGxlKTtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLmVsKCdzcGFuJywgJ3NlbGVjdC1pdGVtLWdoLWNvdW50JywgU3RyaW5nKGdJdGVtcy5sZW5ndGgpKTtcbiAgICAgICAgY29uc3QgdG9nZ2xlQnRuID0gdGhpcy5lbCgnYnV0dG9uJywgJ3NlbGVjdC1pdGVtLWdoLXRvZ2dsZScpO1xuICAgICAgICB0b2dnbGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICB0b2dnbGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKCFpc0NvbGxhcHNlZCkpO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGlzQ29sbGFwc2VkID8gZ2V0SWNvbignY2FyZXRSaWdodCcpIDogZ2V0SWNvbignY2FyZXREb3duJyk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZCwgeyBjbGFzc05hbWU6ICdpY29uLXNtJywgdmlld0JveCB9KTtcbiAgICAgICAgY29uc3QgdG9nZ2xlUGF0aCA9IHRvZ2dsZUljb24ucXVlcnlTZWxlY3RvcigncGF0aCcpO1xuICAgICAgICB0b2dnbGVCdG4uYXBwZW5kKHRvZ2dsZUljb24pO1xuICAgICAgICBoZWFkZXIuYXBwZW5kKGxlZnQsIGNvdW50LCB0b2dnbGVCdG4pO1xuICAgICAgICAvLyB1bFxuICAgICAgICBjb25zdCB1bCA9IHRoaXMuZWwoJ3VsJywgJ3NlbGVjdC1pdGVtLWxpc3QnKTtcbiAgICAgICAgaWYgKGlzQ29sbGFwc2VkKVxuICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuYXR0YWNoVWxEbkRIYW5kbGVycyh1bCk7XG4gICAgICAgIGZvciAoY29uc3QgaXQgb2YgZ0l0ZW1zLnNvcnQoYnlMYWJlbFRoZW5JZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdENoZWNrZWQgPSBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCk7XG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckl0ZW0oaXQsIHNlbGVjdENoZWNrZWQsIG1pc3NpbmdJZHMpKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50bHlDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudGx5Q29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuZGVsZXRlKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXREb3duJykuZCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5hZGQoZ0tleSk7XG4gICAgICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCBnZXRJY29uKCdjYXJldFJpZ2h0JykuZCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2VjdGlvbi5hcHBlbmQoaGVhZGVyLCB1bCk7XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgIH1cbiAgICByZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSB7XG4gICAgICAgIGNvbnN0IGlzTWlzc2luZyA9IG1pc3NpbmdJZHMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICBjb25zdCBsaUJhc2UgPSAnc2VsZWN0LWl0ZW0nO1xuICAgICAgICBjb25zdCBsaSA9IHRoaXMuZWwoJ2xpJywgaXNNaXNzaW5nID8gYGdyb3VwICR7bGlCYXNlfSBzZWxlY3QtaXRlbS0td2FybmAgOiBsaUJhc2UpO1xuICAgICAgICBsaS5kYXRhc2V0LmlkID0gU3RyaW5nKGl0LmlkKTtcbiAgICAgICAgbGkuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgLy8gT25seSBzb3J0aW5nIHdpdGhpbiB0aGUgc2FtZSBVTCBpcyBhbGxvd2VkXG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IGxpO1xuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRQYXJlbnQgPSBsaS5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRJbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobGkucGFyZW50RWxlbWVudD8uY2hpbGRyZW4gPz8gW10sIGxpKTtcbiAgICAgICAgICAgIGlmIChlLmRhdGFUcmFuc2ZlcilcbiAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmFnRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5kcmFnRWwucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gcGFyZW50ID8gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChwYXJlbnQuY2hpbGRyZW4sIHRoaXMuZHJhZ0VsKSA6IC0xO1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcpO1xuICAgICAgICAgICAgY29uc3QgZnJvbUlkID0gdGhpcy5kcmFnRWwuZGF0YXNldC5pZCA/PyAnJztcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChmcm9tSWQgJiYgdGhpcy5kcmFnU3RhcnRJbmRleCA+PSAwICYmIGVuZEluZGV4ID49IDAgJiYgZW5kSW5kZXggIT09IHRoaXMuZHJhZ1N0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuUkVPUkRFUl9JVEVNUywge1xuICAgICAgICAgICAgICAgICAgICBmcm9tSWQ6IE51bWJlcihmcm9tSWQpLFxuICAgICAgICAgICAgICAgICAgICBmcm9tSW5kZXg6IHRoaXMuZHJhZ1N0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRvSW5kZXg6IGVuZEluZGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94U3R5bGUgPSBpc01pc3NpbmdcbiAgICAgICAgICAgID8gJ3Nwc2stY2hlY2tib3ggc3Bzay1jaGVja2JveC0td2FybidcbiAgICAgICAgICAgIDogJ3Nwc2stY2hlY2tib3ggc3Bzay1jaGVja2JveC0tbm9ybWFsJztcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0aGlzLmVsKCdpbnB1dCcsIGNoZWNrYm94U3R5bGUpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgY2hlY2tib3gubmFtZSA9ICdpdGVtLXNlbGVjdCc7XG4gICAgICAgIGNoZWNrYm94LnZhbHVlID0gU3RyaW5nKGl0LmlkKTtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHNlbGVjdENoZWNrZWQ7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgeyBpZDogaXQuaWQsIGlzQ2hlY2s6IHNlbGVjdGVkIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIC8vIGJhZGdlXG4gICAgICAgIGNvbnN0IGJhZGdlU3R5bGUgPSBpc01pc3NpbmcgPyAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS13YXJuJyA6ICdzcHNrLWJhZGdlIHNwc2stYmFkZ2UtLW5vcm0nO1xuICAgICAgICBjb25zdCBiYWRnZSA9IHRoaXMuZWwoJ3NwYW4nLCBiYWRnZVN0eWxlLCBTdHJpbmcoaXQubGFiZWwpKTtcbiAgICAgICAgLy8gbWFpbiAobWlzc2luZ0ljb24sIGFuY2hvcilcbiAgICAgICAgY29uc3QgbWFpbiA9IHRoaXMuZWwoJ2RpdicsICdtaW4tdy0wIGZsZXgtMScpO1xuICAgICAgICBtYWluLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdTdGFydFBhcmVudCB8fCBpc01pc3NpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxIb3Zlck91dCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fSE9WRVJfSU4sIHsgaWQ6IGl0LmlkIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzTWlzc2luZykge1xuICAgICAgICAgICAgY29uc3QgY2hpcCA9IHRoaXMuZWwoJ3NwYW4nLCAnY2hpcC13YXJuJyk7XG4gICAgICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ3dhcm4nKTtcbiAgICAgICAgICAgIGNvbnN0IGljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuZWwoJ3NwYW4nLCB1bmRlZmluZWQsIGkxOG4uZ2V0KCdtaXNzaW5nX2l0ZW0nKSk7XG4gICAgICAgICAgICBjaGlwLmFwcGVuZChpY29uLCBsYWJlbCk7XG4gICAgICAgICAgICBtYWluLmFwcGVuZChjaGlwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmVsKCdkaXYnLCAnYW5jaG9yJywgaXQuYW5jaG9yLnZhbHVlKTtcbiAgICAgICAgbWFpbi5hcHBlbmQoYW5jaG9yKTtcbiAgICAgICAgY29uc3QgY29tbWVudEJ0biA9IHRoaXMuZ2VuZXJhdGVDb21tZW50QnRuKGl0KTtcbiAgICAgICAgbGkuYXBwZW5kKGNoZWNrYm94V3JhcCwgYmFkZ2UsIG1haW4sIGNvbW1lbnRCdG4pO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuICAgIGdlbmVyYXRlQ29tbWVudEJ0bihpdCkge1xuICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnRuLmNsYXNzTmFtZSA9ICdidG4taWNvbic7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZ2V0SWNvbignY29tbWVudCcpO1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgIHZpZXdCb3gsXG4gICAgICAgIH0pO1xuICAgICAgICBidG4uYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLml0ZW1Db21tZW50TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlID0gaXQuY29tbWVudCA/PyAnJztcbiAgICAgICAgICAgIHRoaXMuZWxzLml0ZW1Db21tZW50SWRJbnB1dC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYnRuO1xuICAgIH1cbiAgICBzY2hlZHVsZUhvdmVyT3V0KCkge1xuICAgICAgICBpZiAodGhpcy5ob3Zlck91dFRpbWVyKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJPdXRUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLmRyYWdTdGFydFBhcmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fSE9WRVJfT1VULCB1bmRlZmluZWQpO1xuICAgICAgICB9LCB0aGlzLkhPVkVSX09VVF9ERUxBWSk7XG4gICAgfVxuICAgIGNhbmNlbEhvdmVyT3V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJPdXRUaW1lcik7XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVMIEQmRCBIYW5kbGVyXG4gICAgICogT25seSBzb3J0aW5nIHdpdGhpbiB0aGUgc2FtZSBVTCBpcyBhbGxvd2VkXG4gICAgICogQHBhcmFtIHVsXG4gICAgICovXG4gICAgYXR0YWNoVWxEbkRIYW5kbGVycyh1bCkge1xuICAgICAgICB1bC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdTdGFydFBhcmVudCAmJiB1bCAhPT0gdGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0TGkgPSBlLnRhcmdldD8uY2xvc2VzdCgnbGknKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRMaSAmJiB0YXJnZXRMaSAhPT0gdGhpcy5kcmFnRWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gdGFyZ2V0TGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBZnRlciA9IGUuY2xpZW50WSAtIHJlY3QudG9wID4gcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIHVsLmluc2VydEJlZm9yZSh0aGlzLmRyYWdFbCwgaXNBZnRlciA/IHRhcmdldExpLm5leHRTaWJsaW5nIDogdGFyZ2V0TGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRhcmdldExpKSB7XG4gICAgICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5kcmFnRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICAgIH1cbiAgICBnZXRFeGlzdGluZ0dyb3VwcyhpdGVtcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KGl0ZW1zLm1hcCgoaSkgPT4gKGkuZ3JvdXAgPz8gJycpLnRyaW0oKSkuZmlsdGVyKChnKSA9PiBnLmxlbmd0aCA+IDApKSkuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcbiAgICB9XG4gICAgZ3JvdXBCeUdyb3VwKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IG0gPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgaXQgb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IChpdC5ncm91cCA/PyBVTkdST1VQRURfVkFMVUUpLnRyaW0oKSB8fCBVTkdST1VQRUQ7XG4gICAgICAgICAgICBpZiAoIW0uaGFzKGtleSkpXG4gICAgICAgICAgICAgICAgbS5zZXQoa2V5LCBbXSk7XG4gICAgICAgICAgICBtLmdldChrZXkpLnB1c2goaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICBnZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWZvcm1hdFwiXTpjaGVja2VkJyk/LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsID09PSAnanBlZycgPyAnanBlZycgOiAncG5nJztcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5kb2MucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImNhcHR1cmUtYXJlYVwiXTpjaGVja2VkJyk/LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsID09PSAndmlld3BvcnQnID8gJ3ZpZXdwb3J0JyA6ICdmdWxsJztcbiAgICB9XG4gICAgdXBkYXRlUXVhbGl0eVZpc2liaWxpdHkoZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IGYgPSBmb3JtYXQgPz8gdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKTtcbiAgICAgICAgY29uc3QgaXNKcGVnID0gZiA9PT0gJ2pwZWcnO1xuICAgICAgICB0aGlzLmVscy5qcGVnT25seUVscy5mb3JFYWNoKChlbCkgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIWlzSnBlZykpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eVJhbmdlLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIuZGlzYWJsZWQgPSAhaXNKcGVnO1xuICAgIH1cbiAgICBzZWxlY3RSYWRpb0J5VmFsdWUocmFkaW9zLCB2YWx1ZSkge1xuICAgICAgICByYWRpb3MuZm9yRWFjaCgocikgPT4gKHIuY2hlY2tlZCA9IHIudmFsdWUgPT09IHZhbHVlKSk7XG4gICAgfVxuICAgIGJpbmRTeW5jKHJhbmdlRWwsIG51bWJlckVsLCBvblZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlYWROdW0gPSAocywgZmFsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBzICE9IG51bGwgJiYgcyAhPT0gJycgPyBOdW1iZXIocykgOiBOYU47XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHYpID8gdiA6IGZhbGxiYWNrO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGFtcCA9ICh2LCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgodiwgbWluKSwgbWF4KTtcbiAgICAgICAgY29uc3Qgc3luYyA9IChyYXdTdHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IHJlYWROdW0obnVtYmVyRWwubWluIHx8IHJhbmdlRWwubWluLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3QgbWF4ID0gcmVhZE51bShudW1iZXJFbC5tYXggfHwgcmFuZ2VFbC5tYXgsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gcmVhZE51bShudW1iZXJFbC5zdGVwIHx8IHJhbmdlRWwuc3RlcCwgMSk7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBOdW1iZXIocmF3U3RyKTtcbiAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBjbGFtcChOdW1iZXIuaXNGaW5pdGUocmF3KSA/IHJhdyA6IDAsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIGNvbnN0IHJvdW5kZWQgPSBNYXRoLnJvdW5kKGNsYW1wZWQgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICAgICAgICBjb25zdCBmaXhlZCA9IE51bWJlcihyb3VuZGVkLnRvRml4ZWQoNikpO1xuICAgICAgICAgICAgbnVtYmVyRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgcmFuZ2VFbC52YWx1ZSA9IFN0cmluZyhmaXhlZCk7XG4gICAgICAgICAgICBvblZhbHVlPy4oZml4ZWQpO1xuICAgICAgICB9O1xuICAgICAgICByYW5nZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gc3luYyhyYW5nZUVsLnZhbHVlKSk7XG4gICAgICAgIG51bWJlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gc3luYyhudW1iZXJFbC52YWx1ZSkpO1xuICAgIH1cbiAgICBkaXNhYmxlRm9ybUNvbnRyb2xzKHN0YXR1cykge1xuICAgICAgICBjb25zdCBjb250cm9scyA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbiwgc2VsZWN0LCBpbnB1dCwgdGV4dGFyZWEnKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGVuYWJsZW1lbnQgcG9saWN5IHBlciBzdGF0dXNcbiAgICAgICAgY29uc3QgZW5hYmxlQWxsID0gc3RhdHVzID09PSBTVEFUVVMuQ09OTkVDVEVEO1xuICAgICAgICBjb25zdCBlbmFibGVJZ25vcmVPbmx5ID0gc3RhdHVzID09PSBTVEFUVVMuQ09OTkVDVElORyB8fCBzdGF0dXMgPT09IFNUQVRVUy5ESVNDT05ORUNURUQ7XG4gICAgICAgIGNvbnN0IGVuYWJsZU5vbmUgPSBzdGF0dXMgPT09IFNUQVRVUy5SRVNUUklDVEVEO1xuICAgICAgICBjb250cm9scy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRW5hYmxlID0gKGVuYWJsZUFsbCAmJiB0cnVlKSB8fFxuICAgICAgICAgICAgICAgIChlbmFibGVJZ25vcmVPbmx5ICYmIGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScpKSB8fFxuICAgICAgICAgICAgICAgIChlbmFibGVOb25lICYmIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmRpc2FibGVkID0gIXNob3VsZEVuYWJsZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSShleHBhbmRlZCkge1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBTdHJpbmcoZXhwYW5kZWQpKTtcbiAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBleHBhbmRlZCA/IGdldEljb24oJ2NhcmV0RG93bkZpbGwnKSA6IGdldEljb24oJ2NhcmV0UmlnaHRGaWxsJyk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVPcHRpb25zVG9nZ2xlLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVN2Z0ljb24oZCwgeyB2aWV3Qm94LCBjbGFzc05hbWU6ICdoLTQgdy00JyB9KSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVPcHRpb25zUGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIWV4cGFuZGVkKTtcbiAgICB9XG4gICAgZ2V0QmFkZ2VDb2xvclN0eWxlTmFtZShjb2xvcikge1xuICAgICAgICBjb25zdCBjb2xvck5hbWUgPSBjb2xvciA9PT0gJ0dyYXknID8gJ3NsYXRlJyA6IGNvbG9yO1xuICAgICAgICByZXR1cm4gYGJnLSR7Y29sb3JOYW1lLnRvTG93ZXJDYXNlKCl9LTUwMGA7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VDb2xvclVJKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBidXR0b24uZGF0YXNldC5jb2xvck5hbWUgPT09IGNvbG9yO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHNlbGVjdGVkID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yTGFiZWwudGV4dENvbnRlbnQgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckRvdC5jbGFzc05hbWUgPSAnaW5saW5lLWJsb2NrIHctNCBoLTQgcm91bmRlZC1mdWxsJztcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckRvdC5jbGFzc0xpc3QuYWRkKHRoaXMuZ2V0QmFkZ2VDb2xvclN0eWxlTmFtZShjb2xvcikpO1xuICAgIH1cbiAgICBhcHBseUJhZGdlUG9zaXRvblVJKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBidXR0b24uZGF0YXNldC5wb3NpdGlvbk5hbWUgPT09IHBvc2l0aW9uO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zZWxlY3RlZCcsIHNlbGVjdGVkID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVBvc2l0aW9uTGFiZWwudGV4dENvbnRlbnQgPSBwb3NpdGlvbi5yZXBsYWNlQWxsKCctJywgJyAnKTtcbiAgICB9XG4gICAgYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkoZXhpc3RpbmdHcm91cHMsIGRlZmF1dEdyb3VwKSB7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QuYXBwZW5kKHRoaXMubWFrZU9wdChVTkdST1VQRUQsIGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSwgZGVmYXV0R3JvdXAgPT09IFVOR1JPVVBFRCkpO1xuICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIGV4aXN0aW5nR3JvdXBzKSB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplKGdyb3VwKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QuYXBwZW5kKHRoaXMubWFrZU9wdCh2YWx1ZSwgZ3JvdXAsIGRlZmF1dEdyb3VwID09PSBncm91cCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNyZWF0ZU9wdCA9IHRoaXMubWFrZU9wdCh0aGlzLk5FV19HUk9VUCwgaTE4bi5nZXQoJ2NvbW1vbl9jcmVhdGUnKSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QuYXBwZW5kKGNyZWF0ZU9wdCk7XG4gICAgfVxuICAgIGFwcGx5VGhlbWUodGhlbWUpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgaXNEYXJrID0gdGhlbWUgPT09ICdkZXZpY2UnXG4gICAgICAgICAgICA/IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlc1xuICAgICAgICAgICAgOiB0aGVtZSA9PT0gJ2RhcmsnO1xuICAgICAgICBpZiAoaXNEYXJrKSB7XG4gICAgICAgICAgICByb290LmNsYXNzTGlzdC5hZGQoJ2RhcmsnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJvb3QuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lTGlnaHRCdG4uc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIFN0cmluZyh0aGVtZSA9PT0gJ2xpZ2h0JykpO1xuICAgICAgICB0aGlzLmVscy50aGVtZURhcmtCdG4uc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIFN0cmluZyh0aGVtZSA9PT0gJ2RhcmsnKSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lRGV2aWNlQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdkZXZpY2UnKSk7XG4gICAgfVxuICAgIGFwcGx5U3RvcmUocGFnZUtleXMpIHtcbiAgICAgICAgdGhpcy5lbHMuc3RvcmVDb3VudC50ZXh0Q29udGVudCA9IFN0cmluZyhwYWdlS2V5cy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmVscy5zdG9yZUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGlmIChwYWdlS2V5cy5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMuc3RvcmVFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhZ2VLZXkgb2YgcGFnZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpRWxlbSA9IHRoaXMuZWwoJ2xpJywgJ3NlbGVjdC1pdGVtJyk7XG4gICAgICAgICAgICBjb25zdCBhV3JhcEVsZW0gPSB0aGlzLmVsKCdkaXYnLCAnbWluLXctMCBmbGV4LTEnKTtcbiAgICAgICAgICAgIGNvbnN0IGFFbGVtID0gdGhpcy5lbCgnYScsICdhbmNob3Igd2hpdGVzcGFjZS1ub3JtYWwgYnJlYWstd29yZHMnLCBwYWdlS2V5KTtcbiAgICAgICAgICAgIGFFbGVtLmhyZWYgPSBwYWdlS2V5O1xuICAgICAgICAgICAgYUVsZW0udGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICBhV3JhcEVsZW0uYXBwZW5kQ2hpbGQoYUVsZW0pO1xuICAgICAgICAgICAgY29uc3QgZXhwb3J0QnRuRWxlbSA9IHRoaXMuZWwoJ2J1dHRvbicsICdidG4taWNvbicpO1xuICAgICAgICAgICAgZXhwb3J0QnRuRWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWdub3JlLWRpc2FibGUnLCAndHJ1ZScpO1xuICAgICAgICAgICAgY29uc3QgZXhwb3J0SWNvbkRlZiA9IGdldEljb24oJ2V4cG9ydCcpO1xuICAgICAgICAgICAgY29uc3QgZXhwb3J0SWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihleHBvcnRJY29uRGVmLmQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdpY29uLXNtJyxcbiAgICAgICAgICAgICAgICB2aWV3Qm94OiBleHBvcnRJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4cG9ydEJ0bkVsZW0uYXBwZW5kQ2hpbGQoZXhwb3J0SWNvbik7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVCdG5FbGVtID0gdGhpcy5lbCgnYnV0dG9uJywgJ2J0bi1pY29uIGJ0bi1pY29uLS1kYW5nZXInKTtcbiAgICAgICAgICAgIHJlbW92ZUJ0bkVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlnbm9yZS1kaXNhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUljb25EZWYgPSBnZXRJY29uKCdyZW1vdmUnKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24ocmVtb3ZlSWNvbkRlZi5kLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnaWNvbi1zbScsXG4gICAgICAgICAgICAgICAgdmlld0JveDogcmVtb3ZlSWNvbkRlZi52aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLmFwcGVuZENoaWxkKHJlbW92ZUljb24pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKGFXcmFwRWxlbSk7XG4gICAgICAgICAgICBsaUVsZW0uYXBwZW5kQ2hpbGQoZXhwb3J0QnRuRWxlbSk7XG4gICAgICAgICAgICBsaUVsZW0uYXBwZW5kQ2hpbGQocmVtb3ZlQnRuRWxlbSk7XG4gICAgICAgICAgICB0aGlzLmVscy5zdG9yZUxpc3QuYXBwZW5kQ2hpbGQobGlFbGVtKTtcbiAgICAgICAgICAgIGV4cG9ydEJ0bkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkVYUE9SVF9QQUdFX0NMSUNLLCB7IHBhZ2VLZXkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlbW92ZUJ0bkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlJFTU9WRV9QQUdFX0NMSUNLLCB7IHBhZ2VLZXkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5zdG9yZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICAgIGFwcGx5VG9hc3RNZXNzYWdlcyh0b2FzdE1lc3NhZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdG9hc3RNZXNzYWdlIG9mIHRvYXN0TWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvYXN0RWxlbSA9IHRoaXMuZ2VuZXJhdGVUb2FzdE1lc3NhZ2UodG9hc3RNZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLnRvYXN0UGFyZW50LmFwcGVuZENoaWxkKHRvYXN0RWxlbSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuVE9BU1RfRElTTUlTU19SRVFVRVNURUQsIHsgdXVpZDogdG9hc3RNZXNzYWdlLnV1aWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2VuZXJhdGVUb2FzdE1lc3NhZ2UodG9hc3RNZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHRvYXN0RWxlbSA9IHRoaXMuZWwoJ2RpdicsIGB0b2FzdCB0b2FzdC0tJHt0b2FzdE1lc3NhZ2Uua2luZH1gKTtcbiAgICAgICAgY29uc3QgdG9hc3RJY29uRGVmID0gZ2V0SWNvbih0b2FzdE1lc3NhZ2Uua2luZCk7XG4gICAgICAgIGNvbnN0IHRvYXN0SWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbih0b2FzdEljb25EZWYuZCwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAndG9hc3QtaWNvbicsXG4gICAgICAgICAgICB2aWV3Qm94OiB0b2FzdEljb25EZWYudmlld0JveCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRvYXN0Qm9keSA9IHRoaXMuZWwoJ2RpdicsICd0b2FzdC1ib2R5Jyk7XG4gICAgICAgIGNvbnN0IGRlc2MgPSB0aGlzLmVsKCdwJywgJ3RvYXN0LWRlc2MnLCB0b2FzdE1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIHRvYXN0Qm9keS5hcHBlbmRDaGlsZChkZXNjKTtcbiAgICAgICAgY29uc3QgY2xvc2VCdG4gPSB0aGlzLmVsKCdidXR0b24nLCBgdG9hc3QtY2xvc2UgdG9hc3QtY2xvc2UtLSR7dG9hc3RNZXNzYWdlLmtpbmR9YCk7XG4gICAgICAgIGNvbnN0IGNsb3NlSWNvbkRlZiA9IGdldEljb24oJ2Nsb3NlJyk7XG4gICAgICAgIGNvbnN0IGNsb3NlSWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihjbG9zZUljb25EZWYuZCwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAnaC0zLjUgdy0zLjUnLFxuICAgICAgICAgICAgdmlld0JveDogY2xvc2VJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgIH0pO1xuICAgICAgICBjbG9zZUJ0bi5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgICAgICB0b2FzdEVsZW0uYXBwZW5kQ2hpbGQodG9hc3RJY29uKTtcbiAgICAgICAgdG9hc3RFbGVtLmFwcGVuZENoaWxkKHRvYXN0Qm9keSk7XG4gICAgICAgIHRvYXN0RWxlbS5hcHBlbmRDaGlsZChjbG9zZUJ0bik7XG4gICAgICAgIGNvbnN0IHRpbWVySWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodG9hc3RFbGVtLmlzQ29ubmVjdGVkKVxuICAgICAgICAgICAgICAgIHRvYXN0RWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfSwgdGhpcy5UT0FTVF9BVVRPX0RJU01JU1MpO1xuICAgICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIGlmICh0b2FzdEVsZW0uaXNDb25uZWN0ZWQpXG4gICAgICAgICAgICAgICAgdG9hc3RFbGVtLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvYXN0RWxlbTtcbiAgICB9XG4gICAgJChzZWxlY3Rvcikge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICBpZiAoIWVsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbUGFuZWxWaWV3XSBNaXNzaW5nIGVsZW1lbnQ6ICR7c2VsZWN0b3J9YCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgJGFsbChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGVsKHRhZywgY2xhc3NOYW1lLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpXG4gICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgaWYgKHRleHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgbWFrZU9wdCh2YWx1ZSwgbGFiZWwsIHNlbGVjdGVkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIG8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgaWYgKHNlbGVjdGVkKVxuICAgICAgICAgICAgby5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICBjcmVhdGVTdmdJY29uKGQsIG9wdHMgPSB7fSkge1xuICAgICAgICBjb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAnc3ZnJyk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBvcHRzLnZpZXdCb3ggPz8gJzAgMCAyMCAyMCcpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdjbGFzcycsIG9wdHMuY2xhc3NOYW1lID8/ICdoLTMuNSB3LTMuNScpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ2N1cnJlbnRDb2xvcicpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIGlmIChvcHRzLmF0dHJzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhvcHRzLmF0dHJzKSlcbiAgICAgICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKGssIHYpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdwYXRoJyk7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoJ2QnLCBkKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGhFbCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFuZWxDb250cm9sbGVyIH0gZnJvbSAnQHBhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlcic7XG5pbXBvcnQgeyBQYW5lbFZpZXcgfSBmcm9tICcuLi92aWV3L3BhbmVsX3ZpZXcnO1xuLyoqXG4gKiBPcmNoZXN0cmF0ZXMgVUkgaW5pdGlhbGl6YXRpb24gYW5kIGNvbm5lY3Rpb24gbGlmZWN5Y2xlLlxuICogLSBBcHBseSBpMThuXG4gKiAtIERldGVjdCBhbmQgY29ubmVjdCB0byB0aGUgYWN0aXZlIHRhYlxuICogLSBSZXN0b3JlIHN0YXRlIGFuZCBwZXJmb3JtIGluaXRpYWwgcmVuZGVyXG4gKiAtIEJpbmQgVUkgZXZlbnRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgUGFuZWxWaWV3KGRvY3VtZW50KTtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IFBhbmVsQ29udHJvbGxlcih2aWV3KTtcbiAgICBhd2FpdCBjb250cm9sbGVyLnN0YXJ0KCk7XG59XG4oZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7XG4gICAgICAgIHZvaWQgc3RhcnQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYW5lbCBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHZvaWQgc3RhcnQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYW5lbCBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbImlzUmVzdHJpY3RlZCIsInJhdyIsInN0YXJ0c1dpdGgiLCJ1cmwiLCJVUkwiLCJTZXQiLCJoYXMiLCJwcm90b2NvbCIsImhvc3RuYW1lIiwiSVRFTV9DT0xPUlMiLCJJVEVNX1NIQVBFIiwiSVRFTV9QT1NJVElPTl9WQUxVRVMiLCJVTkdST1VQRUQiLCJVTkdST1VQRURfVkFMVUUiLCJMQUJFTF9GT1JNQVQiLCJpc1NjcmVlbkl0ZW1MaWtlIiwidiIsImFuY2hvciIsImEiLCJpbml0aWFsTW9kZWwiLCJzdGF0dXMiLCJ0YWJJZCIsInBhZ2VLZXkiLCJwYWdlS2V5cyIsInRoZW1lIiwic2VsZWN0aW9uRW5hYmxlZCIsIml0ZW1zIiwiZGVmYXVsdFNpemUiLCJkZWZhdWx0Q29sb3IiLCJkZWZhdWx0U2hhcGUiLCJkZWZhdWx0TGFiZWxGb3JtYXQiLCJkZWZhdWx0UG9zaXRpb24iLCJkZWZhdWx0R3JvdXAiLCJjYXB0dXJlIiwiZm9ybWF0IiwiYXJlYSIsInF1YWxpdHkiLCJzY2FsZSIsInBhbmVsRXhwYW5kZWQiLCJzZWxlY3RJdGVtcyIsIm1pc3NpbmdJZHMiLCJ0b2FzdE1lc3NhZ2VzIiwic2NyZWVuU3RhdGVUYWJsZSIsInJvb3RLZXkiLCJkZWZhdWx0T2YiLCJLRVkiLCJhc3luYyIsInJlYWRBbGwiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJ3cml0ZUFsbCIsIm1hcCIsInNldCIsImtleSIsImZvdW5kIiwidW5kZWZpbmVkIiwidmFsdWUiLCJyZW1vdmUiLCJjbGVhciIsImNyZWF0ZU1hcFRhYmxlIiwibmV4dElkIiwidGhlbWVUYWJsZSIsInZhbCIsImNyZWF0ZVNpbmdsZXRvbiIsImFwcGx5UGF0Y2giLCJwYXRjaCIsInN0YXRlIiwicmVtb3ZlZElkcyIsImxlbmd0aCIsInRvUmVtb3ZlIiwiZmlsdGVyIiwiaXQiLCJpZCIsImFkZGVkIiwibGFiZWwiLCJJbmZpbml0eSIsInNpemUiLCJjb2xvciIsInNoYXBlIiwibGFiZWxGb3JtYXQiLCJwb3NpdGlvbiIsImdyb3VwIiwiY29tbWVudCIsInB1c2giLCJub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkIiwiYnVja2V0cyIsIk1hcCIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJ0cmltIiwib3V0Iiwic2xpY2UiLCJidWNrZXQiLCJzb3J0IiwiYiIsImkiLCJkZXNpcmVkIiwic3VicyIsImkxOG4iLCJnZXRNZXNzYWdlIiwibG9jYWxpemUiLCJyb290IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInNwZWMiLCJwYWlyIiwic3BsaXQiLCJhdHRyIiwicyIsInNldEF0dHJpYnV0ZSIsIlNUQVRVUyIsIlNUQVRVU19NU0dfS0VZIiwiUkVTVFJJQ1RFRCIsIkNPTk5FQ1RJTkciLCJDT05ORUNURUQiLCJESVNDT05ORUNURUQiLCJTVEFUVVNfQ0xBU1NfQllfS0VZIiwiQWN0aW9uVHlwZSIsIkVmZmVjdFR5cGUiLCJDSEFOTkVMIiwiUGFuZWxBcGkiLCJycGMiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJzZW5kIiwiYm9keSIsInJlcSIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJleHBlY3RSZXBseSIsInJlbmRlciIsInR5cGUiLCJwYXlsb2FkIiwidG9nZ2xlU2VsZWN0IiwiZW5hYmxlZCIsImhvdmVyIiwibWVhc3VyZVNpemUiLCJwaW5nIiwiUG9ydFJwYyIsInBvcnQiLCJwZW5kaW5nIiwiYWxpdmUiLCJvbk1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsIm1zZyIsImlzUmVzcG9uc2UiLCJkZWxldGUiLCJvbkRpc2Nvbm5lY3QiLCJyZWFzb24iLCJydW50aW1lIiwibGFzdEVycm9yIiwibWVzc2FnZSIsInJlc29sdmUiLCJvayIsImVycm9yIiwiaXNBbGl2ZSIsInRpbWVvdXRNcyIsIlByb21pc2UiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJyZXMiLCJjbGVhclRpbWVvdXQiLCJwb3N0TWVzc2FnZSIsIk9XTkVEIiwidGFyZ2V0IiwibWV0aG9kIiwicGFyYW1zIiwicmVqZWN0IiwiZGVidWdnZXIiLCJzZW5kQ29tbWFuZCIsInJlc3VsdCIsImVyciIsIkVycm9yIiwiU3RyaW5nIiwib3B0cyIsInRhYiIsInRhYnMiLCJjb25zb2xlIiwid2FybiIsImZtdCIsInNldHRsZU1zIiwiZGlkQXR0YWNoIiwidXNlZE92ZXJyaWRlIiwiYXR0YWNoIiwiYWRkIiwiaW5jbHVkZXMiLCJhdHRhY2hPd25lZCIsImJyaW5nVG9Gcm9udCIsImdlb20iLCJjb250ZW50U2l6ZSIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJjc3NWaXN1YWxWaWV3cG9ydCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsInBhZ2VYIiwicGFnZVkiLCJjZWlsIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRWaWV3cG9ydENzc1JlY3QiLCJ1c2VPdmVycmlkZSIsImNsaXAiLCJjYXB0dXJlQmV5b25kVmlld3BvcnQiLCJzaG91bGRTY3JvbGxUb3AiLCJtZXRyaWNzIiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJtb2JpbGUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsInJlc29sdmVHZW9tZXRyeSIsImV4cHJlc3Npb24iLCJyIiwiY2FwUGFyYW1zIiwiZnJvbVN1cmZhY2UiLCJtaW4iLCJyb3VuZCIsImRhdGEiLCJmaWxlbmFtZSIsImJhc2UiLCJ0aXRsZSIsImhvc3QiLCJyZXBsYWNlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWFrZUZpbGVuYW1lIiwiZG93bmxvYWRzIiwiZG93bmxvYWQiLCJzYXZlQXMiLCJkZXRhY2giLCJkZXRhY2hPd25lZCIsImV4cG9ydFNjcmVlblN0YXRlIiwicHJlZml4Iiwia2luZCIsInZlcnNpb24iLCJleHBvcnRlZEF0IiwidGV4dCIsImJ5dGVzIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJiaW4iLCJmcm9tQ2hhckNvZGUiLCJidG9hIiwidG9CYXNlNjRVdGY4IiwiSlNPTiIsInN0cmluZ2lmeSIsImQiLCJwYWQiLCJuIiwidyIsInBhZFN0YXJ0IiwidHpvIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzaWduIiwiaGgiLCJhYnMiLCJtbSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsInRpbWVzdGFtcCIsImltcG9ydFNjcmVhblN0YXRlIiwiZmlsZSIsImlzSnNvbkJ5RXh0IiwidGVzdCIsIm5hbWUiLCJpc0pzb25CeU1pbWUiLCJwYXJzZWQiLCJwYXJzZSIsIm8iLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImlzVmFsaWRQYXlsb2FkIiwia2V5T2YiLCJleGlzdGluZ1NldCIsIlVJRXZlbnRUeXBlIiwib25EZXRhY2giLCJkZWJ1Z2dlZSIsIlBhbmVsQ29udHJvbGxlciIsInZpZXciLCJtb2RlbCIsInN0cnVjdHVyZWRDbG9uZSIsImNvbm4iLCJjdXJyZW50V2luZG93SWQiLCJzdGF0aWMiLCJSRU5ERVJfQ09OVEVOVCIsIlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCIsIkNMRUFSX0NPTlRFTlQiLCJIT1ZFUiIsInN0YXJ0IiwiZGlzcGF0Y2giLCJJTklUIiwiZW5zdXJlQ29ubmVjdGlvbkFsaXZlIiwiZm9yY2VSZWNvbm5lY3QiLCJyZWdpc3RlclZpZXdIYW5kbGVycyIsIndpbmRvd3MiLCJnZXRDdXJyZW50Iiwic2VuZGVyV2luZG93SWQiLCJ3aW5kb3dJZCIsIm9uIiwiVE9HR0xFX1NFTEVDVCIsIkNMRUFSIiwiQ0xFQVJfQUxMIiwiQ0FQVFVSRSIsIk1FQVNVUkVfQ09OVEVOVF9TSVpFIiwiQkFER0VfU0laRV9DSEFOR0UiLCJTRVRfQkFER0VfU0laRSIsIkJBREdFX0NPTE9SX1NFTEVDVCIsIlNFVF9CQURHRV9DT0xPUiIsIkJBREdFX1NIQVBFX0NIQU5HRSIsIlNFVF9CQURHRV9TSEFQRSIsIkJBREdFX0xBQkVMX0ZPUk1BVF9DSEFOR0UiLCJTRVRfQkFER0VfTEFCRUxfRk9STUFUIiwiQkFER0VfREVMRVRFIiwiQkFER0VfUE9TSVRJT05fU0VMRUNUIiwiU0VUX0JBREdFX1BPU0lUSU9OIiwiVE9HR0xFX0NBUFRVUkVfUEFORUwiLCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9GT1JNQVQiLCJDQVBUVVJFX0FSRUFfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfQVJFQSIsIkNBUFRVUkVfUVVBTElUWV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9RVUFMSVRZIiwiQ0FQVFVSRV9TQ0FMRV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9TQ0FMRSIsIlJFT1JERVJfSVRFTVMiLCJmcm9tSWQiLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwiU0VUX0dST1VQIiwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCIsIklURU1fSE9WRVJfSU4iLCJJVEVNX0hPVkVSX09VVCIsIklURU1fQ09NTUVOVF9BUFBMWSIsIlVQREFURV9JVEVNX0NPTU1FTlQiLCJVUERBVEVfVEhFTUUiLCJTRVRUSU5HX01PREFMX1NIT1ciLCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEIiwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFIiwiVE9BU1RfRElTTUlTU19SRVFVRVNURUQiLCJ1dWlkIiwiUkVNT1ZFX1BBR0VfQ0xJQ0siLCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0UiLCJFWFBPUlRfUEFHRV9DTElDSyIsIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRSIsImFjdGlvbiIsIm5leHQiLCJlZmZlY3RzIiwiU0VUX1RIRU1FIiwiU0VUX1NUQVRVUyIsIlJFU1RPUkVfU1RBVEUiLCJTRVRfTUlTU0lOR19JRFMiLCJDTEVBUl9TVEFURSIsIkNPTlRFTlRfU0VMRUNURUQiLCJQRVJTSVNUX1NUQVRFIiwiaXRlbXNNYXJrZWRGb3JSZWxhYmVsIiwibmV4dEdyb3VwUmF3IiwibmV4dEdyb3VwIiwidXBkYXRlSXRlbUNudCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbCIsIkNBUFRVUkVfUkVRVUVTVEVEIiwiTk9USUZZX0VSUk9SIiwiQ0FQVFVSRV9TVUNDRUVERUQiLCJDQVBUVVJFX0ZBSUxFRCIsIlJhbmdlRXJyb3IiLCJmcm9tSWR4IiwiZmluZEluZGV4IiwicmVvcmRlckl0ZW1MYWJlbCIsImlzQ2hlY2siLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZCIsImciLCJncm91cElkcyIsImdyb3VwU2V0IiwiYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwIiwiYWxsQ2hlY2siLCJQT1JUX0RJU0NPTk5FQ1RFRCIsIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFIiwiU1RPUkVfUkVMT0FEX1NVQ0NFRURFRCIsIklNUE9SVF9GQUlMRUQiLCJ0IiwiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWSIsIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVkiLCJFWFBPUlRfRkFJTEVEIiwidXBkYXRlIiwiZXhlY0VmZmVjdHMiLCJjYXRjaCIsInNvbWUiLCJmeCIsIlJFUVVJUkVTX0NPTk4iLCJjb250ZXh0Q2hhbmdlZCIsImFwaSIsInByZXYiLCJzY3JlZW5TdGF0ZXMiLCJPYmplY3QiLCJrZXlzIiwiZSIsInN0IiwicHJldktleSIsInF1ZXJ5IiwiYWN0aXZlIiwiY3VycmVudFdpbmRvdyIsImdldEFjdGl2ZVRhYiIsIm5ld0tleSIsImluY2x1ZGVIYXNoIiwidSIsIm9yaWdpbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImRpc2Nvbm5lY3QiLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwiZmlsZXMiLCJjb25uZWN0IiwibGlzdGVuZXJzIiwiZm4iLCJjYiIsImRpc3Bvc2UiLCJjb25uZWN0VG9UYWIiLCJhbmNob3JzIiwidW5pcSIsImZyb20iLCJmaW5kIiwiQm9vbGVhbiIsInRvQWRkIiwiaGFuZGxlU2VsZWN0ZWQiLCJJQ09OUyIsImNhcmV0RG93biIsInZpZXdCb3giLCJjYXJldERvd25GaWxsIiwiY2FyZXRSaWdodCIsImNhcmV0UmlnaHRGaWxsIiwic3VjY2VzcyIsImV4cG9ydCIsImNsb3NlIiwiZ2V0SWNvbiIsImJ5TGFiZWxUaGVuSWQiLCJQYW5lbFZpZXciLCJkb2MiLCJlbHMiLCJORVdfR1JPVVAiLCJIT1ZFUl9PVVRfREVMQVkiLCJkcmFnRWwiLCJkcmFnU3RhcnRQYXJlbnQiLCJkcmFnU3RhcnRJbmRleCIsImhvdmVyT3V0VGltZXIiLCJjb2xsYXBzZWRHcm91cHMiLCJUT0FTVF9BVVRPX0RJU01JU1MiLCIkIiwidG9nZ2xlQnRuIiwidG9nZ2xlSWNvbiIsInRvZ2dsZUxhYmVsIiwiY2xlYXJCdG4iLCJjYXB0dXJlQnRuIiwibGlzdCIsImVtcHR5IiwiY291bnQiLCJjYXB0dXJlT3B0aW9uc1RvZ2dsZSIsImNhcHR1cmVPcHRpb25zUGFuZWwiLCJjYXB0dXJlRm10UmFkaW9zIiwiJGFsbCIsImNhcHR1cmVBcmVhUmFkaW9zIiwianBlZ09ubHlFbHMiLCJqcGVnUXVhbGl0eVJhbmdlIiwianBlZ1F1YWxpdHlOdW1iZXIiLCJjYXB0dXJlU2NhbGVSYW5nZSIsImNhcHR1cmVTY2FsZU51bWJlciIsImJhZGdlU2l6ZVJhbmdlIiwiYmFkZ2VTaXplTnVtYmVyIiwiYmFkZ2VDb2xvckJ1dHRvbnMiLCJiYWRnZUNvbG9yTGFiZWwiLCJiYWRnZUNvbG9yRG90IiwiYmFkZ2VTaGFwZVNlbGVjdCIsImJhZGdlTGFiZWxGb3JtYXRTZWxlY3QiLCJiYWRnZURlbGV0ZUJ1dHRvbiIsImJhZGdlUG9zaXRpb25CdXR0b25zIiwiYmFkZ2VQb3NpdGlvbkxhYmVsIiwiYmFkZ2VHcm91cFNlbGVjdCIsImdyb3VwTmFtZU1vZGFsIiwiZ3JvdXBOYW1lSW5wdXQiLCJncm91cE5hbWVDYW5jZWxCdG4iLCJncm91cE5hbWVDcmVhdGVsQnRuIiwiaXRlbUNvbW1lbnRNb2RhbCIsIml0ZW1Db21tZW50SW5wdXQiLCJpdGVtQ29tbWVudElkSW5wdXQiLCJpdGVtQ29tbWVudENhbmNlbEJ0biIsIml0ZW1Db21tZW50QXBwbHlCdG4iLCJzZWxlY3RJdGVtQWxsQ2hlY2tib3giLCJzZXR0aW5nTW9kYWwiLCJzZXR0aW5nQnV0dG9uIiwic2V0dGluZ0Nsb3NlQnV0dG9uIiwidGhlbWVMaWdodEJ0biIsInRoZW1lRGFya0J0biIsInRoZW1lRGV2aWNlQnRuIiwiaW1wb3J0RmlsZUlucHV0IiwiaW1wb3J0QnRuIiwic3RvcmVDb3VudCIsInN0b3JlTGlzdCIsInN0b3JlRW1wdHkiLCJ0b2FzdFBhcmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbWl0IiwidXBkYXRlUXVhbGl0eVZpc2liaWxpdHkiLCJnZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQiLCJnZXRTZWxlY3RlZENhcHR1cmVBcmVhIiwiYmluZFN5bmMiLCJmaXJlU2l6ZSIsImlzRmluaXRlIiwiYnRuIiwiZGF0YXNldCIsImNvbG9yTmFtZSIsImlzSXRlbVNoYXBlIiwiaXNMYWJlbEZvcm1hdCIsInBvc2l0aW9uTmFtZSIsImNsYXNzTGlzdCIsImFwcGx5VGhlbWUiLCJjbGljayIsInNlbGVjdGVkIiwiY2hlY2tlZCIsImNhbmNlbEhvdmVyT3V0Iiwic2NoZWR1bGVIb3Zlck91dCIsImhhbmRsZXIiLCJhcnIiLCJoIiwiYXBwbHlUb2FzdE1lc3NhZ2VzIiwiYXBwbHlTdG9yZSIsInJlbmRlclN0YXR1cyIsInJlbmRlclRvZ2dsZSIsInJlbmRlckxpc3QiLCJzZWxlY3RSYWRpb0J5VmFsdWUiLCJhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkiLCJhcHBseUJhZGdlQ29sb3JVSSIsImFwcGx5QmFkZ2VQb3NpdG9uVUkiLCJhcHBseUJhZGdlR3JvdXBTZWxlY3RVSSIsImdldEV4aXN0aW5nR3JvdXBzIiwic3R5bGUiLCJjbGFzc05hbWUiLCJkb3QiLCJjcmVhdGVFbGVtZW50IiwibXNnS2V5IiwiZ2V0U3RhdHVzTWVzc2FnZSIsInJlcGxhY2VDaGlsZHJlbiIsImRpc2FibGVGb3JtQ29udHJvbHMiLCJpY29uIiwiYWxsQ2hlY2tlZCIsImdyb3VwcyIsImdyb3VwQnlHcm91cCIsImdyb3VwS2V5cyIsImxvY2FsZUNvbXBhcmUiLCJmcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImdLZXkiLCJzZWN0aW9uIiwicmVuZGVyR3JvdXBTZWN0aW9uIiwiYXBwZW5kQ2hpbGQiLCJnSXRlbXMiLCJpc0NvbGxhcHNlZCIsImhlYWRlciIsImNoZWNrYm94V3JhcCIsImNoZWNrYm94IiwiYXBwZW5kIiwibGVmdCIsImNyZWF0ZVN2Z0ljb24iLCJ0b2dnbGVQYXRoIiwicXVlcnlTZWxlY3RvciIsInVsIiwiYXR0YWNoVWxEbkRIYW5kbGVycyIsInNlbGVjdENoZWNrZWQiLCJyZW5kZXJJdGVtIiwiaXNNaXNzaW5nIiwibGlCYXNlIiwibGkiLCJkcmFnZ2FibGUiLCJwYXJlbnRFbGVtZW50IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsImNhbGwiLCJjaGlsZHJlbiIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJwYXJlbnQiLCJlbmRJbmRleCIsImNoZWNrYm94U3R5bGUiLCJiYWRnZVN0eWxlIiwiYmFkZ2UiLCJtYWluIiwiY2hpcCIsImNvbW1lbnRCdG4iLCJnZW5lcmF0ZUNvbW1lbnRCdG4iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldExpIiwiY2xvc2VzdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJpc0FmdGVyIiwiY2xpZW50WSIsInRvcCIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwibSIsImlzSnBlZyIsInRvZ2dsZSIsImRpc2FibGVkIiwicmFkaW9zIiwicmFuZ2VFbCIsIm51bWJlckVsIiwib25WYWx1ZSIsInJlYWROdW0iLCJmYWxsYmFjayIsIk5hTiIsInN5bmMiLCJyYXdTdHIiLCJORUdBVElWRV9JTkZJTklUWSIsIlBPU0lUSVZFX0lORklOSVRZIiwic3RlcCIsImNsYW1wZWQiLCJjbGFtcCIsInJvdW5kZWQiLCJmaXhlZCIsInRvRml4ZWQiLCJjb250cm9scyIsImVuYWJsZUFsbCIsImVuYWJsZUlnbm9yZU9ubHkiLCJlbmFibGVOb25lIiwic2hvdWxkRW5hYmxlIiwiaGFzQXR0cmlidXRlIiwiZXhwYW5kZWQiLCJpbm5lckhUTUwiLCJnZXRCYWRnZUNvbG9yU3R5bGVOYW1lIiwidG9Mb3dlckNhc2UiLCJidXR0b24iLCJyZXBsYWNlQWxsIiwiZXhpc3RpbmdHcm91cHMiLCJkZWZhdXRHcm91cCIsIm1ha2VPcHQiLCJub3JtYWxpemUiLCJjcmVhdGVPcHQiLCJkb2N1bWVudEVsZW1lbnQiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImxpRWxlbSIsImFXcmFwRWxlbSIsImFFbGVtIiwiaHJlZiIsImV4cG9ydEJ0bkVsZW0iLCJleHBvcnRJY29uRGVmIiwiZXhwb3J0SWNvbiIsInJlbW92ZUJ0bkVsZW0iLCJyZW1vdmVJY29uRGVmIiwicmVtb3ZlSWNvbiIsInRvYXN0TWVzc2FnZSIsInRvYXN0RWxlbSIsImdlbmVyYXRlVG9hc3RNZXNzYWdlIiwidG9hc3RJY29uRGVmIiwidG9hc3RJY29uIiwidG9hc3RCb2R5IiwiZGVzYyIsImNsb3NlQnRuIiwiY2xvc2VJY29uRGVmIiwiY2xvc2VJY29uIiwidGltZXJJZCIsImlzQ29ubmVjdGVkIiwic2VsZWN0b3IiLCJ0YWciLCJub2RlIiwiU1ZHX05TIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwiYXR0cnMiLCJrIiwiZW50cmllcyIsInBhdGhFbCIsImNvbnRyb2xsZXIiLCJyZWFkeVN0YXRlIiwib25jZSJdLCJzb3VyY2VSb290IjoiIn0=