(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",i="RENDER",s="CLEAR",a="HOVER",n="MEASURE_SIZE",r="SELECTED",o="MISSING_IDS",l="CONTENT_SIZE_RESULT",c="ACTIVE_TAB_CHANGED";function d(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const E=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],u=["circle","square"],h=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",m="",T={status:"DISCONNECTED",tabId:null,pageKey:"",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:m,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[]},g="screenStateByPage";async function _(){return(await chrome.storage.local.get(g))[g]??{}}async function S(e){return(await _())[e]??{items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:m}}async function C(e,t){const i=await _();i[e]=t,await async function(e){await chrome.storage.local.set({[g]:e})}(i)}function f(e){const t=new Map;e.forEach((e,i)=>{const s=(e.group??"").trim();t.has(s)||t.set(s,[]),t.get(s).push({index:i,item:e})});const i=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},s)=>{const a=s+1;t.label!==a&&(i[e]={...t,label:a})});return i}function A(e,t){return chrome.i18n.getMessage(e,t)||e}const R={get:A,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=A(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const i of t.split(";")){const[t,s]=i.split(":").map(e=>e?.trim());t&&s&&e.setAttribute(t,A(s))}})}},N="CONNECTED",I={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},O={RESTRICTED:{body:["bg-amber-50","border-amber-200","text-amber-700","dark:bg-amber-950","dark:border-amber-900/50","dark:text-amber-300"],dot:["bg-amber-500"]},CONNECTING:{body:["bg-sky-50","border-sky-200","text-sky-700","dark:bg-sky-950","dark:border-sky-900/50","dark:text-sky-300"],dot:["bg-sky-500"]},CONNECTED:{body:["bg-emerald-50","border-emerald-200","text-emerald-700","dark:bg-emerald-950","dark:border-emerald-900/50","dark:text-emerald-300"],dot:["bg-emerald-500"]},DISCONNECTED:{body:["bg-rose-50","border-rose-200","text-rose-700","dark:bg-rose-950","dark:border-rose-900/50","dark:text-rose-300"],dot:["bg-rose-500"]}};var b,L;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT"}(b||(b={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.NOTIFY_ERROR="NOTIFY_ERROR"}(L||(L={}));const y="spsk:panel-content:v1";class v{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:i,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:s})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class w{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,i]of this.pending)i({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(i=>{if(!this.alive)return i(void e.expectReply);if(e.expectReply){const s=setTimeout(()=>{this.pending.delete(e.id),i(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(s),i(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void i(void 0)}e.expectReply||i(void 0)})}}const G=new Set;async function P(e,t,i){return await new Promise((s,a)=>{chrome.debugger.sendCommand(e,t,i??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):s(e??{})})})}async function D(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||d(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const i={tabId:t.id},s=e.format??"png",a=e.settleMs??500,n=e.scale??1,r=e.area??"full";let o=!1,l=!1;try{o=await async function(e){const t=e.tabId??null;return await new Promise((i,s)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&G.add(t),void i(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&G.has(t)?i(!1):s(new Error("Debugger is already attached by another client (DevTools/extension).")):s(new Error(a))})})}(i),await P(i,"Page.enable"),(e.bringToFront??1)&&await P(i,"Page.bringToFront");const c=await async function(e,t,i,s){if("viewport"===t){const{x:t,y:s,width:a,height:n}=await async function(e){const t=(await P(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:s,width:a,height:n,scale:i},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(s.width)),n=Math.max(1,0|Math.ceil(s.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:i},captureBeyondViewport:!0,shouldScrollTop:!0}}(i,r,n,e.contentSize);c.shouldScrollTop&&await P(i,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),c.useOverride&&c.metrics&&(l=!0,await P(i,"Emulation.setDeviceMetricsOverride",c.metrics)),await new Promise(e=>setTimeout(e,a));const d={format:s,fromSurface:!0,captureBeyondViewport:c.captureBeyondViewport,clip:c.clip};"jpeg"===s&&"number"==typeof e.quality&&(d.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:E}=await P(i,"Page.captureScreenshot",d),u=`data:${"png"===s?"image/png":"image/jpeg"};base64,${E}`,h=e.filename??function(e,t){let i=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return i=i.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),i.length>80&&(i=i.slice(0,80)),`${i}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,s);return await chrome.downloads.download({url:u,filename:h,saveAs:!1})}finally{if(l)try{await P(i,"Emulation.clearDeviceMetricsOverride")}catch{}if(o)try{await async function(e){const t=e.tabId??null;null!=t&&G.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),G.delete(t))}(i)}catch{}}}var U;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&G.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY"}(U||(U={}));class M{view;model=structuredClone(T);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([L.RENDER_CONTENT,L.TOGGLE_SELECT_ON_CONTENT,L.CLEAR_CONTENT,L.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:b.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==c)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(U.TOGGLE_SELECT,()=>this.dispatch({type:b.TOGGLE_SELECT})),this.view.on(U.CLEAR,()=>this.dispatch({type:b.CLEAR_ALL})),this.view.on(U.CAPTURE,()=>this.dispatch({type:b.MEASURE_CONTENT_SIZE})),this.view.on(U.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:b.SET_BADGE_SIZE,size:e})),this.view.on(U.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:b.SET_BADGE_COLOR,color:e})),this.view.on(U.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:b.SET_BADGE_SHAPE,shape:e})),this.view.on(U.BADGE_DELETE,()=>this.dispatch({type:b.BADGE_DELETE})),this.view.on(U.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:b.SET_BADGE_POSITION,position:e})),this.view.on(U.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:b.TOGGLE_CAPTURE_PANEL})),this.view.on(U.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:b.SET_CAPTURE_FORMAT,format:e})),this.view.on(U.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:b.SET_CAPTURE_AREA,area:e})),this.view.on(U.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:b.SET_CAPTURE_QUALITY,quality:e})),this.view.on(U.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:b.SET_CAPTURE_SCALE,scale:e})),this.view.on(U.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:i})=>this.dispatch({type:b.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:i})),this.view.on(U.SET_GROUP,({group:e})=>this.dispatch({type:b.SET_GROUP,group:e})),this.view.on(U.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:b.ITEM_SELECTION_CHANGED,...e})),this.view.on(U.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:b.ITEM_HOVER_IN,id:e})),this.view.on(U.ITEM_HOVER_OUT,()=>this.dispatch({type:b.ITEM_HOVER_OUT})),this.view.on(U.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:b.UPDATE_ITEM_COMMENT,id:e,comment:t}))}dispatch(e){const{model:t,effects:i}=function(e,t){switch(t.type){case b.INIT:return{model:e,effects:[]};case b.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case b.SET_STATUS:return t.status===N?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case b.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:L.RENDER_CONTENT,items:t.state.items}]};case b.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case b.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:L.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case b.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:L.CLEAR_CONTENT},{kind:L.CLEAR_STATE}]};case b.CONTENT_SELECTED:return{model:e,effects:[]};case b.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case b.SET_BADGE_SIZE:{const i=e.items.map(i=>({...i,...e.selectItems.includes(i.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:i},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:i}]}}case b.SET_BADGE_COLOR:{const i=e.items.map(i=>({...i,...e.selectItems.includes(i.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:i},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:i}]}}case b.SET_BADGE_SHAPE:{const i=e.items.map(i=>({...i,...e.selectItems.includes(i.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:i},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:i}]}}case b.BADGE_DELETE:{const t=f(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:t}]}}case b.SET_BADGE_POSITION:{const i=e.items.map(i=>({...i,...e.selectItems.includes(i.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:i},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:i}]}}case b.SET_GROUP:{const i=function(e,t,i){const s=(i??"").trim();let a=0;return e.sort((e,t)=>t.id-e.id).map(e=>{if(t.includes(e.id)&&e.group!==s){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:s,label:t}}return e})}(e.items,e.selectItems,t.group),s=f(i);return{model:{...e,defaultGroup:t.group,items:s},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:s}]}}case b.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case b.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case b.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case b.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case b.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:L.MEASURE_CONTENT_SIZE}]};case b.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:L.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:L.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case b.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case b.CAPTURE_FAILED:return{model:e,effects:[{kind:L.NOTIFY_ERROR,error:t.error}]};case b.REORDER_ITEMS:{const i=function(e,t,i,s){if(s<0||s>=e.length)throw new RangeError(`toIndex out of range: ${s}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(s<0||s>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${s}`);const n=s+(i<s?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),s=f(i);return{model:{...e,items:s},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:s}]}}case b.ITEM_SELECTION_CHANGED:if("id"in t){const i=function(e,t,i){return t&&!i.includes(e)?[...i,e]:i.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:i},effects:[]}}if("group"in t){const i=function(e,t,i,s){const a=e.trim(),n=s.filter(e=>(e.group??m).trim()===a).map(e=>e.id);if(0===n.length)return i;if(t){const e=new Set(i);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return i.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:i},effects:[]}}{const a=(i=t.allCheck,s=e.items,i?s.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case b.ITEM_HOVER_IN:return{model:e,effects:[{kind:L.HOVER,id:t.id}]};case b.ITEM_HOVER_OUT:return{model:e,effects:[{kind:L.HOVER,id:null}]};case b.UPDATE_ITEM_COMMENT:{const i=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:i},effects:[{kind:L.PERSIST_STATE},{kind:L.RENDER_CONTENT,items:i}]}}case b.PORT_DISCONNECTED:return{model:{...e,status:"DISCONNECTED",selectionEnabled:!1},effects:[{kind:L.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};default:return{model:e,effects:[]}}var i,s}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(i).catch(console.error)}async execEffects(e){if(e.some(e=>M.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case L.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case L.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case L.CLEAR_CONTENT:await(this.conn?.api.clear());break;case L.HOVER:await(this.conn?.api.hover(t.id));break;case L.CLEAR_STATE:await C(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case L.PERSIST_STATE:{const e=await S(this.model.pageKey);await C(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case L.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case L.CAPTURE:try{await D(t.payload),this.dispatch({type:b.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:b.CAPTURE_FAILED,error:e})}break;case L.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const i=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!i?.id||d(i.url))return this.dispatch({type:b.SET_STATUS,status:"RESTRICTED"}),{ok:!1};const s=function(e,t=!1){try{const i=new URL(e);return t?`${i.origin}${i.pathname}${i.search}${i.hash}`:`${i.origin}${i.pathname}${i.search}`}catch{return e}}(i.url),a=i.id;this.dispatch({type:b.CONNECTED,tabId:a,pageKey:s}),this.dispatch({type:b.SET_STATUS,status:"CONNECTING"});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:y}),i=new w(t),s=new v(i),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:s,port:t,rpc:i,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:b.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===r){const t=await async function(e,t){const i=await S(e),s=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of s){const t=i.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const r={};return a.length&&(r.removedIds=a),n.length&&(r.added=n),async function(e,t){const i=await S(e);if(t.removedIds?.length){const e=new Set(t.removedIds);i.items=i.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:i.nextId++,label:1/0,anchor:e.anchor,size:i.defaultSize,color:i.defaultColor,shape:i.defaultShape,position:i.defaultPosition,group:i.defaultGroup};i.items.push(t)}return i.items=f(i.items),await C(e,i),i}(e,r)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:b.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===o?this.dispatch({type:b.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===l&&this.dispatch({type:b.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await S(s);return this.dispatch({type:b.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:b.SET_STATUS,status:N}),{ok:!0,contextChanged:!!t&&t!==s}}}const k={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"}};function x(e){const{d:t,viewBox:i="0 0 20 20"}=k[e];return{d:t,viewBox:i}}function B(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class H{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;constructor(e){this.doc=e,R.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]')},this.els.toggleBtn.addEventListener("click",()=>this.emit(U.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(U.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(U.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(U.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(U.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(U.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(U.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(U.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(U.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",i="string"==typeof(s=t)&&E.includes(s)?t:"Blue";var s;this.emit(U.BADGE_COLOR_SELECT,{color:i})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&u.includes(e)}(e)?e:"circle";this.emit(U.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(U.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",i="string"==typeof(s=t)&&h.includes(s)?t:"left-top-outside";var s;this.emit(U.BADGE_POSITION_SELECT,{position:i})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?m:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(U.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?m:e;this.emit(U.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(U.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(U.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(U.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const i=this.listeners[e];i?.forEach(e=>e(t))}render(e){this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup)}renderStatus(e){const t=O[e],i=this.els.status;i.className="",i.classList.add("connect-status",...t.body);const s=this.doc.createElement("span");s.classList.add("connect-status-dot",...t.dot);const a=this.doc.createElement("span");a.textContent=function(e){const t=I[e];return R.get(t)||t}(e),i.replaceChildren(s,a),this.disabledAllButtons(e!==N)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=R.get(e?"toggle_on":"toggle_off")}renderList(e,t,i){this.els.count.textContent=String(e.length);const s=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=s,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),r=this.doc.createDocumentFragment();for(const e of n){const s=this.renderGroupSection(e,a.get(e),t,i);r.appendChild(s)}this.els.list.replaceChildren(r)}renderGroupSection(e,t,i,s){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),r=this.el("div","select-item-header"),o=this.el("div","spsk-checkwrap"),l=this.el("input","spsk-checkbox spsk-checkbox--normal");l.type="checkbox",l.name="item-select",l.value=e===p?R.get("group_ungrouped"):e,l.checked=t.every(e=>i.includes(e.id)),l.addEventListener("change",t=>{const i=t.target.checked;this.emit(U.ITEM_SELECTION_CHANGED,{group:e===p?m:e,isCheck:i})}),o.append(l);const c=this.el("span","select-item-gh-title",e===p?R.get("group_ungrouped"):e),d=this.el("div","select-item-gh-left");d.append(o,c);const E=this.el("span","select-item-gh-count",String(t.length)),u=this.el("button","select-item-gh-toggle");u.type="button",u.setAttribute("aria-expanded",String(!a));const{d:h,viewBox:T}=x(a?"caretRight":"caretDown"),g=this.createSvgIcon(h,{className:"icon-sm",viewBox:T}),_=g.querySelector("path");u.append(g),r.append(d,E,u);const S=this.el("ul","select-item-list");a&&S.classList.add("hidden"),this.attachUlDnDHandlers(S);for(const e of t.sort(B)){const t=i.includes(e.id);S.appendChild(this.renderItem(e,t,s))}return u.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),S.classList.remove("hidden"),_.setAttribute("d",x("caretDown").d),u.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),S.classList.add("hidden"),_.setAttribute("d",x("caretRight").d),u.setAttribute("aria-expanded","false"))}),n.append(r,S),n}renderItem(e,t,i){const s=i.includes(e.id),a="select-item",n=this.el("li",s?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const i=this.dragEl.dataset.id??"";this.dragEl=null,i&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(U.REORDER_ITEMS,{fromId:Number(i),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const r=this.el("div","spsk-checkwrap"),o=s?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",l=this.el("input",o);l.type="checkbox",l.name="item-select",l.value=String(e.id),l.checked=t,l.addEventListener("change",t=>{const i=t.target.checked;this.emit(U.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:i})}),r.append(l);const c=s?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",d=this.el("span",c,String(e.label)),E=this.el("div","min-w-0 flex-1");if(E.addEventListener("pointerenter",()=>{this.dragStartParent||s||(this.cancelHoverOut(),this.emit(U.ITEM_HOVER_IN,{id:e.id}))}),s){const e=this.el("span","chip-warn"),{d:t,viewBox:i}=x("warn"),s=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:i}),a=this.el("span",void 0,R.get("missing_item"));e.append(s,a),E.append(e)}const u=this.el("div","anchor",e.anchor.value);E.append(u);const h=this.generateCommentBtn(e);return n.append(r,d,E,h),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:i,viewBox:s}=x("comment"),a=this.createSvgIcon(i,{className:"h-3.5 w-3.5",viewBox:s});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(U.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const i=t.target?.closest("li");if(i&&i!==this.dragEl){const s=i.getBoundingClientRect(),a=t.clientY-s.top>s.height/2;e.insertBefore(this.dragEl,a?i.nextSibling:i)}else i||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const i of e){const e=(i.group??m).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(i)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,i){const s=(e,t)=>{const i=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(i)?i:t},a=a=>{const n=s(t.min||e.min,Number.NEGATIVE_INFINITY),r=s(t.max||e.max,Number.POSITIVE_INFINITY),o=s(t.step||e.step,1),l=Number(a),c=((e,t,i)=>Math.min(Math.max(e,t),i))(Number.isFinite(l)?l:0,n,r),d=Math.round(c/o)*o,E=Number(d.toFixed(6));t.value=String(E),e.value=String(E),i?.(E)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disabledAllButtons(e){this.doc.querySelectorAll("button").forEach(t=>t.disabled=e)}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:i}=x(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:i,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const i=t.dataset.colorName===e;t.setAttribute("aria-selected",i?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const i=t.dataset.positionName===e;t.setAttribute("data-selected",i?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,R.get("group_ungrouped"),t===p));for(const i of e){const e=(e=>(e??"").trim())(i);this.els.badgeGroupSelect.append(this.makeOpt(e,i,t===i))}const i=this.makeOpt(this.NEW_GROUP,R.get("common_create"));this.els.badgeGroupSelect.append(i)}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,i){const s=this.doc.createElement(e);return t&&(s.className=t),void 0!==i&&(s.textContent=i),s}makeOpt(e,t,i=!1){const s=this.doc.createElement("option");return s.value=e,s.textContent=t,i&&(s.selected=!0),s}createSvgIcon(e,t={}){const i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg");if(s.setAttribute("viewBox",t.viewBox??"0 0 20 20"),s.setAttribute("class",t.className??"h-3.5 w-3.5"),s.setAttribute("fill","currentColor"),s.setAttribute("aria-hidden","true"),t.attrs)for(const[e,i]of Object.entries(t.attrs))s.setAttribute(e,i);const a=document.createElementNS(i,"path");return a.setAttribute("d",e),s.appendChild(a),s}}async function $(){const e=new H(document),t=new M(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?$().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{$().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUk1VixFQUFnQkMsU0FDakMyVixFQUFXalYsT0FDckIsQ0FFZ0MsYUFBeEI1SixTQUFTOGUsWUFBcUQsZ0JBQXhCOWUsU0FBUzhlLFdBQzFDbFYsSUFBUXVGLE1BQU94SyxJQUNoQk0sUUFBUXhCLE1BQU0sMEJBQTJCa0IsS0FJN0MzRSxTQUFTOFYsaUJBQWlCLG1CQUFvQixLQUFXbE0sSUFBUXVGLE1BQU94SyxJQUNwRU0sUUFBUXhCLE1BQU0sMEJBQTJCa0IsTUFDekMsQ0FDQW9hLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbW1vbi9tZXNzYWdlcy50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdXJsLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3N0YXRlL3N0b3JlLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvc3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2kxOG4udHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC92aWV3L3N0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL2FjdGlvbl90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL2VmZmVjdF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvbWVzc2FnaW5nL2FwaS50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9wb3J0X3JwYy50cyIsIndlYnBhY2s6Ly8vLi9pbmZyYS9jZHAvY2RwX2NsaWVudC50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL2NhcHR1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy91aV9ldmVudF90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2NvbnRyb2xsZXIvcGFuZWxfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC91cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vaW5mcmEvY2hyb21lL3RhYnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvY29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vaWNvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC92aWV3L3BhbmVsX3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9hcHAvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUDJDID0ge1xuICAgIFBJTkc6ICdQSU5HJyxcbiAgICBUT0dHTEVfU0VMRUNUOiAnVE9HR0xFX1NFTEVDVCcsXG4gICAgUkVOREVSOiAnUkVOREVSJyxcbiAgICBDTEVBUjogJ0NMRUFSJyxcbiAgICBIT1ZFUjogJ0hPVkVSJyxcbiAgICBNRUFTVVJFX1NJWkU6ICdNRUFTVVJFX1NJWkUnLFxufTtcbmNvbnN0IEMyUCA9IHtcbiAgICBTRUxFQ1RFRDogJ1NFTEVDVEVEJyxcbiAgICBNSVNTSU5HX0lEUzogJ01JU1NJTkdfSURTJyxcbiAgICBDT05URU5UX1NJWkVfUkVTVUxUOiAnQ09OVEVOVF9TSVpFX1JFU1VMVCcsXG59O1xuY29uc3QgQjJQID0ge1xuICAgIEFDVElWRV9UQUJfQ0hBTkdFRDogJ0FDVElWRV9UQUJfQ0hBTkdFRCcsXG59O1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFID0geyAuLi5QMkMsIC4uLkMyUCwgLi4uQjJQIH07XG5leHBvcnQgZnVuY3Rpb24gaXNSZXNwb25zZShtc2cpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1zZyA9PT0gJ29iamVjdCcgJiYgbXNnICE9PSBudWxsICYmICdpZCcgaW4gbXNnICYmICdvaycgaW4gbXNnO1xufVxuIiwiLyoqXG4gKiBCdWlsZHMgYSBwYWdlIGtleSBmcm9tIGEgVVJMLiBCeSBkZWZhdWx0IGV4Y2x1ZGVzIHRoZSBoYXNoIGFuZCB1c2VzXG4gKiBvcmlnaW4gKyBwYXRobmFtZSArIHNlYXJjaC5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gSW5wdXQgVVJMIChyZXR1cm5lZCBhcy1pcyBpZiBpbnZhbGlkKVxuICogQHBhcmFtIGluY2x1ZGVIYXNoIC0gV2hldGhlciB0byBpbmNsdWRlIHRoZSBoYXNoIChkZWZhdWx0OiBmYWxzZSlcbiAqIEByZXR1cm5zIFBhZ2Uga2V5IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFnZUtleSh1cmwsIGluY2x1ZGVIYXNoID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICByZXR1cm4gaW5jbHVkZUhhc2hcbiAgICAgICAgICAgID8gYCR7dS5vcmlnaW59JHt1LnBhdGhuYW1lfSR7dS5zZWFyY2h9JHt1Lmhhc2h9YFxuICAgICAgICAgICAgOiBgJHt1Lm9yaWdpbn0ke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBVUkwgc2hvdWxkIGJlIGV4Y2x1ZGVkIGZyb20gZXh0ZW5zaW9uIG9wZXJhdGlvbi5cbiAqXG4gKiBVbnBhcnNlYWJsZS91bmtub3duIHNjaGVtZXMgYXJlIHRyZWF0ZWQgYXMgcmVzdHJpY3RlZC5cbiAqIE5vbi13ZWIgc2NoZW1lcyAoZS5nLiwgdmlldy1zb3VyY2U6LCBkYXRhOiwgYmxvYjosIGZpbGVzeXN0ZW06KSBhcmUgYmxvY2tlZCBlYXJseS5cbiAqIENocm9tZSBXZWIgU3RvcmUgcGFnZXMgYXJlIGFsd2F5cyBleGNsdWRlZCAoY29udGVudCBzY3JpcHRzIGFyZSBub3QgYWxsb3dlZCB0aGVyZSkuXG4gKlxuICogQHBhcmFtIHJhdyAtIFVSTCBzdHJpbmcgdG8gZXZhbHVhdGUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBzaG91bGQgYmUgc2tpcHBlZCBieSB0aGUgZXh0ZW5zaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZXN0cmljdGVkKHJhdykge1xuICAgIGlmICghcmF3KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJ3ZpZXctc291cmNlOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdkYXRhOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdibG9iOicpIHx8XG4gICAgICAgIHJhdy5zdGFydHNXaXRoKCdmaWxlc3lzdGVtOicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXJsO1xuICAgIHRyeSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwocmF3KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBJbnZhbGlkIG9yIG5vbi1zdGFuZGFyZCBVUkwg4oaSIHNraXAgZm9yIHNhZmV0eS5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEFsbG93LWxpc3QgcG9saWN5OiBvbmx5IG9wZXJhdGUgb24gdHlwaWNhbCB3ZWIgcGFnZXMuXG4gICAgY29uc3QgYWxsb3dlZCA9IG5ldyBTZXQoWydodHRwOicsICdodHRwczonLCAnZmlsZTonXSk7XG4gICAgaWYgKCFhbGxvd2VkLmhhcyh1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgV2ViIFN0b3JlIChjdXJyZW50IGFuZCBsZWdhY3kgaG9zdCkg4oCUIGNvbnRlbnQgc2NyaXB0cyBhcmUgZGlzYWxsb3dlZCBieSBwbGF0Zm9ybSBwb2xpY3kuXG4gICAgY29uc3Qgd2ViU3RvcmVIb3N0cyA9IG5ldyBTZXQoWydjaHJvbWV3ZWJzdG9yZS5nb29nbGUuY29tJywgJ2Nocm9tZS5nb29nbGUuY29tJ10pO1xuICAgIGlmICh3ZWJTdG9yZUhvc3RzLmhhcyh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJjb25zdCBJVEVNX0NPTE9SUyA9IFtcbiAgICAnR3JheScsXG4gICAgJ1JlZCcsXG4gICAgJ1llbGxvdycsXG4gICAgJ0dyZWVuJyxcbiAgICAnQmx1ZScsXG4gICAgJ0xpbWUnLFxuICAgICdQdXJwbGUnLFxuICAgICdQaW5rJyxcbiAgICAnT3JhbmdlJyxcbiAgICAnQ3lhbicsXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbUNvbG9yKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fQ09MT1JTLmluY2x1ZGVzKHYpO1xufVxuY29uc3QgSVRFTV9TSEFQRSA9IFsnY2lyY2xlJywgJ3NxdWFyZSddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlbVNoYXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIElURU1fU0hBUEUuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgSVRFTV9QT1NJVElPTl9WQUxVRVMgPSBbXG4gICAgJ3JpZ2h0LXRvcC1vdXRzaWRlJyxcbiAgICAncmlnaHQtdG9wLWluc2lkZScsXG4gICAgJ3JpZ2h0LW91dHNpZGUnLFxuICAgICdyaWdodC1pbnNpZGUnLFxuICAgICdyaWdodC1ib3R0b20tb3V0c2lkZScsXG4gICAgJ3JpZ2h0LWJvdHRvbS1pbnNpZGUnLFxuICAgICd0b3Atb3V0c2lkZScsXG4gICAgJ3RvcC1pbnNpZGUnLFxuICAgICdjZW50ZXInLFxuICAgICdib3R0b20tb3V0c2lkZScsXG4gICAgJ2JvdHRvbS1pbnNpZGUnLFxuICAgICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAnbGVmdC10b3AtaW5zaWRlJyxcbiAgICAnbGVmdC1vdXRzaWRlJyxcbiAgICAnbGVmdC1pbnNpZGUnLFxuICAgICdsZWZ0LWJvdHRvbS1vdXRzaWRlJyxcbiAgICAnbGVmdC1ib3R0b20taW5zaWRlJyxcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtUG9zaXRpb24odikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9QT1NJVElPTl9WQUxVRVMuaW5jbHVkZXModik7XG59XG5leHBvcnQgY29uc3QgVU5HUk9VUEVEID0gJ19fdW5ncm91cGVkX18nO1xuZXhwb3J0IGNvbnN0IFVOR1JPVVBFRF9WQUxVRSA9ICcnO1xuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFLCB9IGZyb20gJ0Bjb21tb24vdHlwZXMnO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxNb2RlbCA9IHtcbiAgICBzdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgIHRhYklkOiBudWxsLFxuICAgIHBhZ2VLZXk6ICcnLFxuICAgIHNlbGVjdGlvbkVuYWJsZWQ6IGZhbHNlLFxuICAgIGl0ZW1zOiBbXSxcbiAgICBkZWZhdWx0U2l6ZTogMTQsXG4gICAgZGVmYXVsdENvbG9yOiAnQmx1ZScsXG4gICAgZGVmYXVsdFNoYXBlOiAnY2lyY2xlJyxcbiAgICBkZWZhdWx0UG9zaXRpb246ICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICBkZWZhdWx0R3JvdXA6IFVOR1JPVVBFRF9WQUxVRSxcbiAgICBjYXB0dXJlOiB7XG4gICAgICAgIGZvcm1hdDogJ3BuZycsXG4gICAgICAgIGFyZWE6ICdmdWxsJyxcbiAgICAgICAgcXVhbGl0eTogOTAsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBwYW5lbEV4cGFuZGVkOiBmYWxzZSxcbiAgICB9LFxuICAgIHNlbGVjdEl0ZW1zOiBbXSxcbiAgICBtaXNzaW5nSWRzOiBbXSxcbn07XG4iLCJpbXBvcnQgeyBVTkdST1VQRURfVkFMVUUgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmNvbnN0IFJPT1RfS0VZID0gJ3NjcmVlblN0YXRlQnlQYWdlJztcbi8qKlxuICogTG9hZHMgdGhlIGVudGlyZSBzdGF0ZSBtYXAgZnJvbSBjaHJvbWUuc3RvcmFnZS5sb2NhbCB1bmRlciBST09UX0tFWS5cbiAqXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgZnVsbCBzdGF0ZSBtYXA7IHJldHVybnMgYW4gZW1wdHkgb2JqZWN0IHdoZW4gbm90aGluZyBpcyBzdG9yZWQuXG4gKiBAcmVtYXJrcyBUaGlzIHBlcmZvcm1zIHN0b3JhZ2UgSS9PLlxuICovXG5hc3luYyBmdW5jdGlvbiByZWFkQWxsKCkge1xuICAgIGNvbnN0IHJhdyA9IGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChST09UX0tFWSk7XG4gICAgcmV0dXJuIHJhd1tST09UX0tFWV0gPz8ge307XG59XG4vKipcbiAqIFBlcnNpc3RzIHRoZSBlbnRpcmUgc3RhdGUgbWFwIHRvIGNocm9tZS5zdG9yYWdlLmxvY2FsIHVuZGVyIFJPT1RfS0VZLlxuICpcbiAqIEBwYXJhbSBtYXAgLSBUaGUgY29tcGxldGUgc3RhdGUgbWFwIHRvIHdyaXRlLlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHdyaXRlIGNvbXBsZXRlcy5cbiAqIEByZW1hcmtzIFRoaXMgb3ZlcndyaXRlcyB0aGUgc3RvcmVkIG1hcCBmb3IgUk9PVF9LRVkuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHdyaXRlQWxsKG1hcCkge1xuICAgIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IFtST09UX0tFWV06IG1hcCB9KTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBzdGF0ZSBib3VuZCB0byBhIHBhZ2Uga2V5LlxuICogUmV0dXJucyB0aGUgaW5pdGlhbCBkZWZhdWx0IHdoZW4gdGhlIGtleSBoYXMgbm8gc3RvcmVkIHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5IC0gUGFnZSBrZXkgdGhhdCBpZGVudGlmaWVzIHRoZSBwYWdlIHN0YXRlIGJ1Y2tldC5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIFNjcmVlblN0YXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3RhdGUocGFnZUtleSkge1xuICAgIGNvbnN0IG1hcCA9IGF3YWl0IHJlYWRBbGwoKTtcbiAgICByZXR1cm4gKG1hcFtwYWdlS2V5XSA/PyB7XG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgbmV4dElkOiAxLFxuICAgICAgICBkZWZhdWx0U2l6ZTogMTQsXG4gICAgICAgIGRlZmF1bHRDb2xvcjogJ0JsdWUnLFxuICAgICAgICBkZWZhdWx0U2hhcGU6ICdjaXJjbGUnLFxuICAgICAgICBkZWZhdWx0UG9zaXRpb246ICdsZWZ0LXRvcC1vdXRzaWRlJyxcbiAgICAgICAgZGVmYXVsdEdyb3VwOiBVTkdST1VQRURfVkFMVUUsXG4gICAgfSk7XG59XG4vKipcbiAqIFN0b3JlcyB0aGUgZ2l2ZW4gc3RhdGUgdW5kZXIgdGhlIHNwZWNpZmllZCBwYWdlIGtleS5cbiAqXG4gKiBAcGFyYW0gcGFnZUtleVN0ciAtIFBhZ2Uga2V5IHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBzdGF0ZS5cbiAqIEBwYXJhbSBzdGF0ZSAtIFRoZSBTY3JlZW5TdGF0ZSB0byBwZXJzaXN0LlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHdyaXRlIGNvbXBsZXRlcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFN0YXRlKHBhZ2VLZXlTdHIsIHN0YXRlKSB7XG4gICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgIG1hcFtwYWdlS2V5U3RyXSA9IHN0YXRlO1xuICAgIGF3YWl0IHdyaXRlQWxsKG1hcCk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGF0ZSwgc2V0U3RhdGUgfSBmcm9tICdAcGFuZWwvc3RhdGUvc3RvcmUnO1xuLyoqXG4gKiBBcHBsaWVzIGEgcGF0Y2ggKGFkZC91cGRhdGUvcmVtb3ZlKSB0byB0aGUgc3RhdGUgZm9yIHRoZSBnaXZlbiBwYWdlIGtleSxcbiAqIHJlbGFiZWxzIHNlcXVlbnRpYWxseSBpZiBhbnkgcmVtb3ZhbCBvY2N1cnJlZCwgcGVyc2lzdHMgdGhlIHJlc3VsdCxcbiAqIGFuZCByZXR1cm5zIHRoZSB1cGRhdGVkIHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5U3RyIC0gUGFnZSBrZXkgb2YgdGhlIHN0YXRlIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSBwYXRjaCAtIENoYW5nZXMgdG8gYXBwbHkgdG8gdGhlIHN0YXRlLlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVwZGF0ZWQgU2NyZWVuU3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseVBhdGNoKHBhZ2VLZXksIHBhdGNoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBnZXRTdGF0ZShwYWdlS2V5KTtcbiAgICBpZiAocGF0Y2gucmVtb3ZlZElkcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gbmV3IFNldChwYXRjaC5yZW1vdmVkSWRzKTtcbiAgICAgICAgc3RhdGUuaXRlbXMgPSBzdGF0ZS5pdGVtcy5maWx0ZXIoKGl0KSA9PiAhdG9SZW1vdmUuaGFzKGl0LmlkKSk7XG4gICAgfVxuICAgIGlmIChwYXRjaC5hZGRlZD8ubGVuZ3RoKSB7XG4gICAgICAgIGZvciAoY29uc3QgYSBvZiBwYXRjaC5hZGRlZCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBzdGF0ZS5uZXh0SWQrKztcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gSW5maW5pdHk7XG4gICAgICAgICAgICBjb25zdCBpdCA9IHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGEuYW5jaG9yLFxuICAgICAgICAgICAgICAgIHNpemU6IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBzdGF0ZS5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgc2hhcGU6IHN0YXRlLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RhdGUuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGdyb3VwOiBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuaXRlbXMucHVzaChpdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUuaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKHN0YXRlLml0ZW1zKTtcbiAgICBhd2FpdCBzZXRTdGF0ZShwYWdlS2V5LCBzdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuLyoqXG4gKiBUb2dnbGVzIHNlbGVjdGlvbiBmb3IgdGhlIGdpdmVuIGFuY2hvcnMgKGZyb20gQ29udGVudCk6IGlmIGFuIGFuY2hvciBhbHJlYWR5XG4gKiBleGlzdHMsIHJlbW92ZSBpdDsgb3RoZXJ3aXNlIGFkZCBpdC4gRGVkdXBlIGluY29taW5nIGFuY2hvcnMgYnkgYHZhbHVlYCxcbiAqIGFwcGx5IHRoZSBjb3JyZXNwb25kaW5nIHBhdGNoLCBwZXJzaXN0LCBhbmQgcmV0dXJuIHRoZSBsYXRlc3Qgc3RhdGUuXG4gKlxuICogQHBhcmFtIHBhZ2VLZXlTdHIgLSBQYWdlIGtleSBvZiB0aGUgc3RhdGUgdG8gdXBkYXRlLlxuICogQHBhcmFtIGFuY2hvcnMgLSBBbmNob3JzIHJlcG9ydGVkIGJ5IENvbnRlbnQuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgdXBkYXRlZCBTY3JlZW5TdGF0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGVkKHBhZ2VLZXksIGFuY2hvcnMpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IGdldFN0YXRlKHBhZ2VLZXkpO1xuICAgIGNvbnN0IHVuaXEgPSBBcnJheS5mcm9tKG5ldyBTZXQoYW5jaG9ycy5tYXAoKGEpID0+IGEudmFsdWUpKSlcbiAgICAgICAgLm1hcCgodikgPT4gYW5jaG9ycy5maW5kKChhKSA9PiBhLnZhbHVlID09PSB2KSlcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCByZW1vdmVkSWRzID0gW107XG4gICAgY29uc3QgdG9BZGQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGEgb2YgdW5pcSkge1xuICAgICAgICBjb25zdCBmb3VuZCA9IHN0YXRlLml0ZW1zLmZpbmQoKGl0KSA9PiBpdC5hbmNob3Iua2luZCA9PT0gYS5raW5kICYmIGl0LmFuY2hvci52YWx1ZSA9PT0gYS52YWx1ZSk7XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgcmVtb3ZlZElkcy5wdXNoKGZvdW5kLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRvQWRkLnB1c2goeyBhbmNob3I6IGEgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGF0Y2ggPSB7fTtcbiAgICBpZiAocmVtb3ZlZElkcy5sZW5ndGgpXG4gICAgICAgIHBhdGNoLnJlbW92ZWRJZHMgPSByZW1vdmVkSWRzO1xuICAgIGlmICh0b0FkZC5sZW5ndGgpXG4gICAgICAgIHBhdGNoLmFkZGVkID0gdG9BZGQ7XG4gICAgcmV0dXJuIGFwcGx5UGF0Y2gocGFnZUtleSwgcGF0Y2gpO1xufVxuLyoqXG4gKiBSZWxhYmVscyBpdGVtcyBjb25zZWN1dGl2ZWx5ICgxLi5uKSAqd2l0aGluIGVhY2ggZ3JvdXAqIGFuZCByZXBvcnRzXG4gKiB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBcIm5vIGdyb3VwXCIgYnVja2V0LlxuICpcbiAqIEBwYXJhbSBpdGVtcyAtIFRoZSBvcmlnaW5hbCBsaXN0IG9mIGl0ZW1zICh0cmVhdGVkIGltbXV0YWJseSkuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbm9ybWFsaXplZCBpdGVtcyBhbmQgdGhlIG5vLWdyb3VwIGNvdW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtcykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChnKSA9PiAoZyA/PyAnJykudHJpbSgpOyAvLyAnJyBpcyB1bmlmaWVkIGFzIFVuR3JvdXBcbiAgICAvLyBCdWNrZXQgW2luZGV4LCBpdGVtXSBmb3IgZWFjaCBncm91cFxuICAgIGNvbnN0IGJ1Y2tldHMgPSBuZXcgTWFwKCk7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gbm9ybWFsaXplKGl0ZW0uZ3JvdXApO1xuICAgICAgICBpZiAoIWJ1Y2tldHMuaGFzKGtleSkpXG4gICAgICAgICAgICBidWNrZXRzLnNldChrZXksIFtdKTtcbiAgICAgICAgYnVja2V0cy5nZXQoa2V5KS5wdXNoKHsgaW5kZXgsIGl0ZW0gfSk7XG4gICAgfSk7XG4gICAgY29uc3Qgb3V0ID0gaXRlbXMuc2xpY2UoKTtcbiAgICAvLyBTb3J0IGVhY2ggZ3JvdXAg4oaSIFJlYXNzaWduIDEuLm5cbiAgICBmb3IgKGNvbnN0IFssIGJ1Y2tldF0gb2YgYnVja2V0cykge1xuICAgICAgICBidWNrZXQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEuaXRlbS5sYWJlbCAhPT0gYi5pdGVtLmxhYmVsKVxuICAgICAgICAgICAgICAgIHJldHVybiBhLml0ZW0ubGFiZWwgLSBiLml0ZW0ubGFiZWw7XG4gICAgICAgICAgICByZXR1cm4gYS5pdGVtLmlkIC0gYi5pdGVtLmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVja2V0LmZvckVhY2goKHsgaW5kZXgsIGl0ZW0gfSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzaXJlZCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGFiZWwgIT09IGRlc2lyZWQpIHtcbiAgICAgICAgICAgICAgICBvdXRbaW5kZXhdID0geyAuLi5pdGVtLCBsYWJlbDogZGVzaXJlZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImNvbnN0IGkxOG4gPSB7IGdldCwgbG9jYWxpemUgfTtcbi8qKlxuICogUmV0cmlldmVzIGEgbG9jYWxpemVkIG1lc3NhZ2UgYnkga2V5LiBGYWxscyBiYWNrIHRvIHRoZSBrZXkgaXRzZWxmIHdoZW4gbm90IGZvdW5kLlxuICpcbiAqIEBwYXJhbSBrZXkgLSBLZXkgZGVmaW5lZCBpbiBfbG9jYWxlcy9tZXNzYWdlcy5qc29uXG4gKiBAcGFyYW0gc3VicyAtIE9wdGlvbmFsIHN1YnN0aXR1dGlvbiBhcmd1bWVudHNcbiAqIEByZXR1cm5zIExvY2FsaXplZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZ2V0KGtleSwgc3Vicykge1xuICAgIHJldHVybiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKGtleSwgc3VicykgfHwga2V5O1xufVxuLyoqXG4gKiBXYWxrcyB0aGUgRE9NIGFuZCBhcHBsaWVzIGxvY2FsaXplZCBzdHJpbmdzIHRvIGVsZW1lbnRzIHdpdGhcbiAqIGBkYXRhLWkxOG5gIGFuZCBgZGF0YS1pMThuLWF0dHJgLlxuICpcbiAqIEBwYXJhbSByb290IC0gUm9vdCBub2RlIHRvIGxvY2FsaXplIChkZWZhdWx0cyB0byBkb2N1bWVudClcbiAqIEByZW1hcmtzXG4gKiAtIGBkYXRhLWkxOG5gIHJlcGxhY2VzIGB0ZXh0Q29udGVudGAuXG4gKiAtIGBkYXRhLWkxOG4tYXR0cmAgdXNlcyBgYXR0cjprZXk7YXR0cjprZXk7Li4uYCB0byBzZXQgYXR0cmlidXRlcy5cbiAqIC0gTXV0YXRlcyB0aGUgRE9NIGluIHBsYWNlLlxuICovXG5mdW5jdGlvbiBsb2NhbGl6ZShyb290ID0gZG9jdW1lbnQpIHtcbiAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWkxOG5dJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWkxOG4nKTtcbiAgICAgICAgaWYgKGtleSlcbiAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gZ2V0KGtleSk7XG4gICAgfSk7XG4gICAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pMThuLWF0dHJdJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgY29uc3Qgc3BlYyA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pMThuLWF0dHInKTtcbiAgICAgICAgaWYgKCFzcGVjKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2Ygc3BlYy5zcGxpdCgnOycpKSB7XG4gICAgICAgICAgICBjb25zdCBbYXR0ciwga2V5XSA9IHBhaXIuc3BsaXQoJzonKS5tYXAoKHMpID0+IHM/LnRyaW0oKSk7XG4gICAgICAgICAgICBpZiAoYXR0ciAmJiBrZXkpXG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIGdldChrZXkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgaTE4bjtcbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5leHBvcnQgY29uc3QgU1RBVFVTID0ge1xuICAgIFJFU1RSSUNURUQ6ICdSRVNUUklDVEVEJyxcbiAgICBDT05ORUNUSU5HOiAnQ09OTkVDVElORycsXG4gICAgQ09OTkVDVEVEOiAnQ09OTkVDVEVEJyxcbiAgICBESVNDT05ORUNURUQ6ICdESVNDT05ORUNURUQnLFxufTtcbmNvbnN0IFNUQVRVU19NU0dfS0VZID0ge1xuICAgIFJFU1RSSUNURUQ6ICdzdGF0dXNfcmVzdHJpY3RlZCcsXG4gICAgQ09OTkVDVElORzogJ3N0YXR1c19jb25uZWN0aW5nJyxcbiAgICBDT05ORUNURUQ6ICdzdGF0dXNfY29ubmVjdGVkJyxcbiAgICBESVNDT05ORUNURUQ6ICdzdGF0dXNfZGlzY29ubmVjdGVkJyxcbn07XG5leHBvcnQgY29uc3QgU1RBVFVTX0xBQkVMX1NUWUxFID0ge1xuICAgIFJFU1RSSUNURUQ6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLWFtYmVyLTUwJyxcbiAgICAgICAgICAgICdib3JkZXItYW1iZXItMjAwJyxcbiAgICAgICAgICAgICd0ZXh0LWFtYmVyLTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1hbWJlci05NTAnLFxuICAgICAgICAgICAgJ2Rhcms6Ym9yZGVyLWFtYmVyLTkwMC81MCcsXG4gICAgICAgICAgICAnZGFyazp0ZXh0LWFtYmVyLTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1hbWJlci01MDAnXSxcbiAgICB9LFxuICAgIENPTk5FQ1RJTkc6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLXNreS01MCcsXG4gICAgICAgICAgICAnYm9yZGVyLXNreS0yMDAnLFxuICAgICAgICAgICAgJ3RleHQtc2t5LTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1za3ktOTUwJyxcbiAgICAgICAgICAgICdkYXJrOmJvcmRlci1za3ktOTAwLzUwJyxcbiAgICAgICAgICAgICdkYXJrOnRleHQtc2t5LTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1za3ktNTAwJ10sXG4gICAgfSxcbiAgICBDT05ORUNURUQ6IHtcbiAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgJ2JnLWVtZXJhbGQtNTAnLFxuICAgICAgICAgICAgJ2JvcmRlci1lbWVyYWxkLTIwMCcsXG4gICAgICAgICAgICAndGV4dC1lbWVyYWxkLTcwMCcsXG4gICAgICAgICAgICAnZGFyazpiZy1lbWVyYWxkLTk1MCcsXG4gICAgICAgICAgICAnZGFyazpib3JkZXItZW1lcmFsZC05MDAvNTAnLFxuICAgICAgICAgICAgJ2Rhcms6dGV4dC1lbWVyYWxkLTMwMCcsXG4gICAgICAgIF0sXG4gICAgICAgIGRvdDogWydiZy1lbWVyYWxkLTUwMCddLFxuICAgIH0sXG4gICAgRElTQ09OTkVDVEVEOiB7XG4gICAgICAgIGJvZHk6IFtcbiAgICAgICAgICAgICdiZy1yb3NlLTUwJyxcbiAgICAgICAgICAgICdib3JkZXItcm9zZS0yMDAnLFxuICAgICAgICAgICAgJ3RleHQtcm9zZS03MDAnLFxuICAgICAgICAgICAgJ2Rhcms6Ymctcm9zZS05NTAnLFxuICAgICAgICAgICAgJ2Rhcms6Ym9yZGVyLXJvc2UtOTAwLzUwJyxcbiAgICAgICAgICAgICdkYXJrOnRleHQtcm9zZS0zMDAnLFxuICAgICAgICBdLFxuICAgICAgICBkb3Q6IFsnYmctcm9zZS01MDAnXSxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNNZXNzYWdlKGtleSkge1xuICAgIGNvbnN0IG1zZ0tleSA9IFNUQVRVU19NU0dfS0VZW2tleV07XG4gICAgcmV0dXJuIGkxOG4uZ2V0KG1zZ0tleSkgfHwgbXNnS2V5O1xufVxuIiwiLyoqXG4gKiBBY3Rpb25UeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQW4gZXhoYXVzdGl2ZSBsaXN0IG9mICphcHBsaWNhdGlvbi1sZXZlbCBldmVudHMqIGNvbnN1bWVkIGJ5IHRoZSByZWR1Y2VyICh1cGRhdGUudHMpLlxuICogT3JpZ2luczpcbiAqICAgLSBWaWV3IFVJIGV2ZW50cyAobm9ybWFsaXplZCBieSB0aGUgQ29udHJvbGxlcilcbiAqICAgLSBNZXNzYWdlcyBmcm9tIENvbnRlbnQvQmFja2dyb3VuZCBzY3JpcHRzXG4gKiAgIC0gUmVzdWx0cyBvZiBhc3luYyBJL08gKGNhcHR1cmUgc3VjY2Vzcy9mYWlsdXJlLCBldGMuKVxuICogVXNhZ2U6XG4gKiAgIC0gQWN0cyBhcyB0aGUgZGlzY3JpbWluYW50IGZvciBgc3dpdGNoKGFjdGlvbi50eXBlKWAgaW4gdGhlIHJlZHVjZXJcbiAqICAgLSBQdXJlbHkgZGV0ZXJtaW5lcyBob3cgdGhlIE1vZGVsIHRyYW5zaXRpb25zIChubyBzaWRlIGVmZmVjdHMgaGVyZSlcbiAqL1xuZXhwb3J0IHZhciBBY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChBY3Rpb25UeXBlKSB7XG4gICAgLyoqIEFwcCBib290c3RyYXAgLyBzdGFydCAqL1xuICAgIEFjdGlvblR5cGVbXCJJTklUXCJdID0gXCJJTklUXCI7XG4gICAgLyoqIEFjdGl2ZSB0YWIgcmVzb2x2ZWQgYW5kIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgKHRhYklkL3BhZ2VLZXkgZGVjaWRlZCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ09OTkVDVEVEXCJdID0gXCJDT05ORUNURURcIjtcbiAgICAvKiogVXBkYXRlIHBhbmVsIHN0YXR1cyAoQ09OTkVDVElORyAvIENPTk5FQ1RFRCAvIFJFU1RSSUNURUQgLyBESVNDT05ORUNURUQsIGV0Yy4pICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9TVEFUVVNcIl0gPSBcIlNFVF9TVEFUVVNcIjtcbiAgICAvKiogUmVzdG9yZSBwZXJzaXN0ZWQgc3RhdGU6IGl0ZW1zIGFuZCBkZWZhdWx0cyAoc2l6ZS9jb2xvci9zaGFwZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVTVE9SRV9TVEFURVwiXSA9IFwiUkVTVE9SRV9TVEFURVwiO1xuICAgIC8qKiBPdmVyd3JpdGVzIHRoZSBzZXQgb2YgZWxlbWVudHMgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIGNvbnRlbnQgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX01JU1NJTkdfSURTXCJdID0gXCJTRVRfTUlTU0lOR19JRFNcIjtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBwYWdlIG92ZXJsYXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIEFjdGlvblR5cGVbXCJDTEVBUl9BTExcIl0gPSBcIkNMRUFSX0FMTFwiO1xuICAgIC8qKiBDb250ZW50IOKGkiBQYW5lbDogYW5jaG9ycyB3ZXJlIHRvZ2dsZWQgKHNlbGVjdGVkL3Vuc2VsZWN0ZWQpIG9uIHRoZSBwYWdlICovXG4gICAgQWN0aW9uVHlwZVtcIkNPTlRFTlRfU0VMRUNURURcIl0gPSBcIkNPTlRFTlRfU0VMRUNURURcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2Ugc2l6ZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NJWkVcIl0gPSBcIlNFVF9CQURHRV9TSVpFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIGNvbG9yIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfQ09MT1JcIl0gPSBcIlNFVF9CQURHRV9DT0xPUlwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBzaGFwZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NIQVBFXCJdID0gXCJTRVRfQkFER0VfU0hBUEVcIjtcbiAgICAvKiogRGVsZXRlIHRoZSBzZWxlY3RlZCBiYWRnZSAqL1xuICAgIEFjdGlvblR5cGVbXCJCQURHRV9ERUxFVEVcIl0gPSBcIkJBREdFX0RFTEVURVwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBwb3NpdGlvbiAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1BPU0lUSU9OXCJdID0gXCJTRVRfQkFER0VfUE9TSVRJT05cIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgZm9ybWF0IChwbmcvanBlZykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfRk9STUFUXCJdID0gXCJTRVRfQ0FQVFVSRV9GT1JNQVRcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgYXJlYSAoZnVsbC92aWV3cG9ydCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfQVJFQVwiXSA9IFwiU0VUX0NBUFRVUkVfQVJFQVwiO1xuICAgIC8qKiBVcGRhdGUgSlBFRyBxdWFsaXR5ICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIl0gPSBcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgc2NhbGUgZmFjdG9yICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1NDQUxFXCJdID0gXCJTRVRfQ0FQVFVSRV9TQ0FMRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgQWN0aW9uVHlwZVtcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCJdID0gXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgQWN0aW9uVHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIHJ1biBhIGNhcHR1cmUgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0FQVFVSRV9SRVFVRVNURURcIl0gPSBcIkNBUFRVUkVfUkVRVUVTVEVEXCI7XG4gICAgLyoqIENhcHR1cmUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX1NVQ0NFRURFRFwiXSA9IFwiQ0FQVFVSRV9TVUNDRUVERURcIjtcbiAgICAvKiogQ2FwdHVyZSBmYWlsZWQgd2l0aCBhbiBlcnJvciAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX0ZBSUxFRFwiXSA9IFwiQ0FQVFVSRV9GQUlMRURcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVPUkRFUl9JVEVNU1wiXSA9IFwiUkVPUkRFUl9JVEVNU1wiO1xuICAgIC8qKiBVcGRhdGUgYSBncm91cCBvZiBlbGVtZW50cyAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfR1JPVVBcIl0gPSBcIlNFVF9HUk9VUFwiO1xuICAgIC8qKiBQb3J0IGRpc2Nvbm5lY3RlZCAobG9zdCBjb25uZWN0aW9uIHRvIENvbnRlbnQvU2VydmljZSBXb3JrZXIpICovXG4gICAgQWN0aW9uVHlwZVtcIlBPUlRfRElTQ09OTkVDVEVEXCJdID0gXCJQT1JUX0RJU0NPTk5FQ1RFRFwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIGNsb3NlIHRoZSBwYW5lbCB3aGVuIHRoZSB0YWJJZCBtYXRjaGVzIChCYWNrZ3JvdW5kIOKGkiBQYW5lbCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0xPU0VfUEFORUxfUkVRVUVTVEVEXCJdID0gXCJDTE9TRV9QQU5FTF9SRVFVRVNURURcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIl0gPSBcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIjtcbiAgICAvKiogU3RhcnQgaXRlbSBob3ZlciAqL1xuICAgIEFjdGlvblR5cGVbXCJJVEVNX0hPVkVSX0lOXCJdID0gXCJJVEVNX0hPVkVSX0lOXCI7XG4gICAgLyoqIEVuZCBpdGVtIGhvdmVyICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBQZXJzaXN0IHRoZSBlZGl0ZWQgY29tbWVudCB0ZXh0IGZvciB0aGUgdGFyZ2V0ZWQgaXRlbSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfSVRFTV9DT01NRU5UXCJdID0gXCJVUERBVEVfSVRFTV9DT01NRU5UXCI7XG59KShBY3Rpb25UeXBlIHx8IChBY3Rpb25UeXBlID0ge30pKTtcbiIsIi8qKlxuICogRWZmZWN0VHlwZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEEgZGVjbGFyYXRpdmUgc2V0IG9mICpzaWRlLWVmZmVjdCByZXF1ZXN0cyogcHJvZHVjZWQgYnkgdGhlIHJlZHVjZXIuXG4gKiBFeGVjdXRvcjpcbiAqICAgLSBUaGUgQ29udHJvbGxlciBpbnRlcnByZXRzIGFuZCBwZXJmb3JtcyBlYWNoIGVmZmVjdCAoSS9PLCBSUEMsIHBlcnNpc3RlbmNlKS5cbiAqIFB1cnBvc2U6XG4gKiAgIC0gS2VlcCB0aGUgcmVkdWNlciBwdXJlIHdoaWxlIHN0aWxsIGVuYWJsaW5nIG5lY2Vzc2FyeSBleHRlcm5hbCBlZmZlY3RzLlxuICovXG5leHBvcnQgdmFyIEVmZmVjdFR5cGU7XG4oZnVuY3Rpb24gKEVmZmVjdFR5cGUpIHtcbiAgICAvKiogUHVzaCB0aGUgY3VycmVudCBpdGVtcyB0byB0aGUgQ29udGVudCBzY3JpcHQgdG8gcmVuZGVyIHRoZSBvdmVybGF5ICovXG4gICAgRWZmZWN0VHlwZVtcIlJFTkRFUl9DT05URU5UXCJdID0gXCJSRU5ERVJfQ09OVEVOVFwiO1xuICAgIC8qKiBFbmFibGUvZGlzYWJsZSBzZWxlY3Rpb24gbW9kZSBvbiB0aGUgQ29udGVudCBzaWRlICovXG4gICAgRWZmZWN0VHlwZVtcIlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVFwiXSA9IFwiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UXCI7XG4gICAgLyoqIENsZWFyIG92ZXJsYXkgb24gdGhlIENvbnRlbnQgc2lkZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJDTEVBUl9DT05URU5UXCJdID0gXCJDTEVBUl9DT05URU5UXCI7XG4gICAgLyoqIGl0ZW0gaG92ZXIgKi9cbiAgICBFZmZlY3RUeXBlW1wiSE9WRVJcIl0gPSBcIkhPVkVSXCI7XG4gICAgLyoqIHJlcXVlc3QgbWVhc3VyaW5nIHRoZSBjb250ZW50IHNpemUgKi9cbiAgICBFZmZlY3RUeXBlW1wiTUVBU1VSRV9DT05URU5UX1NJWkVcIl0gPSBcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCI7XG4gICAgLyoqIFJ1biBhIGNhcHR1cmUgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVycyAodGFiSWQvZm9ybWF0L2FyZWEvcXVhbGl0eS9zY2FsZSkgKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0FQVFVSRVwiXSA9IFwiQ0FQVFVSRVwiO1xuICAgIC8qKiBQZXJzaXN0IHRoZSBzdGF0ZSB0byBzdG9yYWdlIHdpdGggc2VsZWN0ZWQgaXRlbXMgcmVzZXQgKGNsZWFyZWQpLiAqL1xuICAgIEVmZmVjdFR5cGVbXCJDTEVBUl9TVEFURVwiXSA9IFwiQ0xFQVJfU1RBVEVcIjtcbiAgICAvKipcbiAgICAgKiBQZXJzaXN0IHRoZSBjdXJyZW50IHN0YXRlIHRvIHN0b3JhZ2UuXG4gICAgICogTk9URTogTXVzdCBwcmVzZXJ2ZSBleGlzdGluZyBjb3VudGVycyAobmV4dElkL25leHRMYWJlbCk7IGRvIG5vdCByZXNldCB0aGVtLlxuICAgICAqL1xuICAgIEVmZmVjdFR5cGVbXCJQRVJTSVNUX1NUQVRFXCJdID0gXCJQRVJTSVNUX1NUQVRFXCI7XG4gICAgLyoqIFJlcG9ydC9sb2cgYW4gZXJyb3IgKGFuZCBvcHRpb25hbGx5IHN1cmZhY2UgaXQgdG8gdGhlIFVJKSAqL1xuICAgIEVmZmVjdFR5cGVbXCJOT1RJRllfRVJST1JcIl0gPSBcIk5PVElGWV9FUlJPUlwiO1xufSkoRWZmZWN0VHlwZSB8fCAoRWZmZWN0VHlwZSA9IHt9KSk7XG4iLCJleHBvcnQgY29uc3QgUFJPVE9DT0xfVkVSU0lPTiA9IDE7XG5leHBvcnQgY29uc3QgQ0hBTk5FTCA9IHtcbiAgICBQQU5FTF9DT05URU5UOiBgc3BzazpwYW5lbC1jb250ZW50OnYke1BST1RPQ09MX1ZFUlNJT059YCxcbn07XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBQb3J0Lm5hbWUgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGNoYW5uZWwuXG4gKiBVc2UgdGhpcyB0byBzYWZlbHkgZGlzdGluZ3Vpc2ggY29ubmVjdGlvbiB0eXBlcyBiZXR3ZWVuIFBhbmVsIGFuZCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSBwb3J0IC0gQSBjb25uZWN0ZWQgcnVudGltZS5Qb3J0XG4gKiBAcGFyYW0gbmFtZSAtIFRhcmdldCBjaGFubmVsIG5hbWUgdG8gY29tcGFyZVxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcG9ydCBiZWxvbmdzIHRvIHRoZSBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0NoYW5uZWwocG9ydCwgbmFtZSkge1xuICAgIHJldHVybiBwb3J0Lm5hbWUgPT09IG5hbWU7XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcG9ydCBpcyB1c2VkIGZvciBQYW5lbCDihpQgQ29udGVudCBjb21tdW5pY2F0aW9uLlxuICogQSBjb252ZW5pZW5jZSB3cmFwcGVyIGZvciBDSEFOTkVMLlBBTkVMX0NPTlRFTlQuXG4gKlxuICogQHBhcmFtIHBvcnQgLSBBIGNvbm5lY3RlZCBydW50aW1lLlBvcnRcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvcnQgaXMgdGhlIFBhbmVs4oCTQ29udGVudCBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BhbmVsQ29udGVudFBvcnQocG9ydCkge1xuICAgIHJldHVybiBpc0NoYW5uZWwocG9ydCwgQ0hBTk5FTC5QQU5FTF9DT05URU5UKTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG4vKipcbiAqIFRoaW4gUlBDIHdyYXBwZXIgZm9yIHNlbmRpbmcgbWVzc2FnZXMgZnJvbSBQYW5lbCB0byBDb250ZW50LlxuICogRXhwb3NlcyBoaWdoLWxldmVsIG1ldGhvZHMgZm9yIGVhY2ggbWVzc2FnZSB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgUGFuZWxBcGkge1xuICAgIHJwYztcbiAgICBjb25zdHJ1Y3RvcihycGMpIHtcbiAgICAgICAgdGhpcy5ycGMgPSBycGM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNlbmQgaGVscGVyIHRoYXQgYXR0YWNoZXMgYW4gUlBDIHJlcXVlc3QgaWQgYXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZHkgLSBNZXNzYWdlIHBheWxvYWQgdG8gc2VuZFxuICAgICAqIEByZXR1cm5zIFZvaWQtbGlrZSB3aGVuIG5vIHJlcGx5IGlzIGV4cGVjdGVkOyBvdGhlcndpc2UgcmVzb2x2ZXMgd2l0aCBhIHJlc3BvbnNlXG4gICAgICovXG4gICAgc2VuZChib2R5KSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZXhwZWN0UmVwbHk6IGZhbHNlLFxuICAgICAgICAgICAgLi4uYm9keSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnNlbmQocmVxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgQ29udGVudCB0byByZW5kZXIgdGhlIGdpdmVuIGl0ZW1zLlxuICAgICAqIEBwYXJhbSBpdGVtcyAtIEl0ZW1zIHRvIGRyYXdcbiAgICAgKi9cbiAgICByZW5kZXIoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLlJFTkRFUiwgcGF5bG9hZDogeyBpdGVtcyB9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHNlbGVjdGlvbiBtb2RlIGluIENvbnRlbnQuXG4gICAgICogQHBhcmFtIGVuYWJsZWQgLSBUcnVlIHRvIGVuYWJsZVxuICAgICAqL1xuICAgIHRvZ2dsZVNlbGVjdChlbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5UT0dHTEVfU0VMRUNULCBwYXlsb2FkOiB7IGVuYWJsZWQgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBDb250ZW50IG92ZXJsYXkuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5DTEVBUiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBob3ZlcmVkIGl0ZW0gYW5kIHJlcXVlc3QgYSB0cmFuc2llbnQgaGlnaGxpZ2h0IG9uIENvbnRlbnQuXG4gICAgICogUGFzcyBgbnVsbGAgdG8gY2xlYXIgdGhlIGN1cnJlbnQgaG92ZXIgaGlnaGxpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIC0gVGFyZ2V0IGl0ZW0gSUQsIG9yIGBudWxsYCB0byBjbGVhci5cbiAgICAgKi9cbiAgICBob3ZlcihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuSE9WRVIsIHBheWxvYWQ6IHsgaWQgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IHRvIG1lYXN1cmUgdGhlIGN1cnJlbnQgY29udGVudCBzaXplLlxuICAgICAqL1xuICAgIG1lYXN1cmVTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuTUVBU1VSRV9TSVpFIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGNvbm5lY3Rpdml0eSBoZWFsdGggY2hlY2sgKHJvdW5kLXRyaXApLlxuICAgICAqIFNlbnQgYXMgYSByZXF1ZXN0IGV4cGVjdGluZyBhIHJlcGx5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlLCBvciB1bmRlZmluZWQgb24gdGltZW91dFxuICAgICAqL1xuICAgIHBpbmcoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZXhwZWN0UmVwbHk6IHRydWUsXG4gICAgICAgICAgICB0eXBlOiBNU0dfVFlQRS5QSU5HLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMuc2VuZChyZXEsIDUwMDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGlzUmVzcG9uc2UgfSBmcm9tICdAY29tbW9uL21lc3NhZ2VzJztcbi8qKlxuICogSW1wbGVtZW50cyBhIG1pbmltYWwgcmVxdWVzdC9yZXNwb25zZSBSUEMgb3ZlciBjaHJvbWUucnVudGltZS5Qb3J0LlxuICogVHJhY2tzIHBlbmRpbmcgcmVxdWVzdHMgYnkgaWQgYW5kIGhhbmRsZXMgdGltZW91dHMgYW5kIGRpc2Nvbm5lY3RzLlxuICovXG5leHBvcnQgY2xhc3MgUG9ydFJwYyB7XG4gICAgcG9ydDtcbiAgICBwZW5kaW5nID0gbmV3IE1hcCgpO1xuICAgIGFsaXZlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRvIHBvcnQgbWVzc2FnZSBhbmQgZGlzY29ubmVjdCBldmVudHMuXG4gICAgICogQHBhcmFtIHBvcnQgLSBUaGUgcnVudGltZS5Qb3J0IHVzZWQgZm9yIG1lc3NhZ2luZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBvcnQpIHtcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgdGhpcy5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShtc2cpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmdldChtc2cuaWQpPy4obXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKG1zZy5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFJlYXNvbnMgc3VjaCBhcyBCRkNhY2hlIG1heSBiZSBpbmNsdWRlZFxuICAgICAgICAgICAgY29uc3QgcmVhc29uID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yPy5tZXNzYWdlID8/ICdkaXNjb25uZWN0ZWQnO1xuICAgICAgICAgICAgLy8gVHJlYXQgcGVuZGluZyBzdGF0dXMgYXMgZmFpbHVyZSB3aGVuIGEgZGlzY29ubmVjdGlvbiBvY2N1cnMuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgcmVzb2x2ZV0gb2YgdGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGlkLCBvazogZmFsc2UsIGVycm9yOiByZWFzb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEdldCB0aGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXR1c1xuICAgIGdldCBpc0FsaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGl2ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYW4gUlBDIHJlcXVlc3QgYW5kIG9wdGlvbmFsbHkgYXdhaXRzIGEgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxIC0gVGhlIFJQQyByZXF1ZXN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0gdGltZW91dE1zIC0gVGltZW91dCAobXMpIHdoZW4gd2FpdGluZyBmb3IgYSByZXBseSAoZGVmYXVsdCA1MDAwKVxuICAgICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSB3aGVuIGBleHBlY3RSZXBseWAgaXMgdHJ1ZTsgb3RoZXJ3aXNlIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHNlbmQocmVxLCB0aW1lb3V0TXMgPSA1MDAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgYWxyZWFkeSBkaXNjb25uZWN0ZWQsIGltbWVkaWF0ZWx5IHRlcm1pbmF0ZSAoYXZvaWQgVW5jaGVja2VkIHJ1bnRpbWUubGFzdEVycm9yKVxuICAgICAgICAgICAgaWYgKCF0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVxLmV4cGVjdFJlcGx5ID8gdW5kZWZpbmVkIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXEuZXhwZWN0UmVwbHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5zZXQocmVxLmlkLCAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHJlcSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcS5leHBlY3RSZXBseSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShyZXEuaWQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlcS5leHBlY3RSZXBseSlcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBDRFBfVkVSU0lPTiA9ICcxLjMnO1xuLyoqXG4gKiBXcmFwcyBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBpbnRvIGEgc3RhbmRhcmQgYEVycm9yYCBpbnN0YW5jZS5cbiAqXG4gKiBAcmV0dXJucyBBbiBgRXJyb3JgIGlmIGEgbGFzdCBlcnJvciBleGlzdHM7IG90aGVyd2lzZSBgbnVsbGAuXG4gKi9cbmZ1bmN0aW9uIGxhc3RFcnJvcigpIHtcbiAgICBjb25zdCBlcnIgPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I7XG4gICAgcmV0dXJuIGVyciA/IG5ldyBFcnJvcihlcnIubWVzc2FnZSB8fCBTdHJpbmcoZXJyKSkgOiBudWxsO1xufVxuLyoqIFRyYWNrcyB0YWJJZHMgdGhhdCB0aGlzIGV4dGVuc2lvbiBjdXJyZW50bHkgb3ducyAoYXR0YWNoZWQgYnkgaXRzZWxmKS4gKi9cbmNvbnN0IE9XTkVEID0gbmV3IFNldCgpO1xuLyoqIENsZWFycyBvd25lcnNoaXAgb24gZGV0YWNoIChjb3ZlcnMgZXh0ZXJuYWwgY2F1c2VzIGxpa2Ugb3BlbmluZy9jbG9zaW5nIERldlRvb2xzKS4gKi9cbmNocm9tZS5kZWJ1Z2dlci5vbkRldGFjaC5hZGRMaXN0ZW5lcigoZGVidWdnZWUpID0+IHtcbiAgICBjb25zdCBpZCA9IGRlYnVnZ2VlLnRhYklkO1xuICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKVxuICAgICAgICBPV05FRC5kZWxldGUoaWQpO1xufSk7XG4vKipcbiAqIERldGFjaGVzIHRoZSBDaHJvbWUgRGVidWdnZXIgKENEUCkgZnJvbSB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgZGVidWdnZWUgdG8gZGV0YWNoIGZyb20uXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGRldGFjaG1lbnQgY29tcGxldGVzLlxuICovXG5hc3luYyBmdW5jdGlvbiBkZXRhY2godGFyZ2V0KSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLmRldGFjaCh0YXJnZXQsICgpID0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFNhZmVseSBhdHRhY2hlcyB0byB0aGUgdGFyZ2V0LiBJZiBhIHByZXZpb3VzIHNlc3Npb24gb3duZWQgYnkgdGhpcyBleHRlbnNpb25cbiAqIGlzIGFscmVhZHkgYXR0YWNoZWQsIGl0IHJldXNlcyBpdCBpbnN0ZWFkIG9mIGZhaWxpbmcuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBhdHRhY2ggdG8gKGUuZy4sIGB7IHRhYklkIH1gKS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGB0cnVlYCB3aGVuIHRoaXMgY2FsbCBwZXJmb3JtZWQgYSBuZXcgYXR0YWNoLFxuICogICAgICAgICAgb3IgYGZhbHNlYCB3aGVuIGFuIGV4aXN0aW5nIG93bmVkIHNlc3Npb24gaXMgcmV1c2VkLlxuICogQHRocm93cyBJZiBhbm90aGVyIGNsaWVudCAoRGV2VG9vbHMvYW5vdGhlciBleHRlbnNpb24pIGlzIGF0dGFjaGVkLCBvciBvbiBvdGhlciBhdHRhY2ggZXJyb3JzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXR0YWNoT3duZWQodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFiSWQgPSB0YXJnZXQudGFiSWQgPz8gbnVsbDtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaHJvbWUuZGVidWdnZXIuYXR0YWNoKHRhcmdldCwgQ0RQX1ZFUlNJT04sICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhYklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIE9XTkVELmFkZCh0YWJJZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsgLy8gbmV3bHkgYXR0YWNoZWQgYnkgdGhpcyBjYWxsXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbXNnID0gZXJyLm1lc3NhZ2UgfHwgJyc7XG4gICAgICAgICAgICBpZiAobXNnLmluY2x1ZGVzKCdBbm90aGVyIGRlYnVnZ2VyIGlzIGFscmVhZHkgYXR0YWNoZWQnKSkge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgYXR0YWNoZWQ6IHJldXNlIG9ubHkgaWYgb3duZWQgYnkgdGhpcyBleHRlbnNpb24uXG4gICAgICAgICAgICAgICAgaWYgKHRhYklkICE9IG51bGwgJiYgT1dORUQuaGFzKHRhYklkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsgLy8gcmV1c2UgZXhpc3Rpbmcgb3duZWQgc2Vzc2lvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRGVidWdnZXIgaXMgYWxyZWFkeSBhdHRhY2hlZCBieSBhbm90aGVyIGNsaWVudCAoRGV2VG9vbHMvZXh0ZW5zaW9uKS4nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihtc2cpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFNhZmVseSBkZXRhY2hlcyBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgZXh0ZW5zaW9uIG93bnMgdGhlIHNlc3Npb24uXG4gKiBOby1vcHMgaWYgdGhlIHRhcmdldCBpcyBub3Qgb3duZWQuXG4gKlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byBkZXRhY2ggZnJvbS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGRldGFjaGluZyAob3IgaW1tZWRpYXRlbHkgaWYgbm90IG93bmVkKS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRldGFjaE93bmVkKHRhcmdldCkge1xuICAgIGNvbnN0IHRhYklkID0gdGFyZ2V0LnRhYklkID8/IG51bGw7XG4gICAgaWYgKHRhYklkID09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoIU9XTkVELmhhcyh0YWJJZCkpXG4gICAgICAgIHJldHVybjsgLy8gbm90IG93bmVkIGJ5IHRoaXMgZXh0ZW5zaW9uXG4gICAgYXdhaXQgZGV0YWNoKHRhcmdldCk7XG4gICAgT1dORUQuZGVsZXRlKHRhYklkKTtcbn1cbi8qKlxuICogU2VuZHMgYSBDRFAgY29tbWFuZCB0byB0aGUgYXR0YWNoZWQgdGFyZ2V0LlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIEV4cGVjdGVkIHJlc3VsdCB0eXBlIG9mIHRoZSBjb21tYW5kLlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZWJ1Z2dlZSB0byB3aGljaCB0aGUgY29tbWFuZCBpcyBzZW50LlxuICogQHBhcmFtIG1ldGhvZCAtIENEUCBtZXRob2QgbmFtZSAoZS5nLiwgYCdQYWdlLmNhcHR1cmVTY3JlZW5zaG90J2ApLlxuICogQHBhcmFtIHBhcmFtcyAtIE9wdGlvbmFsIHBhcmFtZXRlcnMgb2JqZWN0IGZvciB0aGUgY29tbWFuZC5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbW1hbmQgcmVzdWx0IG9yIHJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZCh0YXJnZXQsIG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLnNlbmRDb21tYW5kKHRhcmdldCwgbWV0aG9kLCBwYXJhbXMgPz8ge30sIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGxhc3RFcnJvcigpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgocmVzdWx0ID8/IHt9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgaXNSZXN0cmljdGVkIH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgYXR0YWNoT3duZWQsIGRldGFjaE93bmVkLCBzZW5kIH0gZnJvbSAnQGluZnJhL2NkcC9jZHBfY2xpZW50Jztcbi8qKlxuICogTm9ybWFsaXplcyBhIHN0cmluZyBmb3Igc2FmZSB1c2UgYXMgYSBmaWxlbmFtZTpcbiAqIHJlcGxhY2VzIHJlc2VydmVkIGNoYXJhY3RlcnMsIGNvbGxhcHNlcyB3aGl0ZXNwYWNlLCBhbmQgdHJpbXMgZW5kcy5cbiAqXG4gKiBAcGFyYW0gcyAtIFJhdyBzdHJpbmcgdG8gc2FuaXRpemUuXG4gKiBAcmV0dXJucyBTYW5pdGl6ZWQgZmlsZW5hbWUtc2FmZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplRm9yRmlsZW5hbWUocykge1xuICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9bXFxcXC86Kj9cIjw+fF0vZywgJ18nKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAgIC50cmltKCk7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHRpbWVzdGFtcGVkIGZpbGVuYW1lIGZvciB0aGUgY2FwdHVyZSBiYXNlZCBvbiB0aGUgdGFiJ3MgdGl0bGUgb3IgaG9zdC5cbiAqIFRydW5jYXRlcyB0aGUgYmFzZSBuYW1lIHRvIDgwIGNoYXJhY3RlcnMgYW5kIGFwcGVuZHMgdGhlIHByb3BlciBleHRlbnNpb24uXG4gKlxuICogQHBhcmFtIHRhYiAtIFNvdXJjZSB0YWIgKHRpdGxlL3VybCB1c2VkIGZvciBuYW1pbmcpLlxuICogQHBhcmFtIGZtdCAtIFRhcmdldCBpbWFnZSBmb3JtYXQgKCdwbmcnIHwgJ2pwZWcnKS5cbiAqIEByZXR1cm5zIEEgZmlsZW5hbWUgbGlrZSBgcGFnZS0yMDI1LTA4LTEzVDEwLTIwLTMwLTAwMFoucG5nYC5cbiAqL1xuZnVuY3Rpb24gbWFrZUZpbGVuYW1lKHRhYiwgZm10KSB7XG4gICAgY29uc3QgdGl0bGUgPSB0YWIudGl0bGUgJiYgdGFiLnRpdGxlLnRyaW0oKSA/IHRhYi50aXRsZSA6ICcnO1xuICAgIGxldCBiYXNlID0gdGl0bGUgfHxcbiAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwodGFiLnVybCA/PyAnJykuaG9zdCB8fCAncGFnZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdwYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICBiYXNlID0gc2FuaXRpemVGb3JGaWxlbmFtZShiYXNlKTtcbiAgICBpZiAoYmFzZS5sZW5ndGggPiA4MClcbiAgICAgICAgYmFzZSA9IGJhc2Uuc2xpY2UoMCwgODApO1xuICAgIGNvbnN0IHRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcbiAgICByZXR1cm4gYCR7YmFzZX0tJHt0c30uJHtmbXR9YDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCB2aXN1YWwgdmlld3BvcnQgcmVjdGFuZ2xlIGluIENTUyBwaXhlbHMgKGZvciB2aWV3cG9ydCBjYXB0dXJlKS5cbiAqIEBwYXJhbSB0YXJnZXQgLSBEZXZUb29scyBQcm90b2NvbCB0YXJnZXQgdGFiIChgY2hyb21lLmRlYnVnZ2VyLkRlYnVnZ2VlYCkuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH1gIGluIENTUyBwaXhlbHMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZpZXdwb3J0Q3NzUmVjdCh0YXJnZXQpIHtcbiAgICBjb25zdCBsbSA9IGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5nZXRMYXlvdXRNZXRyaWNzJyk7XG4gICAgY29uc3QgdiA9IGxtLmNzc1Zpc3VhbFZpZXdwb3J0O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IE1hdGgubWF4KDAsIE1hdGguZmxvb3Iodi5wYWdlWCkgfCAwKSxcbiAgICAgICAgeTogTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih2LnBhZ2VZKSB8IDApLFxuICAgICAgICB3aWR0aDogTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHYuY2xpZW50V2lkdGgpIHwgMCksXG4gICAgICAgIGhlaWdodDogTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHYuY2xpZW50SGVpZ2h0KSB8IDApLFxuICAgIH07XG59XG4vKipcbiAqIFJlc29sdmVzIHNjcmVlbnNob3QgZ2VvbWV0cnkgZm9yIHRoZSBzZWxlY3RlZCBjYXB0dXJlIGFyZWEuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gRGV2VG9vbHMgUHJvdG9jb2wgdGFyZ2V0IHRhYiAoYGNocm9tZS5kZWJ1Z2dlci5EZWJ1Z2dlZWApLlxuICogQHBhcmFtIGFyZWEgLSBDYXB0dXJlIGFyZWE6IGAnZnVsbCdgIChlbnRpcmUgcGFnZSkgb3IgYCd2aWV3cG9ydCdgICh2aXNpYmxlIGFyZWEpLlxuICogQHBhcmFtIHNjYWxlIC0gSW1hZ2Ugc2NhbGUgZmFjdG9yIGFwcGxpZWQgdG8gYGNsaXAuc2NhbGVgLlxuICogQHBhcmFtIGNvbnRlbnRTaXplIC0gTWVhc3VyZWQgcGFnZSBjb250ZW50IHNpemUgaW4gQ1NTIHBpeGVscyB1c2VkIHdoZW4gYGFyZWFgIGlzIGAnZnVsbCdgLlxuICogQHJldHVybnMgYENhcHR1cmVHZW9tZXRyeWAgZGVzY3JpYmluZyB3aGV0aGVyIGRldmljZSBtZXRyaWNzIG92ZXJyaWRlIGlzIHJlcXVpcmVkIGFuZCB0aGUgY2xpcCByZWN0YW5nbGUgZm9yIGBQYWdlLmNhcHR1cmVTY3JlZW5zaG90YC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZUdlb21ldHJ5KHRhcmdldCwgYXJlYSwgc2NhbGUsIGNvbnRlbnRTaXplKSB7XG4gICAgaWYgKGFyZWEgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgLy8gTm8gb3ZlcnJpZGUgcmVxdWlyZWQ6IENsaXAgdGhlIGN1cnJlbnQgZGlzcGxheSBhcmVhIHdpdGggY2xpcFxuICAgICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGF3YWl0IGdldFZpZXdwb3J0Q3NzUmVjdCh0YXJnZXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlT3ZlcnJpZGU6IGZhbHNlLFxuICAgICAgICAgICAgY2xpcDogeyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9LFxuICAgICAgICAgICAgY2FwdHVyZUJleW9uZFZpZXdwb3J0OiB0cnVlLFxuICAgICAgICAgICAgc2hvdWxkU2Nyb2xsVG9wOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoY29udGVudFNpemUud2lkdGgpIHwgMCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGNvbnRlbnRTaXplLmhlaWdodCkgfCAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VPdmVycmlkZTogdHJ1ZSxcbiAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBkZXZpY2VTY2FsZUZhY3RvcjogMSxcbiAgICAgICAgICAgIG1vYmlsZTogZmFsc2UsXG4gICAgICAgICAgICBzY3JlZW5XaWR0aDogd2lkdGgsXG4gICAgICAgICAgICBzY3JlZW5IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHBvc2l0aW9uWDogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uWTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgY2xpcDogeyB4OiAwLCB5OiAwLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9LFxuICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IHRydWUsXG4gICAgICAgIHNob3VsZFNjcm9sbFRvcDogdHJ1ZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDYXB0dXJlIHNjcmVlbnNob3RzIGFuZCBzYXZlIHRoZW0gdmlhIHRoZSBkb3dubG9hZCBBUEkuXG4gKlxuICogQHBhcmFtIG9wdHMgLSBDYXB0dXJlIG9wdGlvbnMgKHRhYiBpZCwgZm9ybWF0LCBxdWFsaXR5LCBzY2FsZSwgZXRjLikuXG4gKiBAcmV0dXJucyBUaGUgYGRvd25sb2FkSWRgIHdoZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5OyBgdW5kZWZpbmVkYCB3aGVuIGNhcHR1cmUgaXMgc2tpcHBlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhcHR1cmUob3B0cykge1xuICAgIGNvbnN0IHRhYiA9IGF3YWl0IGNocm9tZS50YWJzLmdldChvcHRzLnRhYklkKTtcbiAgICBpZiAoIXRhYi5pZCB8fCBpc1Jlc3RyaWN0ZWQodGFiLnVybCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDYXB0dXJpbmcgaXMgbm90IHBvc3NpYmxlIGR1ZSB0byByZXN0cmljdGVkIFVSTDonLCB0YWIudXJsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSB7IHRhYklkOiB0YWIuaWQgfTtcbiAgICBjb25zdCBmbXQgPSBvcHRzLmZvcm1hdCA/PyAncG5nJztcbiAgICBjb25zdCBzZXR0bGVNcyA9IG9wdHMuc2V0dGxlTXMgPz8gNTAwO1xuICAgIGNvbnN0IHNjYWxlID0gb3B0cy5zY2FsZSA/PyAxO1xuICAgIGNvbnN0IGFyZWEgPSBvcHRzLmFyZWEgPz8gJ2Z1bGwnO1xuICAgIGxldCBkaWRBdHRhY2ggPSBmYWxzZTtcbiAgICBsZXQgdXNlZE92ZXJyaWRlID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlkQXR0YWNoID0gYXdhaXQgYXR0YWNoT3duZWQodGFyZ2V0KTtcbiAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmVuYWJsZScpO1xuICAgICAgICBpZiAob3B0cy5icmluZ1RvRnJvbnQgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdQYWdlLmJyaW5nVG9Gcm9udCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlb20gPSBhd2FpdCByZXNvbHZlR2VvbWV0cnkodGFyZ2V0LCBhcmVhLCBzY2FsZSwgb3B0cy5jb250ZW50U2l6ZSk7XG4gICAgICAgIGlmIChnZW9tLnNob3VsZFNjcm9sbFRvcCkge1xuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdSdW50aW1lLmV2YWx1YXRlJywgeyBleHByZXNzaW9uOiAnd2luZG93LnNjcm9sbFRvKDAsMCknIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZW9tLnVzZU92ZXJyaWRlICYmIGdlb20ubWV0cmljcykge1xuICAgICAgICAgICAgdXNlZE92ZXJyaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0b3AgJiB3YWl0IGJyaWVmbHkgZm9yIGxheW91dC9pbWFnZSBzdGFiaWxpemF0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ0VtdWxhdGlvbi5zZXREZXZpY2VNZXRyaWNzT3ZlcnJpZGUnLCBnZW9tLm1ldHJpY3MpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIHNldHRsZU1zKSk7XG4gICAgICAgIGNvbnN0IGNhcFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZvcm1hdDogZm10LFxuICAgICAgICAgICAgZnJvbVN1cmZhY2U6IHRydWUsXG4gICAgICAgICAgICBjYXB0dXJlQmV5b25kVmlld3BvcnQ6IGdlb20uY2FwdHVyZUJleW9uZFZpZXdwb3J0LFxuICAgICAgICAgICAgY2xpcDogZ2VvbS5jbGlwLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZm10ID09PSAnanBlZycgJiYgdHlwZW9mIG9wdHMucXVhbGl0eSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNhcFBhcmFtcy5xdWFsaXR5ID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKG9wdHMucXVhbGl0eSkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5jYXB0dXJlU2NyZWVuc2hvdCcsIGNhcFBhcmFtcyk7XG4gICAgICAgIGNvbnN0IG1pbWUgPSBmbXQgPT09ICdwbmcnID8gJ2ltYWdlL3BuZycgOiAnaW1hZ2UvanBlZyc7XG4gICAgICAgIGNvbnN0IHVybCA9IGBkYXRhOiR7bWltZX07YmFzZTY0LCR7ZGF0YX1gO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IG9wdHMuZmlsZW5hbWUgPz8gbWFrZUZpbGVuYW1lKHRhYiwgZm10KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoeyB1cmwsIGZpbGVuYW1lLCBzYXZlQXM6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHVzZWRPdmVycmlkZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzZW5kKHRhcmdldCwgJ0VtdWxhdGlvbi5jbGVhckRldmljZU1ldHJpY3NPdmVycmlkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZEF0dGFjaCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBkZXRhY2hPd25lZCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIFVJRXZlbnRUeXBlIC8gVUlFdmVudFBheWxvYWRNYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIHR5cGVkIGNhdGFsb2cgb2YgKnB1cmUgVUkgZXZlbnRzKiBlbWl0dGVkIGJ5IHRoZSBWaWV3IChwYW5lbF92aWV3LnRzKS5cbiAqIC0gVGhlIFZpZXcgcmVhZHMgRE9NIHN0YXRlLCBub3JtYWxpemVzIGl0LCBhbmQgZW1pdHMgb25lIG9mIHRoZXNlIGV2ZW50cy5cbiAqIC0gVGhlIENvbnRyb2xsZXIgbWFwcyBlYWNoIFVJIGV2ZW50IHRvIGFuIEFjdGlvblR5cGUgYW5kIGRpc3BhdGNoZXMgaXQuXG4gKiAtIFBheWxvYWRzIGFyZSBzdHJvbmdseSB0eXBlZCB2aWEgVUlFdmVudFBheWxvYWRNYXA7IHVzZSBgdW5kZWZpbmVkYCBmb3Igbm8gcGF5bG9hZC5cbiAqL1xuZXhwb3J0IHZhciBVSUV2ZW50VHlwZTtcbihmdW5jdGlvbiAoVUlFdmVudFR5cGUpIHtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0dHTEVfU0VMRUNUXCJdID0gXCJUT0dHTEVfU0VMRUNUXCI7XG4gICAgLyoqIENsZWFyIGFsbCBzZWxlY3Rpb25zICovXG4gICAgVUlFdmVudFR5cGVbXCJDTEVBUlwiXSA9IFwiQ0xFQVJcIjtcbiAgICAvKiogVHJpZ2dlciBwYWdlIGNhcHR1cmUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVcIl0gPSBcIkNBUFRVUkVcIjtcbiAgICAvKiogQmFkZ2Ugc2l6ZSBjaGFuZ2VkIChyYW5nZS9udW1iZXIgaW5wdXRzKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfU0laRV9DSEFOR0VcIl0gPSBcIkJBREdFX1NJWkVfQ0hBTkdFXCI7XG4gICAgLyoqIEJhZGdlIGNvbG9yIHBpY2tlZCAocG9wb3ZlciBidXR0b25zKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfQ09MT1JfU0VMRUNUXCJdID0gXCJCQURHRV9DT0xPUl9TRUxFQ1RcIjtcbiAgICAvKiogQmFkZ2Ugc2hhcGUgY2hhbmdlZCAoc2VsZWN0KSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfU0hBUEVfQ0hBTkdFXCJdID0gXCJCQURHRV9TSEFQRV9DSEFOR0VcIjtcbiAgICAvKiogRGVsZXRlIHRoZSBzZWxlY3RlZCBiYWRnZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfREVMRVRFXCJdID0gXCJCQURHRV9ERUxFVEVcIjtcbiAgICAvKiogQmFkZ2UgcG9zaXRpb24gcGlja2VkIChwb3BvdmVyIGJ1dHRvbnMpICovXG4gICAgVUlFdmVudFR5cGVbXCJCQURHRV9QT1NJVElPTl9TRUxFQ1RcIl0gPSBcIkJBREdFX1BPU0lUSU9OX1NFTEVDVFwiO1xuICAgIC8qKiBVcGRhdGUgYSBncm91cCBvZiBlbGVtZW50cyAqL1xuICAgIFVJRXZlbnRUeXBlW1wiU0VUX0dST1VQXCJdID0gXCJTRVRfR1JPVVBcIjtcbiAgICAvKiogQ2FwdHVyZSBmb3JtYXQgY2hhbmdlZCAocmFkaW8pICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfRk9STUFUX0NIQU5HRVwiO1xuICAgIC8qKiBDYXB0dXJlIGFyZWEgY2hhbmdlZCAocmFkaW8pICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX0FSRUFfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX0FSRUFfQ0hBTkdFXCI7XG4gICAgLyoqIEpQRUcgcXVhbGl0eSBjaGFuZ2VkIChyYW5nZS9udW1iZXIpICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFX1FVQUxJVFlfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX1FVQUxJVFlfQ0hBTkdFXCI7XG4gICAgLyoqIENhcHR1cmUgc2NhbGUgY2hhbmdlZCAocmFuZ2UvbnVtYmVyKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9TQ0FMRV9DSEFOR0VcIl0gPSBcIkNBUFRVUkVfU0NBTEVfQ0hBTkdFXCI7XG4gICAgLyoqIFRvZ2dsZSBjYXB0dXJlIG9wdGlvbnMgZHJvcGRvd24gKGV4cGFuZC9jb2xsYXBzZSkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCJdID0gXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiO1xuICAgIC8qKiBSZW9yZGVyaW5nIHNlbGVjdGVkIGl0ZW1zIChkcmFnIGFuZCBkcm9wKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiUkVPUkRFUl9JVEVNU1wiXSA9IFwiUkVPUkRFUl9JVEVNU1wiO1xuICAgIC8qKiBFbWl0dGVkIHdoZW4gYW4gaXRlbSdzIGVkaXQtc2VsZWN0aW9uIGNoZWNrYm94IGNoYW5nZXMgc3RhdGUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIl0gPSBcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIjtcbiAgICAvKiogU3RhcnQgaXRlbSBob3ZlciAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9IT1ZFUl9JTlwiXSA9IFwiSVRFTV9IT1ZFUl9JTlwiO1xuICAgIC8qKiBFbmQgaXRlbSBob3ZlciAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9IT1ZFUl9PVVRcIl0gPSBcIklURU1fSE9WRVJfT1VUXCI7XG4gICAgLyoqIEFwcGx5IHBlbmRpbmcgY29tbWVudCBlZGl0cyB0byB0aGUgc2VsZWN0ZWQgaXRlbSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiSVRFTV9DT01NRU5UX0FQUExZXCJdID0gXCJJVEVNX0NPTU1FTlRfQVBQTFlcIjtcbn0pKFVJRXZlbnRUeXBlIHx8IChVSUV2ZW50VHlwZSA9IHt9KSk7XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgaXNSZXN0cmljdGVkLCBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlVGFiIH0gZnJvbSAnQGluZnJhL2Nocm9tZS90YWJzJztcbmltcG9ydCB7IGluaXRpYWxNb2RlbCB9IGZyb20gJ0BwYW5lbC9hcHAvbW9kZWwnO1xuaW1wb3J0IHsgdXBkYXRlIH0gZnJvbSAnQHBhbmVsL2FwcC91cGRhdGUnO1xuaW1wb3J0IHsgY29ubmVjdFRvVGFiIH0gZnJvbSAnQHBhbmVsL21lc3NhZ2luZy9jb25uZWN0aW9uJztcbmltcG9ydCB7IGNhcHR1cmUgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvY2FwdHVyZSc7XG5pbXBvcnQgeyBoYW5kbGVTZWxlY3RlZCB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9zdGF0ZSc7XG5pbXBvcnQgeyBnZXRTdGF0ZSwgc2V0U3RhdGUgfSBmcm9tICdAcGFuZWwvc3RhdGUvc3RvcmUnO1xuaW1wb3J0IHsgQWN0aW9uVHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHsgRWZmZWN0VHlwZSB9IGZyb20gJ0BwYW5lbC90eXBlcy9lZmZlY3RfdHlwZXMnO1xuaW1wb3J0IHsgVUlFdmVudFR5cGUgfSBmcm9tICdAcGFuZWwvdHlwZXMvdWlfZXZlbnRfdHlwZXMnO1xuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSAnQHBhbmVsL3ZpZXcvc3RhdHVzJztcbmV4cG9ydCBjbGFzcyBQYW5lbENvbnRyb2xsZXIge1xuICAgIHZpZXc7XG4gICAgbW9kZWwgPSBzdHJ1Y3R1cmVkQ2xvbmUoaW5pdGlhbE1vZGVsKTtcbiAgICBjb25uID0gbnVsbDtcbiAgICBjdXJyZW50V2luZG93SWQgPSBudWxsO1xuICAgIHN0YXRpYyBSRVFVSVJFU19DT05OID0gbmV3IFNldChbXG4gICAgICAgIEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuVE9HR0xFX1NFTEVDVF9PTl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuSE9WRVIsXG4gICAgXSk7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSU5JVCB9KTtcbiAgICAgICAgY29uc3QgeyBvayB9ID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoeyBmb3JjZVJlY29ubmVjdDogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcih0aGlzLm1vZGVsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlld0hhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIGNvbnN0IHcgPSBhd2FpdCBjaHJvbWUud2luZG93cy5nZXRDdXJyZW50KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFdpbmRvd0lkID0gdy5pZCA/PyBudWxsO1xuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1zZykgPT4ge1xuICAgICAgICAgICAgaWYgKG1zZy50eXBlICE9PSBNU0dfVFlQRS5BQ1RJVkVfVEFCX0NIQU5HRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc2VuZGVyV2luZG93SWQgPSBtc2cucGF5bG9hZC53aW5kb3dJZDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRXaW5kb3dJZCA9PSBudWxsIHx8IHRoaXMuY3VycmVudFdpbmRvd0lkICE9PSBzZW5kZXJXaW5kb3dJZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2b2lkIHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKHsgZm9yY2VSZWNvbm5lY3Q6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlclZpZXdIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPR0dMRV9TRUxFQ1QsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1QgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0xFQVIsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNMRUFSX0FMTCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9TSVpFX0NIQU5HRSwgKHsgc2l6ZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfU0laRSwgc2l6ZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9DT0xPUl9TRUxFQ1QsICh7IGNvbG9yIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUiwgY29sb3IgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfU0hBUEVfQ0hBTkdFLCAoeyBzaGFwZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfU0hBUEUsIHNoYXBlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuQkFER0VfREVMRVRFIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgKHsgcG9zaXRpb24gfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OLCBwb3NpdGlvbiB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUwgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCAoeyBmb3JtYXQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfRk9STUFULCBmb3JtYXQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9BUkVBX0NIQU5HRSwgKHsgYXJlYSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9BUkVBLCBhcmVhIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfUVVBTElUWV9DSEFOR0UsICh7IHF1YWxpdHkgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfUVVBTElUWSwgcXVhbGl0eSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX1NDQUxFX0NIQU5HRSwgKHsgc2NhbGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfU0NBTEUsIHNjYWxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsICh7IGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVMsIGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlNFVF9HUk9VUCwgKHsgZ3JvdXAgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0dST1VQLCBncm91cCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCAocGF5bG9hZCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgLi4ucGF5bG9hZCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCAoeyBpZCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOLCBpZCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9PVVQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9DT01NRU5UX0FQUExZLCAoeyBpZCwgY29tbWVudCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5ULCBpZCwgY29tbWVudCB9KSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICBjb25zdCB7IG1vZGVsOiBuZXh0LCBlZmZlY3RzIH0gPSB1cGRhdGUodGhpcy5tb2RlbCwgYWN0aW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5leHQ7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIHZvaWQgdGhpcy5leGVjRWZmZWN0cyhlZmZlY3RzKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY0VmZmVjdHMoZWZmZWN0cykge1xuICAgICAgICBjb25zdCBuZWVkc0Nvbm4gPSBlZmZlY3RzLnNvbWUoKGZ4KSA9PiBQYW5lbENvbnRyb2xsZXIuUkVRVUlSRVNfQ09OTi5oYXMoZngua2luZCkpO1xuICAgICAgICBpZiAobmVlZHNDb25uKSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoKTtcbiAgICAgICAgICAgIGlmICghci5vayB8fCByLmNvbnRleHRDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZ4IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZngua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkucmVuZGVyKGZ4Lml0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkudG9nZ2xlU2VsZWN0KGZ4LmVuYWJsZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkhPVkVSOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm4/LmFwaS5ob3ZlcihmeC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DTEVBUl9TVEFURTpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0U3RhdGUodGhpcy5tb2RlbC5wYWdlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBhd2FpdCBnZXRTdGF0ZSh0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZXRTdGF0ZSh0aGlzLm1vZGVsLnBhZ2VLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubj8uYXBpLm1lYXN1cmVTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DQVBUVVJFOlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FwdHVyZShmeC5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfU1VDQ0VFREVEIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX0ZBSUxFRCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLk5PVElGWV9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihmeC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGVuc3VyZUNvbm5lY3Rpb25BbGl2ZShvcHRzKSB7XG4gICAgICAgIGNvbnN0IHByZXZLZXkgPSB0aGlzLm1vZGVsLnBhZ2VLZXk7XG4gICAgICAgIGNvbnN0IGZvcmNlID0gb3B0cz8uZm9yY2VSZWNvbm5lY3QgPT09IHRydWU7XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbmcgPSBhd2FpdCB0aGlzLmNvbm4/LmFwaS5waW5nKCk7XG4gICAgICAgICAgICBpZiAocG9uZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IG9rOiB0cnVlLCBjb250ZXh0Q2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWIgPSBhd2FpdCBnZXRBY3RpdmVUYWIoKTtcbiAgICAgICAgaWYgKCF0YWI/LmlkIHx8IGlzUmVzdHJpY3RlZCh0YWIudXJsKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuUkVTVFJJQ1RFRCB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHBhZ2VLZXkodGFiLnVybCk7XG4gICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5DT05ORUNURUQsIHRhYklkLCBwYWdlS2V5OiBuZXdLZXkgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9TVEFUVVMsIHN0YXR1czogU1RBVFVTLkNPTk5FQ1RJTkcgfSk7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgY2xvc2UgdGhlIG9sZCBwb3J0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4/LnBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uID0gYXdhaXQgY29ubmVjdFRvVGFiKHRhYklkKTtcbiAgICAgICAgdGhpcy5jb25uLm9uRGlzY29ubmVjdCgoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5QT1JUX0RJU0NPTk5FQ1RFRCB9KSk7XG4gICAgICAgIHRoaXMuY29ubi5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihhc3luYyAobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5TRUxFQ1RFRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBoYW5kbGVTZWxlY3RlZCh0aGlzLm1vZGVsLnBhZ2VLZXksIG1zZy5wYXlsb2FkLmFuY2hvcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogcy5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogcy5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHMuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1zZz8udHlwZSA9PT0gTVNHX1RZUEUuTUlTU0lOR19JRFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFMsXG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdJZHM6IG1zZy5wYXlsb2FkLm1pc3NpbmdJZHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLkNPTlRFTlRfU0laRV9SRVNVTFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5DQVBUVVJFX1JFUVVFU1RFRCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFNpemU6IG1zZy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3QgPSBhd2FpdCBnZXRTdGF0ZShuZXdLZXkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHN0Lml0ZW1zLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBzdC5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0LmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IHN0LmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHN0LmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0LmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfU1RBVFVTLCBzdGF0dXM6IFNUQVRVUy5DT05ORUNURUQgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRDaGFuZ2VkID0gISFwcmV2S2V5ICYmIHByZXZLZXkgIT09IG5ld0tleTtcbiAgICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGNvbnRleHRDaGFuZ2VkIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL3N0YXRlJztcbmltcG9ydCB7IFNUQVRVUyB9IGZyb20gJ0BwYW5lbC92aWV3L3N0YXR1cyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vdHlwZXMvYWN0aW9uX3R5cGVzJztcbmltcG9ydCB7IEVmZmVjdFR5cGUgfSBmcm9tICcuLi90eXBlcy9lZmZlY3RfdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShtb2RlbCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU5JVDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHRhYklkOiBhY3Rpb24udGFiSWQsIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfU1RBVFVTOiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IGFjdGlvbi5zdGF0dXMgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10sIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBhY3Rpb24uc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogYWN0aW9uLnN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBhY3Rpb24uc3RhdGUuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFM6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBtaXNzaW5nSWRzOiBhY3Rpb24ubWlzc2luZ0lkcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1Q6IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSAhbW9kZWwuc2VsZWN0aW9uRW5hYmxlZDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdGlvbkVuYWJsZWQ6IG5leHQgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCwgZW5hYmxlZDogbmV4dCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNMRUFSX0FMTDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zOiBbXSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVCB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OVEVOVF9TRUxFQ1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHBhbmVsRXhwYW5kZWQ6ICFtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSVpFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2l6ZTogYWN0aW9uLnNpemUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRTaXplOiBhY3Rpb24uc2l6ZSwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUjoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IGNvbG9yOiBhY3Rpb24uY29sb3IgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRDb2xvcjogYWN0aW9uLmNvbG9yLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2hhcGU6IGFjdGlvbi5zaGFwZSB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFNoYXBlOiBhY3Rpb24uc2hhcGUsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5CQURHRV9ERUxFVEU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IG1vZGVsLml0ZW1zLmZpbHRlcigoaXQpID0+ICFtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zTWFya2VkRm9yUmVsYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgcG9zaXRpb246IGFjdGlvbi5wb3NpdGlvbiB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFBvc2l0aW9uOiBhY3Rpb24ucG9zaXRpb24sIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfR1JPVVA6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsKG1vZGVsLml0ZW1zLCBtb2RlbC5zZWxlY3RJdGVtcywgYWN0aW9uLmdyb3VwKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdEdyb3VwOiBhY3Rpb24uZ3JvdXAsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9GT1JNQVQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGZvcm1hdDogYWN0aW9uLmZvcm1hdCB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQTpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGFyZWE6IGFjdGlvbi5hcmVhIH0gfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHF1YWxpdHk6IGFjdGlvbi5xdWFsaXR5IH0gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9TQ0FMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgc2NhbGU6IGFjdGlvbi5zY2FsZSB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgIGlmIChtb2RlbC50YWJJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogJ05vIHRhYklkJyB9XSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IEVmZmVjdFR5cGUuQ0FQVFVSRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJZDogbW9kZWwudGFiSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBtb2RlbC5jYXB0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiBtb2RlbC5jYXB0dXJlLmFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogbW9kZWwuY2FwdHVyZS5xdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBtb2RlbC5jYXB0dXJlLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTaXplOiBhY3Rpb24uY29udGVudFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DQVBUVVJFX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiBhY3Rpb24uZXJyb3IgfV0gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVM6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHJlb3JkZXJJdGVtTGFiZWwobW9kZWwuaXRlbXMsIGFjdGlvbi5mcm9tSWQsIGFjdGlvbi5mcm9tSW5kZXgsIGFjdGlvbi50b0luZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQ6IHtcbiAgICAgICAgICAgIGlmICgnaWQnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIHNpbmdsZSBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZChhY3Rpb24uaWQsIGFjdGlvbi5pc0NoZWNrLCBtb2RlbC5zZWxlY3RJdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgnZ3JvdXAnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIGdyb3VwXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoYWN0aW9uLmdyb3VwLCBhY3Rpb24uaXNDaGVjaywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLml0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBhbGwvRGVzZWxlY3QgYWxsXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFjdGlvbi5hbGxDaGVjaywgbW9kZWwuaXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogYWN0aW9uLmlkIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogbnVsbCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5UOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKGl0LmlkID09PSBhY3Rpb24uaWQgPyB7IGNvbW1lbnQ6IGFjdGlvbi5jb21tZW50IH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUE9SVF9ESVNDT05ORUNURUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IFNUQVRVUy5ESVNDT05ORUNURUQsIHNlbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsIGVuYWJsZWQ6IGZhbHNlIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgIH1cbn1cbi8qKlxuICogUmVsYWJlbCBpdGVtcyBhcyBpZiB0aGUgaXRlbSB3aXRoIGBmcm9tSWRgIHdhcyBtb3ZlZCB0byB0aGUgcG9zaXRpb25cbiAqIHdob3NlIGxhYmVsIGVxdWFscyBgaXRlbXNbdG9JbmRleF0ubGFiZWxgLiBMYWJlbHMgb2YgdGhlIGl0ZW1zIGluIGJldHdlZW5cbiAqIGFyZSBzaGlmdGVkIGJ5IMKxMSB0byBrZWVwIGxhYmVscyB1bmlxdWUgYW5kIGNvbnRpZ3VvdXMgKGlmIHRoZXkgd2VyZSkuXG4gKlxuICogQHBhcmFtIGl0ZW1zICAgLSBTb3VyY2UgaXRlbXMgKG5vdCBtdXRhdGVkKS5cbiAqIEBwYXJhbSBmcm9tSWQgIC0gSUQgb2YgdGhlIGl0ZW0gdG8gbW92ZS5cbiAqIEBwYXJhbSBmcm9tSW5kZXggIC0gVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGl0ZW0gdG8gYmUgbW92ZWQuXG4gKiBAcGFyYW0gdG9JbmRleCAtIFRhcmdldCBpbmRleCBpbiBgaXRlbXNgIHdob3NlIGxhYmVsIGJlY29tZXMgdGhlIG5ldyBsYWJlbC5cbiAqIEByZXR1cm5zIEEgbmV3IGFycmF5IHdpdGggdXBkYXRlZCBsYWJlbHMuXG4gKiBAdGhyb3dzIFJhbmdlRXJyb3IgaWYgYHRvSW5kZXhgIGlzIG91dCBvZiBib3VuZHMgb3IgRXJyb3IgaWYgYGZyb21JZGAgbm90IGZvdW5kLlxuICovXG5mdW5jdGlvbiByZW9yZGVySXRlbUxhYmVsKGl0ZW1zLCBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgdG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7dG9JbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgZnJvbUlkeCA9IGl0ZW1zLmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gZnJvbUlkKTtcbiAgICBpZiAoZnJvbUlkeCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJdGVtIG5vdCBmb3VuZCBmb3IgaWQ9JHtmcm9tSWR9YCk7XG4gICAgfVxuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGl0ZW1zLmZpbHRlcigoaXQpID0+IGl0Lmdyb3VwID09PSBpdGVtc1tmcm9tSWR4XS5ncm91cCkubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGB0b0luZGV4IG91dCBvZiByYW5nZTogJHt0b0luZGV4fWApO1xuICAgIH1cbiAgICBjb25zdCBPRkZTRVRfQUZURVIgPSAxLjE7XG4gICAgY29uc3QgT0ZGU0VUX0JFRk9SRSA9IDAuMTtcbiAgICBjb25zdCBvZmZzZXQgPSBmcm9tSW5kZXggPCB0b0luZGV4ID8gT0ZGU0VUX0FGVEVSIDogT0ZGU0VUX0JFRk9SRTtcbiAgICBjb25zdCBsYWJlbCA9IHRvSW5kZXggKyBvZmZzZXQ7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXQpID0+IChpdC5pZCA9PT0gZnJvbUlkID8geyAuLi5pdCwgbGFiZWwgfSA6IGl0KSk7XG59XG4vKipcbiAqIEJ1bXBzIHRoZSBsYWJlbCBvZiBzZWxlY3RlZCBpdGVtcyB0aGF0IGFscmVhZHkgYmVsb25nIHRvIHRoZSB0cmltbWVkIHRhcmdldCBncm91cCwgd2hpbGUgZGVmZXJyaW5nIGxhYmVsIG5vcm1hbGl6YXRpb24uXG4gKlxuICogTm90ZXNcbiAqIC0gVGhlIGZ1bmN0aW9uIG9ubHkgdG91Y2hlcyBpdGVtcyB3aG9zZSBgaWRgIGlzIGluIGBzZWxlY3RJdGVtc2AgYW5kIHdob3NlIGN1cnJlbnQgYGdyb3VwYCBtYXRjaGVzIGBuZXh0R3JvdXBSYXdgIChhZnRlciB0cmltbWluZykuXG4gKiAtIExhYmVscyBhcmUgcmVhc3NpZ25lZCB0byBsYXJnZSBkZXNjZW5kaW5nIG51bWJlcnMgc28gdGhhdCBgcmVsYWJlbENvbnNlY3V0aXZlUGVyR3JvdXAoKWAgY2FuIGxhdGVyIGNvbXBhY3QgdGhlbS5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBGdWxsIGxpc3Qgb2Ygc2NyZWVuIGl0ZW1zLlxuICogQHBhcmFtIHNlbGVjdEl0ZW1zIC0gSURzIG9mIHRoZSBpdGVtcyB0aGF0IHNob3VsZCByZWNlaXZlIGEgdGVtcG9yYXJ5IGxhYmVsIGJ1bXAuXG4gKiBAcGFyYW0gbmV4dEdyb3VwUmF3IC0gVGFyZ2V0IGdyb3VwIG5hbWU7IHRyaW1tZWQgYmVmb3JlIGNvbXBhcmlzb24uXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSB3aGVyZSB0aGUgbWF0Y2hpbmcgaXRlbXMgZ2FpbiBhIHRlbXBvcmFyeSBoaWdoLXByaW9yaXR5IGxhYmVsOyBvdGhlciBpdGVtcyBhcmUgdW50b3VjaGVkLlxuICovXG5mdW5jdGlvbiB1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbChpdGVtcywgc2VsZWN0SXRlbXMsIG5leHRHcm91cFJhdykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChnKSA9PiAoZyA/PyAnJykudHJpbSgpO1xuICAgIGNvbnN0IG5leHRHcm91cCA9IG5vcm1hbGl6ZShuZXh0R3JvdXBSYXcpO1xuICAgIGxldCB1cGRhdGVJdGVtQ250ID0gMDtcbiAgICByZXR1cm4gaXRlbXNcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuaWQgLSBhLmlkKVxuICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdGVtLmlkKSAmJiBpdGVtLmdyb3VwICE9PSBuZXh0R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSB1cGRhdGVJdGVtQ250Kys7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtLCBncm91cDogbmV4dEdyb3VwLCBsYWJlbCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQoaWQsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zKSB7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgaWYgKCFzZWxlY3RJdGVtcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4uc2VsZWN0SXRlbXMsIGlkXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBpZCk7XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoZ3JvdXAsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zLCBpdGVtcykge1xuICAgIGNvbnN0IGcgPSBncm91cC50cmltKCk7XG4gICAgY29uc3QgZ3JvdXBJZHMgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdCkgPT4gKGl0Lmdyb3VwID8/IFVOR1JPVVBFRF9WQUxVRSkudHJpbSgpID09PSBnKVxuICAgICAgICAubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIGlmIChncm91cElkcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBzZWxlY3RJdGVtcztcbiAgICBpZiAoaXNDaGVjaykge1xuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KHNlbGVjdEl0ZW1zKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBncm91cElkcylcbiAgICAgICAgICAgIHNldC5hZGQoaWQpO1xuICAgICAgICByZXR1cm4gWy4uLnNldF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBncm91cFNldCA9IG5ldyBTZXQoZ3JvdXBJZHMpO1xuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpZCkgPT4gIWdyb3VwU2V0LmhhcyhpZCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JBbGwoYWxsQ2hlY2ssIGl0ZW1zKSB7XG4gICAgaWYgKGFsbENoZWNrKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiBpdC5pZCk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZVRhYigpIHtcbiAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRhYnNbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBY3RpdmVUYWJCcm9hZGNhc3QoKSB7XG4gICAgLy8gVGFiIHN3aXRjaGluZ1xuICAgIGNvbnN0IG9uQWN0aXZhdGVkID0gYXN5bmMgKHsgdGFiSWQsIHdpbmRvd0lkIH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFt0YWJdID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIHdpbmRvd0lkIH0pO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gdGFiPy51cmw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB1cmwgPyBwYWdlS2V5KHVybCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgdGFiSWQsIHdpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVsb2FkL3RyYW5zaXRpb24gZGV0ZWN0aW9uIHdpdGhpbiB0aGUgc2FtZSB0YWJcbiAgICBjb25zdCBvblVwZGF0ZWQgPSBhc3luYyAodGFiSWQsIGluZm8sIHRhYikgPT4ge1xuICAgICAgICBpZiAoIXRhYj8uYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaW5mby5zdGF0dXMgPT09ICdsb2FkaW5nJyB8fCB0eXBlb2YgaW5mby51cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYi51cmw7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZDogdGFiLndpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNocm9tZS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKG9uQWN0aXZhdGVkKTtcbiAgICBjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIob25VcGRhdGVkKTtcbn1cbiIsImltcG9ydCB7IENIQU5ORUwgfSBmcm9tICdAY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBQYW5lbEFwaSB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IFBvcnRScGMgfSBmcm9tICcuL3BvcnRfcnBjJztcbi8qKlxuICogSW5qZWN0cyB0aGUgY29udGVudCBzY3JpcHQgaW50byB0aGUgdGFiIGlmIG5lZWRlZCwgYW5kXG4gKiBpbml0aWFsaXplcyB0aGUgUG9ydCBjb25uZWN0aW9uIGFuZCBSUEMgZm9yIFBhbmVsIOKGlCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSB0YWJJZCAtIFRhcmdldCB0YWIgaWRcbiAqIEByZXR1cm5zIEEgY29ubmVjdGlvbiBvYmplY3QgYnVuZGxpbmcgQVBJLCBQb3J0LCBhbmQgUlBDXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9UYWIodGFiSWQpIHtcbiAgICBhd2FpdCBjaHJvbWUuc2NyaXB0aW5nXG4gICAgICAgIC5leGVjdXRlU2NyaXB0KHtcbiAgICAgICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgICAgIGZpbGVzOiBbJ2NvbnRlbnQvbWFpbi5qcyddLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIC8qIElnbm9yZSBpZiBhbHJlYWR5IGluamVjdGVkICovXG4gICAgfSk7XG4gICAgY29uc3QgcG9ydCA9IGNocm9tZS50YWJzLmNvbm5lY3QodGFiSWQsIHsgbmFtZTogQ0hBTk5FTC5QQU5FTF9DT05URU5UIH0pO1xuICAgIGNvbnN0IHJwYyA9IG5ldyBQb3J0UnBjKHBvcnQpO1xuICAgIGNvbnN0IGFwaSA9IG5ldyBQYW5lbEFwaShycGMpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IGxpc3RlbmVycy5mb3JFYWNoKChmbikgPT4gZm4oKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwaSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgcnBjLFxuICAgICAgICBvbkRpc2Nvbm5lY3Q6IChjYikgPT4gbGlzdGVuZXJzLnB1c2goY2IpLFxuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBJQ09OUyA9IHtcbiAgICBjYXJldERvd246IHtcbiAgICAgICAgZDogJ001LjIzIDcuMjFhLjc1Ljc1IDAgMDExLjA2LjAyTDEwIDEwLjkzOWwzLjcxLTMuNzFhLjc1Ljc1IDAgMTExLjA2IDEuMDYyTDEwLjUzIDEyLjUzYS43NS43NSAwIDAxLTEuMDYgMEw1LjIzIDguMjdhLjc1Ljc1IDAgMDEuMDItMS4wNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0RG93bkZpbGw6IHtcbiAgICAgICAgZDogJ003LjI0NyAxMS4xNCAyLjQ1MSA1LjY1OEMxLjg4NSA1LjAxMyAyLjM0NSA0IDMuMjA0IDRoOS41OTJhMSAxIDAgMCAxIC43NTMgMS42NTlsLTQuNzk2IDUuNDhhMSAxIDAgMCAxLTEuNTA2IDB6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBjYXJldFJpZ2h0OiB7XG4gICAgICAgIGQ6ICdNNy4yOTMgMTQuNzA3YTEgMSAwIDAxLTEuNDE0LTEuNDE0TDEwLjE3MiA5IDUuODc5IDQuNzA3YTEgMSAwIDAxMS40MTQtMS40MTRsNSA1YTEgMSAwIDAxMCAxLjQxNGwtNSA1eicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodEZpbGw6IHtcbiAgICAgICAgZDogJ20xMi4xNCA4Ljc1My01LjQ4MiA0Ljc5NmMtLjY0Ni41NjYtMS42NTguMTA2LTEuNjU4LS43NTNWMy4yMDRhMSAxIDAgMCAxIDEuNjU5LS43NTNsNS40OCA0Ljc5NmExIDEgMCAwIDEgMCAxLjUwNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHdhcm46IHtcbiAgICAgICAgZDogJ005LjA0OSAyLjkyN2ExLjUgMS41IDAgMDEyLjkwMiAwbDYuNDEgMTEuOTRBMS41IDEuNSAwIDAxMTcuMDEgMTdIMi45OWExLjUgMS41IDAgMDEtMS4zNTEtMi4xMzNsNi40MS0xMS45NHpNMTEgMTNhMSAxIDAgMTAtMiAwIDEgMSAwIDAwMiAwem0tMS0yYTEgMSAwIDAwMS0xVjdhMSAxIDAgMTAtMiAwdjNhMSAxIDAgMDAxIDF6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjb21tZW50OiB7XG4gICAgICAgIGQ6ICdNMCAyYTIgMiAwIDAgMSAyLTJoMTJhMiAyIDAgMCAxIDIgMnY4YTIgMiAwIDAgMS0yIDJINC40MTRhMSAxIDAgMCAwLS43MDcuMjkzTC44NTQgMTUuMTQ2QS41LjUgMCAwIDEgMCAxNC43OTN6bTUgNGExIDEgMCAxIDAtMiAwIDEgMSAwIDAgMCAyIDBtNCAwYTEgMSAwIDEgMC0yIDAgMSAxIDAgMCAwIDIgMG0zIDFhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihuYW1lKSB7XG4gICAgY29uc3QgeyBkLCB2aWV3Qm94ID0gJzAgMCAyMCAyMCcgfSA9IElDT05TW25hbWVdO1xuICAgIHJldHVybiB7IGQsIHZpZXdCb3ggfTtcbn1cbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5pbXBvcnQgeyBnZXRJY29uIH0gZnJvbSAnQGNvbW1vbi9pY29ucyc7XG5pbXBvcnQgeyBpc0l0ZW1Db2xvciwgaXNJdGVtUG9zaXRpb24sIGlzSXRlbVNoYXBlLCBVTkdST1VQRUQsIFVOR1JPVVBFRF9WQUxVRSwgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IGdldFN0YXR1c01lc3NhZ2UsIFNUQVRVUywgU1RBVFVTX0xBQkVMX1NUWUxFIH0gZnJvbSAnQHBhbmVsL3ZpZXcvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnLi4vdHlwZXMvdWlfZXZlbnRfdHlwZXMnO1xuZnVuY3Rpb24gYnlMYWJlbFRoZW5JZChhLCBiKSB7XG4gICAgaWYgKGEubGFiZWwgIT09IGIubGFiZWwpXG4gICAgICAgIHJldHVybiBhLmxhYmVsIC0gYi5sYWJlbDtcbiAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XG59XG5leHBvcnQgY2xhc3MgUGFuZWxWaWV3IHtcbiAgICBkb2M7XG4gICAgbGlzdGVuZXJzID0ge307XG4gICAgZWxzO1xuICAgIE5FV19HUk9VUCA9ICdfX25ld2dyb3VwX18nO1xuICAgIEhPVkVSX09VVF9ERUxBWSA9IDEwMDA7XG4gICAgZHJhZ0VsID0gbnVsbDtcbiAgICBkcmFnU3RhcnRQYXJlbnQgPSBudWxsO1xuICAgIGRyYWdTdGFydEluZGV4ID0gLTE7XG4gICAgaG92ZXJPdXRUaW1lciA9IG51bGw7XG4gICAgY29sbGFwc2VkR3JvdXBzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0cnVjdG9yKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgaTE4bi5sb2NhbGl6ZShkb2MpO1xuICAgICAgICB0aGlzLmVscyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy4kKCcjc3RhdHVzJyksXG4gICAgICAgICAgICB0b2dnbGVCdG46IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QnKSxcbiAgICAgICAgICAgIHRvZ2dsZUljb246IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtaWNvbicpLFxuICAgICAgICAgICAgdG9nZ2xlTGFiZWw6IHRoaXMuJCgnI3RvZ2dsZS1zZWxlY3QtbGFiZWwnKSxcbiAgICAgICAgICAgIGNsZWFyQnRuOiB0aGlzLiQoJyNjbGVhcicpLFxuICAgICAgICAgICAgY2FwdHVyZUJ0bjogdGhpcy4kKCcjY2FwdHVyZScpLFxuICAgICAgICAgICAgbGlzdDogdGhpcy4kKCcjc2VsZWN0LWxpc3QnKSxcbiAgICAgICAgICAgIGVtcHR5OiB0aGlzLiQoJyNzZWxlY3QtZW1wdHknKSxcbiAgICAgICAgICAgIGNvdW50OiB0aGlzLiQoJyNzZWxlY3QtY291bnQnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zVG9nZ2xlOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMtdG9nZ2xlJyksXG4gICAgICAgICAgICBjYXB0dXJlT3B0aW9uc1BhbmVsOiB0aGlzLiQoJyNjYXB0dXJlLW9wdGlvbnMnKSxcbiAgICAgICAgICAgIGNhcHR1cmVGbXRSYWRpb3M6IHRoaXMuJGFsbCgnaW5wdXRbbmFtZT1cImNhcHR1cmUtZm9ybWF0XCJdJyksXG4gICAgICAgICAgICBjYXB0dXJlQXJlYVJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1hcmVhXCJdJyksXG4gICAgICAgICAgICBqcGVnT25seUVsczogdGhpcy4kYWxsKCcuanBlZy1vbmx5JyksXG4gICAgICAgICAgICBqcGVnUXVhbGl0eVJhbmdlOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktcmFuZ2UnKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5TnVtYmVyOiB0aGlzLiQoJyNqcGVnLXF1YWxpdHktbnVtYmVyJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVSYW5nZTogdGhpcy4kKCcjY2FwdHVyZS1zY2FsZS1yYW5nZScpLFxuICAgICAgICAgICAgY2FwdHVyZVNjYWxlTnVtYmVyOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VTaXplUmFuZ2U6IHRoaXMuJCgnI2JhZGdlLXNpemUtcmFuZ2UnKSxcbiAgICAgICAgICAgIGJhZGdlU2l6ZU51bWJlcjogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1udW1iZXInKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JCdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1jb2xvci1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yTGFiZWw6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUNvbG9yRG90OiB0aGlzLiQoJyNiYWRnZS1jb2xvci1kb3QnKSxcbiAgICAgICAgICAgIGJhZGdlU2hhcGVTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLXNoYXBlLXNlbGVjdCcpLFxuICAgICAgICAgICAgYmFkZ2VEZWxldGVCdXR0b246IHRoaXMuJCgnI2JhZGdlLWRlbGV0ZS1idXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25CdXR0b25zOiB0aGlzLiRhbGwoJyNiYWRnZS1wb3NpdGlvbi1wb3AgYnV0dG9uJyksXG4gICAgICAgICAgICBiYWRnZVBvc2l0aW9uTGFiZWw6IHRoaXMuJCgnI2JhZGdlLXBvc2l0aW9uLWxhYmVsJyksXG4gICAgICAgICAgICBiYWRnZUdyb3VwU2VsZWN0OiB0aGlzLiQoJyNiYWRnZS1ncm91cC1zZWxlY3QnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZU1vZGFsOiB0aGlzLiQoJyNncm91cC1uYW1lLW1vZGFsJyksXG4gICAgICAgICAgICBncm91cE5hbWVJbnB1dDogdGhpcy4kKCcjZ3JvdXAtbmFtZS1pbnB1dCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ2FuY2VsQnRuOiB0aGlzLiQoJyNncm91cC1uYW1lLWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUNyZWF0ZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY3JlYXRlLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRNb2RhbDogdGhpcy4kKCcjaXRlbS1jb21tZW50LW1vZGFsJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SWRJbnB1dDogdGhpcy4kKCcjaXRlbS1jb21tZW50LWlkLWlucHV0JyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudENhbmNlbEJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWNhbmNlbC1idG4nKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50QXBwbHlCdG46IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1hcHBseS1idG4nKSxcbiAgICAgICAgICAgIHNlbGVjdEl0ZW1BbGxDaGVja2JveDogdGhpcy4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cIml0ZW0tc2VsZWN0XCJdW3ZhbHVlPVwiYWxsXCJdJyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfU0VMRUNULCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5lbHMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0xFQVIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAvLyA9PT0gQ2FwdHVyZSBvcHRpb25zID09PVxuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVGbXRSYWRpb3MuZm9yRWFjaCgocikgPT4gci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCB7IGZvcm1hdDogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQoKSB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlQXJlYVJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0FSRUFfQ0hBTkdFLCB7IGFyZWE6IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlQXJlYSgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZSwgdGhpcy5lbHMuanBlZ1F1YWxpdHlOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRSwgeyBxdWFsaXR5OiB2IH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5jYXB0dXJlU2NhbGVSYW5nZSwgdGhpcy5lbHMuY2FwdHVyZVNjYWxlTnVtYmVyLCAodikgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfU0NBTEVfQ0hBTkdFLCB7IHNjYWxlOiB2IH0pKTtcbiAgICAgICAgLy8gPT09IEJhZGdlID09PVxuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLCB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIpO1xuICAgICAgICBjb25zdCBmaXJlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBOdW1iZXIodGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NJWkVfQ0hBTkdFLCB7IHNpemU6IHYgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2l6ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpcmVTaXplKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQuY29sb3JOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaXNJdGVtQ29sb3IocmF3KSA/IHJhdyA6ICdCbHVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfQ09MT1JfU0VMRUNULCB7IGNvbG9yIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmVscy5iYWRnZVNoYXBlU2VsZWN0LnZhbHVlID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGlzSXRlbVNoYXBlKHYpID8gdiA6ICdjaXJjbGUnO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1NIQVBFX0NIQU5HRSwgeyBzaGFwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlUG9zaXRpb25CdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGJ0bi5kYXRhc2V0LnBvc2l0aW9uTmFtZSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGlzSXRlbVBvc2l0aW9uKHJhdykgPyByYXcgOiAnbGVmdC10b3Atb3V0c2lkZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmJhZGdlR3JvdXBTZWxlY3QudmFsdWUgPz8gVU5HUk9VUEVEO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YWx1ZSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT09IHRoaXMuTkVXX0dST1VQKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDcmVhdGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgfHwgdmFsdWUgPT09IHRoaXMuTkVXX0dST1VQID8gVU5HUk9VUEVEX1ZBTFVFIDogdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuU0VUX0dST1VQLCB7IGdyb3VwIH0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBOYW1lTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRBcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmVscy5pdGVtQ29tbWVudElucHV0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGhpcy5lbHMuaXRlbUNvbW1lbnRJZElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0NPTU1FTlRfQVBQTFksIHsgaWQsIGNvbW1lbnQgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLmVscy5zZWxlY3RJdGVtQWxsQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCB7IGFsbENoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgKCkgPT4gdGhpcy5jYW5jZWxIb3Zlck91dCgpKTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB0aGlzLnNjaGVkdWxlSG92ZXJPdXQoKSk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEhvdmVyT3V0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSVRFTV9IT1ZFUl9PVVQsIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGFyciA9ICh0aGlzLmxpc3RlbmVyc1t0eXBlXSA/Pz0gW10pO1xuICAgICAgICBhcnIucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCBlKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBhcnI/LmZvckVhY2goKGgpID0+IGgoZSkpO1xuICAgIH1cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0dXMobW9kZWwuc3RhdHVzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJUb2dnbGUobW9kZWwuc2VsZWN0aW9uRW5hYmxlZCk7XG4gICAgICAgIHRoaXMucmVuZGVyTGlzdChtb2RlbC5pdGVtcywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLm1pc3NpbmdJZHMpO1xuICAgICAgICB0aGlzLnNlbGVjdFJhZGlvQnlWYWx1ZSh0aGlzLmVscy5jYXB0dXJlRm10UmFkaW9zLCBtb2RlbC5jYXB0dXJlLmZvcm1hdCk7XG4gICAgICAgIHRoaXMuc2VsZWN0UmFkaW9CeVZhbHVlKHRoaXMuZWxzLmNhcHR1cmVBcmVhUmFkaW9zLCBtb2RlbC5jYXB0dXJlLmFyZWEpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnF1YWxpdHkpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUucXVhbGl0eSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVTY2FsZU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnNjYWxlKTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZVNjYWxlUmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5zY2FsZSk7XG4gICAgICAgIHRoaXMudXBkYXRlUXVhbGl0eVZpc2liaWxpdHkobW9kZWwuY2FwdHVyZS5mb3JtYXQpO1xuICAgICAgICB0aGlzLmFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSShtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFNpemUpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5kZWZhdWx0U2l6ZSk7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUNvbG9yVUkobW9kZWwuZGVmYXVsdENvbG9yKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaGFwZVNlbGVjdC52YWx1ZSA9IG1vZGVsLmRlZmF1bHRTaGFwZTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlUG9zaXRvblVJKG1vZGVsLmRlZmF1bHRQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkodGhpcy5nZXRFeGlzdGluZ0dyb3Vwcyhtb2RlbC5pdGVtcyksIG1vZGVsLmRlZmF1bHRHcm91cCk7XG4gICAgfVxuICAgIHJlbmRlclN0YXR1cyhrZXkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBTVEFUVVNfTEFCRUxfU1RZTEVba2V5XTtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVscy5zdGF0dXM7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdjb25uZWN0LXN0YXR1cycsIC4uLnN0eWxlLmJvZHkpO1xuICAgICAgICBjb25zdCBkb3QgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKCdjb25uZWN0LXN0YXR1cy1kb3QnLCAuLi5zdHlsZS5kb3QpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gZ2V0U3RhdHVzTWVzc2FnZShrZXkpO1xuICAgICAgICBlbC5yZXBsYWNlQ2hpbGRyZW4oZG90LCB0ZXh0KTtcbiAgICAgICAgdGhpcy5kaXNhYmxlZEFsbEJ1dHRvbnMoa2V5ICE9PSBTVEFUVVMuQ09OTkVDVEVEKTtcbiAgICB9XG4gICAgcmVuZGVyVG9nZ2xlKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZWxzLnRvZ2dsZUljb247XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXRvZ2dsZS1pY29uJywgZW5hYmxlZCA/ICdiZy1pbmRpZ28tNTAwJyA6ICdiZy1zbGF0ZS0zMDAnKTtcbiAgICAgICAgdGhpcy5lbHMudG9nZ2xlTGFiZWwudGV4dENvbnRlbnQgPSBpMThuLmdldChlbmFibGVkID8gJ3RvZ2dsZV9vbicgOiAndG9nZ2xlX29mZicpO1xuICAgIH1cbiAgICByZW5kZXJMaXN0KGl0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICB0aGlzLmVscy5jb3VudC50ZXh0Q29udGVudCA9IFN0cmluZyhpdGVtcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBhbGxDaGVja2VkID0gaXRlbXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiBpdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5jaGVja2VkID0gYWxsQ2hlY2tlZDtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5lbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cEJ5R3JvdXAoaXRlbXMpO1xuICAgICAgICBjb25zdCBncm91cEtleXMgPSBBcnJheS5mcm9tKGdyb3Vwcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhID09PSBVTkdST1VQRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGIgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmcmFnID0gdGhpcy5kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGdLZXkgb2YgZ3JvdXBLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5yZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ3JvdXBzLmdldChnS2V5KSwgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbihmcmFnKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXBTZWN0aW9uKGdLZXksIGdJdGVtcywgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpIHtcbiAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmVsKCdzZWN0aW9uJywgJ3NlbGVjdC1pdGVtLXNlY3Rpb24nKTtcbiAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuZWwoJ2RpdicsICdzZWxlY3QtaXRlbS1oZWFkZXInKTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCAnc3Bzay1jaGVja2JveCBzcHNrLWNoZWNrYm94LS1ub3JtYWwnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBnSXRlbXMuZXZlcnkoKGl0KSA9PiBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogZ0tleSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogZ0tleSxcbiAgICAgICAgICAgICAgICBpc0NoZWNrOiBzZWxlY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC10aXRsZScsIGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXkpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWdoLWxlZnQnKTtcbiAgICAgICAgbGVmdC5hcHBlbmQoY2hlY2tib3hXcmFwLCB0aXRsZSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC1jb3VudCcsIFN0cmluZyhnSXRlbXMubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IHRoaXMuZWwoJ2J1dHRvbicsICdzZWxlY3QtaXRlbS1naC10b2dnbGUnKTtcbiAgICAgICAgdG9nZ2xlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghaXNDb2xsYXBzZWQpKTtcbiAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBpc0NvbGxhcHNlZCA/IGdldEljb24oJ2NhcmV0UmlnaHQnKSA6IGdldEljb24oJ2NhcmV0RG93bicpO1xuICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgY2xhc3NOYW1lOiAnaWNvbi1zbScsIHZpZXdCb3ggfSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZVBhdGggPSB0b2dnbGVJY29uLnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKTtcbiAgICAgICAgdG9nZ2xlQnRuLmFwcGVuZCh0b2dnbGVJY29uKTtcbiAgICAgICAgaGVhZGVyLmFwcGVuZChsZWZ0LCBjb3VudCwgdG9nZ2xlQnRuKTtcbiAgICAgICAgLy8gdWxcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLmVsKCd1bCcsICdzZWxlY3QtaXRlbS1saXN0Jyk7XG4gICAgICAgIGlmIChpc0NvbGxhcHNlZClcbiAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmF0dGFjaFVsRG5ESGFuZGxlcnModWwpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGdJdGVtcy5zb3J0KGJ5TGFiZWxUaGVuSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RDaGVja2VkID0gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudGx5Q29sbGFwc2VkID0gdGhpcy5jb2xsYXBzZWRHcm91cHMuaGFzKGdLZXkpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRseUNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2VkR3JvdXBzLmRlbGV0ZShnS2V5KTtcbiAgICAgICAgICAgICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGdldEljb24oJ2NhcmV0RG93bicpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuYWRkKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXRSaWdodCcpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kKGhlYWRlciwgdWwpO1xuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgcmVuZGVySXRlbShpdCwgc2VsZWN0Q2hlY2tlZCwgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc01pc3NpbmcgPSBtaXNzaW5nSWRzLmluY2x1ZGVzKGl0LmlkKTtcbiAgICAgICAgY29uc3QgbGlCYXNlID0gJ3NlbGVjdC1pdGVtJztcbiAgICAgICAgY29uc3QgbGkgPSB0aGlzLmVsKCdsaScsIGlzTWlzc2luZyA/IGBncm91cCAke2xpQmFzZX0gc2VsZWN0LWl0ZW0tLXdhcm5gIDogbGlCYXNlKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGxpLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIC8vIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwgPSBsaTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbGkucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGxpLnBhcmVudEVsZW1lbnQ/LmNoaWxkcmVuID8/IFtdLCBsaSk7XG4gICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpXG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZHJhZ0VsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHBhcmVudCA/IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCB0aGlzLmRyYWdFbCkgOiAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JZCA9IHRoaXMuZHJhZ0VsLmRhdGFzZXQuaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZnJvbUlkICYmIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPj0gMCAmJiBlbmRJbmRleCA+PSAwICYmIGVuZEluZGV4ICE9PSB0aGlzLmRyYWdTdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUlkOiBOdW1iZXIoZnJvbUlkKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbUluZGV4OiB0aGlzLmRyYWdTdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0b0luZGV4OiBlbmRJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoZWNrYm94XG4gICAgICAgIGNvbnN0IGNoZWNrYm94V3JhcCA9IHRoaXMuZWwoJ2RpdicsICdzcHNrLWNoZWNrd3JhcCcpO1xuICAgICAgICBjb25zdCBjaGVja2JveFN0eWxlID0gaXNNaXNzaW5nXG4gICAgICAgICAgICA/ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLXdhcm4nXG4gICAgICAgICAgICA6ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCc7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCBjaGVja2JveFN0eWxlKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzZWxlY3RDaGVja2VkO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgaWQ6IGl0LmlkLCBpc0NoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrYm94V3JhcC5hcHBlbmQoY2hlY2tib3gpO1xuICAgICAgICAvLyBiYWRnZVxuICAgICAgICBjb25zdCBiYWRnZVN0eWxlID0gaXNNaXNzaW5nID8gJ3Nwc2stYmFkZ2Ugc3Bzay1iYWRnZS0td2FybicgOiAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS1ub3JtJztcbiAgICAgICAgY29uc3QgYmFkZ2UgPSB0aGlzLmVsKCdzcGFuJywgYmFkZ2VTdHlsZSwgU3RyaW5nKGl0LmxhYmVsKSk7XG4gICAgICAgIC8vIG1haW4gKG1pc3NpbmdJY29uLCBhbmNob3IpXG4gICAgICAgIGNvbnN0IG1haW4gPSB0aGlzLmVsKCdkaXYnLCAnbWluLXctMCBmbGV4LTEnKTtcbiAgICAgICAgbWFpbi5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgfHwgaXNNaXNzaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCB7IGlkOiBpdC5pZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc01pc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaXAgPSB0aGlzLmVsKCdzcGFuJywgJ2NoaXAtd2FybicpO1xuICAgICAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBnZXRJY29uKCd3YXJuJyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICAgICAgdmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsKCdzcGFuJywgdW5kZWZpbmVkLCBpMThuLmdldCgnbWlzc2luZ19pdGVtJykpO1xuICAgICAgICAgICAgY2hpcC5hcHBlbmQoaWNvbiwgbGFiZWwpO1xuICAgICAgICAgICAgbWFpbi5hcHBlbmQoY2hpcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5lbCgnZGl2JywgJ2FuY2hvcicsIGl0LmFuY2hvci52YWx1ZSk7XG4gICAgICAgIG1haW4uYXBwZW5kKGFuY2hvcik7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRCdG4gPSB0aGlzLmdlbmVyYXRlQ29tbWVudEJ0bihpdCk7XG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveFdyYXAsIGJhZGdlLCBtYWluLCBjb21tZW50QnRuKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbW1lbnRCdG4oaXQpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuLWljb24nO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ2NvbW1lbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihkLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRJbnB1dC52YWx1ZSA9IGl0LmNvbW1lbnQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElkSW5wdXQudmFsdWUgPSBTdHJpbmcoaXQuaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ0bjtcbiAgICB9XG4gICAgc2NoZWR1bGVIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSwgdGhpcy5IT1ZFUl9PVVRfREVMQVkpO1xuICAgIH1cbiAgICBjYW5jZWxIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhvdmVyT3V0VGltZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTCBEJkQgSGFuZGxlclxuICAgICAqIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAqIEBwYXJhbSB1bFxuICAgICAqL1xuICAgIGF0dGFjaFVsRG5ESGFuZGxlcnModWwpIHtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYWdFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgJiYgdWwgIT09IHRoaXMuZHJhZ1N0YXJ0UGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpID0gZS50YXJnZXQ/LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TGkgJiYgdGFyZ2V0TGkgIT09IHRoaXMuZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldExpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQWZ0ZXIgPSBlLmNsaWVudFkgLSByZWN0LnRvcCA+IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB1bC5pbnNlcnRCZWZvcmUodGhpcy5kcmFnRWwsIGlzQWZ0ZXIgPyB0YXJnZXRMaS5uZXh0U2libGluZyA6IHRhcmdldExpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0YXJnZXRMaSkge1xuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKHRoaXMuZHJhZ0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG4gICAgZ2V0RXhpc3RpbmdHcm91cHMoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChpdGVtcy5tYXAoKGkpID0+IChpLmdyb3VwID8/ICcnKS50cmltKCkpLmZpbHRlcigoZykgPT4gZy5sZW5ndGggPiAwKSkpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XG4gICAgfVxuICAgIGdyb3VwQnlHcm91cChpdGVtcykge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSAoaXQuZ3JvdXAgPz8gVU5HUk9VUEVEX1ZBTFVFKS50cmltKCkgfHwgVU5HUk9VUEVEO1xuICAgICAgICAgICAgaWYgKCFtLmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgIG0uc2V0KGtleSwgW10pO1xuICAgICAgICAgICAgbS5nZXQoa2V5KS5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ2pwZWcnID8gJ2pwZWcnIDogJ3BuZyc7XG4gICAgfVxuICAgIGdldFNlbGVjdGVkQ2FwdHVyZUFyZWEoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ3ZpZXdwb3J0JyA/ICd2aWV3cG9ydCcgOiAnZnVsbCc7XG4gICAgfVxuICAgIHVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KGZvcm1hdCkge1xuICAgICAgICBjb25zdCBmID0gZm9ybWF0ID8/IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCk7XG4gICAgICAgIGNvbnN0IGlzSnBlZyA9IGYgPT09ICdqcGVnJztcbiAgICAgICAgdGhpcy5lbHMuanBlZ09ubHlFbHMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc0pwZWcpKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS5kaXNhYmxlZCA9ICFpc0pwZWc7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5TnVtYmVyLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICB9XG4gICAgc2VsZWN0UmFkaW9CeVZhbHVlKHJhZGlvcywgdmFsdWUpIHtcbiAgICAgICAgcmFkaW9zLmZvckVhY2goKHIpID0+IChyLmNoZWNrZWQgPSByLnZhbHVlID09PSB2YWx1ZSkpO1xuICAgIH1cbiAgICBiaW5kU3luYyhyYW5nZUVsLCBudW1iZXJFbCwgb25WYWx1ZSkge1xuICAgICAgICBjb25zdCByZWFkTnVtID0gKHMsIGZhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gcyAhPSBudWxsICYmIHMgIT09ICcnID8gTnVtYmVyKHMpIDogTmFOO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSA/IHYgOiBmYWxsYmFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodiwgbWluLCBtYXgpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAocmF3U3RyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSByZWFkTnVtKG51bWJlckVsLm1pbiB8fCByYW5nZUVsLm1pbiwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IHJlYWROdW0obnVtYmVyRWwubWF4IHx8IHJhbmdlRWwubWF4LCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHJlYWROdW0obnVtYmVyRWwuc3RlcCB8fCByYW5nZUVsLnN0ZXAsIDEpO1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gTnVtYmVyKHJhd1N0cik7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXAoTnVtYmVyLmlzRmluaXRlKHJhdykgPyByYXcgOiAwLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBjb25zdCByb3VuZGVkID0gTWF0aC5yb3VuZChjbGFtcGVkIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSBOdW1iZXIocm91bmRlZC50b0ZpeGVkKDYpKTtcbiAgICAgICAgICAgIG51bWJlckVsLnZhbHVlID0gU3RyaW5nKGZpeGVkKTtcbiAgICAgICAgICAgIHJhbmdlRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgb25WYWx1ZT8uKGZpeGVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmFuZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMocmFuZ2VFbC52YWx1ZSkpO1xuICAgICAgICBudW1iZXJFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMobnVtYmVyRWwudmFsdWUpKTtcbiAgICB9XG4gICAgZGlzYWJsZWRBbGxCdXR0b25zKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5kb2MucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykuZm9yRWFjaCgoYnRuKSA9PiAoYnRuLmRpc2FibGVkID0gaXNEaXNhYmxlZCkpO1xuICAgIH1cbiAgICBhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkoZXhwYW5kZWQpIHtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKGV4cGFuZGVkKSk7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZXhwYW5kZWQgPyBnZXRJY29uKCdjYXJldERvd25GaWxsJykgOiBnZXRJY29uKCdjYXJldFJpZ2h0RmlsbCcpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgdmlld0JveCwgY2xhc3NOYW1lOiAnaC00IHctNCcgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFleHBhbmRlZCk7XG4gICAgfVxuICAgIGdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpIHtcbiAgICAgICAgY29uc3QgY29sb3JOYW1lID0gY29sb3IgPT09ICdHcmF5JyA/ICdzbGF0ZScgOiBjb2xvcjtcbiAgICAgICAgcmV0dXJuIGBiZy0ke2NvbG9yTmFtZS50b0xvd2VyQ2FzZSgpfS01MDBgO1xuICAgIH1cbiAgICBhcHBseUJhZGdlQ29sb3JVSShjb2xvcikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQuY29sb3JOYW1lID09PSBjb2xvcjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckxhYmVsLnRleHRDb250ZW50ID0gY29sb3I7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NOYW1lID0gJ2lubGluZS1ibG9jayB3LTQgaC00IHJvdW5kZWQtZnVsbCc7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NMaXN0LmFkZCh0aGlzLmdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpKTtcbiAgICB9XG4gICAgYXBwbHlCYWRnZVBvc2l0b25VSShwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZVBvc2l0aW9uQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQucG9zaXRpb25OYW1lID09PSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkxhYmVsLnRleHRDb250ZW50ID0gcG9zaXRpb24ucmVwbGFjZUFsbCgnLScsICcgJyk7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJKGV4aXN0aW5nR3JvdXBzLCBkZWZhdXRHcm91cCkge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQoVU5HUk9VUEVELCBpMThuLmdldCgnZ3JvdXBfdW5ncm91cGVkJyksIGRlZmF1dEdyb3VwID09PSBVTkdST1VQRUQpKTtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBleGlzdGluZ0dyb3Vwcykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vcm1hbGl6ZShncm91cCk7XG4gICAgICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQodmFsdWUsIGdyb3VwLCBkZWZhdXRHcm91cCA9PT0gZ3JvdXApKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVPcHQgPSB0aGlzLm1ha2VPcHQodGhpcy5ORVdfR1JPVVAsIGkxOG4uZ2V0KCdjb21tb25fY3JlYXRlJykpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZChjcmVhdGVPcHQpO1xuICAgIH1cbiAgICAkKHNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5kb2MucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIGlmICghZWwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtQYW5lbFZpZXddIE1pc3NpbmcgZWxlbWVudDogJHtzZWxlY3Rvcn1gKTtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICAkYWxsKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgZWwodGFnLCBjbGFzc05hbWUsIHRleHQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSlcbiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICBpZiAodGV4dCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBtYWtlT3B0KHZhbHVlLCBsYWJlbCwgc2VsZWN0ZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBvID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgby50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBpZiAoc2VsZWN0ZWQpXG4gICAgICAgICAgICBvLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIGNyZWF0ZVN2Z0ljb24oZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IFNWR19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdzdmcnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIG9wdHMudmlld0JveCA/PyAnMCAwIDIwIDIwJyk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgb3B0cy5jbGFzc05hbWUgPz8gJ2gtMy41IHctMy41Jyk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnY3VycmVudENvbG9yJyk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgaWYgKG9wdHMuYXR0cnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKG9wdHMuYXR0cnMpKVxuICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoaywgdik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3BhdGgnKTtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZSgnZCcsIGQpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aEVsKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQYW5lbENvbnRyb2xsZXIgfSBmcm9tICdAcGFuZWwvY29udHJvbGxlci9wYW5lbF9jb250cm9sbGVyJztcbmltcG9ydCB7IFBhbmVsVmlldyB9IGZyb20gJy4uL3ZpZXcvcGFuZWxfdmlldyc7XG4vKipcbiAqIE9yY2hlc3RyYXRlcyBVSSBpbml0aWFsaXphdGlvbiBhbmQgY29ubmVjdGlvbiBsaWZlY3ljbGUuXG4gKiAtIEFwcGx5IGkxOG5cbiAqIC0gRGV0ZWN0IGFuZCBjb25uZWN0IHRvIHRoZSBhY3RpdmUgdGFiXG4gKiAtIFJlc3RvcmUgc3RhdGUgYW5kIHBlcmZvcm0gaW5pdGlhbCByZW5kZXJcbiAqIC0gQmluZCBVSSBldmVudHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgY29uc3QgdmlldyA9IG5ldyBQYW5lbFZpZXcoZG9jdW1lbnQpO1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgUGFuZWxDb250cm9sbGVyKHZpZXcpO1xuICAgIGF3YWl0IGNvbnRyb2xsZXIuc3RhcnQoKTtcbn1cbihmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgdm9pZCBzdGFydCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhbmVsIGJvb3RzdHJhcCBmYWlsZWQ6JywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gdm9pZCBzdGFydCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhbmVsIGJvb3RzdHJhcCBmYWlsZWQ6JywgZXJyKTtcbiAgICAgICAgfSksIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsiaXNSZXN0cmljdGVkIiwicmF3Iiwic3RhcnRzV2l0aCIsInVybCIsIlVSTCIsIlNldCIsImhhcyIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJJVEVNX0NPTE9SUyIsIklURU1fU0hBUEUiLCJJVEVNX1BPU0lUSU9OX1ZBTFVFUyIsIlVOR1JPVVBFRCIsIlVOR1JPVVBFRF9WQUxVRSIsImluaXRpYWxNb2RlbCIsInN0YXR1cyIsInRhYklkIiwicGFnZUtleSIsInNlbGVjdGlvbkVuYWJsZWQiLCJpdGVtcyIsImRlZmF1bHRTaXplIiwiZGVmYXVsdENvbG9yIiwiZGVmYXVsdFNoYXBlIiwiZGVmYXVsdFBvc2l0aW9uIiwiZGVmYXVsdEdyb3VwIiwiY2FwdHVyZSIsImZvcm1hdCIsImFyZWEiLCJxdWFsaXR5Iiwic2NhbGUiLCJwYW5lbEV4cGFuZGVkIiwic2VsZWN0SXRlbXMiLCJtaXNzaW5nSWRzIiwiUk9PVF9LRVkiLCJhc3luYyIsInJlYWRBbGwiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJnZXRTdGF0ZSIsIm5leHRJZCIsInNldFN0YXRlIiwicGFnZUtleVN0ciIsInN0YXRlIiwibWFwIiwic2V0Iiwid3JpdGVBbGwiLCJub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkIiwiYnVja2V0cyIsIk1hcCIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJrZXkiLCJncm91cCIsInRyaW0iLCJwdXNoIiwib3V0Iiwic2xpY2UiLCJidWNrZXQiLCJzb3J0IiwiYSIsImIiLCJsYWJlbCIsImlkIiwiaSIsImRlc2lyZWQiLCJzdWJzIiwiaTE4biIsImdldE1lc3NhZ2UiLCJsb2NhbGl6ZSIsInJvb3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImdldEF0dHJpYnV0ZSIsInRleHRDb250ZW50Iiwic3BlYyIsInBhaXIiLCJzcGxpdCIsImF0dHIiLCJzIiwic2V0QXR0cmlidXRlIiwiU1RBVFVTIiwiU1RBVFVTX01TR19LRVkiLCJSRVNUUklDVEVEIiwiQ09OTkVDVElORyIsIkNPTk5FQ1RFRCIsIkRJU0NPTk5FQ1RFRCIsIlNUQVRVU19MQUJFTF9TVFlMRSIsImJvZHkiLCJkb3QiLCJBY3Rpb25UeXBlIiwiRWZmZWN0VHlwZSIsIkNIQU5ORUwiLCJQYW5lbEFwaSIsInJwYyIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNlbmQiLCJyZXEiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZXhwZWN0UmVwbHkiLCJyZW5kZXIiLCJ0eXBlIiwicGF5bG9hZCIsInRvZ2dsZVNlbGVjdCIsImVuYWJsZWQiLCJjbGVhciIsImhvdmVyIiwibWVhc3VyZVNpemUiLCJwaW5nIiwiUG9ydFJwYyIsInBvcnQiLCJwZW5kaW5nIiwiYWxpdmUiLCJvbk1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsIm1zZyIsImlzUmVzcG9uc2UiLCJkZWxldGUiLCJvbkRpc2Nvbm5lY3QiLCJyZWFzb24iLCJydW50aW1lIiwibGFzdEVycm9yIiwibWVzc2FnZSIsInJlc29sdmUiLCJvayIsImVycm9yIiwiaXNBbGl2ZSIsInRpbWVvdXRNcyIsIlByb21pc2UiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJ1bmRlZmluZWQiLCJyZXMiLCJjbGVhclRpbWVvdXQiLCJwb3N0TWVzc2FnZSIsIk9XTkVEIiwidGFyZ2V0IiwibWV0aG9kIiwicGFyYW1zIiwicmVqZWN0IiwiZGVidWdnZXIiLCJzZW5kQ29tbWFuZCIsInJlc3VsdCIsImVyciIsIkVycm9yIiwiU3RyaW5nIiwib3B0cyIsInRhYiIsInRhYnMiLCJjb25zb2xlIiwid2FybiIsImZtdCIsInNldHRsZU1zIiwiZGlkQXR0YWNoIiwidXNlZE92ZXJyaWRlIiwiYXR0YWNoIiwiYWRkIiwiaW5jbHVkZXMiLCJhdHRhY2hPd25lZCIsImJyaW5nVG9Gcm9udCIsImdlb20iLCJjb250ZW50U2l6ZSIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJ2IiwiY3NzVmlzdWFsVmlld3BvcnQiLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJwYWdlWCIsInBhZ2VZIiwiY2VpbCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Vmlld3BvcnRDc3NSZWN0IiwidXNlT3ZlcnJpZGUiLCJjbGlwIiwiY2FwdHVyZUJleW9uZFZpZXdwb3J0Iiwic2hvdWxkU2Nyb2xsVG9wIiwibWV0cmljcyIsImRldmljZVNjYWxlRmFjdG9yIiwibW9iaWxlIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJyZXNvbHZlR2VvbWV0cnkiLCJleHByZXNzaW9uIiwiciIsImNhcFBhcmFtcyIsImZyb21TdXJmYWNlIiwibWluIiwicm91bmQiLCJkYXRhIiwiZmlsZW5hbWUiLCJiYXNlIiwidGl0bGUiLCJob3N0IiwicmVwbGFjZSIsImxlbmd0aCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1ha2VGaWxlbmFtZSIsImRvd25sb2FkcyIsImRvd25sb2FkIiwic2F2ZUFzIiwiZGV0YWNoIiwiZGV0YWNoT3duZWQiLCJVSUV2ZW50VHlwZSIsIm9uRGV0YWNoIiwiZGVidWdnZWUiLCJQYW5lbENvbnRyb2xsZXIiLCJ2aWV3IiwibW9kZWwiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJjb25uIiwiY3VycmVudFdpbmRvd0lkIiwic3RhdGljIiwiUkVOREVSX0NPTlRFTlQiLCJUT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQiLCJDTEVBUl9DT05URU5UIiwiSE9WRVIiLCJzdGFydCIsImRpc3BhdGNoIiwiSU5JVCIsImVuc3VyZUNvbm5lY3Rpb25BbGl2ZSIsImZvcmNlUmVjb25uZWN0IiwicmVnaXN0ZXJWaWV3SGFuZGxlcnMiLCJ3Iiwid2luZG93cyIsImdldEN1cnJlbnQiLCJzZW5kZXJXaW5kb3dJZCIsIndpbmRvd0lkIiwib24iLCJUT0dHTEVfU0VMRUNUIiwiQ0xFQVIiLCJDTEVBUl9BTEwiLCJDQVBUVVJFIiwiTUVBU1VSRV9DT05URU5UX1NJWkUiLCJCQURHRV9TSVpFX0NIQU5HRSIsInNpemUiLCJTRVRfQkFER0VfU0laRSIsIkJBREdFX0NPTE9SX1NFTEVDVCIsImNvbG9yIiwiU0VUX0JBREdFX0NPTE9SIiwiQkFER0VfU0hBUEVfQ0hBTkdFIiwic2hhcGUiLCJTRVRfQkFER0VfU0hBUEUiLCJCQURHRV9ERUxFVEUiLCJCQURHRV9QT1NJVElPTl9TRUxFQ1QiLCJwb3NpdGlvbiIsIlNFVF9CQURHRV9QT1NJVElPTiIsIlRPR0dMRV9DQVBUVVJFX1BBTkVMIiwiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfRk9STUFUIiwiQ0FQVFVSRV9BUkVBX0NIQU5HRSIsIlNFVF9DQVBUVVJFX0FSRUEiLCJDQVBUVVJFX1FVQUxJVFlfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfUVVBTElUWSIsIkNBUFRVUkVfU0NBTEVfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfU0NBTEUiLCJSRU9SREVSX0lURU1TIiwiZnJvbUlkIiwiZnJvbUluZGV4IiwidG9JbmRleCIsIlNFVF9HUk9VUCIsIklURU1fU0VMRUNUSU9OX0NIQU5HRUQiLCJJVEVNX0hPVkVSX0lOIiwiSVRFTV9IT1ZFUl9PVVQiLCJJVEVNX0NPTU1FTlRfQVBQTFkiLCJjb21tZW50IiwiVVBEQVRFX0lURU1fQ09NTUVOVCIsImFjdGlvbiIsIm5leHQiLCJlZmZlY3RzIiwiU0VUX1NUQVRVUyIsIlJFU1RPUkVfU1RBVEUiLCJraW5kIiwiU0VUX01JU1NJTkdfSURTIiwiQ0xFQVJfU1RBVEUiLCJDT05URU5UX1NFTEVDVEVEIiwiaXQiLCJQRVJTSVNUX1NUQVRFIiwiZmlsdGVyIiwiaXRlbXNNYXJrZWRGb3JSZWxhYmVsIiwibmV4dEdyb3VwUmF3IiwibmV4dEdyb3VwIiwidXBkYXRlSXRlbUNudCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbCIsIkNBUFRVUkVfUkVRVUVTVEVEIiwiTk9USUZZX0VSUk9SIiwiQ0FQVFVSRV9TVUNDRUVERUQiLCJDQVBUVVJFX0ZBSUxFRCIsIlJhbmdlRXJyb3IiLCJmcm9tSWR4IiwiZmluZEluZGV4IiwicmVvcmRlckl0ZW1MYWJlbCIsImlzQ2hlY2siLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZCIsImciLCJncm91cElkcyIsImdyb3VwU2V0IiwiYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwIiwiYWxsQ2hlY2siLCJQT1JUX0RJU0NPTk5FQ1RFRCIsInVwZGF0ZSIsImV4ZWNFZmZlY3RzIiwiY2F0Y2giLCJzb21lIiwiZngiLCJSRVFVSVJFU19DT05OIiwiY29udGV4dENoYW5nZWQiLCJhcGkiLCJwcmV2IiwiZSIsInByZXZLZXkiLCJxdWVyeSIsImFjdGl2ZSIsImN1cnJlbnRXaW5kb3ciLCJnZXRBY3RpdmVUYWIiLCJuZXdLZXkiLCJpbmNsdWRlSGFzaCIsInUiLCJvcmlnaW4iLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJkaXNjb25uZWN0Iiwic2NyaXB0aW5nIiwiZXhlY3V0ZVNjcmlwdCIsImZpbGVzIiwiY29ubmVjdCIsIm5hbWUiLCJsaXN0ZW5lcnMiLCJmbiIsImNiIiwiZGlzcG9zZSIsImNvbm5lY3RUb1RhYiIsImFuY2hvcnMiLCJ1bmlxIiwiQXJyYXkiLCJmcm9tIiwidmFsdWUiLCJmaW5kIiwiQm9vbGVhbiIsInJlbW92ZWRJZHMiLCJ0b0FkZCIsImZvdW5kIiwiYW5jaG9yIiwicGF0Y2giLCJhZGRlZCIsInRvUmVtb3ZlIiwiSW5maW5pdHkiLCJhcHBseVBhdGNoIiwiaGFuZGxlU2VsZWN0ZWQiLCJzdCIsIklDT05TIiwiY2FyZXREb3duIiwiZCIsInZpZXdCb3giLCJjYXJldERvd25GaWxsIiwiY2FyZXRSaWdodCIsImNhcmV0UmlnaHRGaWxsIiwiZ2V0SWNvbiIsImJ5TGFiZWxUaGVuSWQiLCJQYW5lbFZpZXciLCJkb2MiLCJlbHMiLCJORVdfR1JPVVAiLCJIT1ZFUl9PVVRfREVMQVkiLCJkcmFnRWwiLCJkcmFnU3RhcnRQYXJlbnQiLCJkcmFnU3RhcnRJbmRleCIsImhvdmVyT3V0VGltZXIiLCJjb2xsYXBzZWRHcm91cHMiLCIkIiwidG9nZ2xlQnRuIiwidG9nZ2xlSWNvbiIsInRvZ2dsZUxhYmVsIiwiY2xlYXJCdG4iLCJjYXB0dXJlQnRuIiwibGlzdCIsImVtcHR5IiwiY291bnQiLCJjYXB0dXJlT3B0aW9uc1RvZ2dsZSIsImNhcHR1cmVPcHRpb25zUGFuZWwiLCJjYXB0dXJlRm10UmFkaW9zIiwiJGFsbCIsImNhcHR1cmVBcmVhUmFkaW9zIiwianBlZ09ubHlFbHMiLCJqcGVnUXVhbGl0eVJhbmdlIiwianBlZ1F1YWxpdHlOdW1iZXIiLCJjYXB0dXJlU2NhbGVSYW5nZSIsImNhcHR1cmVTY2FsZU51bWJlciIsImJhZGdlU2l6ZVJhbmdlIiwiYmFkZ2VTaXplTnVtYmVyIiwiYmFkZ2VDb2xvckJ1dHRvbnMiLCJiYWRnZUNvbG9yTGFiZWwiLCJiYWRnZUNvbG9yRG90IiwiYmFkZ2VTaGFwZVNlbGVjdCIsImJhZGdlRGVsZXRlQnV0dG9uIiwiYmFkZ2VQb3NpdGlvbkJ1dHRvbnMiLCJiYWRnZVBvc2l0aW9uTGFiZWwiLCJiYWRnZUdyb3VwU2VsZWN0IiwiZ3JvdXBOYW1lTW9kYWwiLCJncm91cE5hbWVJbnB1dCIsImdyb3VwTmFtZUNhbmNlbEJ0biIsImdyb3VwTmFtZUNyZWF0ZWxCdG4iLCJpdGVtQ29tbWVudE1vZGFsIiwiaXRlbUNvbW1lbnRJbnB1dCIsIml0ZW1Db21tZW50SWRJbnB1dCIsIml0ZW1Db21tZW50Q2FuY2VsQnRuIiwiaXRlbUNvbW1lbnRBcHBseUJ0biIsInNlbGVjdEl0ZW1BbGxDaGVja2JveCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbWl0IiwidXBkYXRlUXVhbGl0eVZpc2liaWxpdHkiLCJnZXRTZWxlY3RlZENhcHR1cmVGb3JtYXQiLCJnZXRTZWxlY3RlZENhcHR1cmVBcmVhIiwiYmluZFN5bmMiLCJmaXJlU2l6ZSIsImlzRmluaXRlIiwiYnRuIiwiZGF0YXNldCIsImNvbG9yTmFtZSIsImlzSXRlbVNoYXBlIiwicG9zaXRpb25OYW1lIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2VsZWN0ZWQiLCJjaGVja2VkIiwiY2FuY2VsSG92ZXJPdXQiLCJzY2hlZHVsZUhvdmVyT3V0IiwiaGFuZGxlciIsImFyciIsImgiLCJyZW5kZXJTdGF0dXMiLCJyZW5kZXJUb2dnbGUiLCJyZW5kZXJMaXN0Iiwic2VsZWN0UmFkaW9CeVZhbHVlIiwiYXBwbHlDYXB0dXJlT3B0aW9uc1RvZ2dsZVVJIiwiYXBwbHlCYWRnZUNvbG9yVUkiLCJhcHBseUJhZGdlUG9zaXRvblVJIiwiYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkiLCJnZXRFeGlzdGluZ0dyb3VwcyIsInN0eWxlIiwiY2xhc3NOYW1lIiwiY3JlYXRlRWxlbWVudCIsInRleHQiLCJtc2dLZXkiLCJnZXRTdGF0dXNNZXNzYWdlIiwicmVwbGFjZUNoaWxkcmVuIiwiZGlzYWJsZWRBbGxCdXR0b25zIiwiaWNvbiIsImFsbENoZWNrZWQiLCJldmVyeSIsImdyb3VwcyIsImdyb3VwQnlHcm91cCIsImdyb3VwS2V5cyIsImtleXMiLCJsb2NhbGVDb21wYXJlIiwiZnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJnS2V5Iiwic2VjdGlvbiIsInJlbmRlckdyb3VwU2VjdGlvbiIsImFwcGVuZENoaWxkIiwiZ0l0ZW1zIiwiaXNDb2xsYXBzZWQiLCJoZWFkZXIiLCJjaGVja2JveFdyYXAiLCJjaGVja2JveCIsImFwcGVuZCIsImxlZnQiLCJjcmVhdGVTdmdJY29uIiwidG9nZ2xlUGF0aCIsInF1ZXJ5U2VsZWN0b3IiLCJ1bCIsImF0dGFjaFVsRG5ESGFuZGxlcnMiLCJzZWxlY3RDaGVja2VkIiwicmVuZGVySXRlbSIsImlzTWlzc2luZyIsImxpQmFzZSIsImxpIiwiZHJhZ2dhYmxlIiwicGFyZW50RWxlbWVudCIsInByb3RvdHlwZSIsImluZGV4T2YiLCJjYWxsIiwiY2hpbGRyZW4iLCJkYXRhVHJhbnNmZXIiLCJlZmZlY3RBbGxvd2VkIiwicGFyZW50IiwiZW5kSW5kZXgiLCJjaGVja2JveFN0eWxlIiwiYmFkZ2VTdHlsZSIsImJhZGdlIiwibWFpbiIsImNoaXAiLCJjb21tZW50QnRuIiwiZ2VuZXJhdGVDb21tZW50QnRuIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXRMaSIsImNsb3Nlc3QiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaXNBZnRlciIsImNsaWVudFkiLCJ0b3AiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsIm0iLCJ2YWwiLCJpc0pwZWciLCJ0b2dnbGUiLCJkaXNhYmxlZCIsInJhZGlvcyIsInJhbmdlRWwiLCJudW1iZXJFbCIsIm9uVmFsdWUiLCJyZWFkTnVtIiwiZmFsbGJhY2siLCJOYU4iLCJzeW5jIiwicmF3U3RyIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJQT1NJVElWRV9JTkZJTklUWSIsInN0ZXAiLCJjbGFtcGVkIiwiY2xhbXAiLCJyb3VuZGVkIiwiZml4ZWQiLCJ0b0ZpeGVkIiwiaXNEaXNhYmxlZCIsImV4cGFuZGVkIiwiaW5uZXJIVE1MIiwiZ2V0QmFkZ2VDb2xvclN0eWxlTmFtZSIsInRvTG93ZXJDYXNlIiwiYnV0dG9uIiwicmVwbGFjZUFsbCIsImV4aXN0aW5nR3JvdXBzIiwiZGVmYXV0R3JvdXAiLCJtYWtlT3B0Iiwibm9ybWFsaXplIiwiY3JlYXRlT3B0Iiwic2VsZWN0b3IiLCJ0YWciLCJub2RlIiwibyIsIlNWR19OUyIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsImF0dHJzIiwiayIsIk9iamVjdCIsImVudHJpZXMiLCJwYXRoRWwiLCJjb250cm9sbGVyIiwicmVhZHlTdGF0ZSIsIm9uY2UiXSwic291cmNlUm9vdCI6IiJ9