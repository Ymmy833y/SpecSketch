(()=>{"use strict";const e="PING",t="TOGGLE_SELECT",s="RENDER",i="CLEAR",a="HOVER",n="MEASURE_SIZE",o="SELECTED",r="MISSING_IDS",c="CONTENT_SIZE_RESULT",l="ACTIVE_TAB_CHANGED";function E(e){if(!e)return!0;if(e.startsWith("view-source:")||e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("filesystem:"))return!0;let t;try{t=new URL(e)}catch{return!0}return!new Set(["http:","https:","file:"]).has(t.protocol)||!!new Set(["chromewebstore.google.com","chrome.google.com"]).has(t.hostname)}const d=["Gray","Red","Yellow","Green","Blue","Lime","Purple","Pink","Orange","Cyan"],h=["circle","square"],u=["right-top-outside","right-top-inside","right-outside","right-inside","right-bottom-outside","right-bottom-inside","top-outside","top-inside","center","bottom-outside","bottom-inside","left-top-outside","left-top-inside","left-outside","left-inside","left-bottom-outside","left-bottom-inside"],p="__ungrouped__",T="";function m(e){if(!e||"object"!=typeof e)return!1;const t=e.anchor;if(!t||"object"!=typeof t)return!1;const s=t;return"css"===s.kind&&"string"==typeof s.value&&("number"==typeof s.version||1===s.version)}const _={status:"DISCONNECTED",tabId:null,pageKey:"",pageKeys:[],theme:"device",selectionEnabled:!1,items:[],defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:T,capture:{format:"png",area:"full",quality:90,scale:1,panelExpanded:!1},selectItems:[],missingIds:[],toastMessages:[]},S=function(e,t){const s="screenStateByPage";async function i(){return(await chrome.storage.local.get(s))[s]??{}}async function a(e){await chrome.storage.local.set({[s]:e})}return{key:s,readAll:i,writeAll:a,get:async function(e){const s=(await i())[e];return void 0!==s?s:t?t():void 0},set:async function(e,t){const s=await i();s[e]=t,await a(s)},remove:async function(e){const t=await i();e in t&&(delete t[e],await a(t))},clear:async function(){await a({})}}}(0,()=>({items:[],nextId:1,defaultSize:14,defaultColor:"Blue",defaultShape:"circle",defaultPosition:"left-top-outside",defaultGroup:T})),g=function(){const e="themeMode";return{key:e,get:async function(){const t=(await chrome.storage.local.get(e))[e];return void 0===t?"device":t},set:async function(t){await chrome.storage.local.set({[e]:t})},remove:async function(){await chrome.storage.local.remove(e)}}}();async function A(e,t){const s=await S.get(e);if(t.removedIds?.length){const e=new Set(t.removedIds);s.items=s.items.filter(t=>!e.has(t.id))}if(t.added?.length)for(const e of t.added){const t={id:s.nextId++,label:1/0,anchor:e.anchor,size:e.size??s.defaultSize,color:e.color??s.defaultColor,shape:e.shape??s.defaultShape,position:e.position??s.defaultPosition,group:e.group??s.defaultGroup,comment:e.comment??""};s.items.push(t)}return s.items=f(s.items),await S.set(e,s),s}function f(e){const t=new Map;e.forEach((e,s)=>{const i=(e.group??"").trim();t.has(i)||t.set(i,[]),t.get(i).push({index:s,item:e})});const s=e.slice();for(const[,e]of t)e.sort((e,t)=>e.item.label!==t.item.label?e.item.label-t.item.label:e.item.id-t.item.id),e.forEach(({index:e,item:t},i)=>{const a=i+1;t.label!==a&&(s[e]={...t,label:a})});return s}function C(e,t){return chrome.i18n.getMessage(e,t)||e}const R={get:C,localize:function(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");t&&(e.textContent=C(t))}),e.querySelectorAll("[data-i18n-attr]").forEach(e=>{const t=e.getAttribute("data-i18n-attr");if(t)for(const s of t.split(";")){const[t,i]=s.split(":").map(e=>e?.trim());t&&i&&e.setAttribute(t,C(i))}})}},O="RESTRICTED",I="CONNECTING",N="CONNECTED",L="DISCONNECTED",y={RESTRICTED:"status_restricted",CONNECTING:"status_connecting",CONNECTED:"status_connected",DISCONNECTED:"status_disconnected"},v={RESTRICTED:"connect-status--restricted",CONNECTING:"connect-status--connecting",CONNECTED:"connect-status--connected",DISCONNECTED:"connect-status--disconnected"};var b,D;!function(e){e.INIT="INIT",e.CONNECTED="CONNECTED",e.SET_STATUS="SET_STATUS",e.RESTORE_STATE="RESTORE_STATE",e.SET_MISSING_IDS="SET_MISSING_IDS",e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR_ALL="CLEAR_ALL",e.CONTENT_SELECTED="CONTENT_SELECTED",e.SET_BADGE_SIZE="SET_BADGE_SIZE",e.SET_BADGE_COLOR="SET_BADGE_COLOR",e.SET_BADGE_SHAPE="SET_BADGE_SHAPE",e.BADGE_DELETE="BADGE_DELETE",e.SET_BADGE_POSITION="SET_BADGE_POSITION",e.SET_CAPTURE_FORMAT="SET_CAPTURE_FORMAT",e.SET_CAPTURE_AREA="SET_CAPTURE_AREA",e.SET_CAPTURE_QUALITY="SET_CAPTURE_QUALITY",e.SET_CAPTURE_SCALE="SET_CAPTURE_SCALE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE_REQUESTED="CAPTURE_REQUESTED",e.CAPTURE_SUCCEEDED="CAPTURE_SUCCEEDED",e.CAPTURE_FAILED="CAPTURE_FAILED",e.REORDER_ITEMS="REORDER_ITEMS",e.SET_GROUP="SET_GROUP",e.PORT_DISCONNECTED="PORT_DISCONNECTED",e.CLOSE_PANEL_REQUESTED="CLOSE_PANEL_REQUESTED",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.UPDATE_ITEM_COMMENT="UPDATE_ITEM_COMMENT",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.STORE_RELOAD_REQUESTED="STORE_RELOAD_REQUESTED",e.STORE_RELOAD_SUCCEEDED="STORE_RELOAD_SUCCEEDED",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.IMPORT_FAILED="IMPORT_FAILED",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_SCREEN_STATE_BY_PAGE="REMOVE_SCREEN_STATE_BY_PAGE",e.EXPORT_SCREEN_STATE_BY_PAGE="EXPORT_SCREEN_STATE_BY_PAGE",e.EXPORT_FAILED="EXPORT_FAILED"}(b||(b={})),function(e){e.RENDER_CONTENT="RENDER_CONTENT",e.TOGGLE_SELECT_ON_CONTENT="TOGGLE_SELECT_ON_CONTENT",e.CLEAR_CONTENT="CLEAR_CONTENT",e.HOVER="HOVER",e.MEASURE_CONTENT_SIZE="MEASURE_CONTENT_SIZE",e.CAPTURE="CAPTURE",e.CLEAR_STATE="CLEAR_STATE",e.PERSIST_STATE="PERSIST_STATE",e.SET_THEME="SET_THEME",e.UPDATE_THEME="UPDATE_THEME",e.READ_SCREEN_STATE_STORE="READ_SCREEN_STATE_STORE",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY="REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY",e.EXPORT_SCREEN_STATE_BY_PAGE_KEY="EXPORT_SCREEN_STATE_BY_PAGE_KEY",e.NOTIFY_ERROR="NOTIFY_ERROR"}(D||(D={}));const P="spsk:panel-content:v1";class w{rpc;constructor(e){this.rpc=e}send(e){const t={id:crypto.randomUUID(),expectReply:!1,...e};return this.rpc.send(t)}render(e){return this.send({type:s,payload:{items:e}})}toggleSelect(e){return this.send({type:t,payload:{enabled:e}})}clear(){return this.send({type:i})}hover(e){return this.send({type:a,payload:{id:e}})}measureSize(){return this.send({type:n})}ping(){const t={id:crypto.randomUUID(),expectReply:!0,type:e};return this.rpc.send(t,5e3)}}class M{port;pending=new Map;alive=!0;constructor(e){this.port=e,this.port.onMessage.addListener(e=>{(function(e){return"object"==typeof e&&null!==e&&"id"in e&&"ok"in e})(e)&&(this.pending.get(e.id)?.(e),this.pending.delete(e.id))}),this.port.onDisconnect.addListener(()=>{this.alive=!1;const e=chrome.runtime.lastError?.message??"disconnected";for(const[t,s]of this.pending)s({id:t,ok:!1,error:e});this.pending.clear()})}get isAlive(){return this.alive}send(e,t=5e3){return new Promise(s=>{if(!this.alive)return s(void e.expectReply);if(e.expectReply){const i=setTimeout(()=>{this.pending.delete(e.id),s(void 0)},t);this.pending.set(e.id,e=>{clearTimeout(i),s(e)})}try{this.port.postMessage(e)}catch{return e.expectReply&&this.pending.delete(e.id),void s(void 0)}e.expectReply||s(void 0)})}}const G=new Set;async function U(e,t,s){return await new Promise((i,a)=>{chrome.debugger.sendCommand(e,t,s??{},e=>{const t=function(){const e=chrome.runtime.lastError;return e?new Error(e.message||String(e)):null}();t?a(t):i(e??{})})})}async function k(e){const t=await chrome.tabs.get(e.tabId);if(!t.id||E(t.url))return void console.warn("Capturing is not possible due to restricted URL:",t.url);const s={tabId:t.id},i=e.format??"png",a=e.settleMs??500,n=e.scale??1,o=e.area??"full";let r=!1,c=!1;try{r=await async function(e){const t=e.tabId??null;return await new Promise((s,i)=>{chrome.debugger.attach(e,"1.3",()=>{const e=chrome.runtime.lastError;if(!e)return null!=t&&G.add(t),void s(!0);const a=e.message||"";a.includes("Another debugger is already attached")?null!=t&&G.has(t)?s(!1):i(new Error("Debugger is already attached by another client (DevTools/extension).")):i(new Error(a))})})}(s),await U(s,"Page.enable"),(e.bringToFront??1)&&await U(s,"Page.bringToFront");const l=await async function(e,t,s,i){if("viewport"===t){const{x:t,y:i,width:a,height:n}=await async function(e){const t=(await U(e,"Page.getLayoutMetrics")).cssVisualViewport;return{x:Math.max(0,0|Math.floor(t.pageX)),y:Math.max(0,0|Math.floor(t.pageY)),width:Math.max(1,0|Math.ceil(t.clientWidth)),height:Math.max(1,0|Math.ceil(t.clientHeight))}}(e);return{useOverride:!1,clip:{x:t,y:i,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!1}}const a=Math.max(1,0|Math.ceil(i.width)),n=Math.max(1,0|Math.ceil(i.height));return{useOverride:!0,metrics:{width:a,height:n,deviceScaleFactor:1,mobile:!1,screenWidth:a,screenHeight:n,positionX:0,positionY:0},clip:{x:0,y:0,width:a,height:n,scale:s},captureBeyondViewport:!0,shouldScrollTop:!0}}(s,o,n,e.contentSize);l.shouldScrollTop&&await U(s,"Runtime.evaluate",{expression:"window.scrollTo(0,0)"}),l.useOverride&&l.metrics&&(c=!0,await U(s,"Emulation.setDeviceMetricsOverride",l.metrics)),await new Promise(e=>setTimeout(e,a));const E={format:i,fromSurface:!0,captureBeyondViewport:l.captureBeyondViewport,clip:l.clip};"jpeg"===i&&"number"==typeof e.quality&&(E.quality=Math.min(100,Math.max(0,Math.round(e.quality))));const{data:d}=await U(s,"Page.captureScreenshot",E),h=`data:${"png"===i?"image/png":"image/jpeg"};base64,${d}`,u=e.filename??function(e,t){let s=(e.title&&e.title.trim()?e.title:"")||(()=>{try{return new URL(e.url??"").host||"page"}catch{return"page"}})();return s=s.replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g," ").trim(),s.length>80&&(s=s.slice(0,80)),`${s}-${(new Date).toISOString().replace(/[:.]/g,"-")}.${t}`}(t,i);return await chrome.downloads.download({url:h,filename:u,saveAs:!1})}finally{if(c)try{await U(s,"Emulation.clearDeviceMetricsOverride")}catch{}if(r)try{await async function(e){const t=e.tabId??null;null!=t&&G.has(t)&&(await async function(e){await new Promise(t=>{chrome.debugger.detach(e,()=>t())})}(e),G.delete(t))}(s)}catch{}}}async function B(e,t,s={}){const{saveAs:i=!1,prefix:a="specsketch-screen-state"}=s,n={format:"specsketch-export",kind:"screen-state",version:1,exportedAt:(new Date).toISOString(),pageKey:t,items:e.items},o=`data:application/json;charset=utf-8;base64,${function(e){const t=(new TextEncoder).encode(e);let s="";for(const e of t)s+=String.fromCharCode(e);return btoa(s)}(JSON.stringify(n,null,2))}`,r=function(e,t){return`${e}_${(t??"").replace(/https?:\/\//,"").replace(/[^a-zA-Z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,120)||"page"}_${function(e=new Date){const t=(e,t=2)=>String(e).padStart(t,"0"),s=-e.getTimezoneOffset(),i=s>=0?"+":"-",a=t(Math.floor(Math.abs(s)/60)),n=t(Math.abs(s)%60);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}_${t(e.getHours())}-${t(e.getMinutes())}-${t(e.getSeconds())}${i}${a}${n}`}()}.json`}(a,t);return await chrome.downloads.download({url:o,filename:r,saveAs:i})}async function x(e,t){const s=/\.json$/i.test(e.name),i="application/json"===e.type||"text/json"===e.type||""===e.type;if(!s&&!i)throw new Error(R.get("import_file_not_json"));let a;try{const t=await e.text();a=JSON.parse(t)}catch{throw new Error(R.get("import_payload_invalid"))}if(!function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"specsketch-export"===t.format&&"screen-state"===t.kind&&"number"==typeof t.version&&"string"==typeof t.pageKey&&!!Array.isArray(t.items)&&t.items.every(m)}(a))throw new Error(R.get("import_payload_invalid"));const n=a.items,o=await S.get(t),r=e=>`${e.anchor.kind}:${e.anchor.version}:${e.anchor.value}`,c=new Set((o?.items??[]).map(r)),l=n.filter(e=>!c.has(r(e))).sort((e,t)=>t.id-e.id).map(e=>({anchor:e.anchor,size:e.size,color:e.color,shape:e.shape,position:e.position,group:e.group,comment:e.comment}));return await A(t,{added:l})}var H;chrome.debugger.onDetach.addListener(e=>{const t=e.tabId;"number"==typeof t&&G.delete(t)}),function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.CLEAR="CLEAR",e.CAPTURE="CAPTURE",e.BADGE_SIZE_CHANGE="BADGE_SIZE_CHANGE",e.BADGE_COLOR_SELECT="BADGE_COLOR_SELECT",e.BADGE_SHAPE_CHANGE="BADGE_SHAPE_CHANGE",e.BADGE_DELETE="BADGE_DELETE",e.BADGE_POSITION_SELECT="BADGE_POSITION_SELECT",e.SET_GROUP="SET_GROUP",e.CAPTURE_FORMAT_CHANGE="CAPTURE_FORMAT_CHANGE",e.CAPTURE_AREA_CHANGE="CAPTURE_AREA_CHANGE",e.CAPTURE_QUALITY_CHANGE="CAPTURE_QUALITY_CHANGE",e.CAPTURE_SCALE_CHANGE="CAPTURE_SCALE_CHANGE",e.TOGGLE_CAPTURE_PANEL="TOGGLE_CAPTURE_PANEL",e.REORDER_ITEMS="REORDER_ITEMS",e.ITEM_SELECTION_CHANGED="ITEM_SELECTION_CHANGED",e.ITEM_HOVER_IN="ITEM_HOVER_IN",e.ITEM_HOVER_OUT="ITEM_HOVER_OUT",e.ITEM_COMMENT_APPLY="ITEM_COMMENT_APPLY",e.UPDATE_THEME="UPDATE_THEME",e.SETTING_MODAL_SHOW="SETTING_MODAL_SHOW",e.IMPORT_SCREAN_STATE_FILE="IMPORT_SCREAN_STATE_FILE",e.TOAST_DISMISS_REQUESTED="TOAST_DISMISS_REQUESTED",e.REMOVE_PAGE_CLICK="REMOVE_PAGE_CLICK",e.EXPORT_PAGE_CLICK="EXPORT_PAGE_CLICK"}(H||(H={}));class ${view;model=structuredClone(_);conn=null;currentWindowId=null;static REQUIRES_CONN=new Set([D.RENDER_CONTENT,D.TOGGLE_SELECT_ON_CONTENT,D.CLEAR_CONTENT,D.HOVER]);constructor(e){this.view=e}async start(){this.dispatch({type:b.INIT});const{ok:e}=await this.ensureConnectionAlive({forceReconnect:!0});if(!e)return void this.view.render(this.model);this.registerViewHandlers(),this.view.render(this.model);const t=await chrome.windows.getCurrent();this.currentWindowId=t.id??null,chrome.runtime.onMessage.addListener(e=>{if(e.type!==l)return;const t=e.payload.windowId;null!=this.currentWindowId&&this.currentWindowId===t&&this.ensureConnectionAlive({forceReconnect:!0})})}registerViewHandlers(){this.view.on(H.TOGGLE_SELECT,()=>this.dispatch({type:b.TOGGLE_SELECT})),this.view.on(H.CLEAR,()=>this.dispatch({type:b.CLEAR_ALL})),this.view.on(H.CAPTURE,()=>this.dispatch({type:b.MEASURE_CONTENT_SIZE})),this.view.on(H.BADGE_SIZE_CHANGE,({size:e})=>this.dispatch({type:b.SET_BADGE_SIZE,size:e})),this.view.on(H.BADGE_COLOR_SELECT,({color:e})=>this.dispatch({type:b.SET_BADGE_COLOR,color:e})),this.view.on(H.BADGE_SHAPE_CHANGE,({shape:e})=>this.dispatch({type:b.SET_BADGE_SHAPE,shape:e})),this.view.on(H.BADGE_DELETE,()=>this.dispatch({type:b.BADGE_DELETE})),this.view.on(H.BADGE_POSITION_SELECT,({position:e})=>this.dispatch({type:b.SET_BADGE_POSITION,position:e})),this.view.on(H.TOGGLE_CAPTURE_PANEL,()=>this.dispatch({type:b.TOGGLE_CAPTURE_PANEL})),this.view.on(H.CAPTURE_FORMAT_CHANGE,({format:e})=>this.dispatch({type:b.SET_CAPTURE_FORMAT,format:e})),this.view.on(H.CAPTURE_AREA_CHANGE,({area:e})=>this.dispatch({type:b.SET_CAPTURE_AREA,area:e})),this.view.on(H.CAPTURE_QUALITY_CHANGE,({quality:e})=>this.dispatch({type:b.SET_CAPTURE_QUALITY,quality:e})),this.view.on(H.CAPTURE_SCALE_CHANGE,({scale:e})=>this.dispatch({type:b.SET_CAPTURE_SCALE,scale:e})),this.view.on(H.REORDER_ITEMS,({fromId:e,fromIndex:t,toIndex:s})=>this.dispatch({type:b.REORDER_ITEMS,fromId:e,fromIndex:t,toIndex:s})),this.view.on(H.SET_GROUP,({group:e})=>this.dispatch({type:b.SET_GROUP,group:e})),this.view.on(H.ITEM_SELECTION_CHANGED,e=>this.dispatch({type:b.ITEM_SELECTION_CHANGED,...e})),this.view.on(H.ITEM_HOVER_IN,({id:e})=>this.dispatch({type:b.ITEM_HOVER_IN,id:e})),this.view.on(H.ITEM_HOVER_OUT,()=>this.dispatch({type:b.ITEM_HOVER_OUT})),this.view.on(H.ITEM_COMMENT_APPLY,({id:e,comment:t})=>this.dispatch({type:b.UPDATE_ITEM_COMMENT,id:e,comment:t})),this.view.on(H.UPDATE_THEME,({theme:e})=>this.dispatch({type:b.UPDATE_THEME,theme:e})),this.view.on(H.SETTING_MODAL_SHOW,()=>this.dispatch({type:b.STORE_RELOAD_REQUESTED})),this.view.on(H.IMPORT_SCREAN_STATE_FILE,({file:e})=>this.dispatch({type:b.IMPORT_SCREAN_STATE_FILE,file:e})),this.view.on(H.TOAST_DISMISS_REQUESTED,({uuid:e})=>this.dispatch({type:b.TOAST_DISMISS_REQUESTED,uuid:e})),this.view.on(H.REMOVE_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:b.REMOVE_SCREEN_STATE_BY_PAGE,pageKey:e})),this.view.on(H.EXPORT_PAGE_CLICK,({pageKey:e})=>this.dispatch({type:b.EXPORT_SCREEN_STATE_BY_PAGE,pageKey:e}))}dispatch(e){const{model:t,effects:s}=function(e,t){switch(t.type){case b.INIT:return{model:e,effects:[{kind:D.SET_THEME}]};case b.CONNECTED:return{model:{...e,tabId:t.tabId,pageKey:t.pageKey},effects:[]};case b.SET_STATUS:return t.status===N?{model:{...e,status:t.status},effects:[]}:{model:{...e,items:[],status:t.status},effects:[]};case b.RESTORE_STATE:return{model:{...e,items:t.state.items,defaultSize:t.state.defaultSize,defaultColor:t.state.defaultColor,defaultShape:t.state.defaultShape,defaultPosition:t.state.defaultPosition,defaultGroup:t.state.defaultGroup},effects:[{kind:D.RENDER_CONTENT,items:t.state.items}]};case b.SET_MISSING_IDS:return{model:{...e,missingIds:t.missingIds},effects:[]};case b.TOGGLE_SELECT:{const t=!e.selectionEnabled;return{model:{...e,selectionEnabled:t},effects:[{kind:D.TOGGLE_SELECT_ON_CONTENT,enabled:t}]}}case b.CLEAR_ALL:return{model:{...e,items:[]},effects:[{kind:D.CLEAR_CONTENT},{kind:D.CLEAR_STATE}]};case b.CONTENT_SELECTED:return{model:e,effects:[]};case b.TOGGLE_CAPTURE_PANEL:return{model:{...e,capture:{...e.capture,panelExpanded:!e.capture.panelExpanded}},effects:[]};case b.SET_BADGE_SIZE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{size:t.size}:{}}));return{model:{...e,defaultSize:t.size,items:s},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:s}]}}case b.SET_BADGE_COLOR:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{color:t.color}:{}}));return{model:{...e,defaultColor:t.color,items:s},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:s}]}}case b.SET_BADGE_SHAPE:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{shape:t.shape}:{}}));return{model:{...e,defaultShape:t.shape,items:s},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:s}]}}case b.BADGE_DELETE:{const t=f(e.items.filter(t=>!e.selectItems.includes(t.id)));return{model:{...e,items:t},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:t}]}}case b.SET_BADGE_POSITION:{const s=e.items.map(s=>({...s,...e.selectItems.includes(s.id)?{position:t.position}:{}}));return{model:{...e,defaultPosition:t.position,items:s},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:s}]}}case b.SET_GROUP:{const s=function(e,t,s){const i=(s??"").trim();let a=0;return e.sort((e,t)=>t.id-e.id).map(e=>{if(t.includes(e.id)&&e.group!==i){const t=Number.MAX_SAFE_INTEGER-a++;return{...e,group:i,label:t}}return e})}(e.items,e.selectItems,t.group),i=f(s);return{model:{...e,defaultGroup:t.group,items:i},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:i}]}}case b.SET_CAPTURE_FORMAT:return{model:{...e,capture:{...e.capture,format:t.format}},effects:[]};case b.SET_CAPTURE_AREA:return{model:{...e,capture:{...e.capture,area:t.area}},effects:[]};case b.SET_CAPTURE_QUALITY:return{model:{...e,capture:{...e.capture,quality:t.quality}},effects:[]};case b.SET_CAPTURE_SCALE:return{model:{...e,capture:{...e.capture,scale:t.scale}},effects:[]};case b.MEASURE_CONTENT_SIZE:return{model:e,effects:[{kind:D.MEASURE_CONTENT_SIZE}]};case b.CAPTURE_REQUESTED:return null==e.tabId?{model:e,effects:[{kind:D.NOTIFY_ERROR,error:"No tabId"}]}:{model:e,effects:[{kind:D.CAPTURE,payload:{tabId:e.tabId,format:e.capture.format,area:e.capture.area,quality:e.capture.quality,scale:e.capture.scale,contentSize:t.contentSize}}]};case b.CAPTURE_SUCCEEDED:return{model:e,effects:[]};case b.CAPTURE_FAILED:return{model:e,effects:[{kind:D.NOTIFY_ERROR,error:t.error}]};case b.REORDER_ITEMS:{const s=function(e,t,s,i){if(i<0||i>=e.length)throw new RangeError(`toIndex out of range: ${i}`);const a=e.findIndex(e=>e.id===t);if(-1===a)throw new Error(`Item not found for id=${t}`);if(i<0||i>=e.filter(t=>t.group===e[a].group).length)throw new RangeError(`toIndex out of range: ${i}`);const n=i+(s<i?1.1:.1);return e.map(e=>e.id===t?{...e,label:n}:e)}(e.items,t.fromId,t.fromIndex,t.toIndex),i=f(s);return{model:{...e,items:i},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:i}]}}case b.ITEM_SELECTION_CHANGED:if("id"in t){const s=function(e,t,s){return t&&!s.includes(e)?[...s,e]:s.filter(t=>t!==e)}(t.id,t.isCheck,e.selectItems);return{model:{...e,selectItems:s},effects:[]}}if("group"in t){const s=function(e,t,s,i){const a=e.trim(),n=i.filter(e=>(e.group??T).trim()===a).map(e=>e.id);if(0===n.length)return s;if(t){const e=new Set(s);for(const t of n)e.add(t);return[...e]}{const e=new Set(n);return s.filter(t=>!e.has(t))}}(t.group,t.isCheck,e.selectItems,e.items);return{model:{...e,selectItems:s},effects:[]}}{const a=(s=t.allCheck,i=e.items,s?i.map(e=>e.id):[]);return{model:{...e,selectItems:a},effects:[]}}case b.ITEM_HOVER_IN:return{model:e,effects:[{kind:D.HOVER,id:t.id}]};case b.ITEM_HOVER_OUT:return{model:e,effects:[{kind:D.HOVER,id:null}]};case b.UPDATE_ITEM_COMMENT:{const s=e.items.map(e=>({...e,...e.id===t.id?{comment:t.comment}:{}}));return{model:{...e,items:s},effects:[{kind:D.PERSIST_STATE},{kind:D.RENDER_CONTENT,items:s}]}}case b.PORT_DISCONNECTED:return{model:{...e,status:L,selectionEnabled:!1},effects:[{kind:D.TOGGLE_SELECT_ON_CONTENT,enabled:!1}]};case b.SET_THEME:return{model:{...e,theme:t.theme},effects:[]};case b.UPDATE_THEME:return{model:{...e,theme:t.theme},effects:[{kind:D.UPDATE_THEME,theme:t.theme}]};case b.STORE_RELOAD_REQUESTED:return{model:e,effects:[{kind:D.READ_SCREEN_STATE_STORE}]};case b.STORE_RELOAD_SUCCEEDED:return{model:{...e,pageKeys:t.pageKeys},effects:[]};case b.IMPORT_SCREAN_STATE_FILE:return{model:e,effects:[{kind:D.IMPORT_SCREAN_STATE_FILE,file:t.file}]};case b.IMPORT_FAILED:return{model:{...e,toastMessages:t.toastMessages},effects:[]};case b.TOAST_DISMISS_REQUESTED:{const s=e.toastMessages.filter(e=>e.uuid!==t.uuid);return{model:{...e,toastMessages:s},effects:[]}}case b.REMOVE_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:D.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY,pageKey:t.pageKey}]};case b.EXPORT_SCREEN_STATE_BY_PAGE:return{model:e,effects:[{kind:D.EXPORT_SCREEN_STATE_BY_PAGE_KEY,pageKey:t.pageKey}]};case b.EXPORT_FAILED:return{model:e,effects:[{kind:D.NOTIFY_ERROR,error:t.error}]};default:return{model:e,effects:[]}}var s,i}(this.model,e);this.model=t,this.view.render(this.model),this.execEffects(s).catch(console.error)}async execEffects(e){if(e.some(e=>$.REQUIRES_CONN.has(e.kind))){const e=await this.ensureConnectionAlive();if(!e.ok||e.contextChanged)return}for(const t of e)switch(t.kind){case D.RENDER_CONTENT:await(this.conn?.api.render(t.items));break;case D.TOGGLE_SELECT_ON_CONTENT:await(this.conn?.api.toggleSelect(t.enabled));break;case D.CLEAR_CONTENT:await(this.conn?.api.clear());break;case D.HOVER:await(this.conn?.api.hover(t.id));break;case D.CLEAR_STATE:await S.set(this.model.pageKey,{items:this.model.items,nextId:1,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break;case D.PERSIST_STATE:{const e=await S.get(this.model.pageKey);await S.set(this.model.pageKey,{...e,items:this.model.items,defaultSize:this.model.defaultSize,defaultColor:this.model.defaultColor,defaultShape:this.model.defaultShape,defaultPosition:this.model.defaultPosition,defaultGroup:this.model.defaultGroup});break}case D.SET_THEME:{const e=await g.get();this.dispatch({type:b.SET_THEME,theme:e});break}case D.UPDATE_THEME:await g.set(t.theme);break;case D.READ_SCREEN_STATE_STORE:{const e=await S.readAll(),t=Object.keys(e);this.dispatch({type:b.STORE_RELOAD_SUCCEEDED,pageKeys:t});break}case D.IMPORT_SCREAN_STATE_FILE:try{const e=await x(t.file,this.model.pageKey);this.dispatch({type:b.RESTORE_STATE,state:{items:e.items,defaultSize:e.defaultSize,defaultColor:e.defaultColor,defaultShape:e.defaultShape,defaultPosition:e.defaultPosition,defaultGroup:e.defaultGroup}})}catch(e){const t=e,s={uuid:crypto.randomUUID(),message:t.message,kind:"error"};this.dispatch({type:b.IMPORT_FAILED,toastMessages:[s]})}break;case D.REMOVE_SCREEN_STATE_STORE_BY_PAGE_KEY:{await S.remove(t.pageKey);const e=await S.readAll(),s=Object.keys(e);this.dispatch({type:b.STORE_RELOAD_SUCCEEDED,pageKeys:s});const i=await S.get(this.model.pageKey);this.dispatch({type:b.RESTORE_STATE,state:{items:i.items,defaultSize:i.defaultSize,defaultColor:i.defaultColor,defaultShape:i.defaultShape,defaultPosition:i.defaultPosition,defaultGroup:i.defaultGroup}});break}case D.EXPORT_SCREEN_STATE_BY_PAGE_KEY:try{const e=await S.get(t.pageKey);await B(e,t.pageKey)}catch(e){this.dispatch({type:b.EXPORT_FAILED,error:e})}break;case D.MEASURE_CONTENT_SIZE:await(this.conn?.api.measureSize());break;case D.CAPTURE:try{await k(t.payload),this.dispatch({type:b.CAPTURE_SUCCEEDED})}catch(e){this.dispatch({type:b.CAPTURE_FAILED,error:e})}break;case D.NOTIFY_ERROR:console.error(t.error)}}async ensureConnectionAlive(e){const t=this.model.pageKey;if(!0!==e?.forceReconnect&&void 0!==await(this.conn?.api.ping()))return{ok:!0,contextChanged:!1};const s=await async function(){return(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]}();if(!s?.id||E(s.url))return this.dispatch({type:b.SET_STATUS,status:O}),{ok:!1};const i=function(e,t=!1){try{const s=new URL(e);return t?`${s.origin}${s.pathname}${s.search}${s.hash}`:`${s.origin}${s.pathname}${s.search}`}catch{return e}}(s.url),a=s.id;this.dispatch({type:b.CONNECTED,tabId:a,pageKey:i}),this.dispatch({type:b.SET_STATUS,status:I});try{this.conn?.port.disconnect()}catch{}this.conn=await async function(e){await chrome.scripting.executeScript({target:{tabId:e},files:["content/main.js"]}).catch(()=>{});const t=chrome.tabs.connect(e,{name:P}),s=new M(t),i=new w(s),a=[];return t.onDisconnect.addListener(()=>a.forEach(e=>e())),{api:i,port:t,rpc:s,onDisconnect:e=>a.push(e),dispose:()=>{try{t.disconnect()}catch{}}}}(a),this.conn.onDisconnect(()=>this.dispatch({type:b.PORT_DISCONNECTED})),this.conn.port.onMessage.addListener(async e=>{if(e?.type===o){const t=await async function(e,t){const s=await S.get(e),i=Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e)).filter(Boolean),a=[],n=[];for(const e of i){const t=s.items.find(t=>t.anchor.kind===e.kind&&t.anchor.value===e.value);t?a.push(t.id):n.push({anchor:e})}const o={};return a.length&&(o.removedIds=a),n.length&&(o.added=n),A(e,o)}(this.model.pageKey,e.payload.anchors);this.dispatch({type:b.RESTORE_STATE,state:{items:t.items,defaultSize:t.defaultSize,defaultColor:t.defaultColor,defaultShape:t.defaultShape,defaultPosition:t.defaultPosition,defaultGroup:t.defaultGroup}})}else e?.type===r?this.dispatch({type:b.SET_MISSING_IDS,missingIds:e.payload.missingIds}):e?.type===c&&this.dispatch({type:b.CAPTURE_REQUESTED,contentSize:e.payload})});const n=await S.get(i);return this.dispatch({type:b.RESTORE_STATE,state:{items:n.items,defaultSize:n.defaultSize,defaultColor:n.defaultColor,defaultShape:n.defaultShape,defaultPosition:n.defaultPosition,defaultGroup:n.defaultGroup}}),this.dispatch({type:b.SET_STATUS,status:N}),{ok:!0,contextChanged:!!t&&t!==i}}}const F={caretDown:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.062L10.53 12.53a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z",viewBox:"0 0 20 20"},caretDownFill:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z",viewBox:"0 0 16 16"},caretRight:{d:"M7.293 14.707a1 1 0 01-1.414-1.414L10.172 9 5.879 4.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5z",viewBox:"0 0 20 20"},caretRightFill:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z",viewBox:"0 0 16 16"},success:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.707-8.707a1 1 0 0 0-1.414-1.414L9 11.172 7.707 9.879a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4Z",viewBox:"0 0 20 20"},error:{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-11.5a.75.75 0 0 1 1.5 0v5a.75.75 0 0 1-1.5 0v-5Zm.75 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",viewBox:"0 0 20 20"},warn:{d:"M9.049 2.927a1.5 1.5 0 012.902 0l6.41 11.94A1.5 1.5 0 0117.01 17H2.99a1.5 1.5 0 01-1.351-2.133l6.41-11.94zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-1-2a1 1 0 001-1V7a1 1 0 10-2 0v3a1 1 0 001 1z",viewBox:"0 0 20 20"},comment:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",viewBox:"0 0 16 16"},remove:{d:"M7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h3a1 1 0 1 1 0 2h-1l-1 10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6H4a1 1 0 1 1 0-2h3V3Zm1 3a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z",viewBox:"0 0 20 20"},export:{d:"M3 16.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm7.53-2.03a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V3.75a.75.75 0 0 1 1.5 0v8.13l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3Z",viewBox:"0 0 20 20"},close:{d:"M5.23 5.23a.75.75 0 0 1 1.06 0L10 8.94l3.71-3.71a.75.75 0 1 1 1.06 1.06L11.06 10l3.71 3.71a.75.75 0 1 1-1.06 1.06L10 11.06l-3.71 3.71a.75.75 0 1 1-1.06-1.06L8.94 10 5.23 6.29a.75.75 0 0 1 0-1.06Z",viewBox:"0 0 20 20"}};function V(e){const{d:t,viewBox:s="0 0 20 20"}=F[e];return{d:t,viewBox:s}}function z(e,t){return e.label!==t.label?e.label-t.label:e.id-t.id}class Y{doc;listeners={};els;NEW_GROUP="__newgroup__";HOVER_OUT_DELAY=1e3;dragEl=null;dragStartParent=null;dragStartIndex=-1;hoverOutTimer=null;collapsedGroups=new Set;TOAST_AUTO_DISMISS=1e4;constructor(e){this.doc=e,R.localize(e),this.els={status:this.$("#status"),toggleBtn:this.$("#toggle-select"),toggleIcon:this.$("#toggle-select-icon"),toggleLabel:this.$("#toggle-select-label"),clearBtn:this.$("#clear"),captureBtn:this.$("#capture"),list:this.$("#select-list"),empty:this.$("#select-empty"),count:this.$("#select-count"),captureOptionsToggle:this.$("#capture-options-toggle"),captureOptionsPanel:this.$("#capture-options"),captureFmtRadios:this.$all('input[name="capture-format"]'),captureAreaRadios:this.$all('input[name="capture-area"]'),jpegOnlyEls:this.$all(".jpeg-only"),jpegQualityRange:this.$("#jpeg-quality-range"),jpegQualityNumber:this.$("#jpeg-quality-number"),captureScaleRange:this.$("#capture-scale-range"),captureScaleNumber:this.$("#capture-scale-number"),badgeSizeRange:this.$("#badge-size-range"),badgeSizeNumber:this.$("#badge-size-number"),badgeColorButtons:this.$all("#badge-color-pop button"),badgeColorLabel:this.$("#badge-color-label"),badgeColorDot:this.$("#badge-color-dot"),badgeShapeSelect:this.$("#badge-shape-select"),badgeDeleteButton:this.$("#badge-delete-button"),badgePositionButtons:this.$all("#badge-position-pop button"),badgePositionLabel:this.$("#badge-position-label"),badgeGroupSelect:this.$("#badge-group-select"),groupNameModal:this.$("#group-name-modal"),groupNameInput:this.$("#group-name-input"),groupNameCancelBtn:this.$("#group-name-cancel-btn"),groupNameCreatelBtn:this.$("#group-name-create-btn"),itemCommentModal:this.$("#item-comment-modal"),itemCommentInput:this.$("#item-comment-input"),itemCommentIdInput:this.$("#item-comment-id-input"),itemCommentCancelBtn:this.$("#item-comment-cancel-btn"),itemCommentApplyBtn:this.$("#item-comment-apply-btn"),selectItemAllCheckbox:this.$('input[type="checkbox"][name="item-select"][value="all"]'),settingModal:this.$("#setting-modal"),settingButton:this.$("#setting-button"),settingCloseButton:this.$("#setting-close-btn"),themeLightBtn:this.$("#theme-light-btn"),themeDarkBtn:this.$("#theme-dark-btn"),themeDeviceBtn:this.$("#theme-device-btn"),importFileInput:this.$("#import-file-input"),importBtn:this.$("#import-btn"),storeCount:this.$("#store-count"),storeList:this.$("#store-list"),storeEmpty:this.$("#store-empty"),toastParent:this.$("#toast-parent")},this.els.toggleBtn.addEventListener("click",()=>this.emit(H.TOGGLE_SELECT,void 0)),this.els.clearBtn.addEventListener("click",()=>this.emit(H.CLEAR,void 0)),this.els.captureBtn.addEventListener("click",()=>this.emit(H.CAPTURE,void 0)),this.els.captureOptionsToggle.addEventListener("click",()=>{this.emit(H.TOGGLE_CAPTURE_PANEL,void 0)}),this.els.captureFmtRadios.forEach(e=>e.addEventListener("change",()=>{this.updateQualityVisibility(),this.emit(H.CAPTURE_FORMAT_CHANGE,{format:this.getSelectedCaptureFormat()})})),this.els.captureAreaRadios.forEach(e=>e.addEventListener("change",()=>{this.emit(H.CAPTURE_AREA_CHANGE,{area:this.getSelectedCaptureArea()})})),this.bindSync(this.els.jpegQualityRange,this.els.jpegQualityNumber,e=>this.emit(H.CAPTURE_QUALITY_CHANGE,{quality:e})),this.bindSync(this.els.captureScaleRange,this.els.captureScaleNumber,e=>this.emit(H.CAPTURE_SCALE_CHANGE,{scale:e})),this.bindSync(this.els.badgeSizeRange,this.els.badgeSizeNumber);const t=()=>{const e=Number(this.els.badgeSizeNumber.value);Number.isFinite(e)&&this.emit(H.BADGE_SIZE_CHANGE,{size:e})};this.els.badgeSizeRange.addEventListener("change",t),this.els.badgeSizeNumber.addEventListener("change",t),this.els.badgeColorButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.colorName??"",s="string"==typeof(i=t)&&d.includes(i)?t:"Blue";var i;this.emit(H.BADGE_COLOR_SELECT,{color:s})})}),this.els.badgeShapeSelect.addEventListener("change",()=>{const e=this.els.badgeShapeSelect.value??null,t=function(e){return"string"==typeof e&&h.includes(e)}(e)?e:"circle";this.emit(H.BADGE_SHAPE_CHANGE,{shape:t})}),this.els.badgeDeleteButton.addEventListener("click",()=>{this.emit(H.BADGE_DELETE,void 0)}),this.els.badgePositionButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.positionName??"",s="string"==typeof(i=t)&&u.includes(i)?t:"left-top-outside";var i;this.emit(H.BADGE_POSITION_SELECT,{position:s})})}),this.els.badgeGroupSelect.addEventListener("change",()=>{const e=this.els.badgeGroupSelect.value??p,t=e===p?T:e;t===this.NEW_GROUP&&this.els.groupNameModal.classList.remove("hidden"),this.emit(H.SET_GROUP,{group:t})}),this.els.groupNameCancelBtn.addEventListener("click",()=>{this.els.groupNameModal.classList.add("hidden")}),this.els.groupNameCreatelBtn.addEventListener("click",()=>{const e=this.els.groupNameInput.value??p,t=e===p||e===this.NEW_GROUP?T:e;this.emit(H.SET_GROUP,{group:t}),this.els.groupNameModal.classList.add("hidden"),this.els.groupNameInput.value=""}),this.els.itemCommentCancelBtn.addEventListener("click",()=>{this.els.itemCommentModal.classList.add("hidden")}),this.els.itemCommentApplyBtn.addEventListener("click",()=>{const e=this.els.itemCommentInput.value,t=Number(this.els.itemCommentIdInput.value);this.emit(H.ITEM_COMMENT_APPLY,{id:t,comment:e}),this.els.itemCommentModal.classList.add("hidden")}),this.els.settingButton.addEventListener("click",()=>{this.els.settingModal.classList.remove("hidden"),this.emit(H.SETTING_MODAL_SHOW,void 0)}),this.els.settingCloseButton.addEventListener("click",()=>{this.els.settingModal.classList.add("hidden")}),this.els.themeLightBtn.addEventListener("click",()=>{this.applyTheme("light"),this.emit(H.UPDATE_THEME,{theme:"light"})}),this.els.themeDarkBtn.addEventListener("click",()=>{this.applyTheme("dark"),this.emit(H.UPDATE_THEME,{theme:"dark"})}),this.els.themeDeviceBtn.addEventListener("click",()=>{this.applyTheme("device"),this.emit(H.UPDATE_THEME,{theme:"device"})}),this.els.importBtn.addEventListener("click",()=>{if(!this.els.importFileInput.files||0===this.els.importFileInput.files.length)return void this.els.importFileInput.click();const e=this.els.importFileInput.files[0];this.emit(H.IMPORT_SCREAN_STATE_FILE,{file:e})}),this.updateQualityVisibility(),this.els.selectItemAllCheckbox.addEventListener("change",e=>{const t=e.target.checked;this.emit(H.ITEM_SELECTION_CHANGED,{allCheck:t})}),this.els.list.addEventListener("pointerenter",()=>this.cancelHoverOut()),this.els.list.addEventListener("pointerleave",()=>this.scheduleHoverOut()),e.addEventListener("pointerleave",()=>{this.cancelHoverOut(),this.emit(H.ITEM_HOVER_OUT,void 0)})}on(e,t){(this.listeners[e]??=[]).push(t)}emit(e,t){const s=this.listeners[e];s?.forEach(e=>e(t))}render(e){this.applyToastMessages(e.toastMessages),this.applyTheme(e.theme),this.applyStore(e.pageKeys),this.renderStatus(e.status),this.renderToggle(e.selectionEnabled),this.renderList(e.items,e.selectItems,e.missingIds),this.selectRadioByValue(this.els.captureFmtRadios,e.capture.format),this.selectRadioByValue(this.els.captureAreaRadios,e.capture.area),this.els.jpegQualityNumber.value=String(e.capture.quality),this.els.jpegQualityRange.value=String(e.capture.quality),this.els.captureScaleNumber.value=String(e.capture.scale),this.els.captureScaleRange.value=String(e.capture.scale),this.updateQualityVisibility(e.capture.format),this.applyCaptureOptionsToggleUI(e.capture.panelExpanded),this.els.badgeSizeNumber.value=String(e.defaultSize),this.els.badgeSizeRange.value=String(e.defaultSize),this.applyBadgeColorUI(e.defaultColor),this.els.badgeShapeSelect.value=e.defaultShape,this.applyBadgePositonUI(e.defaultPosition),this.applyBadgeGroupSelectUI(this.getExistingGroups(e.items),e.defaultGroup)}renderStatus(e){const t=v[e],s=this.els.status;s.className="",s.className=`connect-status ${t}`;const i=this.doc.createElement("span");i.classList.add("connect-status-dot");const a=this.doc.createElement("span");a.textContent=function(e){const t=y[e];return R.get(t)||t}(e),s.replaceChildren(i,a),this.disableFormControls(e)}renderToggle(e){const t=this.els.toggleIcon;t.className="",t.classList.add("select-toggle-icon",e?"bg-indigo-500":"bg-slate-300"),this.els.toggleLabel.textContent=R.get(e?"toggle_on":"toggle_off")}renderList(e,t,s){this.els.count.textContent=String(e.length);const i=0!==e.length&&e.every(e=>t.includes(e.id));if(this.els.selectItemAllCheckbox.checked=i,!e.length)return this.els.empty.classList.remove("hidden"),void this.els.list.replaceChildren();this.els.empty.classList.add("hidden");const a=this.groupByGroup(e),n=Array.from(a.keys()).sort((e,t)=>e===p?-1:t===p?1:e.localeCompare(t)),o=this.doc.createDocumentFragment();for(const e of n){const i=this.renderGroupSection(e,a.get(e),t,s);o.appendChild(i)}this.els.list.replaceChildren(o)}renderGroupSection(e,t,s,i){const a=this.collapsedGroups.has(e),n=this.el("section","select-item-section"),o=this.el("div","select-item-header"),r=this.el("div","spsk-checkwrap"),c=this.el("input","spsk-checkbox spsk-checkbox--normal");c.type="checkbox",c.name="item-select",c.value=e===p?R.get("group_ungrouped"):e,c.checked=t.every(e=>s.includes(e.id)),c.addEventListener("change",t=>{const s=t.target.checked;this.emit(H.ITEM_SELECTION_CHANGED,{group:e===p?T:e,isCheck:s})}),r.append(c);const l=this.el("span","select-item-gh-title",e===p?R.get("group_ungrouped"):e),E=this.el("div","select-item-gh-left");E.append(r,l);const d=this.el("span","select-item-gh-count",String(t.length)),h=this.el("button","select-item-gh-toggle");h.type="button",h.setAttribute("aria-expanded",String(!a));const{d:u,viewBox:m}=V(a?"caretRight":"caretDown"),_=this.createSvgIcon(u,{className:"icon-sm",viewBox:m}),S=_.querySelector("path");h.append(_),o.append(E,d,h);const g=this.el("ul","select-item-list");a&&g.classList.add("hidden"),this.attachUlDnDHandlers(g);for(const e of t.sort(z)){const t=s.includes(e.id);g.appendChild(this.renderItem(e,t,i))}return h.addEventListener("click",()=>{this.collapsedGroups.has(e)?(this.collapsedGroups.delete(e),g.classList.remove("hidden"),S.setAttribute("d",V("caretDown").d),h.setAttribute("aria-expanded","true")):(this.collapsedGroups.add(e),g.classList.add("hidden"),S.setAttribute("d",V("caretRight").d),h.setAttribute("aria-expanded","false"))}),n.append(o,g),n}renderItem(e,t,s){const i=s.includes(e.id),a="select-item",n=this.el("li",i?`group ${a} select-item--warn`:a);n.dataset.id=String(e.id),n.draggable=!0,n.addEventListener("dragstart",e=>{this.dragEl=n,this.dragStartParent=n.parentElement,this.dragStartIndex=Array.prototype.indexOf.call(n.parentElement?.children??[],n),e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),n.classList.add("opacity-60")}),n.addEventListener("dragend",()=>{if(!this.dragEl)return;const e=this.dragEl.parentElement,t=e?Array.prototype.indexOf.call(e.children,this.dragEl):-1;this.dragEl.classList.remove("opacity-60");const s=this.dragEl.dataset.id??"";this.dragEl=null,s&&this.dragStartIndex>=0&&t>=0&&t!==this.dragStartIndex&&this.emit(H.REORDER_ITEMS,{fromId:Number(s),fromIndex:this.dragStartIndex,toIndex:t}),this.dragStartIndex=-1,this.dragStartParent=null});const o=this.el("div","spsk-checkwrap"),r=i?"spsk-checkbox spsk-checkbox--warn":"spsk-checkbox spsk-checkbox--normal",c=this.el("input",r);c.type="checkbox",c.name="item-select",c.value=String(e.id),c.checked=t,c.addEventListener("change",t=>{const s=t.target.checked;this.emit(H.ITEM_SELECTION_CHANGED,{id:e.id,isCheck:s})}),o.append(c);const l=i?"spsk-badge spsk-badge--warn":"spsk-badge spsk-badge--norm",E=this.el("span",l,String(e.label)),d=this.el("div","min-w-0 flex-1");if(d.addEventListener("pointerenter",()=>{this.dragStartParent||i||(this.cancelHoverOut(),this.emit(H.ITEM_HOVER_IN,{id:e.id}))}),i){const e=this.el("span","chip-warn"),{d:t,viewBox:s}=V("warn"),i=this.createSvgIcon(t,{className:"h-3.5 w-3.5",viewBox:s}),a=this.el("span",void 0,R.get("missing_item"));e.append(i,a),d.append(e)}const h=this.el("div","anchor",e.anchor.value);d.append(h);const u=this.generateCommentBtn(e);return n.append(o,E,d,u),n}generateCommentBtn(e){const t=document.createElement("button");t.className="btn-icon";const{d:s,viewBox:i}=V("comment"),a=this.createSvgIcon(s,{className:"h-3.5 w-3.5",viewBox:i});return t.appendChild(a),t.addEventListener("click",()=>{this.els.itemCommentModal.classList.remove("hidden"),this.els.itemCommentInput.value=e.comment??"",this.els.itemCommentIdInput.value=String(e.id)}),t}scheduleHoverOut(){this.hoverOutTimer&&clearTimeout(this.hoverOutTimer),this.dragStartParent||(this.hoverOutTimer=setTimeout(()=>{this.hoverOutTimer=null,this.emit(H.ITEM_HOVER_OUT,void 0)},this.HOVER_OUT_DELAY))}cancelHoverOut(){this.hoverOutTimer&&(clearTimeout(this.hoverOutTimer),this.hoverOutTimer=null)}attachUlDnDHandlers(e){e.addEventListener("dragover",t=>{if(t.preventDefault(),!this.dragEl)return;if(this.dragStartParent&&e!==this.dragStartParent)return;const s=t.target?.closest("li");if(s&&s!==this.dragEl){const i=s.getBoundingClientRect(),a=t.clientY-i.top>i.height/2;e.insertBefore(this.dragEl,a?s.nextSibling:s)}else s||e.appendChild(this.dragEl)}),e.addEventListener("drop",e=>e.preventDefault())}getExistingGroups(e){return Array.from(new Set(e.map(e=>(e.group??"").trim()).filter(e=>e.length>0))).sort((e,t)=>e.localeCompare(t))}groupByGroup(e){const t=new Map;for(const s of e){const e=(s.group??T).trim()||p;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t}getSelectedCaptureFormat(){const e=this.doc.querySelector('input[name="capture-format"]:checked')?.value;return"jpeg"===e?"jpeg":"png"}getSelectedCaptureArea(){const e=this.doc.querySelector('input[name="capture-area"]:checked')?.value;return"viewport"===e?"viewport":"full"}updateQualityVisibility(e){const t="jpeg"===(e??this.getSelectedCaptureFormat());this.els.jpegOnlyEls.forEach(e=>e.classList.toggle("hidden",!t)),this.els.jpegQualityRange.disabled=!t,this.els.jpegQualityNumber.disabled=!t}selectRadioByValue(e,t){e.forEach(e=>e.checked=e.value===t)}bindSync(e,t,s){const i=(e,t)=>{const s=null!=e&&""!==e?Number(e):NaN;return Number.isFinite(s)?s:t},a=a=>{const n=i(t.min||e.min,Number.NEGATIVE_INFINITY),o=i(t.max||e.max,Number.POSITIVE_INFINITY),r=i(t.step||e.step,1),c=Number(a),l=((e,t,s)=>Math.min(Math.max(e,t),s))(Number.isFinite(c)?c:0,n,o),E=Math.round(l/r)*r,d=Number(E.toFixed(6));t.value=String(d),e.value=String(d),s?.(d)};e.addEventListener("input",()=>a(e.value)),t.addEventListener("input",()=>a(t.value))}disableFormControls(e){const t=this.doc.querySelectorAll("button, select, input, textarea"),s=e===N,i=e===I||e===L,a=e===O;t.forEach(e=>{const t=!!s||i&&e.hasAttribute("data-ignore-disable")||a&&!1;e.disabled=!t})}applyCaptureOptionsToggleUI(e){this.els.captureOptionsToggle.setAttribute("aria-expanded",String(e));const{d:t,viewBox:s}=V(e?"caretDownFill":"caretRightFill");this.els.captureOptionsToggle.innerHTML="",this.els.captureOptionsToggle.appendChild(this.createSvgIcon(t,{viewBox:s,className:"h-4 w-4"})),this.els.captureOptionsPanel.classList.toggle("hidden",!e)}getBadgeColorStyleName(e){return`bg-${("Gray"===e?"slate":e).toLowerCase()}-500`}applyBadgeColorUI(e){this.els.badgeColorButtons.forEach(t=>{const s=t.dataset.colorName===e;t.setAttribute("aria-selected",s?"true":"false")}),this.els.badgeColorLabel.textContent=e,this.els.badgeColorDot.className="inline-block w-4 h-4 rounded-full",this.els.badgeColorDot.classList.add(this.getBadgeColorStyleName(e))}applyBadgePositonUI(e){this.els.badgePositionButtons.forEach(t=>{const s=t.dataset.positionName===e;t.setAttribute("data-selected",s?"true":"false")}),this.els.badgePositionLabel.textContent=e.replaceAll("-"," ")}applyBadgeGroupSelectUI(e,t){this.els.badgeGroupSelect.innerHTML="",this.els.badgeGroupSelect.append(this.makeOpt(p,R.get("group_ungrouped"),t===p));for(const s of e){const e=(e=>(e??"").trim())(s);this.els.badgeGroupSelect.append(this.makeOpt(e,s,t===s))}const s=this.makeOpt(this.NEW_GROUP,R.get("common_create"));this.els.badgeGroupSelect.append(s)}applyTheme(e){const t=document.documentElement;("device"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e)?t.classList.add("dark"):t.classList.remove("dark"),this.els.themeLightBtn.setAttribute("data-active",String("light"===e)),this.els.themeDarkBtn.setAttribute("data-active",String("dark"===e)),this.els.themeDeviceBtn.setAttribute("data-active",String("device"===e))}applyStore(e){if(this.els.storeCount.textContent=String(e.length),this.els.storeList.innerHTML="",e.length<=0)return this.els.storeList.classList.add("hidden"),void this.els.storeEmpty.classList.remove("hidden");for(const t of e){const e=this.el("li","select-item"),s=this.el("div","min-w-0 flex-1"),i=this.el("a","anchor whitespace-normal break-words",t);i.href=t,i.target="_blank",s.appendChild(i);const a=this.el("button","btn-icon");a.setAttribute("data-ignore-disable","true");const n=V("export"),o=this.createSvgIcon(n.d,{className:"icon-sm",viewBox:n.viewBox});a.appendChild(o);const r=this.el("button","btn-icon btn-icon--danger");r.setAttribute("data-ignore-disable","true");const c=V("remove"),l=this.createSvgIcon(c.d,{className:"icon-sm",viewBox:c.viewBox});r.appendChild(l),e.appendChild(s),e.appendChild(a),e.appendChild(r),this.els.storeList.appendChild(e),a.addEventListener("click",()=>{this.emit(H.EXPORT_PAGE_CLICK,{pageKey:t})}),r.addEventListener("click",()=>{this.emit(H.REMOVE_PAGE_CLICK,{pageKey:t})})}this.els.storeList.classList.remove("hidden"),this.els.storeEmpty.classList.add("hidden")}applyToastMessages(e){for(const t of e){const e=this.generateToastMessage(t);this.els.toastParent.appendChild(e),this.emit(H.TOAST_DISMISS_REQUESTED,{uuid:t.uuid})}}generateToastMessage(e){const t=this.el("div",`toast toast--${e.kind}`),s=V(e.kind),i=this.createSvgIcon(s.d,{className:"toast-icon",viewBox:s.viewBox}),a=this.el("div","toast-body"),n=this.el("p","toast-desc",e.message);a.appendChild(n);const o=this.el("button",`toast-close toast-close--${e.kind}`),r=V("close"),c=this.createSvgIcon(r.d,{className:"h-3.5 w-3.5",viewBox:r.viewBox});o.appendChild(c),t.appendChild(i),t.appendChild(a),t.appendChild(o);const l=window.setTimeout(()=>{t.isConnected&&t.remove()},this.TOAST_AUTO_DISMISS);return o.addEventListener("click",()=>{clearTimeout(l),t.isConnected&&t.remove()}),t}$(e){const t=this.doc.querySelector(e);if(!t)throw new Error(`[PanelView] Missing element: ${e}`);return t}$all(e){return this.doc.querySelectorAll(e)}el(e,t,s){const i=this.doc.createElement(e);return t&&(i.className=t),void 0!==s&&(i.textContent=s),i}makeOpt(e,t,s=!1){const i=this.doc.createElement("option");return i.value=e,i.textContent=t,s&&(i.selected=!0),i}createSvgIcon(e,t={}){const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");if(i.setAttribute("viewBox",t.viewBox??"0 0 20 20"),i.setAttribute("class",t.className??"h-3.5 w-3.5"),i.setAttribute("fill","currentColor"),i.setAttribute("aria-hidden","true"),t.attrs)for(const[e,s]of Object.entries(t.attrs))i.setAttribute(e,s);const a=document.createElementNS(s,"path");return a.setAttribute("d",e),i.appendChild(a),i}}async function K(){const e=new Y(document),t=new $(e);await t.start()}"complete"===document.readyState||"interactive"===document.readyState?K().catch(e=>{console.error("Panel bootstrap failed:",e)}):document.addEventListener("DOMContentLoaded",()=>{K().catch(e=>{console.error("Panel bootstrap failed:",e)})},{once:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WCxXQUFhLGVBQzVDbUksRUFBSXJqQixhQUFhLE9BQVEsZ0JBQ3pCcWpCLEVBQUlyakIsYUFBYSxjQUFlLFFBQzVCaUUsRUFBS3NmLE1BQ0wsSUFBSyxNQUFPQyxFQUFHenBCLEtBQU1zWSxPQUFPb1IsUUFBUXhmLEVBQUtzZixPQUNyQ0YsRUFBSXJqQixhQUFhd2pCLEVBQUd6cEIsR0FFNUIsTUFBTTJwQixFQUFTcGtCLFNBQVNna0IsZ0JBQWdCRixFQUFRLFFBR2hELE9BRkFNLEVBQU8xakIsYUFBYSxJQUFLOEksR0FDekJ1YSxFQUFJakgsWUFBWXNILEdBQ1RMLENBQ1gsRUMvcUJKem5CLGVBQWVpUSxJQUNYLE1BQU1WLEVBQU8sSUFBSThKLEVBQVUzVixVQUNyQnFrQixFQUFhLElBQUl6WSxFQUFnQkMsU0FDakN3WSxFQUFXOVgsT0FDckIsQ0FFZ0MsYUFBeEJ2TSxTQUFTc2tCLFlBQXFELGdCQUF4QnRrQixTQUFTc2tCLFdBQzFDL1gsSUFBUWdHLE1BQU8vTixJQUNoQk0sUUFBUXZCLE1BQU0sMEJBQTJCaUIsS0FJN0N4RSxTQUFTeVosaUJBQWlCLG1CQUFvQixLQUFXbE4sSUFBUWdHLE1BQU8vTixJQUNwRU0sUUFBUXZCLE1BQU0sMEJBQTJCaUIsTUFDekMsQ0FDQStmLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbW1vbi9tZXNzYWdlcy50cyIsIndlYnBhY2s6Ly8vLi9jb21tb24vdXJsLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3N0b3JhZ2UvdGFibGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvc3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2kxOG4udHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy9zdGF0dXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy9hY3Rpb25fdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC90eXBlcy9lZmZlY3RfdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9hcGkudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9tZXNzYWdpbmcvcG9ydF9ycGMudHMiLCJ3ZWJwYWNrOi8vLy4vaW5mcmEvY2RwL2NkcF9jbGllbnQudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9wYW5lbC9zZXJ2aWNlcy9jYXB0dXJlLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvc2VydmljZXMvZXhwb3J0LnRzIiwid2VicGFjazovLy8uL2NvbW1vbi91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3NlcnZpY2VzL2ltcG9ydC50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3R5cGVzL3VpX2V2ZW50X3R5cGVzLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvY29udHJvbGxlci9wYW5lbF9jb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvcGFuZWwvYXBwL3VwZGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9pbmZyYS9jaHJvbWUvdGFicy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL21lc3NhZ2luZy9jb25uZWN0aW9uLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9pY29ucy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL3ZpZXcvcGFuZWxfdmlldy50cyIsIndlYnBhY2s6Ly8vLi9ydW50aW1lL3BhbmVsL2FwcC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQMkMgPSB7XG4gICAgUElORzogJ1BJTkcnLFxuICAgIFRPR0dMRV9TRUxFQ1Q6ICdUT0dHTEVfU0VMRUNUJyxcbiAgICBSRU5ERVI6ICdSRU5ERVInLFxuICAgIENMRUFSOiAnQ0xFQVInLFxuICAgIEhPVkVSOiAnSE9WRVInLFxuICAgIE1FQVNVUkVfU0laRTogJ01FQVNVUkVfU0laRScsXG59O1xuY29uc3QgQzJQID0ge1xuICAgIFNFTEVDVEVEOiAnU0VMRUNURUQnLFxuICAgIE1JU1NJTkdfSURTOiAnTUlTU0lOR19JRFMnLFxuICAgIENPTlRFTlRfU0laRV9SRVNVTFQ6ICdDT05URU5UX1NJWkVfUkVTVUxUJyxcbn07XG5jb25zdCBCMlAgPSB7XG4gICAgQUNUSVZFX1RBQl9DSEFOR0VEOiAnQUNUSVZFX1RBQl9DSEFOR0VEJyxcbn07XG5leHBvcnQgY29uc3QgTVNHX1RZUEUgPSB7IC4uLlAyQywgLi4uQzJQLCAuLi5CMlAgfTtcbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3BvbnNlKG1zZykge1xuICAgIHJldHVybiB0eXBlb2YgbXNnID09PSAnb2JqZWN0JyAmJiBtc2cgIT09IG51bGwgJiYgJ2lkJyBpbiBtc2cgJiYgJ29rJyBpbiBtc2c7XG59XG4iLCIvKipcbiAqIEJ1aWxkcyBhIHBhZ2Uga2V5IGZyb20gYSBVUkwuIEJ5IGRlZmF1bHQgZXhjbHVkZXMgdGhlIGhhc2ggYW5kIHVzZXNcbiAqIG9yaWdpbiArIHBhdGhuYW1lICsgc2VhcmNoLlxuICpcbiAqIEBwYXJhbSB1cmwgLSBJbnB1dCBVUkwgKHJldHVybmVkIGFzLWlzIGlmIGludmFsaWQpXG4gKiBAcGFyYW0gaW5jbHVkZUhhc2ggLSBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIGhhc2ggKGRlZmF1bHQ6IGZhbHNlKVxuICogQHJldHVybnMgUGFnZSBrZXkgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWdlS2V5KHVybCwgaW5jbHVkZUhhc2ggPSBmYWxzZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIHJldHVybiBpbmNsdWRlSGFzaFxuICAgICAgICAgICAgPyBgJHt1Lm9yaWdpbn0ke3UucGF0aG5hbWV9JHt1LnNlYXJjaH0ke3UuaGFzaH1gXG4gICAgICAgICAgICA6IGAke3Uub3JpZ2lufSR7dS5wYXRobmFtZX0ke3Uuc2VhcmNofWA7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIFVSTCBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSBleHRlbnNpb24gb3BlcmF0aW9uLlxuICpcbiAqIFVucGFyc2VhYmxlL3Vua25vd24gc2NoZW1lcyBhcmUgdHJlYXRlZCBhcyByZXN0cmljdGVkLlxuICogTm9uLXdlYiBzY2hlbWVzIChlLmcuLCB2aWV3LXNvdXJjZTosIGRhdGE6LCBibG9iOiwgZmlsZXN5c3RlbTopIGFyZSBibG9ja2VkIGVhcmx5LlxuICogQ2hyb21lIFdlYiBTdG9yZSBwYWdlcyBhcmUgYWx3YXlzIGV4Y2x1ZGVkIChjb250ZW50IHNjcmlwdHMgYXJlIG5vdCBhbGxvd2VkIHRoZXJlKS5cbiAqXG4gKiBAcGFyYW0gcmF3IC0gVVJMIHN0cmluZyB0byBldmFsdWF0ZS5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgVVJMIHNob3VsZCBiZSBza2lwcGVkIGJ5IHRoZSBleHRlbnNpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3RyaWN0ZWQocmF3KSB7XG4gICAgaWYgKCFyYXcpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgndmlldy1zb3VyY2U6JykgfHxcbiAgICAgICAgcmF3LnN0YXJ0c1dpdGgoJ2RhdGE6JykgfHxcbiAgICAgICAgcmF3LnN0YXJ0c1dpdGgoJ2Jsb2I6JykgfHxcbiAgICAgICAgcmF3LnN0YXJ0c1dpdGgoJ2ZpbGVzeXN0ZW06JykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCB1cmw7XG4gICAgdHJ5IHtcbiAgICAgICAgdXJsID0gbmV3IFVSTChyYXcpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIC8vIEludmFsaWQgb3Igbm9uLXN0YW5kYXJkIFVSTCDihpIgc2tpcCBmb3Igc2FmZXR5LlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gQWxsb3ctbGlzdCBwb2xpY3k6IG9ubHkgb3BlcmF0ZSBvbiB0eXBpY2FsIHdlYiBwYWdlcy5cbiAgICBjb25zdCBhbGxvd2VkID0gbmV3IFNldChbJ2h0dHA6JywgJ2h0dHBzOicsICdmaWxlOiddKTtcbiAgICBpZiAoIWFsbG93ZWQuaGFzKHVybC5wcm90b2NvbCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIENocm9tZSBXZWIgU3RvcmUgKGN1cnJlbnQgYW5kIGxlZ2FjeSBob3N0KSDigJQgY29udGVudCBzY3JpcHRzIGFyZSBkaXNhbGxvd2VkIGJ5IHBsYXRmb3JtIHBvbGljeS5cbiAgICBjb25zdCB3ZWJTdG9yZUhvc3RzID0gbmV3IFNldChbJ2Nocm9tZXdlYnN0b3JlLmdvb2dsZS5jb20nLCAnY2hyb21lLmdvb2dsZS5jb20nXSk7XG4gICAgaWYgKHdlYlN0b3JlSG9zdHMuaGFzKHVybC5ob3N0bmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImNvbnN0IElURU1fQ09MT1JTID0gW1xuICAgICdHcmF5JyxcbiAgICAnUmVkJyxcbiAgICAnWWVsbG93JyxcbiAgICAnR3JlZW4nLFxuICAgICdCbHVlJyxcbiAgICAnTGltZScsXG4gICAgJ1B1cnBsZScsXG4gICAgJ1BpbmsnLFxuICAgICdPcmFuZ2UnLFxuICAgICdDeWFuJyxcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtQ29sb3Iodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9DT0xPUlMuaW5jbHVkZXModik7XG59XG5jb25zdCBJVEVNX1NIQVBFID0gWydjaXJjbGUnLCAnc3F1YXJlJ107XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVtU2hhcGUodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZycgJiYgSVRFTV9TSEFQRS5pbmNsdWRlcyh2KTtcbn1cbmV4cG9ydCBjb25zdCBJVEVNX1BPU0lUSU9OX1ZBTFVFUyA9IFtcbiAgICAncmlnaHQtdG9wLW91dHNpZGUnLFxuICAgICdyaWdodC10b3AtaW5zaWRlJyxcbiAgICAncmlnaHQtb3V0c2lkZScsXG4gICAgJ3JpZ2h0LWluc2lkZScsXG4gICAgJ3JpZ2h0LWJvdHRvbS1vdXRzaWRlJyxcbiAgICAncmlnaHQtYm90dG9tLWluc2lkZScsXG4gICAgJ3RvcC1vdXRzaWRlJyxcbiAgICAndG9wLWluc2lkZScsXG4gICAgJ2NlbnRlcicsXG4gICAgJ2JvdHRvbS1vdXRzaWRlJyxcbiAgICAnYm90dG9tLWluc2lkZScsXG4gICAgJ2xlZnQtdG9wLW91dHNpZGUnLFxuICAgICdsZWZ0LXRvcC1pbnNpZGUnLFxuICAgICdsZWZ0LW91dHNpZGUnLFxuICAgICdsZWZ0LWluc2lkZScsXG4gICAgJ2xlZnQtYm90dG9tLW91dHNpZGUnLFxuICAgICdsZWZ0LWJvdHRvbS1pbnNpZGUnLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZW1Qb3NpdGlvbih2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiBJVEVNX1BPU0lUSU9OX1ZBTFVFUy5pbmNsdWRlcyh2KTtcbn1cbmV4cG9ydCBjb25zdCBVTkdST1VQRUQgPSAnX191bmdyb3VwZWRfXyc7XG5leHBvcnQgY29uc3QgVU5HUk9VUEVEX1ZBTFVFID0gJyc7XG4vKipcbiAqIE5hcnJvd2luZyBndWFyZCBmb3IgYSBtaW5pbWFsIGBTY3JlZW5JdGVtYC1saWtlIHNoYXBlLlxuICogQ2hlY2tzIG9ubHkgdGhlIGZpZWxkcyByZXF1aXJlZCBieSB0aGlzIGltcG9ydCBwYXRoIChhbmNob3Igc3RydWN0dXJlKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NyZWVuSXRlbUxpa2Uodikge1xuICAgIGlmICghdiB8fCB0eXBlb2YgdiAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBvID0gdjtcbiAgICBjb25zdCBhbmNob3IgPSBvWydhbmNob3InXTtcbiAgICBpZiAoIWFuY2hvciB8fCB0eXBlb2YgYW5jaG9yICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGEgPSBhbmNob3I7XG4gICAgcmV0dXJuIChhWydraW5kJ10gPT09ICdjc3MnICYmXG4gICAgICAgIHR5cGVvZiBhWyd2YWx1ZSddID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAodHlwZW9mIGFbJ3ZlcnNpb24nXSA9PT0gJ251bWJlcicgfHwgYVsndmVyc2lvbiddID09PSAxKSk7XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIHBhcnNlZCBKU09OIHZhbHVlIGFnYWluc3QgdGhlIGV4cGVjdGVkIGV4cG9ydCBwYXlsb2FkIGNvbnRyYWN0LlxuICogUmVxdWlyZXM6IGBmb3JtYXQgPT09ICdzcGVjc2tldGNoLWV4cG9ydCdgLCBga2luZCA9PT0gJ3NjcmVlbi1zdGF0ZSdgLFxuICogYHZlcnNpb246IG51bWJlcmAsIGBwYWdlS2V5OiBzdHJpbmdgLCBhbmQgYGl0ZW1zOiBTY3JlZW5JdGVtW11gLWxpa2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUGF5bG9hZCh2KSB7XG4gICAgaWYgKCF2IHx8IHR5cGVvZiB2ICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IG8gPSB2O1xuICAgIGlmIChvWydmb3JtYXQnXSAhPT0gJ3NwZWNza2V0Y2gtZXhwb3J0JylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvWydraW5kJ10gIT09ICdzY3JlZW4tc3RhdGUnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvWyd2ZXJzaW9uJ10gIT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvWydwYWdlS2V5J10gIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9bJ2l0ZW1zJ10pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG9bJ2l0ZW1zJ10uZXZlcnkoaXNTY3JlZW5JdGVtTGlrZSk7XG59XG4iLCJpbXBvcnQgeyBVTkdST1VQRURfVkFMVUUsIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG5leHBvcnQgY29uc3QgaW5pdGlhbE1vZGVsID0ge1xuICAgIHN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgdGFiSWQ6IG51bGwsXG4gICAgcGFnZUtleTogJycsXG4gICAgcGFnZUtleXM6IFtdLFxuICAgIHRoZW1lOiAnZGV2aWNlJyxcbiAgICBzZWxlY3Rpb25FbmFibGVkOiBmYWxzZSxcbiAgICBpdGVtczogW10sXG4gICAgZGVmYXVsdFNpemU6IDE0LFxuICAgIGRlZmF1bHRDb2xvcjogJ0JsdWUnLFxuICAgIGRlZmF1bHRTaGFwZTogJ2NpcmNsZScsXG4gICAgZGVmYXVsdFBvc2l0aW9uOiAnbGVmdC10b3Atb3V0c2lkZScsXG4gICAgZGVmYXVsdEdyb3VwOiBVTkdST1VQRURfVkFMVUUsXG4gICAgY2FwdHVyZToge1xuICAgICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgICBhcmVhOiAnZnVsbCcsXG4gICAgICAgIHF1YWxpdHk6IDkwLFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgcGFuZWxFeHBhbmRlZDogZmFsc2UsXG4gICAgfSxcbiAgICBzZWxlY3RJdGVtczogW10sXG4gICAgbWlzc2luZ0lkczogW10sXG4gICAgdG9hc3RNZXNzYWdlczogW10sXG59O1xuIiwiaW1wb3J0IHsgVU5HUk9VUEVEX1ZBTFVFIH0gZnJvbSAnQGNvbW1vbi90eXBlcyc7XG4vKipcbiAqIENyZWF0ZXMgYSBrZXktc2NvcGVkIOKAnG1hcCB0YWJsZeKAnSB0aGF0IHN0b3JlcyBhIHJlY29yZCBgeyBbcGFnZUtleV06IFQgfWBcbiAqIHVuZGVyIGEgc2luZ2xlIHJvb3Qga2V5IGluIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAuXG4gKlxuICogVXNlIHRoaXMgZm9yIHBlci1wYWdlIG9yIHBlci1zY29wZSBzdGF0ZSB3aGVyZSB2YWx1ZXMgYXJlIGRpc3Rpbmd1aXNoZWQgYnkgYSByb3cga2V5LlxuICpcbiAqIEB0eXBlUGFyYW0gVCAtIFZhbHVlIHR5cGUgc3RvcmVkIHBlciByb3cuXG4gKiBAcGFyYW0gcm9vdEtleSAtIFJvb3Qga2V5ICh3aXRob3V0IG5hbWVzcGFjZSBwcmVmaXgpIHVuZGVyIHdoaWNoIHRoZSBlbnRpcmUgbWFwIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSBkZWZhdWx0T2YgLSBPcHRpb25hbCBmYWN0b3J5IHRoYXQgcmV0dXJucyBhIGRlZmF1bHQgdmFsdWUgd2hlbiBhIHJvdyBpcyBtaXNzaW5nLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggQ1JVRCBoZWxwZXJzIGZvciB0aGUgdGFibGU6IGB7IGtleSwgcmVhZEFsbCwgd3JpdGVBbGwsIGdldCwgc2V0LCByZW1vdmUsIGNsZWFyIH1gLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWFwVGFibGUocm9vdEtleSwgZGVmYXVsdE9mKSB7XG4gICAgY29uc3QgS0VZID0gcm9vdEtleTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgZW50aXJlIHN0YXRlIG1hcCBmcm9tIGBjaHJvbWUuc3RvcmFnZS5sb2NhbGAgZm9yIHRoaXMgdGFibGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgZnVsbCBzdGF0ZSBtYXA7IHJldHVybnMgYW4gZW1wdHkgb2JqZWN0IHdoZW4gbm90aGluZyBpcyBzdG9yZWQuXG4gICAgICogQHJlbWFya3MgUGVyZm9ybXMgc3RvcmFnZSBJL08gb24gZXZlcnkgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZWFkQWxsKCkge1xuICAgICAgICBjb25zdCByYXcgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoS0VZKTtcbiAgICAgICAgcmV0dXJuIHJhd1tLRVldID8/IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJzaXN0cyB0aGUgZW50aXJlIHN0YXRlIG1hcCB0byBgY2hyb21lLnN0b3JhZ2UubG9jYWxgIGZvciB0aGlzIHRhYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hcCAtIFRoZSBjb21wbGV0ZSBzdGF0ZSBtYXAgdG8gd3JpdGUuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHdyaXRlIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiB3cml0ZUFsbChtYXApIHtcbiAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW0tFWV06IG1hcCB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgc2luZ2xlIHJvdyBieSBpdHMgcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgKGUuZy4sIHBhZ2UgaWRlbnRpZmllcikuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHN0b3JlZCB2YWx1ZTsgaWYgbWlzc2luZyBhbmQgYGRlZmF1bHRPZmAgaXMgcHJvdmlkZWQsIHRoYXQgZGVmYXVsdCBpcyByZXR1cm5lZC5cbiAgICAgKiBAcmVtYXJrcyBXaGVuIGBkZWZhdWx0T2ZgIGlzIG5vdCBwcm92aWRlZCBhbmQgdGhlIHJvdyBpcyBtaXNzaW5nLCBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZCAodHlwZWQgYXMgYFRgKS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBnZXQocGFnZUtleSkge1xuICAgICAgICBjb25zdCBtYXAgPSBhd2FpdCByZWFkQWxsKCk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gbWFwW3BhZ2VLZXldO1xuICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgaWYgKGRlZmF1bHRPZilcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0T2YocGFnZUtleSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwc2VydHMgYSBzaW5nbGUgcm93IGZvciB0aGUgZ2l2ZW4gcGFnZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUtleSAtIFJvdyBrZXkgdG8gd3JpdGUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gcGVyc2lzdC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXQocGFnZUtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBtYXBbcGFnZUtleV0gPSB2YWx1ZTtcbiAgICAgICAgYXdhaXQgd3JpdGVBbGwobWFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHNpbmdsZSByb3cgZm9yIHRoZSBnaXZlbiBwYWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlS2V5IC0gUm93IGtleSB0byBkZWxldGUuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHBhZ2VLZXkpIHtcbiAgICAgICAgY29uc3QgbWFwID0gYXdhaXQgcmVhZEFsbCgpO1xuICAgICAgICBpZiAocGFnZUtleSBpbiBtYXApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBtYXBbcGFnZUtleV07XG4gICAgICAgICAgICBhd2FpdCB3cml0ZUFsbChtYXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZW50aXJlIHRhYmxlIChyZW1vdmVzIGFsbCByb3dzIHVuZGVyIHRoaXMgcm9vdCBrZXkpLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICBhd2FpdCB3cml0ZUFsbCh7fSk7XG4gICAgfVxuICAgIHJldHVybiB7IGtleTogS0VZLCByZWFkQWxsLCB3cml0ZUFsbCwgZ2V0LCBzZXQsIHJlbW92ZSwgY2xlYXIgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGtleS1zY29wZWQg4oCcc2luZ2xldG9u4oCdIHN0b3JlIHRoYXQgc2F2ZXMgYSBzaW5nbGUgdmFsdWUgZGlyZWN0bHlcbiAqIHVuZGVyIHRoZSBnaXZlbiByb290IGtleSBpbiBgY2hyb21lLnN0b3JhZ2UubG9jYWxgLlxuICpcbiAqIFVzZSB0aGlzIGZvciBnbG9iYWwgc2V0dGluZ3Mgb3IgYW55IGNvbmZpZ3VyYXRpb24gdGhhdCBpcyBub3Qga2V5ZWQgYnkgcGFnZS5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgLSBWYWx1ZSB0eXBlIHN0b3JlZCBhcyBhIHNpbmdsZXRvbi5cbiAqIEBwYXJhbSByb290S2V5IC0gUm9vdCBrZXkgKHdpdGhvdXQgbmFtZXNwYWNlIHByZWZpeCkgdW5kZXIgd2hpY2ggdGhlIHZhbHVlIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSBkZWZhdWx0RmFjdG9yeSAtIEZhY3RvcnkgZnVuY3Rpb24gdG8gbGF6aWx5IHN1cHBseSB0aGUgZGVmYXVsdCB3aGVuIG5vIHZhbHVlIGV4aXN0cy5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIGhlbHBlcnMgZm9yIHRoZSBzaW5nbGV0b246IGB7IGtleSwgZ2V0LCBzZXQsIHJlbW92ZSB9YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNpbmdsZXRvbihyb290S2V5LCBkZWZhdWx0RmFjdG9yeSkge1xuICAgIGNvbnN0IEtFWSA9IHJvb3RLZXk7XG4gICAgLyoqXG4gICAgICogUmVhZHMgdGhlIHNpbmdsZXRvbiB2YWx1ZSBmcm9tIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgc3RvcmVkIHZhbHVlOyBmYWxscyBiYWNrIHRvIGBkZWZhdWx0RmFjdG9yeSgpYCB3aGVuIG1pc3NpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBjb25zdCByYXcgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoS0VZKTtcbiAgICAgICAgY29uc3QgdmFsID0gcmF3W0tFWV07XG4gICAgICAgIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRGYWN0b3J5KCkgOiB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgc2luZ2xldG9uIHZhbHVlIHRvIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBwZXJzaXN0LlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBbS0VZXTogdmFsdWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHNpbmdsZXRvbiB2YWx1ZSBmcm9tIHN0b3JhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoS0VZKTtcbiAgICB9XG4gICAgcmV0dXJuIHsga2V5OiBLRVksIGdldCwgc2V0LCByZW1vdmUgfTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRTY3JlZW5TdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgZGVmYXVsdFNpemU6IDE0LFxuICAgICAgICBkZWZhdWx0Q29sb3I6ICdCbHVlJyxcbiAgICAgICAgZGVmYXVsdFNoYXBlOiAnY2lyY2xlJyxcbiAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiAnbGVmdC10b3Atb3V0c2lkZScsXG4gICAgICAgIGRlZmF1bHRHcm91cDogVU5HUk9VUEVEX1ZBTFVFLFxuICAgIH07XG59XG4vKipcbiAqIFRhYmxlIGZvciBwZXItcGFnZSBgU2NyZWVuU3RhdGVgIHZhbHVlcy5cbiAqIEVhY2ggcm93IGlzIGFkZHJlc3NlZCBieSBhIHBhZ2Uga2V5OyBtaXNzaW5nIHJvd3MgZmFsbCBiYWNrIHRvIGBkZWZhdWx0U2NyZWVuU3RhdGUoKWAuXG4gKi9cbmV4cG9ydCBjb25zdCBzY3JlZW5TdGF0ZVRhYmxlID0gY3JlYXRlTWFwVGFibGUoJ3NjcmVlblN0YXRlQnlQYWdlJywgKCkgPT4gZGVmYXVsdFNjcmVlblN0YXRlKCkpO1xuLyoqXG4gKiBTaW5nbGV0b24gZm9yIGdsb2JhbCB0aGVtZSBtb2RlLlxuICogU3RvcmVzIGEgc2luZ2xlIGBUaGVtZU1vZGVgIHZhbHVlOyBkZWZhdWx0cyB0byBgJ2RldmljZSdgIHdoZW4gbm90IHNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRoZW1lVGFibGUgPSBjcmVhdGVTaW5nbGV0b24oJ3RoZW1lTW9kZScsICgpID0+ICdkZXZpY2UnKTtcbiIsImltcG9ydCB7IHNjcmVlblN0YXRlVGFibGUgfSBmcm9tICdAcGFuZWwvc3RvcmFnZS90YWJsZXMnO1xuLyoqXG4gKiBBcHBsaWVzIGEgcGF0Y2ggKGFkZC91cGRhdGUvcmVtb3ZlKSB0byB0aGUgc3RhdGUgZm9yIHRoZSBnaXZlbiBwYWdlIGtleSxcbiAqIHJlbGFiZWxzIHNlcXVlbnRpYWxseSBpZiBhbnkgcmVtb3ZhbCBvY2N1cnJlZCwgcGVyc2lzdHMgdGhlIHJlc3VsdCxcbiAqIGFuZCByZXR1cm5zIHRoZSB1cGRhdGVkIHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5U3RyIC0gUGFnZSBrZXkgb2YgdGhlIHN0YXRlIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSBwYXRjaCAtIENoYW5nZXMgdG8gYXBwbHkgdG8gdGhlIHN0YXRlLlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVwZGF0ZWQgU2NyZWVuU3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseVBhdGNoKHBhZ2VLZXksIHBhdGNoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBpZiAocGF0Y2gucmVtb3ZlZElkcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gbmV3IFNldChwYXRjaC5yZW1vdmVkSWRzKTtcbiAgICAgICAgc3RhdGUuaXRlbXMgPSBzdGF0ZS5pdGVtcy5maWx0ZXIoKGl0KSA9PiAhdG9SZW1vdmUuaGFzKGl0LmlkKSk7XG4gICAgfVxuICAgIGlmIChwYXRjaC5hZGRlZD8ubGVuZ3RoKSB7XG4gICAgICAgIGZvciAoY29uc3QgYSBvZiBwYXRjaC5hZGRlZCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBzdGF0ZS5uZXh0SWQrKztcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gSW5maW5pdHk7XG4gICAgICAgICAgICBjb25zdCBpdCA9IHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGEuYW5jaG9yLFxuICAgICAgICAgICAgICAgIHNpemU6IGEuc2l6ZSA/PyBzdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogYS5jb2xvciA/PyBzdGF0ZS5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgc2hhcGU6IGEuc2hhcGUgPz8gc3RhdGUuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhLnBvc2l0aW9uID8/IHN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBncm91cDogYS5ncm91cCA/PyBzdGF0ZS5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgY29tbWVudDogYS5jb21tZW50ID8/ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLml0ZW1zLnB1c2goaXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlLml0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChzdGF0ZS5pdGVtcyk7XG4gICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQocGFnZUtleSwgc3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbi8qKlxuICogVG9nZ2xlcyBzZWxlY3Rpb24gZm9yIHRoZSBnaXZlbiBhbmNob3JzIChmcm9tIENvbnRlbnQpOiBpZiBhbiBhbmNob3IgYWxyZWFkeVxuICogZXhpc3RzLCByZW1vdmUgaXQ7IG90aGVyd2lzZSBhZGQgaXQuIERlZHVwZSBpbmNvbWluZyBhbmNob3JzIGJ5IGB2YWx1ZWAsXG4gKiBhcHBseSB0aGUgY29ycmVzcG9uZGluZyBwYXRjaCwgcGVyc2lzdCwgYW5kIHJldHVybiB0aGUgbGF0ZXN0IHN0YXRlLlxuICpcbiAqIEBwYXJhbSBwYWdlS2V5U3RyIC0gUGFnZSBrZXkgb2YgdGhlIHN0YXRlIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSBhbmNob3JzIC0gQW5jaG9ycyByZXBvcnRlZCBieSBDb250ZW50LlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVwZGF0ZWQgU2NyZWVuU3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVTZWxlY3RlZChwYWdlS2V5LCBhbmNob3JzKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBjb25zdCB1bmlxID0gQXJyYXkuZnJvbShuZXcgU2V0KGFuY2hvcnMubWFwKChhKSA9PiBhLnZhbHVlKSkpXG4gICAgICAgIC5tYXAoKHYpID0+IGFuY2hvcnMuZmluZCgoYSkgPT4gYS52YWx1ZSA9PT0gdikpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgcmVtb3ZlZElkcyA9IFtdO1xuICAgIGNvbnN0IHRvQWRkID0gW107XG4gICAgZm9yIChjb25zdCBhIG9mIHVuaXEpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSBzdGF0ZS5pdGVtcy5maW5kKChpdCkgPT4gaXQuYW5jaG9yLmtpbmQgPT09IGEua2luZCAmJiBpdC5hbmNob3IudmFsdWUgPT09IGEudmFsdWUpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWRJZHMucHVzaChmb3VuZC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b0FkZC5wdXNoKHsgYW5jaG9yOiBhIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhdGNoID0ge307XG4gICAgaWYgKHJlbW92ZWRJZHMubGVuZ3RoKVxuICAgICAgICBwYXRjaC5yZW1vdmVkSWRzID0gcmVtb3ZlZElkcztcbiAgICBpZiAodG9BZGQubGVuZ3RoKVxuICAgICAgICBwYXRjaC5hZGRlZCA9IHRvQWRkO1xuICAgIHJldHVybiBhcHBseVBhdGNoKHBhZ2VLZXksIHBhdGNoKTtcbn1cbi8qKlxuICogUmVsYWJlbHMgaXRlbXMgY29uc2VjdXRpdmVseSAoMS4ubikgKndpdGhpbiBlYWNoIGdyb3VwKiBhbmQgcmVwb3J0c1xuICogdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgXCJubyBncm91cFwiIGJ1Y2tldC5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBUaGUgb3JpZ2luYWwgbGlzdCBvZiBpdGVtcyAodHJlYXRlZCBpbW11dGFibHkpLlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5vcm1hbGl6ZWQgaXRlbXMgYW5kIHRoZSBuby1ncm91cCBjb3VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQoaXRlbXMpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoZykgPT4gKGcgPz8gJycpLnRyaW0oKTsgLy8gJycgaXMgdW5pZmllZCBhcyBVbkdyb3VwXG4gICAgLy8gQnVja2V0IFtpbmRleCwgaXRlbV0gZm9yIGVhY2ggZ3JvdXBcbiAgICBjb25zdCBidWNrZXRzID0gbmV3IE1hcCgpO1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZShpdGVtLmdyb3VwKTtcbiAgICAgICAgaWYgKCFidWNrZXRzLmhhcyhrZXkpKVxuICAgICAgICAgICAgYnVja2V0cy5zZXQoa2V5LCBbXSk7XG4gICAgICAgIGJ1Y2tldHMuZ2V0KGtleSkucHVzaCh7IGluZGV4LCBpdGVtIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IG91dCA9IGl0ZW1zLnNsaWNlKCk7XG4gICAgLy8gU29ydCBlYWNoIGdyb3VwIOKGkiBSZWFzc2lnbiAxLi5uXG4gICAgZm9yIChjb25zdCBbLCBidWNrZXRdIG9mIGJ1Y2tldHMpIHtcbiAgICAgICAgYnVja2V0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLml0ZW0ubGFiZWwgIT09IGIuaXRlbS5sYWJlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5pdGVtLmxhYmVsIC0gYi5pdGVtLmxhYmVsO1xuICAgICAgICAgICAgcmV0dXJuIGEuaXRlbS5pZCAtIGIuaXRlbS5pZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1Y2tldC5mb3JFYWNoKCh7IGluZGV4LCBpdGVtIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWQgPSBpICsgMTtcbiAgICAgICAgICAgIGlmIChpdGVtLmxhYmVsICE9PSBkZXNpcmVkKSB7XG4gICAgICAgICAgICAgICAgb3V0W2luZGV4XSA9IHsgLi4uaXRlbSwgbGFiZWw6IGRlc2lyZWQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCJjb25zdCBpMThuID0geyBnZXQsIGxvY2FsaXplIH07XG4vKipcbiAqIFJldHJpZXZlcyBhIGxvY2FsaXplZCBtZXNzYWdlIGJ5IGtleS4gRmFsbHMgYmFjayB0byB0aGUga2V5IGl0c2VsZiB3aGVuIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gS2V5IGRlZmluZWQgaW4gX2xvY2FsZXMvbWVzc2FnZXMuanNvblxuICogQHBhcmFtIHN1YnMgLSBPcHRpb25hbCBzdWJzdGl0dXRpb24gYXJndW1lbnRzXG4gKiBAcmV0dXJucyBMb2NhbGl6ZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGdldChrZXksIHN1YnMpIHtcbiAgICByZXR1cm4gY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShrZXksIHN1YnMpIHx8IGtleTtcbn1cbi8qKlxuICogV2Fsa3MgdGhlIERPTSBhbmQgYXBwbGllcyBsb2NhbGl6ZWQgc3RyaW5ncyB0byBlbGVtZW50cyB3aXRoXG4gKiBgZGF0YS1pMThuYCBhbmQgYGRhdGEtaTE4bi1hdHRyYC5cbiAqXG4gKiBAcGFyYW0gcm9vdCAtIFJvb3Qgbm9kZSB0byBsb2NhbGl6ZSAoZGVmYXVsdHMgdG8gZG9jdW1lbnQpXG4gKiBAcmVtYXJrc1xuICogLSBgZGF0YS1pMThuYCByZXBsYWNlcyBgdGV4dENvbnRlbnRgLlxuICogLSBgZGF0YS1pMThuLWF0dHJgIHVzZXMgYGF0dHI6a2V5O2F0dHI6a2V5Oy4uLmAgdG8gc2V0IGF0dHJpYnV0ZXMuXG4gKiAtIE11dGF0ZXMgdGhlIERPTSBpbiBwbGFjZS5cbiAqL1xuZnVuY3Rpb24gbG9jYWxpemUocm9vdCA9IGRvY3VtZW50KSB7XG4gICAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pMThuXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pMThuJyk7XG4gICAgICAgIGlmIChrZXkpXG4gICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IGdldChrZXkpO1xuICAgIH0pO1xuICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaTE4bi1hdHRyXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bi1hdHRyJyk7XG4gICAgICAgIGlmICghc3BlYylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHNwZWMuc3BsaXQoJzsnKSkge1xuICAgICAgICAgICAgY29uc3QgW2F0dHIsIGtleV0gPSBwYWlyLnNwbGl0KCc6JykubWFwKChzKSA9PiBzPy50cmltKCkpO1xuICAgICAgICAgICAgaWYgKGF0dHIgJiYga2V5KVxuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCBnZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGkxOG47XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuZXhwb3J0IGNvbnN0IFNUQVRVUyA9IHtcbiAgICBSRVNUUklDVEVEOiAnUkVTVFJJQ1RFRCcsXG4gICAgQ09OTkVDVElORzogJ0NPTk5FQ1RJTkcnLFxuICAgIENPTk5FQ1RFRDogJ0NPTk5FQ1RFRCcsXG4gICAgRElTQ09OTkVDVEVEOiAnRElTQ09OTkVDVEVEJyxcbn07XG5jb25zdCBTVEFUVVNfTVNHX0tFWSA9IHtcbiAgICBSRVNUUklDVEVEOiAnc3RhdHVzX3Jlc3RyaWN0ZWQnLFxuICAgIENPTk5FQ1RJTkc6ICdzdGF0dXNfY29ubmVjdGluZycsXG4gICAgQ09OTkVDVEVEOiAnc3RhdHVzX2Nvbm5lY3RlZCcsXG4gICAgRElTQ09OTkVDVEVEOiAnc3RhdHVzX2Rpc2Nvbm5lY3RlZCcsXG59O1xuZXhwb3J0IGNvbnN0IFNUQVRVU19DTEFTU19CWV9LRVkgPSB7XG4gICAgUkVTVFJJQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1yZXN0cmljdGVkJyxcbiAgICBDT05ORUNUSU5HOiAnY29ubmVjdC1zdGF0dXMtLWNvbm5lY3RpbmcnLFxuICAgIENPTk5FQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1jb25uZWN0ZWQnLFxuICAgIERJU0NPTk5FQ1RFRDogJ2Nvbm5lY3Qtc3RhdHVzLS1kaXNjb25uZWN0ZWQnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNNZXNzYWdlKGtleSkge1xuICAgIGNvbnN0IG1zZ0tleSA9IFNUQVRVU19NU0dfS0VZW2tleV07XG4gICAgcmV0dXJuIGkxOG4uZ2V0KG1zZ0tleSkgfHwgbXNnS2V5O1xufVxuIiwiLyoqXG4gKiBBY3Rpb25UeXBlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQW4gZXhoYXVzdGl2ZSBsaXN0IG9mICphcHBsaWNhdGlvbi1sZXZlbCBldmVudHMqIGNvbnN1bWVkIGJ5IHRoZSByZWR1Y2VyICh1cGRhdGUudHMpLlxuICogT3JpZ2luczpcbiAqICAgLSBWaWV3IFVJIGV2ZW50cyAobm9ybWFsaXplZCBieSB0aGUgQ29udHJvbGxlcilcbiAqICAgLSBNZXNzYWdlcyBmcm9tIENvbnRlbnQvQmFja2dyb3VuZCBzY3JpcHRzXG4gKiAgIC0gUmVzdWx0cyBvZiBhc3luYyBJL08gKGNhcHR1cmUgc3VjY2Vzcy9mYWlsdXJlLCBldGMuKVxuICogVXNhZ2U6XG4gKiAgIC0gQWN0cyBhcyB0aGUgZGlzY3JpbWluYW50IGZvciBgc3dpdGNoKGFjdGlvbi50eXBlKWAgaW4gdGhlIHJlZHVjZXJcbiAqICAgLSBQdXJlbHkgZGV0ZXJtaW5lcyBob3cgdGhlIE1vZGVsIHRyYW5zaXRpb25zIChubyBzaWRlIGVmZmVjdHMgaGVyZSlcbiAqL1xuZXhwb3J0IHZhciBBY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChBY3Rpb25UeXBlKSB7XG4gICAgLyoqIEFwcCBib290c3RyYXAgLyBzdGFydCAqL1xuICAgIEFjdGlvblR5cGVbXCJJTklUXCJdID0gXCJJTklUXCI7XG4gICAgLyoqIEFjdGl2ZSB0YWIgcmVzb2x2ZWQgYW5kIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgKHRhYklkL3BhZ2VLZXkgZGVjaWRlZCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ09OTkVDVEVEXCJdID0gXCJDT05ORUNURURcIjtcbiAgICAvKiogVXBkYXRlIHBhbmVsIHN0YXR1cyAoQ09OTkVDVElORyAvIENPTk5FQ1RFRCAvIFJFU1RSSUNURUQgLyBESVNDT05ORUNURUQsIGV0Yy4pICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9TVEFUVVNcIl0gPSBcIlNFVF9TVEFUVVNcIjtcbiAgICAvKiogUmVzdG9yZSBwZXJzaXN0ZWQgc3RhdGU6IGl0ZW1zIGFuZCBkZWZhdWx0cyAoc2l6ZS9jb2xvci9zaGFwZSkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVTVE9SRV9TVEFURVwiXSA9IFwiUkVTVE9SRV9TVEFURVwiO1xuICAgIC8qKiBPdmVyd3JpdGVzIHRoZSBzZXQgb2YgZWxlbWVudHMgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIGNvbnRlbnQgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX01JU1NJTkdfSURTXCJdID0gXCJTRVRfTUlTU0lOR19JRFNcIjtcbiAgICAvKiogVG9nZ2xlIHNlbGVjdGlvbiBtb2RlIG9uIHRoZSBwYWdlIG92ZXJsYXkgKi9cbiAgICBBY3Rpb25UeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIEFjdGlvblR5cGVbXCJDTEVBUl9BTExcIl0gPSBcIkNMRUFSX0FMTFwiO1xuICAgIC8qKiBDb250ZW50IOKGkiBQYW5lbDogYW5jaG9ycyB3ZXJlIHRvZ2dsZWQgKHNlbGVjdGVkL3Vuc2VsZWN0ZWQpIG9uIHRoZSBwYWdlICovXG4gICAgQWN0aW9uVHlwZVtcIkNPTlRFTlRfU0VMRUNURURcIl0gPSBcIkNPTlRFTlRfU0VMRUNURURcIjtcbiAgICAvKiogVXBkYXRlIGRlZmF1bHQgYmFkZ2Ugc2l6ZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NJWkVcIl0gPSBcIlNFVF9CQURHRV9TSVpFXCI7XG4gICAgLyoqIFVwZGF0ZSBkZWZhdWx0IGJhZGdlIGNvbG9yIChhbHNvIGFwcGx5IHRvIGV4aXN0aW5nIGl0ZW1zKSAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfQkFER0VfQ09MT1JcIl0gPSBcIlNFVF9CQURHRV9DT0xPUlwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBzaGFwZSAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1NIQVBFXCJdID0gXCJTRVRfQkFER0VfU0hBUEVcIjtcbiAgICAvKiogRGVsZXRlIHRoZSBzZWxlY3RlZCBiYWRnZSAqL1xuICAgIEFjdGlvblR5cGVbXCJCQURHRV9ERUxFVEVcIl0gPSBcIkJBREdFX0RFTEVURVwiO1xuICAgIC8qKiBVcGRhdGUgZGVmYXVsdCBiYWRnZSBwb3NpdGlvbiAoYWxzbyBhcHBseSB0byBleGlzdGluZyBpdGVtcykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0JBREdFX1BPU0lUSU9OXCJdID0gXCJTRVRfQkFER0VfUE9TSVRJT05cIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgZm9ybWF0IChwbmcvanBlZykgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfRk9STUFUXCJdID0gXCJTRVRfQ0FQVFVSRV9GT1JNQVRcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgYXJlYSAoZnVsbC92aWV3cG9ydCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX0NBUFRVUkVfQVJFQVwiXSA9IFwiU0VUX0NBUFRVUkVfQVJFQVwiO1xuICAgIC8qKiBVcGRhdGUgSlBFRyBxdWFsaXR5ICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIl0gPSBcIlNFVF9DQVBUVVJFX1FVQUxJVFlcIjtcbiAgICAvKiogVXBkYXRlIGNhcHR1cmUgc2NhbGUgZmFjdG9yICovXG4gICAgQWN0aW9uVHlwZVtcIlNFVF9DQVBUVVJFX1NDQUxFXCJdID0gXCJTRVRfQ0FQVFVSRV9TQ0FMRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgQWN0aW9uVHlwZVtcIlRPR0dMRV9DQVBUVVJFX1BBTkVMXCJdID0gXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiO1xuICAgIC8qKiByZXF1ZXN0IG1lYXN1cmluZyB0aGUgY29udGVudCBzaXplICovXG4gICAgQWN0aW9uVHlwZVtcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCJdID0gXCJNRUFTVVJFX0NPTlRFTlRfU0laRVwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIHJ1biBhIGNhcHR1cmUgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0FQVFVSRV9SRVFVRVNURURcIl0gPSBcIkNBUFRVUkVfUkVRVUVTVEVEXCI7XG4gICAgLyoqIENhcHR1cmUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX1NVQ0NFRURFRFwiXSA9IFwiQ0FQVFVSRV9TVUNDRUVERURcIjtcbiAgICAvKiogQ2FwdHVyZSBmYWlsZWQgd2l0aCBhbiBlcnJvciAqL1xuICAgIEFjdGlvblR5cGVbXCJDQVBUVVJFX0ZBSUxFRFwiXSA9IFwiQ0FQVFVSRV9GQUlMRURcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiUkVPUkRFUl9JVEVNU1wiXSA9IFwiUkVPUkRFUl9JVEVNU1wiO1xuICAgIC8qKiBVcGRhdGUgYSBncm91cCBvZiBlbGVtZW50cyAqL1xuICAgIEFjdGlvblR5cGVbXCJTRVRfR1JPVVBcIl0gPSBcIlNFVF9HUk9VUFwiO1xuICAgIC8qKiBQb3J0IGRpc2Nvbm5lY3RlZCAobG9zdCBjb25uZWN0aW9uIHRvIENvbnRlbnQvU2VydmljZSBXb3JrZXIpICovXG4gICAgQWN0aW9uVHlwZVtcIlBPUlRfRElTQ09OTkVDVEVEXCJdID0gXCJQT1JUX0RJU0NPTk5FQ1RFRFwiO1xuICAgIC8qKiBSZXF1ZXN0IHRvIGNsb3NlIHRoZSBwYW5lbCB3aGVuIHRoZSB0YWJJZCBtYXRjaGVzIChCYWNrZ3JvdW5kIOKGkiBQYW5lbCkgKi9cbiAgICBBY3Rpb25UeXBlW1wiQ0xPU0VfUEFORUxfUkVRVUVTVEVEXCJdID0gXCJDTE9TRV9QQU5FTF9SRVFVRVNURURcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIl0gPSBcIklURU1fU0VMRUNUSU9OX0NIQU5HRURcIjtcbiAgICAvKiogU3RhcnQgaXRlbSBob3ZlciAqL1xuICAgIEFjdGlvblR5cGVbXCJJVEVNX0hPVkVSX0lOXCJdID0gXCJJVEVNX0hPVkVSX0lOXCI7XG4gICAgLyoqIEVuZCBpdGVtIGhvdmVyICovXG4gICAgQWN0aW9uVHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBQZXJzaXN0IHRoZSBlZGl0ZWQgY29tbWVudCB0ZXh0IGZvciB0aGUgdGFyZ2V0ZWQgaXRlbSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfSVRFTV9DT01NRU5UXCJdID0gXCJVUERBVEVfSVRFTV9DT01NRU5UXCI7XG4gICAgLyoqIFNldGUgVUkgdGhlbWUgKi9cbiAgICBBY3Rpb25UeXBlW1wiU0VUX1RIRU1FXCJdID0gXCJTRVRfVEhFTUVcIjtcbiAgICAvKiogVXBkYXRlIHRoZSBVSSB0aGVtZSAqL1xuICAgIEFjdGlvblR5cGVbXCJVUERBVEVfVEhFTUVcIl0gPSBcIlVQREFURV9USEVNRVwiO1xuICAgIC8qKiBEaXNwYXRjaGVkIHRvIHJlcXVlc3QgcmVsb2FkaW5nIHRoZSBsYXRlc3QgZGF0YSAqL1xuICAgIEFjdGlvblR5cGVbXCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEXCJdID0gXCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEXCI7XG4gICAgLyoqIERpc3BhdGNoZWQgYWZ0ZXIgdGhlIHN0b3JlIGlzIHN1Y2Nlc3NmdWxseSByZWxvYWRlZCB3aXRoIHRoZSBsYXRlc3QgZGF0YSAqL1xuICAgIEFjdGlvblR5cGVbXCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEXCJdID0gXCJTVE9SRV9SRUxPQURfU1VDQ0VFREVEXCI7XG4gICAgLyoqIEltcG9ydCBhIFNjcmVlblN0YXRlIGZyb20gYSBzZWxlY3RlZCBKU09OIGZpbGUuICovXG4gICAgQWN0aW9uVHlwZVtcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiXSA9IFwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCI7XG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgaW1wb3J0IG9wZXJhdGlvbiBmYWlscy4gKi9cbiAgICBBY3Rpb25UeXBlW1wiSU1QT1JUX0ZBSUxFRFwiXSA9IFwiSU1QT1JUX0ZBSUxFRFwiO1xuICAgIC8qKiBEaXNtaXNzIGEgdG9hc3QgYnkgVVVJRCAqL1xuICAgIEFjdGlvblR5cGVbXCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRFwiXSA9IFwiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIjtcbiAgICAvKiogUmVtb3ZlIHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEFjdGlvblR5cGVbXCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0VcIl0gPSBcIlJFTU9WRV9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiO1xuICAgIC8qKiBFeHBvcnQgc2NyZWVuIHN0YXRlIGJ5IHBhZ2Uga2V5ICovXG4gICAgQWN0aW9uVHlwZVtcIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRVwiXSA9IFwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFXCI7XG4gICAgLyoqIEV4cG9ydCBmYWlsZWQgd2l0aCBhbiBlcnJvciAqL1xuICAgIEFjdGlvblR5cGVbXCJFWFBPUlRfRkFJTEVEXCJdID0gXCJFWFBPUlRfRkFJTEVEXCI7XG59KShBY3Rpb25UeXBlIHx8IChBY3Rpb25UeXBlID0ge30pKTtcbiIsIi8qKlxuICogRWZmZWN0VHlwZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEEgZGVjbGFyYXRpdmUgc2V0IG9mICpzaWRlLWVmZmVjdCByZXF1ZXN0cyogcHJvZHVjZWQgYnkgdGhlIHJlZHVjZXIuXG4gKiBFeGVjdXRvcjpcbiAqICAgLSBUaGUgQ29udHJvbGxlciBpbnRlcnByZXRzIGFuZCBwZXJmb3JtcyBlYWNoIGVmZmVjdCAoSS9PLCBSUEMsIHBlcnNpc3RlbmNlKS5cbiAqIFB1cnBvc2U6XG4gKiAgIC0gS2VlcCB0aGUgcmVkdWNlciBwdXJlIHdoaWxlIHN0aWxsIGVuYWJsaW5nIG5lY2Vzc2FyeSBleHRlcm5hbCBlZmZlY3RzLlxuICovXG5leHBvcnQgdmFyIEVmZmVjdFR5cGU7XG4oZnVuY3Rpb24gKEVmZmVjdFR5cGUpIHtcbiAgICAvKiogUHVzaCB0aGUgY3VycmVudCBpdGVtcyB0byB0aGUgQ29udGVudCBzY3JpcHQgdG8gcmVuZGVyIHRoZSBvdmVybGF5ICovXG4gICAgRWZmZWN0VHlwZVtcIlJFTkRFUl9DT05URU5UXCJdID0gXCJSRU5ERVJfQ09OVEVOVFwiO1xuICAgIC8qKiBFbmFibGUvZGlzYWJsZSBzZWxlY3Rpb24gbW9kZSBvbiB0aGUgQ29udGVudCBzaWRlICovXG4gICAgRWZmZWN0VHlwZVtcIlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVFwiXSA9IFwiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UXCI7XG4gICAgLyoqIENsZWFyIG92ZXJsYXkgb24gdGhlIENvbnRlbnQgc2lkZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJDTEVBUl9DT05URU5UXCJdID0gXCJDTEVBUl9DT05URU5UXCI7XG4gICAgLyoqIGl0ZW0gaG92ZXIgKi9cbiAgICBFZmZlY3RUeXBlW1wiSE9WRVJcIl0gPSBcIkhPVkVSXCI7XG4gICAgLyoqIHJlcXVlc3QgbWVhc3VyaW5nIHRoZSBjb250ZW50IHNpemUgKi9cbiAgICBFZmZlY3RUeXBlW1wiTUVBU1VSRV9DT05URU5UX1NJWkVcIl0gPSBcIk1FQVNVUkVfQ09OVEVOVF9TSVpFXCI7XG4gICAgLyoqIFJ1biBhIGNhcHR1cmUgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVycyAodGFiSWQvZm9ybWF0L2FyZWEvcXVhbGl0eS9zY2FsZSkgKi9cbiAgICBFZmZlY3RUeXBlW1wiQ0FQVFVSRVwiXSA9IFwiQ0FQVFVSRVwiO1xuICAgIC8qKiBQZXJzaXN0IHRoZSBzdGF0ZSB0byBzdG9yYWdlIHdpdGggc2VsZWN0ZWQgaXRlbXMgcmVzZXQgKGNsZWFyZWQpLiAqL1xuICAgIEVmZmVjdFR5cGVbXCJDTEVBUl9TVEFURVwiXSA9IFwiQ0xFQVJfU1RBVEVcIjtcbiAgICAvKipcbiAgICAgKiBQZXJzaXN0IHRoZSBjdXJyZW50IHN0YXRlIHRvIHN0b3JhZ2UuXG4gICAgICogTk9URTogTXVzdCBwcmVzZXJ2ZSBleGlzdGluZyBjb3VudGVycyAobmV4dElkL25leHRMYWJlbCk7IGRvIG5vdCByZXNldCB0aGVtLlxuICAgICAqL1xuICAgIEVmZmVjdFR5cGVbXCJQRVJTSVNUX1NUQVRFXCJdID0gXCJQRVJTSVNUX1NUQVRFXCI7XG4gICAgLyoqIFNldGUgVUkgdGhlbWUgKi9cbiAgICBFZmZlY3RUeXBlW1wiU0VUX1RIRU1FXCJdID0gXCJTRVRfVEhFTUVcIjtcbiAgICAvKiogVXBkYXRlIHRoZSBVSSB0aGVtZSAqL1xuICAgIEVmZmVjdFR5cGVbXCJVUERBVEVfVEhFTUVcIl0gPSBcIlVQREFURV9USEVNRVwiO1xuICAgIC8qKiBSZWFkIHRoZSBzY3JlZW4tc3RhdGUgbWFwIGZyb20gYGNocm9tZS5zdG9yYWdlLmxvY2FsYCAqL1xuICAgIEVmZmVjdFR5cGVbXCJSRUFEX1NDUkVFTl9TVEFURV9TVE9SRVwiXSA9IFwiUkVBRF9TQ1JFRU5fU1RBVEVfU1RPUkVcIjtcbiAgICAvKiogSW1wb3J0IGEgU2NyZWVuU3RhdGUgZnJvbSBhIHNlbGVjdGVkIEpTT04gZmlsZS4gKi9cbiAgICBFZmZlY3RUeXBlW1wiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCJdID0gXCJJTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEVcIjtcbiAgICAvKiogUmVtb3ZlIHNjcmVlbiBzdGF0ZSBieSBwYWdlIGtleSAqL1xuICAgIEVmZmVjdFR5cGVbXCJSRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZXCJdID0gXCJSRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZXCI7XG4gICAgLyoqIEV4cG9ydCBzY3JlZW4gc3RhdGUgYnkgcGFnZSBrZXkgKi9cbiAgICBFZmZlY3RUeXBlW1wiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWVwiXSA9IFwiRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFX0tFWVwiO1xuICAgIC8qKiBSZXBvcnQvbG9nIGFuIGVycm9yIChhbmQgb3B0aW9uYWxseSBzdXJmYWNlIGl0IHRvIHRoZSBVSSkgKi9cbiAgICBFZmZlY3RUeXBlW1wiTk9USUZZX0VSUk9SXCJdID0gXCJOT1RJRllfRVJST1JcIjtcbn0pKEVmZmVjdFR5cGUgfHwgKEVmZmVjdFR5cGUgPSB7fSkpO1xuIiwiZXhwb3J0IGNvbnN0IFBST1RPQ09MX1ZFUlNJT04gPSAxO1xuZXhwb3J0IGNvbnN0IENIQU5ORUwgPSB7XG4gICAgUEFORUxfQ09OVEVOVDogYHNwc2s6cGFuZWwtY29udGVudDp2JHtQUk9UT0NPTF9WRVJTSU9OfWAsXG59O1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gUG9ydC5uYW1lIG1hdGNoZXMgdGhlIHNwZWNpZmllZCBjaGFubmVsLlxuICogVXNlIHRoaXMgdG8gc2FmZWx5IGRpc3Rpbmd1aXNoIGNvbm5lY3Rpb24gdHlwZXMgYmV0d2VlbiBQYW5lbCBhbmQgQ29udGVudC5cbiAqXG4gKiBAcGFyYW0gcG9ydCAtIEEgY29ubmVjdGVkIHJ1bnRpbWUuUG9ydFxuICogQHBhcmFtIG5hbWUgLSBUYXJnZXQgY2hhbm5lbCBuYW1lIHRvIGNvbXBhcmVcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvcnQgYmVsb25ncyB0byB0aGUgY2hhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaGFubmVsKHBvcnQsIG5hbWUpIHtcbiAgICByZXR1cm4gcG9ydC5uYW1lID09PSBuYW1lO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBvcnQgaXMgdXNlZCBmb3IgUGFuZWwg4oaUIENvbnRlbnQgY29tbXVuaWNhdGlvbi5cbiAqIEEgY29udmVuaWVuY2Ugd3JhcHBlciBmb3IgQ0hBTk5FTC5QQU5FTF9DT05URU5ULlxuICpcbiAqIEBwYXJhbSBwb3J0IC0gQSBjb25uZWN0ZWQgcnVudGltZS5Qb3J0XG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwb3J0IGlzIHRoZSBQYW5lbOKAk0NvbnRlbnQgY2hhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQYW5lbENvbnRlbnRQb3J0KHBvcnQpIHtcbiAgICByZXR1cm4gaXNDaGFubmVsKHBvcnQsIENIQU5ORUwuUEFORUxfQ09OVEVOVCk7XG59XG4iLCJpbXBvcnQgeyBNU0dfVFlQRSB9IGZyb20gJ0Bjb21tb24vbWVzc2FnZXMnO1xuLyoqXG4gKiBUaGluIFJQQyB3cmFwcGVyIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gUGFuZWwgdG8gQ29udGVudC5cbiAqIEV4cG9zZXMgaGlnaC1sZXZlbCBtZXRob2RzIGZvciBlYWNoIG1lc3NhZ2UgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhbmVsQXBpIHtcbiAgICBycGM7XG4gICAgY29uc3RydWN0b3IocnBjKSB7XG4gICAgICAgIHRoaXMucnBjID0gcnBjO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZW5kIGhlbHBlciB0aGF0IGF0dGFjaGVzIGFuIFJQQyByZXF1ZXN0IGlkIGFzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBib2R5IC0gTWVzc2FnZSBwYXlsb2FkIHRvIHNlbmRcbiAgICAgKiBAcmV0dXJucyBWb2lkLWxpa2Ugd2hlbiBubyByZXBseSBpcyBleHBlY3RlZDsgb3RoZXJ3aXNlIHJlc29sdmVzIHdpdGggYSByZXNwb25zZVxuICAgICAqL1xuICAgIHNlbmQoYm9keSkge1xuICAgICAgICBjb25zdCByZXEgPSB7XG4gICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIGV4cGVjdFJlcGx5OiBmYWxzZSxcbiAgICAgICAgICAgIC4uLmJvZHksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy5zZW5kKHJlcSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIENvbnRlbnQgdG8gcmVuZGVyIHRoZSBnaXZlbiBpdGVtcy5cbiAgICAgKiBAcGFyYW0gaXRlbXMgLSBJdGVtcyB0byBkcmF3XG4gICAgICovXG4gICAgcmVuZGVyKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyB0eXBlOiBNU0dfVFlQRS5SRU5ERVIsIHBheWxvYWQ6IHsgaXRlbXMgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBzZWxlY3Rpb24gbW9kZSBpbiBDb250ZW50LlxuICAgICAqIEBwYXJhbSBlbmFibGVkIC0gVHJ1ZSB0byBlbmFibGVcbiAgICAgKi9cbiAgICB0b2dnbGVTZWxlY3QoZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuVE9HR0xFX1NFTEVDVCwgcGF5bG9hZDogeyBlbmFibGVkIH0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgQ29udGVudCBvdmVybGF5LlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgdHlwZTogTVNHX1RZUEUuQ0xFQVIgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaG92ZXJlZCBpdGVtIGFuZCByZXF1ZXN0IGEgdHJhbnNpZW50IGhpZ2hsaWdodCBvbiBDb250ZW50LlxuICAgICAqIFBhc3MgYG51bGxgIHRvIGNsZWFyIHRoZSBjdXJyZW50IGhvdmVyIGhpZ2hsaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRhcmdldCBpdGVtIElELCBvciBgbnVsbGAgdG8gY2xlYXIuXG4gICAgICovXG4gICAgaG92ZXIoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLkhPVkVSLCBwYXlsb2FkOiB7IGlkIH0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcmVxdWVzdCB0byBtZWFzdXJlIHRoZSBjdXJyZW50IGNvbnRlbnQgc2l6ZS5cbiAgICAgKi9cbiAgICBtZWFzdXJlU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7IHR5cGU6IE1TR19UWVBFLk1FQVNVUkVfU0laRSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBjb25uZWN0aXZpdHkgaGVhbHRoIGNoZWNrIChyb3VuZC10cmlwKS5cbiAgICAgKiBTZW50IGFzIGEgcmVxdWVzdCBleHBlY3RpbmcgYSByZXBseS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSwgb3IgdW5kZWZpbmVkIG9uIHRpbWVvdXRcbiAgICAgKi9cbiAgICBwaW5nKCkge1xuICAgICAgICBjb25zdCByZXEgPSB7XG4gICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIGV4cGVjdFJlcGx5OiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuUElORyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnNlbmQocmVxLCA1MDAwKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpc1Jlc3BvbnNlIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG4vKipcbiAqIEltcGxlbWVudHMgYSBtaW5pbWFsIHJlcXVlc3QvcmVzcG9uc2UgUlBDIG92ZXIgY2hyb21lLnJ1bnRpbWUuUG9ydC5cbiAqIFRyYWNrcyBwZW5kaW5nIHJlcXVlc3RzIGJ5IGlkIGFuZCBoYW5kbGVzIHRpbWVvdXRzIGFuZCBkaXNjb25uZWN0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvcnRScGMge1xuICAgIHBvcnQ7XG4gICAgcGVuZGluZyA9IG5ldyBNYXAoKTtcbiAgICBhbGl2ZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyB0byBwb3J0IG1lc3NhZ2UgYW5kIGRpc2Nvbm5lY3QgZXZlbnRzLlxuICAgICAqIEBwYXJhbSBwb3J0IC0gVGhlIHJ1bnRpbWUuUG9ydCB1c2VkIGZvciBtZXNzYWdpbmdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb3J0KSB7XG4gICAgICAgIHRoaXMucG9ydCA9IHBvcnQ7XG4gICAgICAgIHRoaXMucG9ydC5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1zZykgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2UobXNnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5nZXQobXNnLmlkKT8uKG1zZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShtc2cuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb3J0Lm9uRGlzY29ubmVjdC5hZGRMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBSZWFzb25zIHN1Y2ggYXMgQkZDYWNoZSBtYXkgYmUgaW5jbHVkZWRcbiAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcj8ubWVzc2FnZSA/PyAnZGlzY29ubmVjdGVkJztcbiAgICAgICAgICAgIC8vIFRyZWF0IHBlbmRpbmcgc3RhdHVzIGFzIGZhaWx1cmUgd2hlbiBhIGRpc2Nvbm5lY3Rpb24gb2NjdXJzLlxuICAgICAgICAgICAgZm9yIChjb25zdCBbaWQsIHJlc29sdmVdIG9mIHRoaXMucGVuZGluZykge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBpZCwgb2s6IGZhbHNlLCBlcnJvcjogcmVhc29uIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBzdGF0dXNcbiAgICBnZXQgaXNBbGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxpdmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGFuIFJQQyByZXF1ZXN0IGFuZCBvcHRpb25hbGx5IGF3YWl0cyBhIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcSAtIFRoZSBSUEMgcmVxdWVzdCB0byBzZW5kXG4gICAgICogQHBhcmFtIHRpbWVvdXRNcyAtIFRpbWVvdXQgKG1zKSB3aGVuIHdhaXRpbmcgZm9yIGEgcmVwbHkgKGRlZmF1bHQgNTAwMClcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2Ugd2hlbiBgZXhwZWN0UmVwbHlgIGlzIHRydWU7IG90aGVyd2lzZSB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBzZW5kKHJlcSwgdGltZW91dE1zID0gNTAwMCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIC8vIElmIGFscmVhZHkgZGlzY29ubmVjdGVkLCBpbW1lZGlhdGVseSB0ZXJtaW5hdGUgKGF2b2lkIFVuY2hlY2tlZCBydW50aW1lLmxhc3RFcnJvcilcbiAgICAgICAgICAgIGlmICghdGhpcy5hbGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlcS5leHBlY3RSZXBseSA/IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmV4cGVjdFJlcGx5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShyZXEuaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dE1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuc2V0KHJlcS5pZCwgKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZShyZXEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIGlmIChyZXEuZXhwZWN0UmVwbHkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUocmVxLmlkKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXEuZXhwZWN0UmVwbHkpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQ0RQX1ZFUlNJT04gPSAnMS4zJztcbi8qKlxuICogV3JhcHMgYGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcmAgaW50byBhIHN0YW5kYXJkIGBFcnJvcmAgaW5zdGFuY2UuXG4gKlxuICogQHJldHVybnMgQW4gYEVycm9yYCBpZiBhIGxhc3QgZXJyb3IgZXhpc3RzOyBvdGhlcndpc2UgYG51bGxgLlxuICovXG5mdW5jdGlvbiBsYXN0RXJyb3IoKSB7XG4gICAgY29uc3QgZXJyID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO1xuICAgIHJldHVybiBlcnIgPyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UgfHwgU3RyaW5nKGVycikpIDogbnVsbDtcbn1cbi8qKiBUcmFja3MgdGFiSWRzIHRoYXQgdGhpcyBleHRlbnNpb24gY3VycmVudGx5IG93bnMgKGF0dGFjaGVkIGJ5IGl0c2VsZikuICovXG5jb25zdCBPV05FRCA9IG5ldyBTZXQoKTtcbi8qKiBDbGVhcnMgb3duZXJzaGlwIG9uIGRldGFjaCAoY292ZXJzIGV4dGVybmFsIGNhdXNlcyBsaWtlIG9wZW5pbmcvY2xvc2luZyBEZXZUb29scykuICovXG5jaHJvbWUuZGVidWdnZXIub25EZXRhY2guYWRkTGlzdGVuZXIoKGRlYnVnZ2VlKSA9PiB7XG4gICAgY29uc3QgaWQgPSBkZWJ1Z2dlZS50YWJJZDtcbiAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJylcbiAgICAgICAgT1dORUQuZGVsZXRlKGlkKTtcbn0pO1xuLyoqXG4gKiBEZXRhY2hlcyB0aGUgQ2hyb21lIERlYnVnZ2VyIChDRFApIGZyb20gdGhlIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRlYnVnZ2VlIHRvIGRldGFjaCBmcm9tLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBkZXRhY2htZW50IGNvbXBsZXRlcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGV0YWNoKHRhcmdldCkge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGNocm9tZS5kZWJ1Z2dlci5kZXRhY2godGFyZ2V0LCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBTYWZlbHkgYXR0YWNoZXMgdG8gdGhlIHRhcmdldC4gSWYgYSBwcmV2aW91cyBzZXNzaW9uIG93bmVkIGJ5IHRoaXMgZXh0ZW5zaW9uXG4gKiBpcyBhbHJlYWR5IGF0dGFjaGVkLCBpdCByZXVzZXMgaXQgaW5zdGVhZCBvZiBmYWlsaW5nLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgZGVidWdnZWUgdG8gYXR0YWNoIHRvIChlLmcuLCBgeyB0YWJJZCB9YCkuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBgdHJ1ZWAgd2hlbiB0aGlzIGNhbGwgcGVyZm9ybWVkIGEgbmV3IGF0dGFjaCxcbiAqICAgICAgICAgIG9yIGBmYWxzZWAgd2hlbiBhbiBleGlzdGluZyBvd25lZCBzZXNzaW9uIGlzIHJldXNlZC5cbiAqIEB0aHJvd3MgSWYgYW5vdGhlciBjbGllbnQgKERldlRvb2xzL2Fub3RoZXIgZXh0ZW5zaW9uKSBpcyBhdHRhY2hlZCwgb3Igb24gb3RoZXIgYXR0YWNoIGVycm9ycy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF0dGFjaE93bmVkKHRhcmdldCkge1xuICAgIGNvbnN0IHRhYklkID0gdGFyZ2V0LnRhYklkID8/IG51bGw7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2hyb21lLmRlYnVnZ2VyLmF0dGFjaCh0YXJnZXQsIENEUF9WRVJTSU9OLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I7XG4gICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgICAgIGlmICh0YWJJZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBPV05FRC5hZGQodGFiSWQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7IC8vIG5ld2x5IGF0dGFjaGVkIGJ5IHRoaXMgY2FsbFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGVyci5tZXNzYWdlIHx8ICcnO1xuICAgICAgICAgICAgaWYgKG1zZy5pbmNsdWRlcygnQW5vdGhlciBkZWJ1Z2dlciBpcyBhbHJlYWR5IGF0dGFjaGVkJykpIHtcbiAgICAgICAgICAgICAgICAvLyBBbHJlYWR5IGF0dGFjaGVkOiByZXVzZSBvbmx5IGlmIG93bmVkIGJ5IHRoaXMgZXh0ZW5zaW9uLlxuICAgICAgICAgICAgICAgIGlmICh0YWJJZCAhPSBudWxsICYmIE9XTkVELmhhcyh0YWJJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7IC8vIHJldXNlIGV4aXN0aW5nIG93bmVkIHNlc3Npb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0RlYnVnZ2VyIGlzIGFscmVhZHkgYXR0YWNoZWQgYnkgYW5vdGhlciBjbGllbnQgKERldlRvb2xzL2V4dGVuc2lvbikuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IobXNnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBTYWZlbHkgZGV0YWNoZXMgb25seSB3aGVuIHRoZSBjdXJyZW50IGV4dGVuc2lvbiBvd25zIHRoZSBzZXNzaW9uLlxuICogTm8tb3BzIGlmIHRoZSB0YXJnZXQgaXMgbm90IG93bmVkLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgZGVidWdnZWUgdG8gZGV0YWNoIGZyb20uXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBkZXRhY2hpbmcgKG9yIGltbWVkaWF0ZWx5IGlmIG5vdCBvd25lZCkuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXRhY2hPd25lZCh0YXJnZXQpIHtcbiAgICBjb25zdCB0YWJJZCA9IHRhcmdldC50YWJJZCA/PyBudWxsO1xuICAgIGlmICh0YWJJZCA9PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKCFPV05FRC5oYXModGFiSWQpKVxuICAgICAgICByZXR1cm47IC8vIG5vdCBvd25lZCBieSB0aGlzIGV4dGVuc2lvblxuICAgIGF3YWl0IGRldGFjaCh0YXJnZXQpO1xuICAgIE9XTkVELmRlbGV0ZSh0YWJJZCk7XG59XG4vKipcbiAqIFNlbmRzIGEgQ0RQIGNvbW1hbmQgdG8gdGhlIGF0dGFjaGVkIHRhcmdldC5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgLSBFeHBlY3RlZCByZXN1bHQgdHlwZSBvZiB0aGUgY29tbWFuZC5cbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgZGVidWdnZWUgdG8gd2hpY2ggdGhlIGNvbW1hbmQgaXMgc2VudC5cbiAqIEBwYXJhbSBtZXRob2QgLSBDRFAgbWV0aG9kIG5hbWUgKGUuZy4sIGAnUGFnZS5jYXB0dXJlU2NyZWVuc2hvdCdgKS5cbiAqIEBwYXJhbSBwYXJhbXMgLSBPcHRpb25hbCBwYXJhbWV0ZXJzIG9iamVjdCBmb3IgdGhlIGNvbW1hbmQuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb21tYW5kIHJlc3VsdCBvciByZWplY3RzIGlmIGFuIGVycm9yIG9jY3Vycy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmQodGFyZ2V0LCBtZXRob2QsIHBhcmFtcykge1xuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNocm9tZS5kZWJ1Z2dlci5zZW5kQ29tbWFuZCh0YXJnZXQsIG1ldGhvZCwgcGFyYW1zID8/IHt9LCAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBsYXN0RXJyb3IoKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKHJlc3VsdCA/PyB7fSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IGlzUmVzdHJpY3RlZCB9IGZyb20gJ0Bjb21tb24vdXJsJztcbmltcG9ydCB7IGF0dGFjaE93bmVkLCBkZXRhY2hPd25lZCwgc2VuZCB9IGZyb20gJ0BpbmZyYS9jZHAvY2RwX2NsaWVudCc7XG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBzdHJpbmcgZm9yIHNhZmUgdXNlIGFzIGEgZmlsZW5hbWU6XG4gKiByZXBsYWNlcyByZXNlcnZlZCBjaGFyYWN0ZXJzLCBjb2xsYXBzZXMgd2hpdGVzcGFjZSwgYW5kIHRyaW1zIGVuZHMuXG4gKlxuICogQHBhcmFtIHMgLSBSYXcgc3RyaW5nIHRvIHNhbml0aXplLlxuICogQHJldHVybnMgU2FuaXRpemVkIGZpbGVuYW1lLXNhZmUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBzYW5pdGl6ZUZvckZpbGVuYW1lKHMpIHtcbiAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvW1xcXFwvOio/XCI8PnxdL2csICdfJylcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgICAgICAudHJpbSgpO1xufVxuLyoqXG4gKiBCdWlsZHMgYSB0aW1lc3RhbXBlZCBmaWxlbmFtZSBmb3IgdGhlIGNhcHR1cmUgYmFzZWQgb24gdGhlIHRhYidzIHRpdGxlIG9yIGhvc3QuXG4gKiBUcnVuY2F0ZXMgdGhlIGJhc2UgbmFtZSB0byA4MCBjaGFyYWN0ZXJzIGFuZCBhcHBlbmRzIHRoZSBwcm9wZXIgZXh0ZW5zaW9uLlxuICpcbiAqIEBwYXJhbSB0YWIgLSBTb3VyY2UgdGFiICh0aXRsZS91cmwgdXNlZCBmb3IgbmFtaW5nKS5cbiAqIEBwYXJhbSBmbXQgLSBUYXJnZXQgaW1hZ2UgZm9ybWF0ICgncG5nJyB8ICdqcGVnJykuXG4gKiBAcmV0dXJucyBBIGZpbGVuYW1lIGxpa2UgYHBhZ2UtMjAyNS0wOC0xM1QxMC0yMC0zMC0wMDBaLnBuZ2AuXG4gKi9cbmZ1bmN0aW9uIG1ha2VGaWxlbmFtZSh0YWIsIGZtdCkge1xuICAgIGNvbnN0IHRpdGxlID0gdGFiLnRpdGxlICYmIHRhYi50aXRsZS50cmltKCkgPyB0YWIudGl0bGUgOiAnJztcbiAgICBsZXQgYmFzZSA9IHRpdGxlIHx8XG4gICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHRhYi51cmwgPz8gJycpLmhvc3QgfHwgJ3BhZ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiAncGFnZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgYmFzZSA9IHNhbml0aXplRm9yRmlsZW5hbWUoYmFzZSk7XG4gICAgaWYgKGJhc2UubGVuZ3RoID4gODApXG4gICAgICAgIGJhc2UgPSBiYXNlLnNsaWNlKDAsIDgwKTtcbiAgICBjb25zdCB0cyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bOi5dL2csICctJyk7XG4gICAgcmV0dXJuIGAke2Jhc2V9LSR7dHN9LiR7Zm10fWA7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmlzdWFsIHZpZXdwb3J0IHJlY3RhbmdsZSBpbiBDU1MgcGl4ZWxzIChmb3Igdmlld3BvcnQgY2FwdHVyZSkuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gRGV2VG9vbHMgUHJvdG9jb2wgdGFyZ2V0IHRhYiAoYGNocm9tZS5kZWJ1Z2dlci5EZWJ1Z2dlZWApLlxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gYHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9YCBpbiBDU1MgcGl4ZWxzLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRWaWV3cG9ydENzc1JlY3QodGFyZ2V0KSB7XG4gICAgY29uc3QgbG0gPSBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuZ2V0TGF5b3V0TWV0cmljcycpO1xuICAgIGNvbnN0IHYgPSBsbS5jc3NWaXN1YWxWaWV3cG9ydDtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHYucGFnZVgpIHwgMCksXG4gICAgICAgIHk6IE1hdGgubWF4KDAsIE1hdGguZmxvb3Iodi5wYWdlWSkgfCAwKSxcbiAgICAgICAgd2lkdGg6IE1hdGgubWF4KDEsIE1hdGguY2VpbCh2LmNsaWVudFdpZHRoKSB8IDApLFxuICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KDEsIE1hdGguY2VpbCh2LmNsaWVudEhlaWdodCkgfCAwKSxcbiAgICB9O1xufVxuLyoqXG4gKiBSZXNvbHZlcyBzY3JlZW5zaG90IGdlb21ldHJ5IGZvciB0aGUgc2VsZWN0ZWQgY2FwdHVyZSBhcmVhLlxuICogQHBhcmFtIHRhcmdldCAtIERldlRvb2xzIFByb3RvY29sIHRhcmdldCB0YWIgKGBjaHJvbWUuZGVidWdnZXIuRGVidWdnZWVgKS5cbiAqIEBwYXJhbSBhcmVhIC0gQ2FwdHVyZSBhcmVhOiBgJ2Z1bGwnYCAoZW50aXJlIHBhZ2UpIG9yIGAndmlld3BvcnQnYCAodmlzaWJsZSBhcmVhKS5cbiAqIEBwYXJhbSBzY2FsZSAtIEltYWdlIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIGBjbGlwLnNjYWxlYC5cbiAqIEBwYXJhbSBjb250ZW50U2l6ZSAtIE1lYXN1cmVkIHBhZ2UgY29udGVudCBzaXplIGluIENTUyBwaXhlbHMgdXNlZCB3aGVuIGBhcmVhYCBpcyBgJ2Z1bGwnYC5cbiAqIEByZXR1cm5zIGBDYXB0dXJlR2VvbWV0cnlgIGRlc2NyaWJpbmcgd2hldGhlciBkZXZpY2UgbWV0cmljcyBvdmVycmlkZSBpcyByZXF1aXJlZCBhbmQgdGhlIGNsaXAgcmVjdGFuZ2xlIGZvciBgUGFnZS5jYXB0dXJlU2NyZWVuc2hvdGAuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmVHZW9tZXRyeSh0YXJnZXQsIGFyZWEsIHNjYWxlLCBjb250ZW50U2l6ZSkge1xuICAgIGlmIChhcmVhID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgIC8vIE5vIG92ZXJyaWRlIHJlcXVpcmVkOiBDbGlwIHRoZSBjdXJyZW50IGRpc3BsYXkgYXJlYSB3aXRoIGNsaXBcbiAgICAgICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBhd2FpdCBnZXRWaWV3cG9ydENzc1JlY3QodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVzZU92ZXJyaWRlOiBmYWxzZSxcbiAgICAgICAgICAgIGNsaXA6IHsgeCwgeSwgd2lkdGgsIGhlaWdodCwgc2NhbGUgfSxcbiAgICAgICAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogdHJ1ZSxcbiAgICAgICAgICAgIHNob3VsZFNjcm9sbFRvcDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGNvbnRlbnRTaXplLndpZHRoKSB8IDApO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChjb250ZW50U2l6ZS5oZWlnaHQpIHwgMCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNlT3ZlcnJpZGU6IHRydWUsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IDEsXG4gICAgICAgICAgICBtb2JpbGU6IGZhbHNlLFxuICAgICAgICAgICAgc2NyZWVuV2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgc2NyZWVuSGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICBwb3NpdGlvblg6IDAsXG4gICAgICAgICAgICBwb3NpdGlvblk6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIGNsaXA6IHsgeDogMCwgeTogMCwgd2lkdGgsIGhlaWdodCwgc2NhbGUgfSxcbiAgICAgICAgY2FwdHVyZUJleW9uZFZpZXdwb3J0OiB0cnVlLFxuICAgICAgICBzaG91bGRTY3JvbGxUb3A6IHRydWUsXG4gICAgfTtcbn1cbi8qKlxuICogQ2FwdHVyZSBzY3JlZW5zaG90cyBhbmQgc2F2ZSB0aGVtIHZpYSB0aGUgZG93bmxvYWQgQVBJLlxuICpcbiAqIEBwYXJhbSBvcHRzIC0gQ2FwdHVyZSBvcHRpb25zICh0YWIgaWQsIGZvcm1hdCwgcXVhbGl0eSwgc2NhbGUsIGV0Yy4pLlxuICogQHJldHVybnMgVGhlIGBkb3dubG9hZElkYCB3aGVuIHNhdmVkIHN1Y2Nlc3NmdWxseTsgYHVuZGVmaW5lZGAgd2hlbiBjYXB0dXJlIGlzIHNraXBwZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYXB0dXJlKG9wdHMpIHtcbiAgICBjb25zdCB0YWIgPSBhd2FpdCBjaHJvbWUudGFicy5nZXQob3B0cy50YWJJZCk7XG4gICAgaWYgKCF0YWIuaWQgfHwgaXNSZXN0cmljdGVkKHRhYi51cmwpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQ2FwdHVyaW5nIGlzIG5vdCBwb3NzaWJsZSBkdWUgdG8gcmVzdHJpY3RlZCBVUkw6JywgdGFiLnVybCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0geyB0YWJJZDogdGFiLmlkIH07XG4gICAgY29uc3QgZm10ID0gb3B0cy5mb3JtYXQgPz8gJ3BuZyc7XG4gICAgY29uc3Qgc2V0dGxlTXMgPSBvcHRzLnNldHRsZU1zID8/IDUwMDtcbiAgICBjb25zdCBzY2FsZSA9IG9wdHMuc2NhbGUgPz8gMTtcbiAgICBjb25zdCBhcmVhID0gb3B0cy5hcmVhID8/ICdmdWxsJztcbiAgICBsZXQgZGlkQXR0YWNoID0gZmFsc2U7XG4gICAgbGV0IHVzZWRPdmVycmlkZSA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGRpZEF0dGFjaCA9IGF3YWl0IGF0dGFjaE93bmVkKHRhcmdldCk7XG4gICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5lbmFibGUnKTtcbiAgICAgICAgaWYgKG9wdHMuYnJpbmdUb0Zyb250ID8/IHRydWUpIHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnUGFnZS5icmluZ1RvRnJvbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnZW9tID0gYXdhaXQgcmVzb2x2ZUdlb21ldHJ5KHRhcmdldCwgYXJlYSwgc2NhbGUsIG9wdHMuY29udGVudFNpemUpO1xuICAgICAgICBpZiAoZ2VvbS5zaG91bGRTY3JvbGxUb3ApIHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmQodGFyZ2V0LCAnUnVudGltZS5ldmFsdWF0ZScsIHsgZXhwcmVzc2lvbjogJ3dpbmRvdy5zY3JvbGxUbygwLDApJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2VvbS51c2VPdmVycmlkZSAmJiBnZW9tLm1ldHJpY3MpIHtcbiAgICAgICAgICAgIHVzZWRPdmVycmlkZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBTY3JvbGwgdG8gdG9wICYgd2FpdCBicmllZmx5IGZvciBsYXlvdXQvaW1hZ2Ugc3RhYmlsaXphdGlvblxuICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdFbXVsYXRpb24uc2V0RGV2aWNlTWV0cmljc092ZXJyaWRlJywgZ2VvbS5tZXRyaWNzKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCBzZXR0bGVNcykpO1xuICAgICAgICBjb25zdCBjYXBQYXJhbXMgPSB7XG4gICAgICAgICAgICBmb3JtYXQ6IGZtdCxcbiAgICAgICAgICAgIGZyb21TdXJmYWNlOiB0cnVlLFxuICAgICAgICAgICAgY2FwdHVyZUJleW9uZFZpZXdwb3J0OiBnZW9tLmNhcHR1cmVCZXlvbmRWaWV3cG9ydCxcbiAgICAgICAgICAgIGNsaXA6IGdlb20uY2xpcCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZtdCA9PT0gJ2pwZWcnICYmIHR5cGVvZiBvcHRzLnF1YWxpdHkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjYXBQYXJhbXMucXVhbGl0eSA9IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChvcHRzLnF1YWxpdHkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzZW5kKHRhcmdldCwgJ1BhZ2UuY2FwdHVyZVNjcmVlbnNob3QnLCBjYXBQYXJhbXMpO1xuICAgICAgICBjb25zdCBtaW1lID0gZm10ID09PSAncG5nJyA/ICdpbWFnZS9wbmcnIDogJ2ltYWdlL2pwZWcnO1xuICAgICAgICBjb25zdCB1cmwgPSBgZGF0YToke21pbWV9O2Jhc2U2NCwke2RhdGF9YDtcbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBvcHRzLmZpbGVuYW1lID8/IG1ha2VGaWxlbmFtZSh0YWIsIGZtdCk7XG4gICAgICAgIHJldHVybiBhd2FpdCBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHsgdXJsLCBmaWxlbmFtZSwgc2F2ZUFzOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmICh1c2VkT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2VuZCh0YXJnZXQsICdFbXVsYXRpb24uY2xlYXJEZXZpY2VNZXRyaWNzT3ZlcnJpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkaWRBdHRhY2gpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZGV0YWNoT3duZWQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdGltZXN0YW1wIH0gZnJvbSAnQGNvbW1vbi91dGlscyc7XG4vKipcbiAqIEV4cG9ydHMgYSB7QGxpbmsgU2NyZWVuU3RhdGV9IGFzIGEgSlNPTiBmaWxlIGFuZCBzYXZlc1xuICpcbiAqIFRoZSBKU09OIHBheWxvYWQgaW5jbHVkZXMgYmFzaWMgbWV0YWRhdGEgKGZvcm1hdC9raW5kL3ZlcnNpb24vZXhwb3J0ZWRBdC9wYWdlS2V5KVxuICogYW5kIHRoZSBzdGF0ZSdzIGBpdGVtc2AgZm9yIGZ1dHVyZSBjb21wYXRpYmlsaXR5IGFuZCBlYXN5IHJlLWltcG9ydC5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgLSBUaGUgc2NyZWVuIHN0YXRlIHRvIGV4cG9ydC5cbiAqIEBwYXJhbSBwYWdlS2V5IC0gQSBwYWdlIGtleSB0byBlbWJlZCBpbnRvIHRoZSBleHBvcnRlZCBtZXRhZGF0YSBhbmQgdG8gZGVyaXZlIHRoZSBmaWxlbmFtZS5cbiAqIEBwYXJhbSBvcHRzIC0gRXhwb3J0IG9wdGlvbnMgKGUuZy4sIGBzYXZlQXNgLCBgcHJlZml4YCkuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBkb3dubG9hZCBJRCByZXR1cm5lZCBieSBgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZGAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBvcnRTY3JlZW5TdGF0ZShzdGF0ZSwgcGFnZUtleSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgeyBzYXZlQXMgPSBmYWxzZSwgcHJlZml4ID0gJ3NwZWNza2V0Y2gtc2NyZWVuLXN0YXRlJyB9ID0gb3B0cztcbiAgICAvLyBNZXRhZGF0YSArIHBheWxvYWQgKGtlZXAgdmVyc2lvbmluZyBmb3IgZm9yd2FyZCBjb21wYXRpYmlsaXR5KVxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGZvcm1hdDogJ3NwZWNza2V0Y2gtZXhwb3J0JyxcbiAgICAgICAga2luZDogJ3NjcmVlbi1zdGF0ZScsXG4gICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgIGV4cG9ydGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcGFnZUtleSxcbiAgICAgICAgaXRlbXM6IHN0YXRlLml0ZW1zLFxuICAgIH07XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpO1xuICAgIGNvbnN0IGJhc2U2NCA9IHRvQmFzZTY0VXRmOChqc29uKTtcbiAgICBjb25zdCBtaW1lID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgIGNvbnN0IHVybCA9IGBkYXRhOiR7bWltZX07Y2hhcnNldD11dGYtODtiYXNlNjQsJHtiYXNlNjR9YDtcbiAgICBjb25zdCBmaWxlbmFtZSA9IG1ha2VGaWxlbmFtZShwcmVmaXgsIHBhZ2VLZXksICdqc29uJyk7XG4gICAgLy8gU2F2ZSB1c2luZyB0aGUgc2FtZSBBUEkgcGF0dGVybiBhcyBpbWFnZSBkb3dubG9hZFxuICAgIHJldHVybiBhd2FpdCBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHsgdXJsLCBmaWxlbmFtZSwgc2F2ZUFzIH0pO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nIHRvIEJhc2U2NCBmb3IgdXNlIGluIGEgZGF0YSBVUkwuXG4gKlxuICogQHBhcmFtIHRleHQgLSBUaGUgVVRGLTggdGV4dCB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyBCYXNlNjQgc3RyaW5nIChubyBkYXRhIFVSTCBwcmVmaXgpLlxuICovXG5mdW5jdGlvbiB0b0Jhc2U2NFV0ZjgodGV4dCkge1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRleHQpOyAvLyBVaW50OEFycmF5XG4gICAgbGV0IGJpbiA9ICcnO1xuICAgIGZvciAoY29uc3QgYiBvZiBieXRlcykge1xuICAgICAgICBiaW4gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShiKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0b2EoYmluKTtcbn1cbi8qKlxuICogQnVpbGRzIGEgc2FuaXRpemVkIGZpbGVuYW1lIGluIHRoZSBmb3JtOlxuICogYHtwcmVmaXh9X3tzYW5pdGl6ZWRQYWdlS2V5fV97WVlZWS1NTS1ERF9ISC1tbS1zcyswOTAwfS57ZXh0fWBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IC0gRmlsZW5hbWUgcHJlZml4IChlLmcuLCBwcm9kdWN0IG9yIGZlYXR1cmUgbmFtZSkuXG4gKiBAcGFyYW0gcGFnZUtleSAtIFRoZSBvcmlnaW5hbCBwYWdlIGtleSBzdHJpbmcgdG8gZGVyaXZlIGEgc2FmZSBmaWxlbmFtZSBwYXJ0LlxuICogQHBhcmFtIGV4dCAtIEZpbGUgZXh0ZW5zaW9uIHdpdGhvdXQgZG90IChlLmcuLCAnanNvbicpLlxuICogQHJldHVybnMgQSBzYWZlIGZpbGVuYW1lIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gbWFrZUZpbGVuYW1lKHByZWZpeCwgcGFnZUtleSwgZXh0KSB7XG4gICAgY29uc3Qgc2FmZUtleSA9IChwYWdlS2V5ID8/ICcnKVxuICAgICAgICAucmVwbGFjZSgvaHR0cHM/OlxcL1xcLy8sICcnKVxuICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTkuXy1dKy9nLCAnLScpXG4gICAgICAgIC5yZXBsYWNlKC8tKy9nLCAnLScpXG4gICAgICAgIC5yZXBsYWNlKC9eLXwtJC9nLCAnJylcbiAgICAgICAgLnNsaWNlKDAsIDEyMCkgfHwgJ3BhZ2UnO1xuICAgIHJldHVybiBgJHtwcmVmaXh9XyR7c2FmZUtleX1fJHt0aW1lc3RhbXAoKX0uJHtleHR9YDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0aW1lc3RhbXAoZCA9IG5ldyBEYXRlKCkpIHtcbiAgICBjb25zdCBwYWQgPSAobiwgdyA9IDIpID0+IFN0cmluZyhuKS5wYWRTdGFydCh3LCAnMCcpO1xuICAgIGNvbnN0IHR6byA9IC1kLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgY29uc3Qgc2lnbiA9IHR6byA+PSAwID8gJysnIDogJy0nO1xuICAgIGNvbnN0IGhoID0gcGFkKE1hdGguZmxvb3IoTWF0aC5hYnModHpvKSAvIDYwKSk7XG4gICAgY29uc3QgbW0gPSBwYWQoTWF0aC5hYnModHpvKSAlIDYwKTtcbiAgICByZXR1cm4gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke3BhZChkLmdldE1vbnRoKCkgKyAxKX0tJHtwYWQoZC5nZXREYXRlKCkpfV8ke3BhZChkLmdldEhvdXJzKCkpfS0ke3BhZChkLmdldE1pbnV0ZXMoKSl9LSR7cGFkKGQuZ2V0U2Vjb25kcygpKX0ke3NpZ259JHtoaH0ke21tfWA7XG59XG4iLCJpbXBvcnQgaTE4biBmcm9tICdAY29tbW9uL2kxOG4nO1xuaW1wb3J0IHsgaXNWYWxpZFBheWxvYWQgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IHNjcmVlblN0YXRlVGFibGUgfSBmcm9tICdAcGFuZWwvc3RvcmFnZS90YWJsZXMnO1xuaW1wb3J0IHsgYXBwbHlQYXRjaCB9IGZyb20gJy4vc3RhdGUnO1xuLyoqXG4gKiBJbXBvcnQgYSBTY3JlZW5TdGF0ZS1saWtlIEpTT04gZmlsZSBhbmQgbWVyZ2UgaXRzIGl0ZW1zIGludG8gdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiAtIE9ubHkgYC5qc29uYCAoYnkgZXh0ZW5zaW9uKSBvciBgYXBwbGljYXRpb24vanNvbmAgLyBgdGV4dC9qc29uYCAoYnkgTUlNRSkgaXMgYWNjZXB0ZWQuXG4gKiAtIFBheWxvYWQgbXVzdCBtYXRjaCB0aGUgXCJzcGVjc2tldGNoLWV4cG9ydCAvIHNjcmVlbi1zdGF0ZVwiIGNvbnRyYWN0LlxuICogLSBJdGVtcyBhcmUgbWVyZ2VkIGJ5ICoqYW5jaG9yKiogaWRlbnRpdHk7IGFuIGltcG9ydGVkIGl0ZW0gaXMgc2tpcHBlZCBpZiBhbiBpdGVtIHdpdGggdGhlXG4gKiAgIHNhbWUgYW5jaG9yIGB7a2luZCwgdmVyc2lvbiwgdmFsdWV9YCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIEBwYXJhbSBmaWxlICAgICBBIHVzZXItc2VsZWN0ZWQgSlNPTiBmaWxlIHRoYXQgY29udGFpbnMgZXhwb3J0IHBheWxvYWQuXG4gKiBAcGFyYW0gcGFnZUtleSAgVGhlIHRhcmdldCBwYWdlIGtleSB0byBtZXJnZSBpbnRvLlxuICogQHJldHVybnMgICAgICAgIFRoZSB1cGRhdGVkIHtAbGluayBTY3JlZW5TdGF0ZX0gYWZ0ZXIgYXBwbHlpbmcgdGhlIHBhdGNoLlxuICpcbiAqIEB0aHJvd3MgRXJyb3Igd2l0aCBpMThuIG1lc3NhZ2UgYGltcG9ydF9maWxlX25vdF9qc29uYFxuICogICAgICAgICB3aGVuIHRoZSBmaWxlIGlzIG5vdCByZWNvZ25pemVkIGFzIEpTT04uXG4gKiBAdGhyb3dzIEVycm9yIHdpdGggaTE4biBtZXNzYWdlIGBpbXBvcnRfcGF5bG9hZF9pbnZhbGlkYFxuICogICAgICAgICB3aGVuIHRoZSBwYXJzZWQgSlNPTiBkb2VzIG5vdCBzYXRpc2Z5IHRoZSBleHBlY3RlZCBwYXlsb2FkIGNvbnRyYWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0U2NyZWFuU3RhdGUoZmlsZSwgcGFnZUtleSkge1xuICAgIC8vIFZhbGlkYXRlIGZpbGUgdHlwZSBhcyBKU09OIGJ5IGV4dGVuc2lvbiBvciBNSU1FIChlbXB0eSBNSU1FIGlzIGFsbG93ZWQgb24gc29tZSBicm93c2VycykuXG4gICAgY29uc3QgaXNKc29uQnlFeHQgPSAvXFwuanNvbiQvaS50ZXN0KGZpbGUubmFtZSk7XG4gICAgY29uc3QgaXNKc29uQnlNaW1lID0gZmlsZS50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZmlsZS50eXBlID09PSAndGV4dC9qc29uJyB8fCBmaWxlLnR5cGUgPT09ICcnO1xuICAgIGlmICghaXNKc29uQnlFeHQgJiYgIWlzSnNvbkJ5TWltZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaTE4bi5nZXQoJ2ltcG9ydF9maWxlX25vdF9qc29uJykpO1xuICAgIH1cbiAgICAvLyBQYXJzZSBKU09OIHRleHQg4oaSIHZhbHVlLlxuICAgIGxldCBwYXJzZWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIC8vIFRyZWF0IG1hbGZvcm1lZCBKU09OIHRoZSBzYW1lIGFzIHBheWxvYWQgaW52YWxpZC5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGkxOG4uZ2V0KCdpbXBvcnRfcGF5bG9hZF9pbnZhbGlkJykpO1xuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSBwYXlsb2FkIGNvbnRyYWN0OiBmb3JtYXQva2luZC92ZXJzaW9uL3BhZ2VLZXkvaXRlbXMgKGl0ZW1zIG11c3QgYmUgYXJyYXktbGlrZSBTY3JlZW5JdGVtKS5cbiAgICBpZiAoIWlzVmFsaWRQYXlsb2FkKHBhcnNlZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGkxOG4uZ2V0KCdpbXBvcnRfcGF5bG9hZF9pbnZhbGlkJykpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gcGFyc2VkO1xuICAgIGNvbnN0IGl0ZW1zID0gcGF5bG9hZC5pdGVtcztcbiAgICAvLyBGZXRjaCBjdXJyZW50IHN0YXRlIChpZiBtaXNzaW5nLCB0cmVhdCBhcyBlbXB0eSBpdGVtcyBmb3IgY29tcGFyaXNvbikuXG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldChwYWdlS2V5KTtcbiAgICBjb25zdCBleGlzdGluZyA9IHN0YXRlPy5pdGVtcyA/PyBbXTtcbiAgICAvLyBCdWlsZCBhIGZhc3QgbG9va3VwIG9mIGV4aXN0aW5nIGFuY2hvcnMgKGlkZW50aXR5ID0ga2luZDp2ZXJzaW9uOnZhbHVlKS5cbiAgICBjb25zdCBrZXlPZiA9IChpdCkgPT4gYCR7aXQuYW5jaG9yLmtpbmR9OiR7aXQuYW5jaG9yLnZlcnNpb259OiR7aXQuYW5jaG9yLnZhbHVlfWA7XG4gICAgY29uc3QgZXhpc3RpbmdTZXQgPSBuZXcgU2V0KGV4aXN0aW5nLm1hcChrZXlPZikpO1xuICAgIC8vIENyZWF0ZSB0aGUgbWluaW1hbCBwYXRjaCBwYXlsb2FkIGZvciBgYXBwbHlQYXRjaGAg4oCUIG9ubHkgZmllbGRzIHN1cHBvcnRlZCBieSBcImFkZGVkXCIuXG4gICAgY29uc3QgYWRkZWQgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdCkgPT4gIWV4aXN0aW5nU2V0LmhhcyhrZXlPZihpdCkpKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5pZCAtIGEuaWQpXG4gICAgICAgIC5tYXAoKGl0KSA9PiAoe1xuICAgICAgICBhbmNob3I6IGl0LmFuY2hvcixcbiAgICAgICAgc2l6ZTogaXQuc2l6ZSxcbiAgICAgICAgY29sb3I6IGl0LmNvbG9yLFxuICAgICAgICBzaGFwZTogaXQuc2hhcGUsXG4gICAgICAgIHBvc2l0aW9uOiBpdC5wb3NpdGlvbixcbiAgICAgICAgZ3JvdXA6IGl0Lmdyb3VwLFxuICAgICAgICBjb21tZW50OiBpdC5jb21tZW50LFxuICAgIH0pKTtcbiAgICByZXR1cm4gYXdhaXQgYXBwbHlQYXRjaChwYWdlS2V5LCB7IGFkZGVkIH0pO1xufVxuIiwiLyoqXG4gKiBVSUV2ZW50VHlwZSAvIFVJRXZlbnRQYXlsb2FkTWFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQSB0eXBlZCBjYXRhbG9nIG9mICpwdXJlIFVJIGV2ZW50cyogZW1pdHRlZCBieSB0aGUgVmlldyAocGFuZWxfdmlldy50cykuXG4gKiAtIFRoZSBWaWV3IHJlYWRzIERPTSBzdGF0ZSwgbm9ybWFsaXplcyBpdCwgYW5kIGVtaXRzIG9uZSBvZiB0aGVzZSBldmVudHMuXG4gKiAtIFRoZSBDb250cm9sbGVyIG1hcHMgZWFjaCBVSSBldmVudCB0byBhbiBBY3Rpb25UeXBlIGFuZCBkaXNwYXRjaGVzIGl0LlxuICogLSBQYXlsb2FkcyBhcmUgc3Ryb25nbHkgdHlwZWQgdmlhIFVJRXZlbnRQYXlsb2FkTWFwOyB1c2UgYHVuZGVmaW5lZGAgZm9yIG5vIHBheWxvYWQuXG4gKi9cbmV4cG9ydCB2YXIgVUlFdmVudFR5cGU7XG4oZnVuY3Rpb24gKFVJRXZlbnRUeXBlKSB7XG4gICAgLyoqIFRvZ2dsZSBzZWxlY3Rpb24gbW9kZSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiVE9HR0xFX1NFTEVDVFwiXSA9IFwiVE9HR0xFX1NFTEVDVFwiO1xuICAgIC8qKiBDbGVhciBhbGwgc2VsZWN0aW9ucyAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0xFQVJcIl0gPSBcIkNMRUFSXCI7XG4gICAgLyoqIFRyaWdnZXIgcGFnZSBjYXB0dXJlICovXG4gICAgVUlFdmVudFR5cGVbXCJDQVBUVVJFXCJdID0gXCJDQVBUVVJFXCI7XG4gICAgLyoqIEJhZGdlIHNpemUgY2hhbmdlZCAocmFuZ2UvbnVtYmVyIGlucHV0cykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1NJWkVfQ0hBTkdFXCJdID0gXCJCQURHRV9TSVpFX0NIQU5HRVwiO1xuICAgIC8qKiBCYWRnZSBjb2xvciBwaWNrZWQgKHBvcG92ZXIgYnV0dG9ucykgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0NPTE9SX1NFTEVDVFwiXSA9IFwiQkFER0VfQ09MT1JfU0VMRUNUXCI7XG4gICAgLyoqIEJhZGdlIHNoYXBlIGNoYW5nZWQgKHNlbGVjdCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX1NIQVBFX0NIQU5HRVwiXSA9IFwiQkFER0VfU0hBUEVfQ0hBTkdFXCI7XG4gICAgLyoqIERlbGV0ZSB0aGUgc2VsZWN0ZWQgYmFkZ2UgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkJBREdFX0RFTEVURVwiXSA9IFwiQkFER0VfREVMRVRFXCI7XG4gICAgLyoqIEJhZGdlIHBvc2l0aW9uIHBpY2tlZCAocG9wb3ZlciBidXR0b25zKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQkFER0VfUE9TSVRJT05fU0VMRUNUXCJdID0gXCJCQURHRV9QT1NJVElPTl9TRUxFQ1RcIjtcbiAgICAvKiogVXBkYXRlIGEgZ3JvdXAgb2YgZWxlbWVudHMgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlNFVF9HUk9VUFwiXSA9IFwiU0VUX0dST1VQXCI7XG4gICAgLyoqIENhcHR1cmUgZm9ybWF0IGNoYW5nZWQgKHJhZGlvKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0VcIjtcbiAgICAvKiogQ2FwdHVyZSBhcmVhIGNoYW5nZWQgKHJhZGlvKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9BUkVBX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9BUkVBX0NIQU5HRVwiO1xuICAgIC8qKiBKUEVHIHF1YWxpdHkgY2hhbmdlZCAocmFuZ2UvbnVtYmVyKSAqL1xuICAgIFVJRXZlbnRUeXBlW1wiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRVwiXSA9IFwiQ0FQVFVSRV9RVUFMSVRZX0NIQU5HRVwiO1xuICAgIC8qKiBDYXB0dXJlIHNjYWxlIGNoYW5nZWQgKHJhbmdlL251bWJlcikgKi9cbiAgICBVSUV2ZW50VHlwZVtcIkNBUFRVUkVfU0NBTEVfQ0hBTkdFXCJdID0gXCJDQVBUVVJFX1NDQUxFX0NIQU5HRVwiO1xuICAgIC8qKiBUb2dnbGUgY2FwdHVyZSBvcHRpb25zIGRyb3Bkb3duIChleHBhbmQvY29sbGFwc2UpICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0dHTEVfQ0FQVFVSRV9QQU5FTFwiXSA9IFwiVE9HR0xFX0NBUFRVUkVfUEFORUxcIjtcbiAgICAvKiogUmVvcmRlcmluZyBzZWxlY3RlZCBpdGVtcyAoZHJhZyBhbmQgZHJvcCkgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlJFT1JERVJfSVRFTVNcIl0gPSBcIlJFT1JERVJfSVRFTVNcIjtcbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGl0ZW0ncyBlZGl0LXNlbGVjdGlvbiBjaGVja2JveCBjaGFuZ2VzIHN0YXRlICovXG4gICAgVUlFdmVudFR5cGVbXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCJdID0gXCJJVEVNX1NFTEVDVElPTl9DSEFOR0VEXCI7XG4gICAgLyoqIFN0YXJ0IGl0ZW0gaG92ZXIgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fSE9WRVJfSU5cIl0gPSBcIklURU1fSE9WRVJfSU5cIjtcbiAgICAvKiogRW5kIGl0ZW0gaG92ZXIgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fSE9WRVJfT1VUXCJdID0gXCJJVEVNX0hPVkVSX09VVFwiO1xuICAgIC8qKiBBcHBseSBwZW5kaW5nIGNvbW1lbnQgZWRpdHMgdG8gdGhlIHNlbGVjdGVkIGl0ZW0gKi9cbiAgICBVSUV2ZW50VHlwZVtcIklURU1fQ09NTUVOVF9BUFBMWVwiXSA9IFwiSVRFTV9DT01NRU5UX0FQUExZXCI7XG4gICAgLyoqIFVwZGF0ZSB0aGUgVUkgdGhlbWUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlVQREFURV9USEVNRVwiXSA9IFwiVVBEQVRFX1RIRU1FXCI7XG4gICAgLyoqIEVtaXR0ZWQgYWZ0ZXIgdGhlIFNldHRpbmdzIG1vZGFsIGlzIHNob3cgKi9cbiAgICBVSUV2ZW50VHlwZVtcIlNFVFRJTkdfTU9EQUxfU0hPV1wiXSA9IFwiU0VUVElOR19NT0RBTF9TSE9XXCI7XG4gICAgLyoqIEltcG9ydCBhIFNjcmVlblN0YXRlIGZyb20gYSBzZWxlY3RlZCBKU09OIGZpbGUgKi9cbiAgICBVSUV2ZW50VHlwZVtcIklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRVwiXSA9IFwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFXCI7XG4gICAgLyoqIERpc21pc3MgYSB0b2FzdCBieSBVVUlEICovXG4gICAgVUlFdmVudFR5cGVbXCJUT0FTVF9ESVNNSVNTX1JFUVVFU1RFRFwiXSA9IFwiVE9BU1RfRElTTUlTU19SRVFVRVNURURcIjtcbiAgICAvKiogQ2xpY2sgdG8gcmVtb3ZlIHRoZSBzYXZlZCBwYWdlICovXG4gICAgVUlFdmVudFR5cGVbXCJSRU1PVkVfUEFHRV9DTElDS1wiXSA9IFwiUkVNT1ZFX1BBR0VfQ0xJQ0tcIjtcbiAgICAvKiogQ2xpY2sgdGhlIGV4cG9ydCBidXR0b24gKi9cbiAgICBVSUV2ZW50VHlwZVtcIkVYUE9SVF9QQUdFX0NMSUNLXCJdID0gXCJFWFBPUlRfUEFHRV9DTElDS1wiO1xufSkoVUlFdmVudFR5cGUgfHwgKFVJRXZlbnRUeXBlID0ge30pKTtcbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBpc1Jlc3RyaWN0ZWQsIHBhZ2VLZXkgfSBmcm9tICdAY29tbW9uL3VybCc7XG5pbXBvcnQgeyBnZXRBY3RpdmVUYWIgfSBmcm9tICdAaW5mcmEvY2hyb21lL3RhYnMnO1xuaW1wb3J0IHsgaW5pdGlhbE1vZGVsIH0gZnJvbSAnQHBhbmVsL2FwcC9tb2RlbCc7XG5pbXBvcnQgeyB1cGRhdGUgfSBmcm9tICdAcGFuZWwvYXBwL3VwZGF0ZSc7XG5pbXBvcnQgeyBjb25uZWN0VG9UYWIgfSBmcm9tICdAcGFuZWwvbWVzc2FnaW5nL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHsgY2FwdHVyZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9jYXB0dXJlJztcbmltcG9ydCB7IGV4cG9ydFNjcmVlblN0YXRlIH0gZnJvbSAnQHBhbmVsL3NlcnZpY2VzL2V4cG9ydCc7XG5pbXBvcnQgeyBpbXBvcnRTY3JlYW5TdGF0ZSB9IGZyb20gJ0BwYW5lbC9zZXJ2aWNlcy9pbXBvcnQnO1xuaW1wb3J0IHsgaGFuZGxlU2VsZWN0ZWQgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvc3RhdGUnO1xuaW1wb3J0IHsgc2NyZWVuU3RhdGVUYWJsZSwgdGhlbWVUYWJsZSB9IGZyb20gJ0BwYW5lbC9zdG9yYWdlL3RhYmxlcyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL2FjdGlvbl90eXBlcyc7XG5pbXBvcnQgeyBFZmZlY3RUeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL2VmZmVjdF90eXBlcyc7XG5pbXBvcnQgeyBTVEFUVVMgfSBmcm9tICdAcGFuZWwvdHlwZXMvc3RhdHVzJztcbmltcG9ydCB7IFVJRXZlbnRUeXBlIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3VpX2V2ZW50X3R5cGVzJztcbmV4cG9ydCBjbGFzcyBQYW5lbENvbnRyb2xsZXIge1xuICAgIHZpZXc7XG4gICAgbW9kZWwgPSBzdHJ1Y3R1cmVkQ2xvbmUoaW5pdGlhbE1vZGVsKTtcbiAgICBjb25uID0gbnVsbDtcbiAgICBjdXJyZW50V2luZG93SWQgPSBudWxsO1xuICAgIHN0YXRpYyBSRVFVSVJFU19DT05OID0gbmV3IFNldChbXG4gICAgICAgIEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuVE9HR0xFX1NFTEVDVF9PTl9DT05URU5ULFxuICAgICAgICBFZmZlY3RUeXBlLkNMRUFSX0NPTlRFTlQsXG4gICAgICAgIEVmZmVjdFR5cGUuSE9WRVIsXG4gICAgXSk7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSU5JVCB9KTtcbiAgICAgICAgY29uc3QgeyBvayB9ID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoeyBmb3JjZVJlY29ubmVjdDogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcih0aGlzLm1vZGVsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlld0hhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIGNvbnN0IHcgPSBhd2FpdCBjaHJvbWUud2luZG93cy5nZXRDdXJyZW50KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFdpbmRvd0lkID0gdy5pZCA/PyBudWxsO1xuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1zZykgPT4ge1xuICAgICAgICAgICAgaWYgKG1zZy50eXBlICE9PSBNU0dfVFlQRS5BQ1RJVkVfVEFCX0NIQU5HRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc2VuZGVyV2luZG93SWQgPSBtc2cucGF5bG9hZC53aW5kb3dJZDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRXaW5kb3dJZCA9PSBudWxsIHx8IHRoaXMuY3VycmVudFdpbmRvd0lkICE9PSBzZW5kZXJXaW5kb3dJZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2b2lkIHRoaXMuZW5zdXJlQ29ubmVjdGlvbkFsaXZlKHsgZm9yY2VSZWNvbm5lY3Q6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlclZpZXdIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlRPR0dMRV9TRUxFQ1QsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1QgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0xFQVIsICgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNMRUFSX0FMTCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9TSVpFX0NIQU5HRSwgKHsgc2l6ZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfU0laRSwgc2l6ZSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5CQURHRV9DT0xPUl9TRUxFQ1QsICh7IGNvbG9yIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUiwgY29sb3IgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQkFER0VfU0hBUEVfQ0hBTkdFLCAoeyBzaGFwZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQkFER0VfU0hBUEUsIHNoYXBlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX0RFTEVURSwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuQkFER0VfREVMRVRFIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkJBREdFX1BPU0lUSU9OX1NFTEVDVCwgKHsgcG9zaXRpb24gfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OLCBwb3NpdGlvbiB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5UT0dHTEVfQ0FQVFVSRV9QQU5FTCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUwgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9GT1JNQVRfQ0hBTkdFLCAoeyBmb3JtYXQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfRk9STUFULCBmb3JtYXQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuQ0FQVFVSRV9BUkVBX0NIQU5HRSwgKHsgYXJlYSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9BUkVBLCBhcmVhIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkNBUFRVUkVfUVVBTElUWV9DSEFOR0UsICh7IHF1YWxpdHkgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfUVVBTElUWSwgcXVhbGl0eSB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5DQVBUVVJFX1NDQUxFX0NIQU5HRSwgKHsgc2NhbGUgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfU0NBTEUsIHNjYWxlIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsICh7IGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVMsIGZyb21JZCwgZnJvbUluZGV4LCB0b0luZGV4IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLlNFVF9HUk9VUCwgKHsgZ3JvdXAgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX0dST1VQLCBncm91cCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX1NFTEVDVElPTl9DSEFOR0VELCAocGF5bG9hZCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCwgLi4ucGF5bG9hZCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCAoeyBpZCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOLCBpZCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgKCkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuSVRFTV9IT1ZFUl9PVVQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuSVRFTV9DT01NRU5UX0FQUExZLCAoeyBpZCwgY29tbWVudCB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5ULCBpZCwgY29tbWVudCB9KSk7XG4gICAgICAgIHRoaXMudmlldy5vbihVSUV2ZW50VHlwZS5VUERBVEVfVEhFTUUsICh7IHRoZW1lIH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlVQREFURV9USEVNRSwgdGhlbWUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuU0VUVElOR19NT0RBTF9TSE9XLCAoKSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfUkVRVUVTVEVEIH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRSwgKHsgZmlsZSB9KSA9PiB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsIGZpbGUgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuVE9BU1RfRElTTUlTU19SRVFVRVNURUQsICh7IHV1aWQgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVE9BU1RfRElTTUlTU19SRVFVRVNURUQsIHV1aWQgfSkpO1xuICAgICAgICB0aGlzLnZpZXcub24oVUlFdmVudFR5cGUuUkVNT1ZFX1BBR0VfQ0xJQ0ssICh7IHBhZ2VLZXkgfSkgPT4gdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFLCBwYWdlS2V5IH0pKTtcbiAgICAgICAgdGhpcy52aWV3Lm9uKFVJRXZlbnRUeXBlLkVYUE9SVF9QQUdFX0NMSUNLLCAoeyBwYWdlS2V5IH0pID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRSwgcGFnZUtleSB9KSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICBjb25zdCB7IG1vZGVsOiBuZXh0LCBlZmZlY3RzIH0gPSB1cGRhdGUodGhpcy5tb2RlbCwgYWN0aW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5leHQ7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIodGhpcy5tb2RlbCk7XG4gICAgICAgIHZvaWQgdGhpcy5leGVjRWZmZWN0cyhlZmZlY3RzKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY0VmZmVjdHMoZWZmZWN0cykge1xuICAgICAgICBjb25zdCBuZWVkc0Nvbm4gPSBlZmZlY3RzLnNvbWUoKGZ4KSA9PiBQYW5lbENvbnRyb2xsZXIuUkVRVUlSRVNfQ09OTi5oYXMoZngua2luZCkpO1xuICAgICAgICBpZiAobmVlZHNDb25uKSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uQWxpdmUoKTtcbiAgICAgICAgICAgIGlmICghci5vayB8fCByLmNvbnRleHRDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZ4IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZngua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkucmVuZGVyKGZ4Lml0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkudG9nZ2xlU2VsZWN0KGZ4LmVuYWJsZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVDpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkhPVkVSOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm4/LmFwaS5ob3ZlcihmeC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5DTEVBUl9TVEFURTpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5zZXQodGhpcy5tb2RlbC5wYWdlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLmdldCh0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnNldCh0aGlzLm1vZGVsLnBhZ2VLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5tb2RlbC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiB0aGlzLm1vZGVsLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiB0aGlzLm1vZGVsLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogdGhpcy5tb2RlbC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHRoaXMubW9kZWwuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiB0aGlzLm1vZGVsLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuU0VUX1RIRU1FOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gYXdhaXQgdGhlbWVUYWJsZS5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1RIRU1FLCB0aGVtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoZW1lVGFibGUuc2V0KGZ4LnRoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlblN0YXRlcyA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUucmVhZEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IE9iamVjdC5rZXlzKHNjcmVlblN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVELFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRToge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBpbXBvcnRTY3JlYW5TdGF0ZShmeC5maWxlLCB0aGlzLm1vZGVsLnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0YXRlLmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHN0YXRlLmRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3RhdGUuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHN0YXRlLmRlZmF1bHRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5JTVBPUlRfRkFJTEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZXM6IFttZXNzYWdlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWToge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzY3JlZW5TdGF0ZVRhYmxlLnJlbW92ZShmeC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuU3RhdGVzID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5yZWFkQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VLZXlzID0gT2JqZWN0LmtleXMoc2NyZWVuU3RhdGVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlNUT1JFX1JFTE9BRF9TVUNDRUVERUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ID0gYXdhaXQgc2NyZWVuU3RhdGVUYWJsZS5nZXQodGhpcy5tb2RlbC5wYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFU1RPUkVfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdC5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogc3QuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBzdC5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzdC5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvc2l0aW9uOiBzdC5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBzdC5kZWZhdWx0R3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5FWFBPUlRfU0NSRUVOX1NUQVRFX0JZX1BBR0VfS0VZOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KGZ4LnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhwb3J0U2NyZWVuU3RhdGUoc3RhdGUsIGZ4LnBhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuRVhQT1JUX0ZBSUxFRCwgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWZmZWN0VHlwZS5NRUFTVVJFX0NPTlRFTlRfU0laRTpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uPy5hcGkubWVhc3VyZVNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFZmZlY3RUeXBlLkNBUFRVUkU6XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYXB0dXJlKGZ4LnBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuQ0FQVFVSRV9TVUNDRUVERUQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfRkFJTEVELCBlcnJvcjogZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGZ4LmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZW5zdXJlQ29ubmVjdGlvbkFsaXZlKG9wdHMpIHtcbiAgICAgICAgY29uc3QgcHJldktleSA9IHRoaXMubW9kZWwucGFnZUtleTtcbiAgICAgICAgY29uc3QgZm9yY2UgPSBvcHRzPy5mb3JjZVJlY29ubmVjdCA9PT0gdHJ1ZTtcbiAgICAgICAgaWYgKCFmb3JjZSkge1xuICAgICAgICAgICAgY29uc3QgcG9uZyA9IGF3YWl0IHRoaXMuY29ubj8uYXBpLnBpbmcoKTtcbiAgICAgICAgICAgIGlmIChwb25nICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGNvbnRleHRDaGFuZ2VkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhYiA9IGF3YWl0IGdldEFjdGl2ZVRhYigpO1xuICAgICAgICBpZiAoIXRhYj8uaWQgfHwgaXNSZXN0cmljdGVkKHRhYi51cmwpKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5TRVRfU1RBVFVTLCBzdGF0dXM6IFNUQVRVUy5SRVNUUklDVEVEIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3S2V5ID0gcGFnZUtleSh0YWIudXJsKTtcbiAgICAgICAgY29uc3QgdGFiSWQgPSB0YWIuaWQ7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLkNPTk5FQ1RFRCwgdGFiSWQsIHBhZ2VLZXk6IG5ld0tleSB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuU0VUX1NUQVRVUywgc3RhdHVzOiBTVEFUVVMuQ09OTkVDVElORyB9KTtcbiAgICAgICAgLy8gRXhwbGljaXRseSBjbG9zZSB0aGUgb2xkIHBvcnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY29ubj8ucG9ydC5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm4gPSBhd2FpdCBjb25uZWN0VG9UYWIodGFiSWQpO1xuICAgICAgICB0aGlzLmNvbm4ub25EaXNjb25uZWN0KCgpID0+IHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlBPUlRfRElTQ09OTkVDVEVEIH0pKTtcbiAgICAgICAgdGhpcy5jb25uLnBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKGFzeW5jIChtc2cpID0+IHtcbiAgICAgICAgICAgIGlmIChtc2c/LnR5cGUgPT09IE1TR19UWVBFLlNFTEVDVEVEKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGF3YWl0IGhhbmRsZVNlbGVjdGVkKHRoaXMubW9kZWwucGFnZUtleSwgbXNnLnBheWxvYWQuYW5jaG9ycyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVTVE9SRV9TVEFURSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHMuZGVmYXVsdFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sb3I6IHMuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYXBlOiBzLmRlZmF1bHRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogcy5kZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0R3JvdXA6IHMuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobXNnPy50eXBlID09PSBNU0dfVFlQRS5NSVNTSU5HX0lEUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLlNFVF9NSVNTSU5HX0lEUyxcbiAgICAgICAgICAgICAgICAgICAgbWlzc2luZ0lkczogbXNnLnBheWxvYWQubWlzc2luZ0lkcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1zZz8udHlwZSA9PT0gTVNHX1RZUEUuQ09OVEVOVF9TSVpFX1JFU1VMVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlLkNBUFRVUkVfUkVRVUVTVEVELFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2l6ZTogbXNnLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdCA9IGF3YWl0IHNjcmVlblN0YXRlVGFibGUuZ2V0KG5ld0tleSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFLFxuICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogc3QuaXRlbXMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IHN0LmRlZmF1bHRTaXplLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xvcjogc3QuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFwZTogc3QuZGVmYXVsdFNoYXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogc3QuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRHcm91cDogc3QuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlLlNFVF9TVEFUVVMsIHN0YXR1czogU1RBVFVTLkNPTk5FQ1RFRCB9KTtcbiAgICAgICAgY29uc3QgY29udGV4dENoYW5nZWQgPSAhIXByZXZLZXkgJiYgcHJldktleSAhPT0gbmV3S2V5O1xuICAgICAgICByZXR1cm4geyBvazogdHJ1ZSwgY29udGV4dENoYW5nZWQgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBVTkdST1VQRURfVkFMVUUgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQgfSBmcm9tICdAcGFuZWwvc2VydmljZXMvc3RhdGUnO1xuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSAnQHBhbmVsL3R5cGVzL3N0YXR1cyc7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vdHlwZXMvYWN0aW9uX3R5cGVzJztcbmltcG9ydCB7IEVmZmVjdFR5cGUgfSBmcm9tICcuLi90eXBlcy9lZmZlY3RfdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShtb2RlbCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU5JVDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlNFVF9USEVNRSB9XSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OTkVDVEVEOlxuICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHsgLi4ubW9kZWwsIHRhYklkOiBhY3Rpb24udGFiSWQsIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH0sIGVmZmVjdHM6IFtdIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfU1RBVFVTOiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IGFjdGlvbi5zdGF0dXMgfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtczogW10sIHN0YXR1czogYWN0aW9uLnN0YXR1cyB9LCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRVNUT1JFX1NUQVRFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiBhY3Rpb24uc3RhdGUuZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hhcGU6IGFjdGlvbi5zdGF0ZS5kZWZhdWx0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogYWN0aW9uLnN0YXRlLmRlZmF1bHRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEdyb3VwOiBhY3Rpb24uc3RhdGUuZGVmYXVsdEdyb3VwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXM6IGFjdGlvbi5zdGF0ZS5pdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfTUlTU0lOR19JRFM6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBtaXNzaW5nSWRzOiBhY3Rpb24ubWlzc2luZ0lkcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPR0dMRV9TRUxFQ1Q6IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSAhbW9kZWwuc2VsZWN0aW9uRW5hYmxlZDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdGlvbkVuYWJsZWQ6IG5leHQgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlRPR0dMRV9TRUxFQ1RfT05fQ09OVEVOVCwgZW5hYmxlZDogbmV4dCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNMRUFSX0FMTDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGl0ZW1zOiBbXSB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfQ09OVEVOVCB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuQ0xFQVJfU1RBVEUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ09OVEVOVF9TRUxFQ1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVE9HR0xFX0NBUFRVUkVfUEFORUw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHBhbmVsRXhwYW5kZWQ6ICFtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9TSVpFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2l6ZTogYWN0aW9uLnNpemUgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRTaXplOiBhY3Rpb24uc2l6ZSwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9CQURHRV9DT0xPUjoge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBtb2RlbC5pdGVtcy5tYXAoKGl0KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLml0LFxuICAgICAgICAgICAgICAgIC4uLihtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkgPyB7IGNvbG9yOiBhY3Rpb24uY29sb3IgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGRlZmF1bHRDb2xvcjogYWN0aW9uLmNvbG9yLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1NIQVBFOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgc2hhcGU6IGFjdGlvbi5zaGFwZSB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFNoYXBlOiBhY3Rpb24uc2hhcGUsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5CQURHRV9ERUxFVEU6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IG1vZGVsLml0ZW1zLmZpbHRlcigoaXQpID0+ICFtb2RlbC5zZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBub3JtYWxpemVHcm91cExhYmVsc0FuZENvdW50VW5ncm91cGVkKGl0ZW1zTWFya2VkRm9yUmVsYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0JBREdFX1BPU0lUSU9OOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKG1vZGVsLnNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSA/IHsgcG9zaXRpb246IGFjdGlvbi5wb3NpdGlvbiB9IDoge30pLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdFBvc2l0aW9uOiBhY3Rpb24ucG9zaXRpb24sIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfR1JPVVA6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHVwZGF0ZUdyb3VwQW5kRGVmZXJSZWxhYmVsKG1vZGVsLml0ZW1zLCBtb2RlbC5zZWxlY3RJdGVtcywgYWN0aW9uLmdyb3VwKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgZGVmYXVsdEdyb3VwOiBhY3Rpb24uZ3JvdXAsIGl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5QRVJTSVNUX1NUQVRFIH0sIHsga2luZDogRWZmZWN0VHlwZS5SRU5ERVJfQ09OVEVOVCwgaXRlbXMgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9GT1JNQVQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGZvcm1hdDogYWN0aW9uLmZvcm1hdCB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NBUFRVUkVfQVJFQTpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIGFyZWE6IGFjdGlvbi5hcmVhIH0gfSwgZWZmZWN0czogW10gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9DQVBUVVJFX1FVQUxJVFk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBjYXB0dXJlOiB7IC4uLm1vZGVsLmNhcHR1cmUsIHF1YWxpdHk6IGFjdGlvbi5xdWFsaXR5IH0gfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfQ0FQVFVSRV9TQ0FMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIGNhcHR1cmU6IHsgLi4ubW9kZWwuY2FwdHVyZSwgc2NhbGU6IGFjdGlvbi5zY2FsZSB9IH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTUVBU1VSRV9DT05URU5UX1NJWkUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgIGlmIChtb2RlbC50YWJJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbW9kZWwsIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuTk9USUZZX0VSUk9SLCBlcnJvcjogJ05vIHRhYklkJyB9XSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IEVmZmVjdFR5cGUuQ0FQVFVSRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJZDogbW9kZWwudGFiSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBtb2RlbC5jYXB0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiBtb2RlbC5jYXB0dXJlLmFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogbW9kZWwuY2FwdHVyZS5xdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBtb2RlbC5jYXB0dXJlLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTaXplOiBhY3Rpb24uY29udGVudFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5DQVBUVVJFX1NVQ0NFRURFRDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuQ0FQVFVSRV9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiBhY3Rpb24uZXJyb3IgfV0gfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJFT1JERVJfSVRFTVM6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zTWFya2VkRm9yUmVsYWJlbCA9IHJlb3JkZXJJdGVtTGFiZWwobW9kZWwuaXRlbXMsIGFjdGlvbi5mcm9tSWQsIGFjdGlvbi5mcm9tSW5kZXgsIGFjdGlvbi50b0luZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbm9ybWFsaXplR3JvdXBMYWJlbHNBbmRDb3VudFVuZ3JvdXBlZChpdGVtc01hcmtlZEZvclJlbGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgaXRlbXMgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLlBFUlNJU1RfU1RBVEUgfSwgeyBraW5kOiBFZmZlY3RUeXBlLlJFTkRFUl9DT05URU5ULCBpdGVtcyB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQ6IHtcbiAgICAgICAgICAgIGlmICgnaWQnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIHNpbmdsZSBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZChhY3Rpb24uaWQsIGFjdGlvbi5pc0NoZWNrLCBtb2RlbC5zZWxlY3RJdGVtcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHNlbGVjdEl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgnZ3JvdXAnIGluIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhIGdyb3VwXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoYWN0aW9uLmdyb3VwLCBhY3Rpb24uaXNDaGVjaywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLml0ZW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgc2VsZWN0SXRlbXMgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBhbGwvRGVzZWxlY3QgYWxsXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0SXRlbXMgPSBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yQWxsKGFjdGlvbi5hbGxDaGVjaywgbW9kZWwuaXRlbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzZWxlY3RJdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5JVEVNX0hPVkVSX0lOOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogYWN0aW9uLmlkIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklURU1fSE9WRVJfT1VUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkhPVkVSLCBpZDogbnVsbCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfSVRFTV9DT01NRU5UOiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1vZGVsLml0ZW1zLm1hcCgoaXQpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXQsXG4gICAgICAgICAgICAgICAgLi4uKGl0LmlkID09PSBhY3Rpb24uaWQgPyB7IGNvbW1lbnQ6IGFjdGlvbi5jb21tZW50IH0gOiB7fSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBpdGVtcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFt7IGtpbmQ6IEVmZmVjdFR5cGUuUEVSU0lTVF9TVEFURSB9LCB7IGtpbmQ6IEVmZmVjdFR5cGUuUkVOREVSX0NPTlRFTlQsIGl0ZW1zIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUE9SVF9ESVNDT05ORUNURUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCBzdGF0dXM6IFNUQVRVUy5ESVNDT05ORUNURUQsIHNlbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5UT0dHTEVfU0VMRUNUX09OX0NPTlRFTlQsIGVuYWJsZWQ6IGZhbHNlIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9USEVNRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHsgLi4ubW9kZWwsIHRoZW1lOiBhY3Rpb24udGhlbWUgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfVEhFTUU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0aGVtZTogYWN0aW9uLnRoZW1lIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5VUERBVEVfVEhFTUUsIHRoZW1lOiBhY3Rpb24udGhlbWUgfV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUkVfUkVMT0FEX1JFUVVFU1RFRDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5SRUFEX1NDUkVFTl9TVEFURV9TVE9SRSB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9SRV9SRUxPQURfU1VDQ0VFREVEOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgcGFnZUtleXM6IGFjdGlvbi5wYWdlS2V5cyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklNUE9SVF9TQ1JFQU5fU1RBVEVfRklMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5JTVBPUlRfU0NSRUFOX1NUQVRFX0ZJTEUsIGZpbGU6IGFjdGlvbi5maWxlIH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLklNUE9SVF9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiB7IC4uLm1vZGVsLCB0b2FzdE1lc3NhZ2VzOiBhY3Rpb24udG9hc3RNZXNzYWdlcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVEOiB7XG4gICAgICAgICAgICBjb25zdCB0b2FzdE1lc3NhZ2VzID0gbW9kZWwudG9hc3RNZXNzYWdlcy5maWx0ZXIoKHQpID0+IHQudXVpZCAhPT0gYWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogeyAuLi5tb2RlbCwgdG9hc3RNZXNzYWdlcyB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuUkVNT1ZFX1NDUkVFTl9TVEFURV9CWV9QQUdFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIHsga2luZDogRWZmZWN0VHlwZS5SRU1PVkVfU0NSRUVOX1NUQVRFX1NUT1JFX0JZX1BBR0VfS0VZLCBwYWdlS2V5OiBhY3Rpb24ucGFnZUtleSB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuRVhQT1JUX1NDUkVFTl9TVEFURV9CWV9QQUdFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBbeyBraW5kOiBFZmZlY3RUeXBlLkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVksIHBhZ2VLZXk6IGFjdGlvbi5wYWdlS2V5IH1dLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkVYUE9SVF9GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4geyBtb2RlbCwgZWZmZWN0czogW3sga2luZDogRWZmZWN0VHlwZS5OT1RJRllfRVJST1IsIGVycm9yOiBhY3Rpb24uZXJyb3IgfV0gfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IG1vZGVsLCBlZmZlY3RzOiBbXSB9O1xuICAgIH1cbn1cbi8qKlxuICogUmVsYWJlbCBpdGVtcyBhcyBpZiB0aGUgaXRlbSB3aXRoIGBmcm9tSWRgIHdhcyBtb3ZlZCB0byB0aGUgcG9zaXRpb25cbiAqIHdob3NlIGxhYmVsIGVxdWFscyBgaXRlbXNbdG9JbmRleF0ubGFiZWxgLiBMYWJlbHMgb2YgdGhlIGl0ZW1zIGluIGJldHdlZW5cbiAqIGFyZSBzaGlmdGVkIGJ5IMKxMSB0byBrZWVwIGxhYmVscyB1bmlxdWUgYW5kIGNvbnRpZ3VvdXMgKGlmIHRoZXkgd2VyZSkuXG4gKlxuICogQHBhcmFtIGl0ZW1zICAgLSBTb3VyY2UgaXRlbXMgKG5vdCBtdXRhdGVkKS5cbiAqIEBwYXJhbSBmcm9tSWQgIC0gSUQgb2YgdGhlIGl0ZW0gdG8gbW92ZS5cbiAqIEBwYXJhbSBmcm9tSW5kZXggIC0gVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGl0ZW0gdG8gYmUgbW92ZWQuXG4gKiBAcGFyYW0gdG9JbmRleCAtIFRhcmdldCBpbmRleCBpbiBgaXRlbXNgIHdob3NlIGxhYmVsIGJlY29tZXMgdGhlIG5ldyBsYWJlbC5cbiAqIEByZXR1cm5zIEEgbmV3IGFycmF5IHdpdGggdXBkYXRlZCBsYWJlbHMuXG4gKiBAdGhyb3dzIFJhbmdlRXJyb3IgaWYgYHRvSW5kZXhgIGlzIG91dCBvZiBib3VuZHMgb3IgRXJyb3IgaWYgYGZyb21JZGAgbm90IGZvdW5kLlxuICovXG5mdW5jdGlvbiByZW9yZGVySXRlbUxhYmVsKGl0ZW1zLCBmcm9tSWQsIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgdG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7dG9JbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgZnJvbUlkeCA9IGl0ZW1zLmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gZnJvbUlkKTtcbiAgICBpZiAoZnJvbUlkeCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJdGVtIG5vdCBmb3VuZCBmb3IgaWQ9JHtmcm9tSWR9YCk7XG4gICAgfVxuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGl0ZW1zLmZpbHRlcigoaXQpID0+IGl0Lmdyb3VwID09PSBpdGVtc1tmcm9tSWR4XS5ncm91cCkubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGB0b0luZGV4IG91dCBvZiByYW5nZTogJHt0b0luZGV4fWApO1xuICAgIH1cbiAgICBjb25zdCBPRkZTRVRfQUZURVIgPSAxLjE7XG4gICAgY29uc3QgT0ZGU0VUX0JFRk9SRSA9IDAuMTtcbiAgICBjb25zdCBvZmZzZXQgPSBmcm9tSW5kZXggPCB0b0luZGV4ID8gT0ZGU0VUX0FGVEVSIDogT0ZGU0VUX0JFRk9SRTtcbiAgICBjb25zdCBsYWJlbCA9IHRvSW5kZXggKyBvZmZzZXQ7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXQpID0+IChpdC5pZCA9PT0gZnJvbUlkID8geyAuLi5pdCwgbGFiZWwgfSA6IGl0KSk7XG59XG4vKipcbiAqIEJ1bXBzIHRoZSBsYWJlbCBvZiBzZWxlY3RlZCBpdGVtcyB0aGF0IGFscmVhZHkgYmVsb25nIHRvIHRoZSB0cmltbWVkIHRhcmdldCBncm91cCwgd2hpbGUgZGVmZXJyaW5nIGxhYmVsIG5vcm1hbGl6YXRpb24uXG4gKlxuICogTm90ZXNcbiAqIC0gVGhlIGZ1bmN0aW9uIG9ubHkgdG91Y2hlcyBpdGVtcyB3aG9zZSBgaWRgIGlzIGluIGBzZWxlY3RJdGVtc2AgYW5kIHdob3NlIGN1cnJlbnQgYGdyb3VwYCBtYXRjaGVzIGBuZXh0R3JvdXBSYXdgIChhZnRlciB0cmltbWluZykuXG4gKiAtIExhYmVscyBhcmUgcmVhc3NpZ25lZCB0byBsYXJnZSBkZXNjZW5kaW5nIG51bWJlcnMgc28gdGhhdCBgcmVsYWJlbENvbnNlY3V0aXZlUGVyR3JvdXAoKWAgY2FuIGxhdGVyIGNvbXBhY3QgdGhlbS5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBGdWxsIGxpc3Qgb2Ygc2NyZWVuIGl0ZW1zLlxuICogQHBhcmFtIHNlbGVjdEl0ZW1zIC0gSURzIG9mIHRoZSBpdGVtcyB0aGF0IHNob3VsZCByZWNlaXZlIGEgdGVtcG9yYXJ5IGxhYmVsIGJ1bXAuXG4gKiBAcGFyYW0gbmV4dEdyb3VwUmF3IC0gVGFyZ2V0IGdyb3VwIG5hbWU7IHRyaW1tZWQgYmVmb3JlIGNvbXBhcmlzb24uXG4gKiBAcmV0dXJucyBBIG5ldyBhcnJheSB3aGVyZSB0aGUgbWF0Y2hpbmcgaXRlbXMgZ2FpbiBhIHRlbXBvcmFyeSBoaWdoLXByaW9yaXR5IGxhYmVsOyBvdGhlciBpdGVtcyBhcmUgdW50b3VjaGVkLlxuICovXG5mdW5jdGlvbiB1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbChpdGVtcywgc2VsZWN0SXRlbXMsIG5leHRHcm91cFJhdykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChnKSA9PiAoZyA/PyAnJykudHJpbSgpO1xuICAgIGNvbnN0IG5leHRHcm91cCA9IG5vcm1hbGl6ZShuZXh0R3JvdXBSYXcpO1xuICAgIGxldCB1cGRhdGVJdGVtQ250ID0gMDtcbiAgICByZXR1cm4gaXRlbXNcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuaWQgLSBhLmlkKVxuICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdGVtLmlkKSAmJiBpdGVtLmdyb3VwICE9PSBuZXh0R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSB1cGRhdGVJdGVtQ250Kys7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtLCBncm91cDogbmV4dEdyb3VwLCBsYWJlbCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEJ5SWQoaWQsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zKSB7XG4gICAgaWYgKGlzQ2hlY2spIHtcbiAgICAgICAgaWYgKCFzZWxlY3RJdGVtcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4uc2VsZWN0SXRlbXMsIGlkXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBpZCk7XG59XG5mdW5jdGlvbiBhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkRm9yR3JvdXAoZ3JvdXAsIGlzQ2hlY2ssIHNlbGVjdEl0ZW1zLCBpdGVtcykge1xuICAgIGNvbnN0IGcgPSBncm91cC50cmltKCk7XG4gICAgY29uc3QgZ3JvdXBJZHMgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdCkgPT4gKGl0Lmdyb3VwID8/IFVOR1JPVVBFRF9WQUxVRSkudHJpbSgpID09PSBnKVxuICAgICAgICAubWFwKChpdCkgPT4gaXQuaWQpO1xuICAgIGlmIChncm91cElkcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBzZWxlY3RJdGVtcztcbiAgICBpZiAoaXNDaGVjaykge1xuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KHNlbGVjdEl0ZW1zKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBncm91cElkcylcbiAgICAgICAgICAgIHNldC5hZGQoaWQpO1xuICAgICAgICByZXR1cm4gWy4uLnNldF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBncm91cFNldCA9IG5ldyBTZXQoZ3JvdXBJZHMpO1xuICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXMuZmlsdGVyKChpZCkgPT4gIWdyb3VwU2V0LmhhcyhpZCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5SXRlbVNlbGVjdGlvbkNoYW5nZWRGb3JBbGwoYWxsQ2hlY2ssIGl0ZW1zKSB7XG4gICAgaWYgKGFsbENoZWNrKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoKGl0KSA9PiBpdC5pZCk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbiIsImltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBwYWdlS2V5IH0gZnJvbSAnQGNvbW1vbi91cmwnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZVRhYigpIHtcbiAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRhYnNbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBY3RpdmVUYWJCcm9hZGNhc3QoKSB7XG4gICAgLy8gVGFiIHN3aXRjaGluZ1xuICAgIGNvbnN0IG9uQWN0aXZhdGVkID0gYXN5bmMgKHsgdGFiSWQsIHdpbmRvd0lkIH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFt0YWJdID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIHdpbmRvd0lkIH0pO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gdGFiPy51cmw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB1cmwgPyBwYWdlS2V5KHVybCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgdGFiSWQsIHdpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVsb2FkL3RyYW5zaXRpb24gZGV0ZWN0aW9uIHdpdGhpbiB0aGUgc2FtZSB0YWJcbiAgICBjb25zdCBvblVwZGF0ZWQgPSBhc3luYyAodGFiSWQsIGluZm8sIHRhYikgPT4ge1xuICAgICAgICBpZiAoIXRhYj8uYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaW5mby5zdGF0dXMgPT09ICdsb2FkaW5nJyB8fCB0eXBlb2YgaW5mby51cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYi51cmw7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJsID8gcGFnZUtleSh1cmwpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTVNHX1RZUEUuQUNUSVZFX1RBQl9DSEFOR0VELFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHRhYklkLCB3aW5kb3dJZDogdGFiLndpbmRvd0lkLCB1cmwsIHBhZ2VLZXk6IGtleSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNocm9tZS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKG9uQWN0aXZhdGVkKTtcbiAgICBjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIob25VcGRhdGVkKTtcbn1cbiIsImltcG9ydCB7IENIQU5ORUwgfSBmcm9tICdAY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBQYW5lbEFwaSB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IFBvcnRScGMgfSBmcm9tICcuL3BvcnRfcnBjJztcbi8qKlxuICogSW5qZWN0cyB0aGUgY29udGVudCBzY3JpcHQgaW50byB0aGUgdGFiIGlmIG5lZWRlZCwgYW5kXG4gKiBpbml0aWFsaXplcyB0aGUgUG9ydCBjb25uZWN0aW9uIGFuZCBSUEMgZm9yIFBhbmVsIOKGlCBDb250ZW50LlxuICpcbiAqIEBwYXJhbSB0YWJJZCAtIFRhcmdldCB0YWIgaWRcbiAqIEByZXR1cm5zIEEgY29ubmVjdGlvbiBvYmplY3QgYnVuZGxpbmcgQVBJLCBQb3J0LCBhbmQgUlBDXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9UYWIodGFiSWQpIHtcbiAgICBhd2FpdCBjaHJvbWUuc2NyaXB0aW5nXG4gICAgICAgIC5leGVjdXRlU2NyaXB0KHtcbiAgICAgICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgICAgIGZpbGVzOiBbJ2NvbnRlbnQvbWFpbi5qcyddLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIC8qIElnbm9yZSBpZiBhbHJlYWR5IGluamVjdGVkICovXG4gICAgfSk7XG4gICAgY29uc3QgcG9ydCA9IGNocm9tZS50YWJzLmNvbm5lY3QodGFiSWQsIHsgbmFtZTogQ0hBTk5FTC5QQU5FTF9DT05URU5UIH0pO1xuICAgIGNvbnN0IHJwYyA9IG5ldyBQb3J0UnBjKHBvcnQpO1xuICAgIGNvbnN0IGFwaSA9IG5ldyBQYW5lbEFwaShycGMpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IGxpc3RlbmVycy5mb3JFYWNoKChmbikgPT4gZm4oKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwaSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgcnBjLFxuICAgICAgICBvbkRpc2Nvbm5lY3Q6IChjYikgPT4gbGlzdGVuZXJzLnB1c2goY2IpLFxuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvcnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBJQ09OUyA9IHtcbiAgICBjYXJldERvd246IHtcbiAgICAgICAgZDogJ001LjIzIDcuMjFhLjc1Ljc1IDAgMDExLjA2LjAyTDEwIDEwLjkzOWwzLjcxLTMuNzFhLjc1Ljc1IDAgMTExLjA2IDEuMDYyTDEwLjUzIDEyLjUzYS43NS43NSAwIDAxLTEuMDYgMEw1LjIzIDguMjdhLjc1Ljc1IDAgMDEuMDItMS4wNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNhcmV0RG93bkZpbGw6IHtcbiAgICAgICAgZDogJ003LjI0NyAxMS4xNCAyLjQ1MSA1LjY1OEMxLjg4NSA1LjAxMyAyLjM0NSA0IDMuMjA0IDRoOS41OTJhMSAxIDAgMCAxIC43NTMgMS42NTlsLTQuNzk2IDUuNDhhMSAxIDAgMCAxLTEuNTA2IDB6JyxcbiAgICAgICAgdmlld0JveDogJzAgMCAxNiAxNicsXG4gICAgfSxcbiAgICBjYXJldFJpZ2h0OiB7XG4gICAgICAgIGQ6ICdNNy4yOTMgMTQuNzA3YTEgMSAwIDAxLTEuNDE0LTEuNDE0TDEwLjE3MiA5IDUuODc5IDQuNzA3YTEgMSAwIDAxMS40MTQtMS40MTRsNSA1YTEgMSAwIDAxMCAxLjQxNGwtNSA1eicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgY2FyZXRSaWdodEZpbGw6IHtcbiAgICAgICAgZDogJ20xMi4xNCA4Ljc1My01LjQ4MiA0Ljc5NmMtLjY0Ni41NjYtMS42NTguMTA2LTEuNjU4LS43NTNWMy4yMDRhMSAxIDAgMCAxIDEuNjU5LS43NTNsNS40OCA0Ljc5NmExIDEgMCAwIDEgMCAxLjUwNnonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgZDogJ00xMCAxOGE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNlptMy43MDctOC43MDdhMSAxIDAgMCAwLTEuNDE0LTEuNDE0TDkgMTEuMTcyIDcuNzA3IDkuODc5YTEgMSAwIDEgMC0xLjQxNCAxLjQxNGwyIDJhMSAxIDAgMCAwIDEuNDE0IDBsNC00WicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgZXJyb3I6IHtcbiAgICAgICAgZDogJ00xMCAxOGE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNlptLS43NS0xMS41YS43NS43NSAwIDAgMSAxLjUgMHY1YS43NS43NSAwIDAgMS0xLjUgMHYtNVptLjc1IDhhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyWicsXG4gICAgICAgIHZpZXdCb3g6ICcwIDAgMjAgMjAnLFxuICAgIH0sXG4gICAgd2Fybjoge1xuICAgICAgICBkOiAnTTkuMDQ5IDIuOTI3YTEuNSAxLjUgMCAwMTIuOTAyIDBsNi40MSAxMS45NEExLjUgMS41IDAgMDExNy4wMSAxN0gyLjk5YTEuNSAxLjUgMCAwMS0xLjM1MS0yLjEzM2w2LjQxLTExLjk0ek0xMSAxM2ExIDEgMCAxMC0yIDAgMSAxIDAgMDAyIDB6bS0xLTJhMSAxIDAgMDAxLTFWN2ExIDEgMCAxMC0yIDB2M2ExIDEgMCAwMDEgMXonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgZDogJ00wIDJhMiAyIDAgMCAxIDItMmgxMmEyIDIgMCAwIDEgMiAydjhhMiAyIDAgMCAxLTIgMkg0LjQxNGExIDEgMCAwIDAtLjcwNy4yOTNMLjg1NCAxNS4xNDZBLjUuNSAwIDAgMSAwIDE0Ljc5M3ptNSA0YTEgMSAwIDEgMC0yIDAgMSAxIDAgMCAwIDIgMG00IDBhMSAxIDAgMSAwLTIgMCAxIDEgMCAwIDAgMiAwbTMgMWExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDInLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDE2IDE2JyxcbiAgICB9LFxuICAgIHJlbW92ZToge1xuICAgICAgICBkOiAnTTcgM2ExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXYxaDNhMSAxIDAgMSAxIDAgMmgtMWwtMSAxMGEyIDIgMCAwIDEtMiAySDhhMiAyIDAgMCAxLTItMkw1IDZINGExIDEgMCAxIDEgMC0yaDNWM1ptMSAzYTEgMSAwIDAgMC0xIDF2OGExIDEgMCAxIDAgMiAwVjdhMSAxIDAgMCAwLTEtMVptNCAwYTEgMSAwIDAgMC0xIDF2OGExIDEgMCAxIDAgMiAwVjdhMSAxIDAgMCAwLTEtMVonLFxuICAgICAgICB2aWV3Qm94OiAnMCAwIDIwIDIwJyxcbiAgICB9LFxuICAgIGV4cG9ydDoge1xuICAgICAgICBkOiAnTTMgMTYuMjVhLjc1Ljc1IDAgMCAxIC43NS0uNzVoMTIuNWEuNzUuNzUgMCAwIDEgMCAxLjVIMy43NWEuNzUuNzUgMCAwIDEtLjc1LS43NVptNy41My0yLjAzYS43NS43NSAwIDAgMS0xLjA2IDBsLTMtM2EuNzUuNzUgMCAxIDEgMS4wNi0xLjA2bDEuNzIgMS43MlYzLjc1YS43NS43NSAwIDAgMSAxLjUgMHY4LjEzbDEuNzItMS43MmEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2bC0zIDNaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbiAgICBjbG9zZToge1xuICAgICAgICBkOiAnTTUuMjMgNS4yM2EuNzUuNzUgMCAwIDEgMS4wNiAwTDEwIDguOTRsMy43MS0zLjcxYS43NS43NSAwIDEgMSAxLjA2IDEuMDZMMTEuMDYgMTBsMy43MSAzLjcxYS43NS43NSAwIDEgMS0xLjA2IDEuMDZMMTAgMTEuMDZsLTMuNzEgMy43MWEuNzUuNzUgMCAxIDEtMS4wNi0xLjA2TDguOTQgMTAgNS4yMyA2LjI5YS43NS43NSAwIDAgMSAwLTEuMDZaJyxcbiAgICAgICAgdmlld0JveDogJzAgMCAyMCAyMCcsXG4gICAgfSxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihuYW1lKSB7XG4gICAgY29uc3QgeyBkLCB2aWV3Qm94ID0gJzAgMCAyMCAyMCcgfSA9IElDT05TW25hbWVdO1xuICAgIHJldHVybiB7IGQsIHZpZXdCb3ggfTtcbn1cbiIsImltcG9ydCBpMThuIGZyb20gJ0Bjb21tb24vaTE4bic7XG5pbXBvcnQgeyBnZXRJY29uIH0gZnJvbSAnQGNvbW1vbi9pY29ucyc7XG5pbXBvcnQgeyBpc0l0ZW1Db2xvciwgaXNJdGVtUG9zaXRpb24sIGlzSXRlbVNoYXBlLCBVTkdST1VQRUQsIFVOR1JPVVBFRF9WQUxVRSwgfSBmcm9tICdAY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IGdldFN0YXR1c01lc3NhZ2UsIFNUQVRVUywgU1RBVFVTX0NMQVNTX0JZX0tFWSB9IGZyb20gJ0BwYW5lbC90eXBlcy9zdGF0dXMnO1xuaW1wb3J0IHsgVUlFdmVudFR5cGUgfSBmcm9tICcuLi90eXBlcy91aV9ldmVudF90eXBlcyc7XG5mdW5jdGlvbiBieUxhYmVsVGhlbklkKGEsIGIpIHtcbiAgICBpZiAoYS5sYWJlbCAhPT0gYi5sYWJlbClcbiAgICAgICAgcmV0dXJuIGEubGFiZWwgLSBiLmxhYmVsO1xuICAgIHJldHVybiBhLmlkIC0gYi5pZDtcbn1cbmV4cG9ydCBjbGFzcyBQYW5lbFZpZXcge1xuICAgIGRvYztcbiAgICBsaXN0ZW5lcnMgPSB7fTtcbiAgICBlbHM7XG4gICAgTkVXX0dST1VQID0gJ19fbmV3Z3JvdXBfXyc7XG4gICAgSE9WRVJfT1VUX0RFTEFZID0gMTAwMDtcbiAgICBkcmFnRWwgPSBudWxsO1xuICAgIGRyYWdTdGFydFBhcmVudCA9IG51bGw7XG4gICAgZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICBob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICBjb2xsYXBzZWRHcm91cHMgPSBuZXcgU2V0KCk7XG4gICAgVE9BU1RfQVVUT19ESVNNSVNTID0gMTAwMDA7XG4gICAgY29uc3RydWN0b3IoZG9jKSB7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICBpMThuLmxvY2FsaXplKGRvYyk7XG4gICAgICAgIHRoaXMuZWxzID0ge1xuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLiQoJyNzdGF0dXMnKSxcbiAgICAgICAgICAgIHRvZ2dsZUJ0bjogdGhpcy4kKCcjdG9nZ2xlLXNlbGVjdCcpLFxuICAgICAgICAgICAgdG9nZ2xlSWNvbjogdGhpcy4kKCcjdG9nZ2xlLXNlbGVjdC1pY29uJyksXG4gICAgICAgICAgICB0b2dnbGVMYWJlbDogdGhpcy4kKCcjdG9nZ2xlLXNlbGVjdC1sYWJlbCcpLFxuICAgICAgICAgICAgY2xlYXJCdG46IHRoaXMuJCgnI2NsZWFyJyksXG4gICAgICAgICAgICBjYXB0dXJlQnRuOiB0aGlzLiQoJyNjYXB0dXJlJyksXG4gICAgICAgICAgICBsaXN0OiB0aGlzLiQoJyNzZWxlY3QtbGlzdCcpLFxuICAgICAgICAgICAgZW1wdHk6IHRoaXMuJCgnI3NlbGVjdC1lbXB0eScpLFxuICAgICAgICAgICAgY291bnQ6IHRoaXMuJCgnI3NlbGVjdC1jb3VudCcpLFxuICAgICAgICAgICAgY2FwdHVyZU9wdGlvbnNUb2dnbGU6IHRoaXMuJCgnI2NhcHR1cmUtb3B0aW9ucy10b2dnbGUnKSxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zUGFuZWw6IHRoaXMuJCgnI2NhcHR1cmUtb3B0aW9ucycpLFxuICAgICAgICAgICAgY2FwdHVyZUZtdFJhZGlvczogdGhpcy4kYWxsKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl0nKSxcbiAgICAgICAgICAgIGNhcHR1cmVBcmVhUmFkaW9zOiB0aGlzLiRhbGwoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl0nKSxcbiAgICAgICAgICAgIGpwZWdPbmx5RWxzOiB0aGlzLiRhbGwoJy5qcGVnLW9ubHknKSxcbiAgICAgICAgICAgIGpwZWdRdWFsaXR5UmFuZ2U6IHRoaXMuJCgnI2pwZWctcXVhbGl0eS1yYW5nZScpLFxuICAgICAgICAgICAganBlZ1F1YWxpdHlOdW1iZXI6IHRoaXMuJCgnI2pwZWctcXVhbGl0eS1udW1iZXInKSxcbiAgICAgICAgICAgIGNhcHR1cmVTY2FsZVJhbmdlOiB0aGlzLiQoJyNjYXB0dXJlLXNjYWxlLXJhbmdlJyksXG4gICAgICAgICAgICBjYXB0dXJlU2NhbGVOdW1iZXI6IHRoaXMuJCgnI2NhcHR1cmUtc2NhbGUtbnVtYmVyJyksXG4gICAgICAgICAgICBiYWRnZVNpemVSYW5nZTogdGhpcy4kKCcjYmFkZ2Utc2l6ZS1yYW5nZScpLFxuICAgICAgICAgICAgYmFkZ2VTaXplTnVtYmVyOiB0aGlzLiQoJyNiYWRnZS1zaXplLW51bWJlcicpLFxuICAgICAgICAgICAgYmFkZ2VDb2xvckJ1dHRvbnM6IHRoaXMuJGFsbCgnI2JhZGdlLWNvbG9yLXBvcCBidXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JMYWJlbDogdGhpcy4kKCcjYmFkZ2UtY29sb3ItbGFiZWwnKSxcbiAgICAgICAgICAgIGJhZGdlQ29sb3JEb3Q6IHRoaXMuJCgnI2JhZGdlLWNvbG9yLWRvdCcpLFxuICAgICAgICAgICAgYmFkZ2VTaGFwZVNlbGVjdDogdGhpcy4kKCcjYmFkZ2Utc2hhcGUtc2VsZWN0JyksXG4gICAgICAgICAgICBiYWRnZURlbGV0ZUJ1dHRvbjogdGhpcy4kKCcjYmFkZ2UtZGVsZXRlLWJ1dHRvbicpLFxuICAgICAgICAgICAgYmFkZ2VQb3NpdGlvbkJ1dHRvbnM6IHRoaXMuJGFsbCgnI2JhZGdlLXBvc2l0aW9uLXBvcCBidXR0b24nKSxcbiAgICAgICAgICAgIGJhZGdlUG9zaXRpb25MYWJlbDogdGhpcy4kKCcjYmFkZ2UtcG9zaXRpb24tbGFiZWwnKSxcbiAgICAgICAgICAgIGJhZGdlR3JvdXBTZWxlY3Q6IHRoaXMuJCgnI2JhZGdlLWdyb3VwLXNlbGVjdCcpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lTW9kYWw6IHRoaXMuJCgnI2dyb3VwLW5hbWUtbW9kYWwnKSxcbiAgICAgICAgICAgIGdyb3VwTmFtZUlucHV0OiB0aGlzLiQoJyNncm91cC1uYW1lLWlucHV0JyksXG4gICAgICAgICAgICBncm91cE5hbWVDYW5jZWxCdG46IHRoaXMuJCgnI2dyb3VwLW5hbWUtY2FuY2VsLWJ0bicpLFxuICAgICAgICAgICAgZ3JvdXBOYW1lQ3JlYXRlbEJ0bjogdGhpcy4kKCcjZ3JvdXAtbmFtZS1jcmVhdGUtYnRuJyksXG4gICAgICAgICAgICBpdGVtQ29tbWVudE1vZGFsOiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtbW9kYWwnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50SW5wdXQ6IHRoaXMuJCgnI2l0ZW0tY29tbWVudC1pbnB1dCcpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRJZElucHV0OiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtaWQtaW5wdXQnKSxcbiAgICAgICAgICAgIGl0ZW1Db21tZW50Q2FuY2VsQnRuOiB0aGlzLiQoJyNpdGVtLWNvbW1lbnQtY2FuY2VsLWJ0bicpLFxuICAgICAgICAgICAgaXRlbUNvbW1lbnRBcHBseUJ0bjogdGhpcy4kKCcjaXRlbS1jb21tZW50LWFwcGx5LWJ0bicpLFxuICAgICAgICAgICAgc2VsZWN0SXRlbUFsbENoZWNrYm94OiB0aGlzLiQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwiaXRlbS1zZWxlY3RcIl1bdmFsdWU9XCJhbGxcIl0nKSxcbiAgICAgICAgICAgIHNldHRpbmdNb2RhbDogdGhpcy4kKCcjc2V0dGluZy1tb2RhbCcpLFxuICAgICAgICAgICAgc2V0dGluZ0J1dHRvbjogdGhpcy4kKCcjc2V0dGluZy1idXR0b24nKSxcbiAgICAgICAgICAgIHNldHRpbmdDbG9zZUJ1dHRvbjogdGhpcy4kKCcjc2V0dGluZy1jbG9zZS1idG4nKSxcbiAgICAgICAgICAgIHRoZW1lTGlnaHRCdG46IHRoaXMuJCgnI3RoZW1lLWxpZ2h0LWJ0bicpLFxuICAgICAgICAgICAgdGhlbWVEYXJrQnRuOiB0aGlzLiQoJyN0aGVtZS1kYXJrLWJ0bicpLFxuICAgICAgICAgICAgdGhlbWVEZXZpY2VCdG46IHRoaXMuJCgnI3RoZW1lLWRldmljZS1idG4nKSxcbiAgICAgICAgICAgIGltcG9ydEZpbGVJbnB1dDogdGhpcy4kKCcjaW1wb3J0LWZpbGUtaW5wdXQnKSxcbiAgICAgICAgICAgIGltcG9ydEJ0bjogdGhpcy4kKCcjaW1wb3J0LWJ0bicpLFxuICAgICAgICAgICAgc3RvcmVDb3VudDogdGhpcy4kKCcjc3RvcmUtY291bnQnKSxcbiAgICAgICAgICAgIHN0b3JlTGlzdDogdGhpcy4kKCcjc3RvcmUtbGlzdCcpLFxuICAgICAgICAgICAgc3RvcmVFbXB0eTogdGhpcy4kKCcjc3RvcmUtZW1wdHknKSxcbiAgICAgICAgICAgIHRvYXN0UGFyZW50OiB0aGlzLiQoJyN0b2FzdC1wYXJlbnQnKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbHMudG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlRPR0dMRV9TRUxFQ1QsIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmVscy5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DTEVBUiwgdW5kZWZpbmVkKSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRSwgdW5kZWZpbmVkKSk7XG4gICAgICAgIC8vID09PSBDYXB0dXJlIG9wdGlvbnMgPT09XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVPcHRpb25zVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlRPR0dMRV9DQVBUVVJFX1BBTkVMLCB1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZUZtdFJhZGlvcy5mb3JFYWNoKChyKSA9PiByLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUXVhbGl0eVZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX0ZPUk1BVF9DSEFOR0UsIHsgZm9ybWF0OiB0aGlzLmdldFNlbGVjdGVkQ2FwdHVyZUZvcm1hdCgpIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVBcmVhUmFkaW9zLmZvckVhY2goKHIpID0+IHIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLkNBUFRVUkVfQVJFQV9DSEFOR0UsIHsgYXJlYTogdGhpcy5nZXRTZWxlY3RlZENhcHR1cmVBcmVhKCkgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5iaW5kU3luYyh0aGlzLmVscy5qcGVnUXVhbGl0eVJhbmdlLCB0aGlzLmVscy5qcGVnUXVhbGl0eU51bWJlciwgKHYpID0+IHRoaXMuZW1pdChVSUV2ZW50VHlwZS5DQVBUVVJFX1FVQUxJVFlfQ0hBTkdFLCB7IHF1YWxpdHk6IHYgfSkpO1xuICAgICAgICB0aGlzLmJpbmRTeW5jKHRoaXMuZWxzLmNhcHR1cmVTY2FsZVJhbmdlLCB0aGlzLmVscy5jYXB0dXJlU2NhbGVOdW1iZXIsICh2KSA9PiB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQ0FQVFVSRV9TQ0FMRV9DSEFOR0UsIHsgc2NhbGU6IHYgfSkpO1xuICAgICAgICAvLyA9PT0gQmFkZ2UgPT09XG4gICAgICAgIHRoaXMuYmluZFN5bmModGhpcy5lbHMuYmFkZ2VTaXplUmFuZ2UsIHRoaXMuZWxzLmJhZGdlU2l6ZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGZpcmVTaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdiA9IE51bWJlcih0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIudmFsdWUpO1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZSh2KSlcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfU0laRV9DSEFOR0UsIHsgc2l6ZTogdiB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaXplUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZmlyZVNpemUpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZmlyZVNpemUpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBidG4uZGF0YXNldC5jb2xvck5hbWUgPz8gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBpc0l0ZW1Db2xvcihyYXcpID8gcmF3IDogJ0JsdWUnO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5CQURHRV9DT0xPUl9TRUxFQ1QsIHsgY29sb3IgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlU2hhcGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMuZWxzLmJhZGdlU2hhcGVTZWxlY3QudmFsdWUgPz8gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gaXNJdGVtU2hhcGUodikgPyB2IDogJ2NpcmNsZSc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfU0hBUEVfQ0hBTkdFLCB7IHNoYXBlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VEZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfREVMRVRFLCB1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gYnRuLmRhdGFzZXQucG9zaXRpb25OYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gaXNJdGVtUG9zaXRpb24ocmF3KSA/IHJhdyA6ICdsZWZ0LXRvcC1vdXRzaWRlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuQkFER0VfUE9TSVRJT05fU0VMRUNULCB7IHBvc2l0aW9uIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5lbHMuYmFkZ2VHcm91cFNlbGVjdC52YWx1ZSA/PyBVTkdST1VQRUQ7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHZhbHVlID09PSBVTkdST1VQRUQgPyBVTkdST1VQRURfVkFMVUUgOiB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChncm91cCA9PT0gdGhpcy5ORVdfR1JPVVApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRfR1JPVVAsIHsgZ3JvdXAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmdyb3VwTmFtZUNyZWF0ZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxzLmdyb3VwTmFtZUlucHV0LnZhbHVlID8/IFVOR1JPVVBFRDtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gdmFsdWUgPT09IFVOR1JPVVBFRCB8fCB2YWx1ZSA9PT0gdGhpcy5ORVdfR1JPVVAgPyBVTkdST1VQRURfVkFMVUUgOiB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5TRVRfR1JPVVAsIHsgZ3JvdXAgfSk7XG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE5hbWVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLmdyb3VwTmFtZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudENhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLml0ZW1Db21tZW50TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudEFwcGx5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IHRoaXMuZWxzLml0ZW1Db21tZW50SW5wdXQudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBpZCA9IE51bWJlcih0aGlzLmVscy5pdGVtQ29tbWVudElkSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fQ09NTUVOVF9BUFBMWSwgeyBpZCwgY29tbWVudCB9KTtcbiAgICAgICAgICAgIHRoaXMuZWxzLml0ZW1Db21tZW50TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy5zZXR0aW5nQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuc2V0dGluZ01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlNFVFRJTkdfTU9EQUxfU0hPVywgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnNldHRpbmdDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnNldHRpbmdNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLnRoZW1lTGlnaHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhlbWUoJ2xpZ2h0Jyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuVVBEQVRFX1RIRU1FLCB7IHRoZW1lOiAnbGlnaHQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEYXJrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRoZW1lKCdkYXJrJyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuVVBEQVRFX1RIRU1FLCB7IHRoZW1lOiAnZGFyaycgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVscy50aGVtZURldmljZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSgnZGV2aWNlJyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuVVBEQVRFX1RIRU1FLCB7IHRoZW1lOiAnZGV2aWNlJyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxzLmltcG9ydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIElmIG5vIGZpbGUgaXMgc2VsZWN0ZWQsIG9wZW4gdGhlIGRpYWxvZ1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVscy5pbXBvcnRGaWxlSW5wdXQuZmlsZXMgfHwgdGhpcy5lbHMuaW1wb3J0RmlsZUlucHV0LmZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxzLmltcG9ydEZpbGVJbnB1dC5jbGljaygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmVscy5pbXBvcnRGaWxlSW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICB0aGlzLmVtaXQoVUlFdmVudFR5cGUuSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFLCB7IGZpbGUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KCk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgYWxsQ2hlY2s6IHNlbGVjdGVkIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB0aGlzLmNhbmNlbEhvdmVyT3V0KCkpO1xuICAgICAgICB0aGlzLmVscy5saXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsICgpID0+IHRoaXMuc2NoZWR1bGVIb3Zlck91dCgpKTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgYXJyID0gKHRoaXMubGlzdGVuZXJzW3R5cGVdID8/PSBbXSk7XG4gICAgICAgIGFyci5wdXNoKGhhbmRsZXIpO1xuICAgIH1cbiAgICBlbWl0KHR5cGUsIGUpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgIGFycj8uZm9yRWFjaCgoaCkgPT4gaChlKSk7XG4gICAgfVxuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICB0aGlzLmFwcGx5VG9hc3RNZXNzYWdlcyhtb2RlbC50b2FzdE1lc3NhZ2VzKTtcbiAgICAgICAgdGhpcy5hcHBseVRoZW1lKG1vZGVsLnRoZW1lKTtcbiAgICAgICAgdGhpcy5hcHBseVN0b3JlKG1vZGVsLnBhZ2VLZXlzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0dXMobW9kZWwuc3RhdHVzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJUb2dnbGUobW9kZWwuc2VsZWN0aW9uRW5hYmxlZCk7XG4gICAgICAgIHRoaXMucmVuZGVyTGlzdChtb2RlbC5pdGVtcywgbW9kZWwuc2VsZWN0SXRlbXMsIG1vZGVsLm1pc3NpbmdJZHMpO1xuICAgICAgICB0aGlzLnNlbGVjdFJhZGlvQnlWYWx1ZSh0aGlzLmVscy5jYXB0dXJlRm10UmFkaW9zLCBtb2RlbC5jYXB0dXJlLmZvcm1hdCk7XG4gICAgICAgIHRoaXMuc2VsZWN0UmFkaW9CeVZhbHVlKHRoaXMuZWxzLmNhcHR1cmVBcmVhUmFkaW9zLCBtb2RlbC5jYXB0dXJlLmFyZWEpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnF1YWxpdHkpO1xuICAgICAgICB0aGlzLmVscy5qcGVnUXVhbGl0eVJhbmdlLnZhbHVlID0gU3RyaW5nKG1vZGVsLmNhcHR1cmUucXVhbGl0eSk7XG4gICAgICAgIHRoaXMuZWxzLmNhcHR1cmVTY2FsZU51bWJlci52YWx1ZSA9IFN0cmluZyhtb2RlbC5jYXB0dXJlLnNjYWxlKTtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZVNjYWxlUmFuZ2UudmFsdWUgPSBTdHJpbmcobW9kZWwuY2FwdHVyZS5zY2FsZSk7XG4gICAgICAgIHRoaXMudXBkYXRlUXVhbGl0eVZpc2liaWxpdHkobW9kZWwuY2FwdHVyZS5mb3JtYXQpO1xuICAgICAgICB0aGlzLmFwcGx5Q2FwdHVyZU9wdGlvbnNUb2dnbGVVSShtb2RlbC5jYXB0dXJlLnBhbmVsRXhwYW5kZWQpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVOdW1iZXIudmFsdWUgPSBTdHJpbmcobW9kZWwuZGVmYXVsdFNpemUpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZVNpemVSYW5nZS52YWx1ZSA9IFN0cmluZyhtb2RlbC5kZWZhdWx0U2l6ZSk7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUNvbG9yVUkobW9kZWwuZGVmYXVsdENvbG9yKTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VTaGFwZVNlbGVjdC52YWx1ZSA9IG1vZGVsLmRlZmF1bHRTaGFwZTtcbiAgICAgICAgdGhpcy5hcHBseUJhZGdlUG9zaXRvblVJKG1vZGVsLmRlZmF1bHRQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkodGhpcy5nZXRFeGlzdGluZ0dyb3Vwcyhtb2RlbC5pdGVtcyksIG1vZGVsLmRlZmF1bHRHcm91cCk7XG4gICAgfVxuICAgIHJlbmRlclN0YXR1cyhrZXkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBTVEFUVVNfQ0xBU1NfQllfS0VZW2tleV07XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHMuc3RhdHVzO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gYGNvbm5lY3Qtc3RhdHVzICR7c3R5bGV9YDtcbiAgICAgICAgY29uc3QgZG90ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZCgnY29ubmVjdC1zdGF0dXMtZG90Jyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBnZXRTdGF0dXNNZXNzYWdlKGtleSk7XG4gICAgICAgIGVsLnJlcGxhY2VDaGlsZHJlbihkb3QsIHRleHQpO1xuICAgICAgICB0aGlzLmRpc2FibGVGb3JtQ29udHJvbHMoa2V5KTtcbiAgICB9XG4gICAgcmVuZGVyVG9nZ2xlKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZWxzLnRvZ2dsZUljb247XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXRvZ2dsZS1pY29uJywgZW5hYmxlZCA/ICdiZy1pbmRpZ28tNTAwJyA6ICdiZy1zbGF0ZS0zMDAnKTtcbiAgICAgICAgdGhpcy5lbHMudG9nZ2xlTGFiZWwudGV4dENvbnRlbnQgPSBpMThuLmdldChlbmFibGVkID8gJ3RvZ2dsZV9vbicgOiAndG9nZ2xlX29mZicpO1xuICAgIH1cbiAgICByZW5kZXJMaXN0KGl0ZW1zLCBzZWxlY3RJdGVtcywgbWlzc2luZ0lkcykge1xuICAgICAgICB0aGlzLmVscy5jb3VudC50ZXh0Q29udGVudCA9IFN0cmluZyhpdGVtcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBhbGxDaGVja2VkID0gaXRlbXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiBpdGVtcy5ldmVyeSgoaXQpID0+IHNlbGVjdEl0ZW1zLmluY2x1ZGVzKGl0LmlkKSk7XG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdEl0ZW1BbGxDaGVja2JveC5jaGVja2VkID0gYWxsQ2hlY2tlZDtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5lbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cEJ5R3JvdXAoaXRlbXMpO1xuICAgICAgICBjb25zdCBncm91cEtleXMgPSBBcnJheS5mcm9tKGdyb3Vwcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhID09PSBVTkdST1VQRUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGIgPT09IFVOR1JPVVBFRClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmcmFnID0gdGhpcy5kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGdLZXkgb2YgZ3JvdXBLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5yZW5kZXJHcm91cFNlY3Rpb24oZ0tleSwgZ3JvdXBzLmdldChnS2V5KSwgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy5saXN0LnJlcGxhY2VDaGlsZHJlbihmcmFnKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXBTZWN0aW9uKGdLZXksIGdJdGVtcywgc2VsZWN0SXRlbXMsIG1pc3NpbmdJZHMpIHtcbiAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZEdyb3Vwcy5oYXMoZ0tleSk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmVsKCdzZWN0aW9uJywgJ3NlbGVjdC1pdGVtLXNlY3Rpb24nKTtcbiAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuZWwoJ2RpdicsICdzZWxlY3QtaXRlbS1oZWFkZXInKTtcbiAgICAgICAgLy8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3hXcmFwID0gdGhpcy5lbCgnZGl2JywgJ3Nwc2stY2hlY2t3cmFwJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCAnc3Bzay1jaGVja2JveCBzcHNrLWNoZWNrYm94LS1ub3JtYWwnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBnSXRlbXMuZXZlcnkoKGl0KSA9PiBzZWxlY3RJdGVtcy5pbmNsdWRlcyhpdC5pZCkpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogZ0tleSA9PT0gVU5HUk9VUEVEID8gVU5HUk9VUEVEX1ZBTFVFIDogZ0tleSxcbiAgICAgICAgICAgICAgICBpc0NoZWNrOiBzZWxlY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hXcmFwLmFwcGVuZChjaGVja2JveCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC10aXRsZScsIGdLZXkgPT09IFVOR1JPVVBFRCA/IGkxOG4uZ2V0KCdncm91cF91bmdyb3VwZWQnKSA6IGdLZXkpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5lbCgnZGl2JywgJ3NlbGVjdC1pdGVtLWdoLWxlZnQnKTtcbiAgICAgICAgbGVmdC5hcHBlbmQoY2hlY2tib3hXcmFwLCB0aXRsZSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5lbCgnc3BhbicsICdzZWxlY3QtaXRlbS1naC1jb3VudCcsIFN0cmluZyhnSXRlbXMubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IHRoaXMuZWwoJ2J1dHRvbicsICdzZWxlY3QtaXRlbS1naC10b2dnbGUnKTtcbiAgICAgICAgdG9nZ2xlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdG9nZ2xlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghaXNDb2xsYXBzZWQpKTtcbiAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBpc0NvbGxhcHNlZCA/IGdldEljb24oJ2NhcmV0UmlnaHQnKSA6IGdldEljb24oJ2NhcmV0RG93bicpO1xuICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgY2xhc3NOYW1lOiAnaWNvbi1zbScsIHZpZXdCb3ggfSk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZVBhdGggPSB0b2dnbGVJY29uLnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKTtcbiAgICAgICAgdG9nZ2xlQnRuLmFwcGVuZCh0b2dnbGVJY29uKTtcbiAgICAgICAgaGVhZGVyLmFwcGVuZChsZWZ0LCBjb3VudCwgdG9nZ2xlQnRuKTtcbiAgICAgICAgLy8gdWxcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLmVsKCd1bCcsICdzZWxlY3QtaXRlbS1saXN0Jyk7XG4gICAgICAgIGlmIChpc0NvbGxhcHNlZClcbiAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmF0dGFjaFVsRG5ESGFuZGxlcnModWwpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGdJdGVtcy5zb3J0KGJ5TGFiZWxUaGVuSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RDaGVja2VkID0gc2VsZWN0SXRlbXMuaW5jbHVkZXMoaXQuaWQpO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJJdGVtKGl0LCBzZWxlY3RDaGVja2VkLCBtaXNzaW5nSWRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudGx5Q29sbGFwc2VkID0gdGhpcy5jb2xsYXBzZWRHcm91cHMuaGFzKGdLZXkpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRseUNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2VkR3JvdXBzLmRlbGV0ZShnS2V5KTtcbiAgICAgICAgICAgICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGdldEljb24oJ2NhcmV0RG93bicpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWRHcm91cHMuYWRkKGdLZXkpO1xuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVBhdGguc2V0QXR0cmlidXRlKCdkJywgZ2V0SWNvbignY2FyZXRSaWdodCcpLmQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kKGhlYWRlciwgdWwpO1xuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgcmVuZGVySXRlbShpdCwgc2VsZWN0Q2hlY2tlZCwgbWlzc2luZ0lkcykge1xuICAgICAgICBjb25zdCBpc01pc3NpbmcgPSBtaXNzaW5nSWRzLmluY2x1ZGVzKGl0LmlkKTtcbiAgICAgICAgY29uc3QgbGlCYXNlID0gJ3NlbGVjdC1pdGVtJztcbiAgICAgICAgY29uc3QgbGkgPSB0aGlzLmVsKCdsaScsIGlzTWlzc2luZyA/IGBncm91cCAke2xpQmFzZX0gc2VsZWN0LWl0ZW0tLXdhcm5gIDogbGlCYXNlKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGxpLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIC8vIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmFnRWwgPSBsaTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbGkucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGxpLnBhcmVudEVsZW1lbnQ/LmNoaWxkcmVuID8/IFtdLCBsaSk7XG4gICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpXG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ0VsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZHJhZ0VsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHBhcmVudCA/IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCB0aGlzLmRyYWdFbCkgOiAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0VsLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnKTtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JZCA9IHRoaXMuZHJhZ0VsLmRhdGFzZXQuaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmRyYWdFbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZnJvbUlkICYmIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPj0gMCAmJiBlbmRJbmRleCA+PSAwICYmIGVuZEluZGV4ICE9PSB0aGlzLmRyYWdTdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlJFT1JERVJfSVRFTVMsIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUlkOiBOdW1iZXIoZnJvbUlkKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbUluZGV4OiB0aGlzLmRyYWdTdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0b0luZGV4OiBlbmRJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoZWNrYm94XG4gICAgICAgIGNvbnN0IGNoZWNrYm94V3JhcCA9IHRoaXMuZWwoJ2RpdicsICdzcHNrLWNoZWNrd3JhcCcpO1xuICAgICAgICBjb25zdCBjaGVja2JveFN0eWxlID0gaXNNaXNzaW5nXG4gICAgICAgICAgICA/ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLXdhcm4nXG4gICAgICAgICAgICA6ICdzcHNrLWNoZWNrYm94IHNwc2stY2hlY2tib3gtLW5vcm1hbCc7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5lbCgnaW5wdXQnLCBjaGVja2JveFN0eWxlKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94Lm5hbWUgPSAnaXRlbS1zZWxlY3QnO1xuICAgICAgICBjaGVja2JveC52YWx1ZSA9IFN0cmluZyhpdC5pZCk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzZWxlY3RDaGVja2VkO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLklURU1fU0VMRUNUSU9OX0NIQU5HRUQsIHsgaWQ6IGl0LmlkLCBpc0NoZWNrOiBzZWxlY3RlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrYm94V3JhcC5hcHBlbmQoY2hlY2tib3gpO1xuICAgICAgICAvLyBiYWRnZVxuICAgICAgICBjb25zdCBiYWRnZVN0eWxlID0gaXNNaXNzaW5nID8gJ3Nwc2stYmFkZ2Ugc3Bzay1iYWRnZS0td2FybicgOiAnc3Bzay1iYWRnZSBzcHNrLWJhZGdlLS1ub3JtJztcbiAgICAgICAgY29uc3QgYmFkZ2UgPSB0aGlzLmVsKCdzcGFuJywgYmFkZ2VTdHlsZSwgU3RyaW5nKGl0LmxhYmVsKSk7XG4gICAgICAgIC8vIG1haW4gKG1pc3NpbmdJY29uLCBhbmNob3IpXG4gICAgICAgIGNvbnN0IG1haW4gPSB0aGlzLmVsKCdkaXYnLCAnbWluLXctMCBmbGV4LTEnKTtcbiAgICAgICAgbWFpbi5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgfHwgaXNNaXNzaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSG92ZXJPdXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX0lOLCB7IGlkOiBpdC5pZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc01pc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaXAgPSB0aGlzLmVsKCdzcGFuJywgJ2NoaXAtd2FybicpO1xuICAgICAgICAgICAgY29uc3QgeyBkLCB2aWV3Qm94IH0gPSBnZXRJY29uKCd3YXJuJyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKGQsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICAgICAgdmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsKCdzcGFuJywgdW5kZWZpbmVkLCBpMThuLmdldCgnbWlzc2luZ19pdGVtJykpO1xuICAgICAgICAgICAgY2hpcC5hcHBlbmQoaWNvbiwgbGFiZWwpO1xuICAgICAgICAgICAgbWFpbi5hcHBlbmQoY2hpcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5lbCgnZGl2JywgJ2FuY2hvcicsIGl0LmFuY2hvci52YWx1ZSk7XG4gICAgICAgIG1haW4uYXBwZW5kKGFuY2hvcik7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRCdG4gPSB0aGlzLmdlbmVyYXRlQ29tbWVudEJ0bihpdCk7XG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveFdyYXAsIGJhZGdlLCBtYWluLCBjb21tZW50QnRuKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbW1lbnRCdG4oaXQpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuLWljb24nO1xuICAgICAgICBjb25zdCB7IGQsIHZpZXdCb3ggfSA9IGdldEljb24oJ2NvbW1lbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuY3JlYXRlU3ZnSWNvbihkLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdoLTMuNSB3LTMuNScsXG4gICAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy5lbHMuaXRlbUNvbW1lbnRJbnB1dC52YWx1ZSA9IGl0LmNvbW1lbnQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVscy5pdGVtQ29tbWVudElkSW5wdXQudmFsdWUgPSBTdHJpbmcoaXQuaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ0bjtcbiAgICB9XG4gICAgc2NoZWR1bGVIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJPdXRUaW1lcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaG92ZXJPdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ob3Zlck91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5JVEVNX0hPVkVSX09VVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSwgdGhpcy5IT1ZFUl9PVVRfREVMQVkpO1xuICAgIH1cbiAgICBjYW5jZWxIb3Zlck91dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhvdmVyT3V0VGltZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyT3V0VGltZXIpO1xuICAgICAgICB0aGlzLmhvdmVyT3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTCBEJkQgSGFuZGxlclxuICAgICAqIE9ubHkgc29ydGluZyB3aXRoaW4gdGhlIHNhbWUgVUwgaXMgYWxsb3dlZFxuICAgICAqIEBwYXJhbSB1bFxuICAgICAqL1xuICAgIGF0dGFjaFVsRG5ESGFuZGxlcnModWwpIHtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYWdFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnU3RhcnRQYXJlbnQgJiYgdWwgIT09IHRoaXMuZHJhZ1N0YXJ0UGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpID0gZS50YXJnZXQ/LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TGkgJiYgdGFyZ2V0TGkgIT09IHRoaXMuZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldExpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQWZ0ZXIgPSBlLmNsaWVudFkgLSByZWN0LnRvcCA+IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB1bC5pbnNlcnRCZWZvcmUodGhpcy5kcmFnRWwsIGlzQWZ0ZXIgPyB0YXJnZXRMaS5uZXh0U2libGluZyA6IHRhcmdldExpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0YXJnZXRMaSkge1xuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKHRoaXMuZHJhZ0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG4gICAgZ2V0RXhpc3RpbmdHcm91cHMoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChpdGVtcy5tYXAoKGkpID0+IChpLmdyb3VwID8/ICcnKS50cmltKCkpLmZpbHRlcigoZykgPT4gZy5sZW5ndGggPiAwKSkpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XG4gICAgfVxuICAgIGdyb3VwQnlHcm91cChpdGVtcykge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSAoaXQuZ3JvdXAgPz8gVU5HUk9VUEVEX1ZBTFVFKS50cmltKCkgfHwgVU5HUk9VUEVEO1xuICAgICAgICAgICAgaWYgKCFtLmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgIG0uc2V0KGtleSwgW10pO1xuICAgICAgICAgICAgbS5nZXQoa2V5KS5wdXNoKGl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiY2FwdHVyZS1mb3JtYXRcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ2pwZWcnID8gJ2pwZWcnIDogJ3BuZyc7XG4gICAgfVxuICAgIGdldFNlbGVjdGVkQ2FwdHVyZUFyZWEoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjYXB0dXJlLWFyZWFcIl06Y2hlY2tlZCcpPy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gJ3ZpZXdwb3J0JyA/ICd2aWV3cG9ydCcgOiAnZnVsbCc7XG4gICAgfVxuICAgIHVwZGF0ZVF1YWxpdHlWaXNpYmlsaXR5KGZvcm1hdCkge1xuICAgICAgICBjb25zdCBmID0gZm9ybWF0ID8/IHRoaXMuZ2V0U2VsZWN0ZWRDYXB0dXJlRm9ybWF0KCk7XG4gICAgICAgIGNvbnN0IGlzSnBlZyA9IGYgPT09ICdqcGVnJztcbiAgICAgICAgdGhpcy5lbHMuanBlZ09ubHlFbHMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc0pwZWcpKTtcbiAgICAgICAgdGhpcy5lbHMuanBlZ1F1YWxpdHlSYW5nZS5kaXNhYmxlZCA9ICFpc0pwZWc7XG4gICAgICAgIHRoaXMuZWxzLmpwZWdRdWFsaXR5TnVtYmVyLmRpc2FibGVkID0gIWlzSnBlZztcbiAgICB9XG4gICAgc2VsZWN0UmFkaW9CeVZhbHVlKHJhZGlvcywgdmFsdWUpIHtcbiAgICAgICAgcmFkaW9zLmZvckVhY2goKHIpID0+IChyLmNoZWNrZWQgPSByLnZhbHVlID09PSB2YWx1ZSkpO1xuICAgIH1cbiAgICBiaW5kU3luYyhyYW5nZUVsLCBudW1iZXJFbCwgb25WYWx1ZSkge1xuICAgICAgICBjb25zdCByZWFkTnVtID0gKHMsIGZhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gcyAhPSBudWxsICYmIHMgIT09ICcnID8gTnVtYmVyKHMpIDogTmFOO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSA/IHYgOiBmYWxsYmFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodiwgbWluLCBtYXgpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAocmF3U3RyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSByZWFkTnVtKG51bWJlckVsLm1pbiB8fCByYW5nZUVsLm1pbiwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IHJlYWROdW0obnVtYmVyRWwubWF4IHx8IHJhbmdlRWwubWF4LCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHJlYWROdW0obnVtYmVyRWwuc3RlcCB8fCByYW5nZUVsLnN0ZXAsIDEpO1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gTnVtYmVyKHJhd1N0cik7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXAoTnVtYmVyLmlzRmluaXRlKHJhdykgPyByYXcgOiAwLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBjb25zdCByb3VuZGVkID0gTWF0aC5yb3VuZChjbGFtcGVkIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSBOdW1iZXIocm91bmRlZC50b0ZpeGVkKDYpKTtcbiAgICAgICAgICAgIG51bWJlckVsLnZhbHVlID0gU3RyaW5nKGZpeGVkKTtcbiAgICAgICAgICAgIHJhbmdlRWwudmFsdWUgPSBTdHJpbmcoZml4ZWQpO1xuICAgICAgICAgICAgb25WYWx1ZT8uKGZpeGVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmFuZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMocmFuZ2VFbC52YWx1ZSkpO1xuICAgICAgICBudW1iZXJFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHN5bmMobnVtYmVyRWwudmFsdWUpKTtcbiAgICB9XG4gICAgZGlzYWJsZUZvcm1Db250cm9scyhzdGF0dXMpIHtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24sIHNlbGVjdCwgaW5wdXQsIHRleHRhcmVhJyk7XG4gICAgICAgIC8vIERldGVybWluZSBlbmFibGVtZW50IHBvbGljeSBwZXIgc3RhdHVzXG4gICAgICAgIGNvbnN0IGVuYWJsZUFsbCA9IHN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RFRDtcbiAgICAgICAgY29uc3QgZW5hYmxlSWdub3JlT25seSA9IHN0YXR1cyA9PT0gU1RBVFVTLkNPTk5FQ1RJTkcgfHwgc3RhdHVzID09PSBTVEFUVVMuRElTQ09OTkVDVEVEO1xuICAgICAgICBjb25zdCBlbmFibGVOb25lID0gc3RhdHVzID09PSBTVEFUVVMuUkVTVFJJQ1RFRDtcbiAgICAgICAgY29udHJvbHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9IChlbmFibGVBbGwgJiYgdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICAoZW5hYmxlSWdub3JlT25seSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtaWdub3JlLWRpc2FibGUnKSkgfHxcbiAgICAgICAgICAgICAgICAoZW5hYmxlTm9uZSAmJiBmYWxzZSk7XG4gICAgICAgICAgICBlbC5kaXNhYmxlZCA9ICFzaG91bGRFbmFibGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBseUNhcHR1cmVPcHRpb25zVG9nZ2xlVUkoZXhwYW5kZWQpIHtcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKGV4cGFuZGVkKSk7XG4gICAgICAgIGNvbnN0IHsgZCwgdmlld0JveCB9ID0gZXhwYW5kZWQgPyBnZXRJY29uKCdjYXJldERvd25GaWxsJykgOiBnZXRJY29uKCdjYXJldFJpZ2h0RmlsbCcpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1RvZ2dsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5lbHMuY2FwdHVyZU9wdGlvbnNUb2dnbGUuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdmdJY29uKGQsIHsgdmlld0JveCwgY2xhc3NOYW1lOiAnaC00IHctNCcgfSkpO1xuICAgICAgICB0aGlzLmVscy5jYXB0dXJlT3B0aW9uc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFleHBhbmRlZCk7XG4gICAgfVxuICAgIGdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpIHtcbiAgICAgICAgY29uc3QgY29sb3JOYW1lID0gY29sb3IgPT09ICdHcmF5JyA/ICdzbGF0ZScgOiBjb2xvcjtcbiAgICAgICAgcmV0dXJuIGBiZy0ke2NvbG9yTmFtZS50b0xvd2VyQ2FzZSgpfS01MDBgO1xuICAgIH1cbiAgICBhcHBseUJhZGdlQ29sb3JVSShjb2xvcikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUNvbG9yQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQuY29sb3JOYW1lID09PSBjb2xvcjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VDb2xvckxhYmVsLnRleHRDb250ZW50ID0gY29sb3I7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NOYW1lID0gJ2lubGluZS1ibG9jayB3LTQgaC00IHJvdW5kZWQtZnVsbCc7XG4gICAgICAgIHRoaXMuZWxzLmJhZGdlQ29sb3JEb3QuY2xhc3NMaXN0LmFkZCh0aGlzLmdldEJhZGdlQ29sb3JTdHlsZU5hbWUoY29sb3IpKTtcbiAgICB9XG4gICAgYXBwbHlCYWRnZVBvc2l0b25VSShwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVscy5iYWRnZVBvc2l0aW9uQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYnV0dG9uLmRhdGFzZXQucG9zaXRpb25OYW1lID09PSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2VsZWN0ZWQnLCBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbHMuYmFkZ2VQb3NpdGlvbkxhYmVsLnRleHRDb250ZW50ID0gcG9zaXRpb24ucmVwbGFjZUFsbCgnLScsICcgJyk7XG4gICAgfVxuICAgIGFwcGx5QmFkZ2VHcm91cFNlbGVjdFVJKGV4aXN0aW5nR3JvdXBzLCBkZWZhdXRHcm91cCkge1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQoVU5HUk9VUEVELCBpMThuLmdldCgnZ3JvdXBfdW5ncm91cGVkJyksIGRlZmF1dEdyb3VwID09PSBVTkdST1VQRUQpKTtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBleGlzdGluZ0dyb3Vwcykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKGcpID0+IChnID8/ICcnKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vcm1hbGl6ZShncm91cCk7XG4gICAgICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZCh0aGlzLm1ha2VPcHQodmFsdWUsIGdyb3VwLCBkZWZhdXRHcm91cCA9PT0gZ3JvdXApKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVPcHQgPSB0aGlzLm1ha2VPcHQodGhpcy5ORVdfR1JPVVAsIGkxOG4uZ2V0KCdjb21tb25fY3JlYXRlJykpO1xuICAgICAgICB0aGlzLmVscy5iYWRnZUdyb3VwU2VsZWN0LmFwcGVuZChjcmVhdGVPcHQpO1xuICAgIH1cbiAgICBhcHBseVRoZW1lKHRoZW1lKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRGFyayA9IHRoZW1lID09PSAnZGV2aWNlJ1xuICAgICAgICAgICAgPyB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXNcbiAgICAgICAgICAgIDogdGhlbWUgPT09ICdkYXJrJztcbiAgICAgICAgaWYgKGlzRGFyaykge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb290LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVscy50aGVtZUxpZ2h0QnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdsaWdodCcpKTtcbiAgICAgICAgdGhpcy5lbHMudGhlbWVEYXJrQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCBTdHJpbmcodGhlbWUgPT09ICdkYXJrJykpO1xuICAgICAgICB0aGlzLmVscy50aGVtZURldmljZUJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgU3RyaW5nKHRoZW1lID09PSAnZGV2aWNlJykpO1xuICAgIH1cbiAgICBhcHBseVN0b3JlKHBhZ2VLZXlzKSB7XG4gICAgICAgIHRoaXMuZWxzLnN0b3JlQ291bnQudGV4dENvbnRlbnQgPSBTdHJpbmcocGFnZUtleXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBpZiAocGFnZUtleXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZWxzLnN0b3JlRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYWdlS2V5IG9mIHBhZ2VLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBsaUVsZW0gPSB0aGlzLmVsKCdsaScsICdzZWxlY3QtaXRlbScpO1xuICAgICAgICAgICAgY29uc3QgYVdyYXBFbGVtID0gdGhpcy5lbCgnZGl2JywgJ21pbi13LTAgZmxleC0xJyk7XG4gICAgICAgICAgICBjb25zdCBhRWxlbSA9IHRoaXMuZWwoJ2EnLCAnYW5jaG9yIHdoaXRlc3BhY2Utbm9ybWFsIGJyZWFrLXdvcmRzJywgcGFnZUtleSk7XG4gICAgICAgICAgICBhRWxlbS5ocmVmID0gcGFnZUtleTtcbiAgICAgICAgICAgIGFFbGVtLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgYVdyYXBFbGVtLmFwcGVuZENoaWxkKGFFbGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEJ0bkVsZW0gPSB0aGlzLmVsKCdidXR0b24nLCAnYnRuLWljb24nKTtcbiAgICAgICAgICAgIGV4cG9ydEJ0bkVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlnbm9yZS1kaXNhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb25EZWYgPSBnZXRJY29uKCdleHBvcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oZXhwb3J0SWNvbkRlZi5kLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnaWNvbi1zbScsXG4gICAgICAgICAgICAgICAgdmlld0JveDogZXhwb3J0SWNvbkRlZi52aWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFwcGVuZENoaWxkKGV4cG9ydEljb24pO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlQnRuRWxlbSA9IHRoaXMuZWwoJ2J1dHRvbicsICdidG4taWNvbiBidG4taWNvbi0tZGFuZ2VyJyk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pZ25vcmUtZGlzYWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uRGVmID0gZ2V0SWNvbigncmVtb3ZlJyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJY29uID0gdGhpcy5jcmVhdGVTdmdJY29uKHJlbW92ZUljb25EZWYuZCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ljb24tc20nLFxuICAgICAgICAgICAgICAgIHZpZXdCb3g6IHJlbW92ZUljb25EZWYudmlld0JveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlQnRuRWxlbS5hcHBlbmRDaGlsZChyZW1vdmVJY29uKTtcbiAgICAgICAgICAgIGxpRWxlbS5hcHBlbmRDaGlsZChhV3JhcEVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKGV4cG9ydEJ0bkVsZW0pO1xuICAgICAgICAgICAgbGlFbGVtLmFwcGVuZENoaWxkKHJlbW92ZUJ0bkVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmFwcGVuZENoaWxkKGxpRWxlbSk7XG4gICAgICAgICAgICBleHBvcnRCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5FWFBPUlRfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW1vdmVCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChVSUV2ZW50VHlwZS5SRU1PVkVfUEFHRV9DTElDSywgeyBwYWdlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbHMuc3RvcmVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmVscy5zdG9yZUVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBhcHBseVRvYXN0TWVzc2FnZXModG9hc3RNZXNzYWdlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHRvYXN0TWVzc2FnZSBvZiB0b2FzdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmVscy50b2FzdFBhcmVudC5hcHBlbmRDaGlsZCh0b2FzdEVsZW0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFVJRXZlbnRUeXBlLlRPQVNUX0RJU01JU1NfUkVRVUVTVEVELCB7IHV1aWQ6IHRvYXN0TWVzc2FnZS51dWlkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdlbmVyYXRlVG9hc3RNZXNzYWdlKHRvYXN0TWVzc2FnZSkge1xuICAgICAgICBjb25zdCB0b2FzdEVsZW0gPSB0aGlzLmVsKCdkaXYnLCBgdG9hc3QgdG9hc3QtLSR7dG9hc3RNZXNzYWdlLmtpbmR9YCk7XG4gICAgICAgIGNvbnN0IHRvYXN0SWNvbkRlZiA9IGdldEljb24odG9hc3RNZXNzYWdlLmtpbmQpO1xuICAgICAgICBjb25zdCB0b2FzdEljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24odG9hc3RJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3RvYXN0LWljb24nLFxuICAgICAgICAgICAgdmlld0JveDogdG9hc3RJY29uRGVmLnZpZXdCb3gsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2FzdEJvZHkgPSB0aGlzLmVsKCdkaXYnLCAndG9hc3QtYm9keScpO1xuICAgICAgICBjb25zdCBkZXNjID0gdGhpcy5lbCgncCcsICd0b2FzdC1kZXNjJywgdG9hc3RNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICB0b2FzdEJvZHkuYXBwZW5kQ2hpbGQoZGVzYyk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gdGhpcy5lbCgnYnV0dG9uJywgYHRvYXN0LWNsb3NlIHRvYXN0LWNsb3NlLS0ke3RvYXN0TWVzc2FnZS5raW5kfWApO1xuICAgICAgICBjb25zdCBjbG9zZUljb25EZWYgPSBnZXRJY29uKCdjbG9zZScpO1xuICAgICAgICBjb25zdCBjbG9zZUljb24gPSB0aGlzLmNyZWF0ZVN2Z0ljb24oY2xvc2VJY29uRGVmLmQsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2gtMy41IHctMy41JyxcbiAgICAgICAgICAgIHZpZXdCb3g6IGNsb3NlSWNvbkRlZi52aWV3Qm94LFxuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VCdG4uYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICAgICAgdG9hc3RFbGVtLmFwcGVuZENoaWxkKHRvYXN0SWNvbik7XG4gICAgICAgIHRvYXN0RWxlbS5hcHBlbmRDaGlsZCh0b2FzdEJvZHkpO1xuICAgICAgICB0b2FzdEVsZW0uYXBwZW5kQ2hpbGQoY2xvc2VCdG4pO1xuICAgICAgICBjb25zdCB0aW1lcklkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRvYXN0RWxlbS5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgICAgICB0b2FzdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIH0sIHRoaXMuVE9BU1RfQVVUT19ESVNNSVNTKTtcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICBpZiAodG9hc3RFbGVtLmlzQ29ubmVjdGVkKVxuICAgICAgICAgICAgICAgIHRvYXN0RWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b2FzdEVsZW07XG4gICAgfVxuICAgICQoc2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFlbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW1BhbmVsVmlld10gTWlzc2luZyBlbGVtZW50OiAke3NlbGVjdG9yfWApO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgICRhbGwoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBlbCh0YWcsIGNsYXNzTmFtZSwgdGV4dCkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKVxuICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGlmICh0ZXh0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG1ha2VPcHQodmFsdWUsIGxhYmVsLCBzZWxlY3RlZCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgby52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBvLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIGlmIChzZWxlY3RlZClcbiAgICAgICAgICAgIG8uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG4gICAgY3JlYXRlU3ZnSWNvbihkLCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3N2ZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgb3B0cy52aWV3Qm94ID8/ICcwIDAgMjAgMjAnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBvcHRzLmNsYXNzTmFtZSA/PyAnaC0zLjUgdy0zLjUnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdjdXJyZW50Q29sb3InKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICBpZiAob3B0cy5hdHRycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMob3B0cy5hdHRycykpXG4gICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShrLCB2KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAncGF0aCcpO1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKCdkJywgZCk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoRWwpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBhbmVsQ29udHJvbGxlciB9IGZyb20gJ0BwYW5lbC9jb250cm9sbGVyL3BhbmVsX2NvbnRyb2xsZXInO1xuaW1wb3J0IHsgUGFuZWxWaWV3IH0gZnJvbSAnLi4vdmlldy9wYW5lbF92aWV3Jztcbi8qKlxuICogT3JjaGVzdHJhdGVzIFVJIGluaXRpYWxpemF0aW9uIGFuZCBjb25uZWN0aW9uIGxpZmVjeWNsZS5cbiAqIC0gQXBwbHkgaTE4blxuICogLSBEZXRlY3QgYW5kIGNvbm5lY3QgdG8gdGhlIGFjdGl2ZSB0YWJcbiAqIC0gUmVzdG9yZSBzdGF0ZSBhbmQgcGVyZm9ybSBpbml0aWFsIHJlbmRlclxuICogLSBCaW5kIFVJIGV2ZW50c1xuICovXG5hc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IFBhbmVsVmlldyhkb2N1bWVudCk7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQYW5lbENvbnRyb2xsZXIodmlldyk7XG4gICAgYXdhaXQgY29udHJvbGxlci5zdGFydCgpO1xufVxuKGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xuICAgICAgICB2b2lkIHN0YXJ0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFuZWwgYm9vdHN0cmFwIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB2b2lkIHN0YXJ0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFuZWwgYm9vdHN0cmFwIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiJdLCJuYW1lcyI6WyJpc1Jlc3RyaWN0ZWQiLCJyYXciLCJzdGFydHNXaXRoIiwidXJsIiwiVVJMIiwiU2V0IiwiaGFzIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsIklURU1fQ09MT1JTIiwiSVRFTV9TSEFQRSIsIklURU1fUE9TSVRJT05fVkFMVUVTIiwiVU5HUk9VUEVEIiwiVU5HUk9VUEVEX1ZBTFVFIiwiaXNTY3JlZW5JdGVtTGlrZSIsInYiLCJhbmNob3IiLCJhIiwiaW5pdGlhbE1vZGVsIiwic3RhdHVzIiwidGFiSWQiLCJwYWdlS2V5IiwicGFnZUtleXMiLCJ0aGVtZSIsInNlbGVjdGlvbkVuYWJsZWQiLCJpdGVtcyIsImRlZmF1bHRTaXplIiwiZGVmYXVsdENvbG9yIiwiZGVmYXVsdFNoYXBlIiwiZGVmYXVsdFBvc2l0aW9uIiwiZGVmYXVsdEdyb3VwIiwiY2FwdHVyZSIsImZvcm1hdCIsImFyZWEiLCJxdWFsaXR5Iiwic2NhbGUiLCJwYW5lbEV4cGFuZGVkIiwic2VsZWN0SXRlbXMiLCJtaXNzaW5nSWRzIiwidG9hc3RNZXNzYWdlcyIsInNjcmVlblN0YXRlVGFibGUiLCJyb290S2V5IiwiZGVmYXVsdE9mIiwiS0VZIiwiYXN5bmMiLCJyZWFkQWxsIiwiY2hyb21lIiwic3RvcmFnZSIsImxvY2FsIiwiZ2V0Iiwid3JpdGVBbGwiLCJtYXAiLCJzZXQiLCJrZXkiLCJmb3VuZCIsInVuZGVmaW5lZCIsInZhbHVlIiwicmVtb3ZlIiwiY2xlYXIiLCJjcmVhdGVNYXBUYWJsZSIsIm5leHRJZCIsInRoZW1lVGFibGUiLCJ2YWwiLCJjcmVhdGVTaW5nbGV0b24iLCJhcHBseVBhdGNoIiwicGF0Y2giLCJzdGF0ZSIsInJlbW92ZWRJZHMiLCJsZW5ndGgiLCJ0b1JlbW92ZSIsImZpbHRlciIsIml0IiwiaWQiLCJhZGRlZCIsImxhYmVsIiwiSW5maW5pdHkiLCJzaXplIiwiY29sb3IiLCJzaGFwZSIsInBvc2l0aW9uIiwiZ3JvdXAiLCJjb21tZW50IiwicHVzaCIsIm5vcm1hbGl6ZUdyb3VwTGFiZWxzQW5kQ291bnRVbmdyb3VwZWQiLCJidWNrZXRzIiwiTWFwIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInRyaW0iLCJvdXQiLCJzbGljZSIsImJ1Y2tldCIsInNvcnQiLCJiIiwiaSIsImRlc2lyZWQiLCJzdWJzIiwiaTE4biIsImdldE1lc3NhZ2UiLCJsb2NhbGl6ZSIsInJvb3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImdldEF0dHJpYnV0ZSIsInRleHRDb250ZW50Iiwic3BlYyIsInBhaXIiLCJzcGxpdCIsImF0dHIiLCJzIiwic2V0QXR0cmlidXRlIiwiU1RBVFVTIiwiU1RBVFVTX01TR19LRVkiLCJSRVNUUklDVEVEIiwiQ09OTkVDVElORyIsIkNPTk5FQ1RFRCIsIkRJU0NPTk5FQ1RFRCIsIlNUQVRVU19DTEFTU19CWV9LRVkiLCJBY3Rpb25UeXBlIiwiRWZmZWN0VHlwZSIsIkNIQU5ORUwiLCJQYW5lbEFwaSIsInJwYyIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNlbmQiLCJib2R5IiwicmVxIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImV4cGVjdFJlcGx5IiwicmVuZGVyIiwidHlwZSIsInBheWxvYWQiLCJ0b2dnbGVTZWxlY3QiLCJlbmFibGVkIiwiaG92ZXIiLCJtZWFzdXJlU2l6ZSIsInBpbmciLCJQb3J0UnBjIiwicG9ydCIsInBlbmRpbmciLCJhbGl2ZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwibXNnIiwiaXNSZXNwb25zZSIsImRlbGV0ZSIsIm9uRGlzY29ubmVjdCIsInJlYXNvbiIsInJ1bnRpbWUiLCJsYXN0RXJyb3IiLCJtZXNzYWdlIiwicmVzb2x2ZSIsIm9rIiwiZXJyb3IiLCJpc0FsaXZlIiwidGltZW91dE1zIiwiUHJvbWlzZSIsInRpbWVyIiwic2V0VGltZW91dCIsInJlcyIsImNsZWFyVGltZW91dCIsInBvc3RNZXNzYWdlIiwiT1dORUQiLCJ0YXJnZXQiLCJtZXRob2QiLCJwYXJhbXMiLCJyZWplY3QiLCJkZWJ1Z2dlciIsInNlbmRDb21tYW5kIiwicmVzdWx0IiwiZXJyIiwiRXJyb3IiLCJTdHJpbmciLCJvcHRzIiwidGFiIiwidGFicyIsImNvbnNvbGUiLCJ3YXJuIiwiZm10Iiwic2V0dGxlTXMiLCJkaWRBdHRhY2giLCJ1c2VkT3ZlcnJpZGUiLCJhdHRhY2giLCJhZGQiLCJpbmNsdWRlcyIsImF0dGFjaE93bmVkIiwiYnJpbmdUb0Zyb250IiwiZ2VvbSIsImNvbnRlbnRTaXplIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsImNzc1Zpc3VhbFZpZXdwb3J0IiwiTWF0aCIsIm1heCIsImZsb29yIiwicGFnZVgiLCJwYWdlWSIsImNlaWwiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldFZpZXdwb3J0Q3NzUmVjdCIsInVzZU92ZXJyaWRlIiwiY2xpcCIsImNhcHR1cmVCZXlvbmRWaWV3cG9ydCIsInNob3VsZFNjcm9sbFRvcCIsIm1ldHJpY3MiLCJkZXZpY2VTY2FsZUZhY3RvciIsIm1vYmlsZSIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwicmVzb2x2ZUdlb21ldHJ5IiwiZXhwcmVzc2lvbiIsInIiLCJjYXBQYXJhbXMiLCJmcm9tU3VyZmFjZSIsIm1pbiIsInJvdW5kIiwiZGF0YSIsImZpbGVuYW1lIiwiYmFzZSIsInRpdGxlIiwiaG9zdCIsInJlcGxhY2UiLCJEYXRlIiwidG9JU09TdHJpbmciLCJtYWtlRmlsZW5hbWUiLCJkb3dubG9hZHMiLCJkb3dubG9hZCIsInNhdmVBcyIsImRldGFjaCIsImRldGFjaE93bmVkIiwiZXhwb3J0U2NyZWVuU3RhdGUiLCJwcmVmaXgiLCJraW5kIiwidmVyc2lvbiIsImV4cG9ydGVkQXQiLCJ0ZXh0IiwiYnl0ZXMiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImJpbiIsImZyb21DaGFyQ29kZSIsImJ0b2EiLCJ0b0Jhc2U2NFV0ZjgiLCJKU09OIiwic3RyaW5naWZ5IiwiZCIsInBhZCIsIm4iLCJ3IiwicGFkU3RhcnQiLCJ0em8iLCJnZXRUaW1lem9uZU9mZnNldCIsInNpZ24iLCJoaCIsImFicyIsIm1tIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwidGltZXN0YW1wIiwiaW1wb3J0U2NyZWFuU3RhdGUiLCJmaWxlIiwiaXNKc29uQnlFeHQiLCJ0ZXN0IiwibmFtZSIsImlzSnNvbkJ5TWltZSIsInBhcnNlZCIsInBhcnNlIiwibyIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwiaXNWYWxpZFBheWxvYWQiLCJrZXlPZiIsImV4aXN0aW5nU2V0IiwiVUlFdmVudFR5cGUiLCJvbkRldGFjaCIsImRlYnVnZ2VlIiwiUGFuZWxDb250cm9sbGVyIiwidmlldyIsIm1vZGVsIiwic3RydWN0dXJlZENsb25lIiwiY29ubiIsImN1cnJlbnRXaW5kb3dJZCIsInN0YXRpYyIsIlJFTkRFUl9DT05URU5UIiwiVE9HR0xFX1NFTEVDVF9PTl9DT05URU5UIiwiQ0xFQVJfQ09OVEVOVCIsIkhPVkVSIiwic3RhcnQiLCJkaXNwYXRjaCIsIklOSVQiLCJlbnN1cmVDb25uZWN0aW9uQWxpdmUiLCJmb3JjZVJlY29ubmVjdCIsInJlZ2lzdGVyVmlld0hhbmRsZXJzIiwid2luZG93cyIsImdldEN1cnJlbnQiLCJzZW5kZXJXaW5kb3dJZCIsIndpbmRvd0lkIiwib24iLCJUT0dHTEVfU0VMRUNUIiwiQ0xFQVIiLCJDTEVBUl9BTEwiLCJDQVBUVVJFIiwiTUVBU1VSRV9DT05URU5UX1NJWkUiLCJCQURHRV9TSVpFX0NIQU5HRSIsIlNFVF9CQURHRV9TSVpFIiwiQkFER0VfQ09MT1JfU0VMRUNUIiwiU0VUX0JBREdFX0NPTE9SIiwiQkFER0VfU0hBUEVfQ0hBTkdFIiwiU0VUX0JBREdFX1NIQVBFIiwiQkFER0VfREVMRVRFIiwiQkFER0VfUE9TSVRJT05fU0VMRUNUIiwiU0VUX0JBREdFX1BPU0lUSU9OIiwiVE9HR0xFX0NBUFRVUkVfUEFORUwiLCJDQVBUVVJFX0ZPUk1BVF9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9GT1JNQVQiLCJDQVBUVVJFX0FSRUFfQ0hBTkdFIiwiU0VUX0NBUFRVUkVfQVJFQSIsIkNBUFRVUkVfUVVBTElUWV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9RVUFMSVRZIiwiQ0FQVFVSRV9TQ0FMRV9DSEFOR0UiLCJTRVRfQ0FQVFVSRV9TQ0FMRSIsIlJFT1JERVJfSVRFTVMiLCJmcm9tSWQiLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwiU0VUX0dST1VQIiwiSVRFTV9TRUxFQ1RJT05fQ0hBTkdFRCIsIklURU1fSE9WRVJfSU4iLCJJVEVNX0hPVkVSX09VVCIsIklURU1fQ09NTUVOVF9BUFBMWSIsIlVQREFURV9JVEVNX0NPTU1FTlQiLCJVUERBVEVfVEhFTUUiLCJTRVRUSU5HX01PREFMX1NIT1ciLCJTVE9SRV9SRUxPQURfUkVRVUVTVEVEIiwiSU1QT1JUX1NDUkVBTl9TVEFURV9GSUxFIiwiVE9BU1RfRElTTUlTU19SRVFVRVNURUQiLCJ1dWlkIiwiUkVNT1ZFX1BBR0VfQ0xJQ0siLCJSRU1PVkVfU0NSRUVOX1NUQVRFX0JZX1BBR0UiLCJFWFBPUlRfUEFHRV9DTElDSyIsIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRSIsImFjdGlvbiIsIm5leHQiLCJlZmZlY3RzIiwiU0VUX1RIRU1FIiwiU0VUX1NUQVRVUyIsIlJFU1RPUkVfU1RBVEUiLCJTRVRfTUlTU0lOR19JRFMiLCJDTEVBUl9TVEFURSIsIkNPTlRFTlRfU0VMRUNURUQiLCJQRVJTSVNUX1NUQVRFIiwiaXRlbXNNYXJrZWRGb3JSZWxhYmVsIiwibmV4dEdyb3VwUmF3IiwibmV4dEdyb3VwIiwidXBkYXRlSXRlbUNudCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ1cGRhdGVHcm91cEFuZERlZmVyUmVsYWJlbCIsIkNBUFRVUkVfUkVRVUVTVEVEIiwiTk9USUZZX0VSUk9SIiwiQ0FQVFVSRV9TVUNDRUVERUQiLCJDQVBUVVJFX0ZBSUxFRCIsIlJhbmdlRXJyb3IiLCJmcm9tSWR4IiwiZmluZEluZGV4IiwicmVvcmRlckl0ZW1MYWJlbCIsImlzQ2hlY2siLCJhcHBseUl0ZW1TZWxlY3Rpb25DaGFuZ2VkQnlJZCIsImciLCJncm91cElkcyIsImdyb3VwU2V0IiwiYXBwbHlJdGVtU2VsZWN0aW9uQ2hhbmdlZEZvckdyb3VwIiwiYWxsQ2hlY2siLCJQT1JUX0RJU0NPTk5FQ1RFRCIsIlJFQURfU0NSRUVOX1NUQVRFX1NUT1JFIiwiU1RPUkVfUkVMT0FEX1NVQ0NFRURFRCIsIklNUE9SVF9GQUlMRUQiLCJ0IiwiUkVNT1ZFX1NDUkVFTl9TVEFURV9TVE9SRV9CWV9QQUdFX0tFWSIsIkVYUE9SVF9TQ1JFRU5fU1RBVEVfQllfUEFHRV9LRVkiLCJFWFBPUlRfRkFJTEVEIiwidXBkYXRlIiwiZXhlY0VmZmVjdHMiLCJjYXRjaCIsInNvbWUiLCJmeCIsIlJFUVVJUkVTX0NPTk4iLCJjb250ZXh0Q2hhbmdlZCIsImFwaSIsInByZXYiLCJzY3JlZW5TdGF0ZXMiLCJPYmplY3QiLCJrZXlzIiwiZSIsInN0IiwicHJldktleSIsInF1ZXJ5IiwiYWN0aXZlIiwiY3VycmVudFdpbmRvdyIsImdldEFjdGl2ZVRhYiIsIm5ld0tleSIsImluY2x1ZGVIYXNoIiwidSIsIm9yaWdpbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImRpc2Nvbm5lY3QiLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwiZmlsZXMiLCJjb25uZWN0IiwibGlzdGVuZXJzIiwiZm4iLCJjYiIsImRpc3Bvc2UiLCJjb25uZWN0VG9UYWIiLCJhbmNob3JzIiwidW5pcSIsImZyb20iLCJmaW5kIiwiQm9vbGVhbiIsInRvQWRkIiwiaGFuZGxlU2VsZWN0ZWQiLCJJQ09OUyIsImNhcmV0RG93biIsInZpZXdCb3giLCJjYXJldERvd25GaWxsIiwiY2FyZXRSaWdodCIsImNhcmV0UmlnaHRGaWxsIiwic3VjY2VzcyIsImV4cG9ydCIsImNsb3NlIiwiZ2V0SWNvbiIsImJ5TGFiZWxUaGVuSWQiLCJQYW5lbFZpZXciLCJkb2MiLCJlbHMiLCJORVdfR1JPVVAiLCJIT1ZFUl9PVVRfREVMQVkiLCJkcmFnRWwiLCJkcmFnU3RhcnRQYXJlbnQiLCJkcmFnU3RhcnRJbmRleCIsImhvdmVyT3V0VGltZXIiLCJjb2xsYXBzZWRHcm91cHMiLCJUT0FTVF9BVVRPX0RJU01JU1MiLCIkIiwidG9nZ2xlQnRuIiwidG9nZ2xlSWNvbiIsInRvZ2dsZUxhYmVsIiwiY2xlYXJCdG4iLCJjYXB0dXJlQnRuIiwibGlzdCIsImVtcHR5IiwiY291bnQiLCJjYXB0dXJlT3B0aW9uc1RvZ2dsZSIsImNhcHR1cmVPcHRpb25zUGFuZWwiLCJjYXB0dXJlRm10UmFkaW9zIiwiJGFsbCIsImNhcHR1cmVBcmVhUmFkaW9zIiwianBlZ09ubHlFbHMiLCJqcGVnUXVhbGl0eVJhbmdlIiwianBlZ1F1YWxpdHlOdW1iZXIiLCJjYXB0dXJlU2NhbGVSYW5nZSIsImNhcHR1cmVTY2FsZU51bWJlciIsImJhZGdlU2l6ZVJhbmdlIiwiYmFkZ2VTaXplTnVtYmVyIiwiYmFkZ2VDb2xvckJ1dHRvbnMiLCJiYWRnZUNvbG9yTGFiZWwiLCJiYWRnZUNvbG9yRG90IiwiYmFkZ2VTaGFwZVNlbGVjdCIsImJhZGdlRGVsZXRlQnV0dG9uIiwiYmFkZ2VQb3NpdGlvbkJ1dHRvbnMiLCJiYWRnZVBvc2l0aW9uTGFiZWwiLCJiYWRnZUdyb3VwU2VsZWN0IiwiZ3JvdXBOYW1lTW9kYWwiLCJncm91cE5hbWVJbnB1dCIsImdyb3VwTmFtZUNhbmNlbEJ0biIsImdyb3VwTmFtZUNyZWF0ZWxCdG4iLCJpdGVtQ29tbWVudE1vZGFsIiwiaXRlbUNvbW1lbnRJbnB1dCIsIml0ZW1Db21tZW50SWRJbnB1dCIsIml0ZW1Db21tZW50Q2FuY2VsQnRuIiwiaXRlbUNvbW1lbnRBcHBseUJ0biIsInNlbGVjdEl0ZW1BbGxDaGVja2JveCIsInNldHRpbmdNb2RhbCIsInNldHRpbmdCdXR0b24iLCJzZXR0aW5nQ2xvc2VCdXR0b24iLCJ0aGVtZUxpZ2h0QnRuIiwidGhlbWVEYXJrQnRuIiwidGhlbWVEZXZpY2VCdG4iLCJpbXBvcnRGaWxlSW5wdXQiLCJpbXBvcnRCdG4iLCJzdG9yZUNvdW50Iiwic3RvcmVMaXN0Iiwic3RvcmVFbXB0eSIsInRvYXN0UGFyZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVtaXQiLCJ1cGRhdGVRdWFsaXR5VmlzaWJpbGl0eSIsImdldFNlbGVjdGVkQ2FwdHVyZUZvcm1hdCIsImdldFNlbGVjdGVkQ2FwdHVyZUFyZWEiLCJiaW5kU3luYyIsImZpcmVTaXplIiwiaXNGaW5pdGUiLCJidG4iLCJkYXRhc2V0IiwiY29sb3JOYW1lIiwiaXNJdGVtU2hhcGUiLCJwb3NpdGlvbk5hbWUiLCJjbGFzc0xpc3QiLCJhcHBseVRoZW1lIiwiY2xpY2siLCJzZWxlY3RlZCIsImNoZWNrZWQiLCJjYW5jZWxIb3Zlck91dCIsInNjaGVkdWxlSG92ZXJPdXQiLCJoYW5kbGVyIiwiYXJyIiwiaCIsImFwcGx5VG9hc3RNZXNzYWdlcyIsImFwcGx5U3RvcmUiLCJyZW5kZXJTdGF0dXMiLCJyZW5kZXJUb2dnbGUiLCJyZW5kZXJMaXN0Iiwic2VsZWN0UmFkaW9CeVZhbHVlIiwiYXBwbHlDYXB0dXJlT3B0aW9uc1RvZ2dsZVVJIiwiYXBwbHlCYWRnZUNvbG9yVUkiLCJhcHBseUJhZGdlUG9zaXRvblVJIiwiYXBwbHlCYWRnZUdyb3VwU2VsZWN0VUkiLCJnZXRFeGlzdGluZ0dyb3VwcyIsInN0eWxlIiwiY2xhc3NOYW1lIiwiZG90IiwiY3JlYXRlRWxlbWVudCIsIm1zZ0tleSIsImdldFN0YXR1c01lc3NhZ2UiLCJyZXBsYWNlQ2hpbGRyZW4iLCJkaXNhYmxlRm9ybUNvbnRyb2xzIiwiaWNvbiIsImFsbENoZWNrZWQiLCJncm91cHMiLCJncm91cEJ5R3JvdXAiLCJncm91cEtleXMiLCJsb2NhbGVDb21wYXJlIiwiZnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJnS2V5Iiwic2VjdGlvbiIsInJlbmRlckdyb3VwU2VjdGlvbiIsImFwcGVuZENoaWxkIiwiZ0l0ZW1zIiwiaXNDb2xsYXBzZWQiLCJoZWFkZXIiLCJjaGVja2JveFdyYXAiLCJjaGVja2JveCIsImFwcGVuZCIsImxlZnQiLCJjcmVhdGVTdmdJY29uIiwidG9nZ2xlUGF0aCIsInF1ZXJ5U2VsZWN0b3IiLCJ1bCIsImF0dGFjaFVsRG5ESGFuZGxlcnMiLCJzZWxlY3RDaGVja2VkIiwicmVuZGVySXRlbSIsImlzTWlzc2luZyIsImxpQmFzZSIsImxpIiwiZHJhZ2dhYmxlIiwicGFyZW50RWxlbWVudCIsInByb3RvdHlwZSIsImluZGV4T2YiLCJjYWxsIiwiY2hpbGRyZW4iLCJkYXRhVHJhbnNmZXIiLCJlZmZlY3RBbGxvd2VkIiwicGFyZW50IiwiZW5kSW5kZXgiLCJjaGVja2JveFN0eWxlIiwiYmFkZ2VTdHlsZSIsImJhZGdlIiwibWFpbiIsImNoaXAiLCJjb21tZW50QnRuIiwiZ2VuZXJhdGVDb21tZW50QnRuIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXRMaSIsImNsb3Nlc3QiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaXNBZnRlciIsImNsaWVudFkiLCJ0b3AiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsIm0iLCJpc0pwZWciLCJ0b2dnbGUiLCJkaXNhYmxlZCIsInJhZGlvcyIsInJhbmdlRWwiLCJudW1iZXJFbCIsIm9uVmFsdWUiLCJyZWFkTnVtIiwiZmFsbGJhY2siLCJOYU4iLCJzeW5jIiwicmF3U3RyIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJQT1NJVElWRV9JTkZJTklUWSIsInN0ZXAiLCJjbGFtcGVkIiwiY2xhbXAiLCJyb3VuZGVkIiwiZml4ZWQiLCJ0b0ZpeGVkIiwiY29udHJvbHMiLCJlbmFibGVBbGwiLCJlbmFibGVJZ25vcmVPbmx5IiwiZW5hYmxlTm9uZSIsInNob3VsZEVuYWJsZSIsImhhc0F0dHJpYnV0ZSIsImV4cGFuZGVkIiwiaW5uZXJIVE1MIiwiZ2V0QmFkZ2VDb2xvclN0eWxlTmFtZSIsInRvTG93ZXJDYXNlIiwiYnV0dG9uIiwicmVwbGFjZUFsbCIsImV4aXN0aW5nR3JvdXBzIiwiZGVmYXV0R3JvdXAiLCJtYWtlT3B0Iiwibm9ybWFsaXplIiwiY3JlYXRlT3B0IiwiZG9jdW1lbnRFbGVtZW50Iiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJsaUVsZW0iLCJhV3JhcEVsZW0iLCJhRWxlbSIsImhyZWYiLCJleHBvcnRCdG5FbGVtIiwiZXhwb3J0SWNvbkRlZiIsImV4cG9ydEljb24iLCJyZW1vdmVCdG5FbGVtIiwicmVtb3ZlSWNvbkRlZiIsInJlbW92ZUljb24iLCJ0b2FzdE1lc3NhZ2UiLCJ0b2FzdEVsZW0iLCJnZW5lcmF0ZVRvYXN0TWVzc2FnZSIsInRvYXN0SWNvbkRlZiIsInRvYXN0SWNvbiIsInRvYXN0Qm9keSIsImRlc2MiLCJjbG9zZUJ0biIsImNsb3NlSWNvbkRlZiIsImNsb3NlSWNvbiIsInRpbWVySWQiLCJpc0Nvbm5lY3RlZCIsInNlbGVjdG9yIiwidGFnIiwibm9kZSIsIlNWR19OUyIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsImF0dHJzIiwiayIsImVudHJpZXMiLCJwYXRoRWwiLCJjb250cm9sbGVyIiwicmVhZHlTdGF0ZSIsIm9uY2UiXSwic291cmNlUm9vdCI6IiJ9