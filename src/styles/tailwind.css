@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  [inert] {
    @apply cursor-not-allowed select-none opacity-60;
    filter: grayscale(0.3);
  }
  [inert] * {
    cursor: not-allowed !important;
  }

  button, select, input, textarea {
    @apply disabled:bg-slate-100 dark:disabled:bg-slate-800/50
           disabled:text-slate-400 disabled:cursor-not-allowed disabled:opacity-60;
  } 
  .app-body {
    @apply min-h-screen h-full bg-gradient-to-b antialiased
           from-slate-50 to-slate-100 text-slate-800
           dark:from-slate-900 dark:to-slate-950 dark:text-slate-100
           [color-scheme:light] dark:[color-scheme:dark];
  }
  .panel-bar {
    @apply flex items-center w-full rounded-xl backdrop-blur border py-2
           bg-white/70 border-slate-200/70
           dark:bg-slate-900/60 dark:border-slate-800;
  }
  .tagline {
    @apply text-xs text-slate-500 dark:text-slate-400 mt-2;
  }

  .card {
    @apply rounded-xl border border-slate-200 dark:border-slate-800
           bg-white dark:bg-slate-900 shadow-sm;
  }
  .card-head {
    @apply p-3 border-b border-slate-200/70 dark:border-slate-800/70;
  }
  .card-head-lg {
    @apply p-3 md:p-4 border-b border-slate-200/70 dark:border-slate-800/70;
  }

  .section-title {
    @apply text-sm font-medium text-slate-600 dark:text-slate-300;
  }
  .hint-xs {
    @apply text-xs text-slate-400;
  }
  .label-xs {
    @apply block text-xs font-semibold text-slate-500 dark:text-slate-400;
  }

  .btn {
    @apply inline-flex items-center gap-2 px-2.5 py-2 rounded-lg
           border border-slate-200 dark:border-slate-700
           bg-white dark:bg-slate-900 text-sm
           hover:bg-slate-50 dark:hover:bg-slate-800
           active:bg-slate-100 dark:active:bg-slate-800/80
           focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
           focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:focus-visible:ring-offset-slate-900
           transition
           disabled:bg-slate-100 dark:disabled:bg-slate-800/50
           disabled:text-slate-400 disabled:cursor-not-allowed disabled:opacity-60;
  }
  .btn-group {
    @apply inline-flex rounded-lg shadow-sm overflow-hidden;
  }
  .btn-split {
    @apply inline-flex items-center justify-center px-2.5 py-2 w-9
           border border-slate-200 dark:border-slate-700 border-l-0 -ml-px
           rounded-r-lg rounded-l-none
           bg-white dark:bg-slate-900 text-sm
           hover:bg-slate-50 dark:hover:bg-slate-800
           active:bg-slate-100 dark:active:bg-slate-800/80
           focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
           focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:focus-visible:ring-offset-slate-900 transition
           disabled:bg-slate-100 dark:disabled:bg-slate-800/50
           disabled:text-slate-400 disabled:cursor-not-allowed disabled:opacity-60;
  }
  .btn-field {
    @apply mt-1 inline-flex w-full items-center gap-2 rounded-lg px-2.5 py-2 text-sm transition
           border border-slate-200 bg-white hover:bg-slate-50
           dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800
           focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
           focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:focus-visible:ring-offset-slate-900;
  }
  .btn-icon {
    @apply mt-1 inline-flex items-center justify-center h-9 px-2 rounded-lg
           border border-slate-200 bg-white hover:bg-slate-50
           dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800
           text-slate-600 hover:text-slate-800
           dark:text-white dark:hover:text-white/90
           focus:outline-none transition-colors;
  }
  .btn-icon--danger {
    @apply hover:text-red-600
           focus-visible:ring-2 focus-visible:ring-red-400
           focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:hover:text-red-400
           dark:focus:text-red-400 dark:focus-visible:text-red-400
           dark:focus-visible:ring-offset-slate-900;
  }
  .btn-group--full {
    @apply flex w-full;
  }
  .btn-segment {
    @apply btn flex-1 justify-center;
  }
  .btn-segment + .btn-segment {
    @apply -ml-px;
  }
  .btn-segment[data-active="true"] {
    @apply bg-indigo-600 text-white;
  }

  .range {
    @apply w-full accent-indigo-600;
  }
  .input-sm {
    @apply w-16 rounded-md border border-slate-200 dark:border-slate-700
           bg-transparent px-2 py-1 text-sm;
  }
  .select {
    @apply mt-1 block w-full rounded-lg border border-slate-200 bg-white px-2.5 py-2 text-sm
           focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
           focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:bg-slate-900 dark:border-slate-700 dark:focus-visible:ring-offset-slate-900;
  }
  .checkbox {
    @apply h-4 w-4 border border-slate-300 dark:border-slate-700 outline-none
           focus:ring-2 focus:ring-indigo-500 accent-indigo-600;
  }
  .count-pill {
    @apply text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600
           dark:bg-slate-800 dark:text-slate-300;
  }

  .popover {
    @apply rounded-xl border border-slate-200 dark:border-slate-800
           bg-white dark:bg-slate-900 shadow-lg p-3 w-64;
  }
  .color-swatch-btn {
    @apply flex flex-col items-center gap-1 rounded-md border border-transparent
           hover:border-slate-200 dark:hover:border-slate-700 p-2;
  }
  .color-dot {
    @apply block w-4 h-4 rounded-full;
  }

  .pos-btn {
    @apply transition duration-150 bg-white text-slate-900 focus-visible:outline-none
           focus-visible:ring-2 focus-visible:ring-indigo-400 data-[selected=true]:bg-indigo-600
           data-[selected=true]:text-white data-[selected=true]:shadow-lg;
  }
  .pos-btn--glyph {
    @apply w-6 h-6 rounded-full flex items-center justify-center hover:bg-indigo-300;
  }
  .dot {
    @apply block rounded-full w-1.5 h-1.5 bg-indigo-400;
  }
  .pos-btn {
    @apply border border-indigo-400;
  }

  .connect-status { 
    @apply inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs transition-colors; 
  }
  .connect-status-dot { 
    @apply h-1.5 w-1.5 rounded-full; 
  }
  .connect-status--restricted {
    @apply bg-amber-50 border-amber-200 text-amber-700
           dark:bg-amber-950 dark:border-amber-900/50 dark:text-amber-300;
  }
  .connect-status--restricted .connect-status-dot {
    @apply bg-amber-500;
  }
  .connect-status--connecting {
    @apply bg-sky-50 border-sky-200 text-sky-700
           dark:bg-sky-950 dark:border-sky-900/50 dark:text-sky-300;
  }
  .connect-status--connecting .connect-status-dot {
    @apply bg-sky-500;
  }
  .connect-status--connected {
    @apply bg-emerald-50 border-emerald-200 text-emerald-700
           dark:bg-emerald-950 dark:border-emerald-900/50 dark:text-emerald-300;
  }
  .connect-status--connected .connect-status-dot {
    @apply bg-emerald-500;
  }
  .connect-status--disconnected {
    @apply bg-rose-50 border-rose-200 text-rose-700
           dark:bg-rose-950 dark:border-rose-900/50 dark:text-rose-300;
  }
  .connect-status--disconnected .connect-status-dot {
    @apply bg-rose-500;
  }
  .select-toggle-icon { 
    @apply inline-block w-3 h-3 rounded-full; 
  }

  .select-item-section { 
    @apply rounded-lg border border-slate-200 dark:border-slate-800 overflow-hidden; 
  }
  .select-item-header { 
    @apply flex items-center justify-between px-3 py-2 bg-slate-50 dark:bg-slate-800/40; 
  }
  .select-item-gh-left { 
    @apply flex items-center gap-2 min-w-0 flex-1; 
  }
  .select-item-gh-title { 
    @apply text-xs font-medium text-slate-600 dark:text-slate-300 truncate; 
  }
  .select-item-gh-count { 
    @apply text-[11px] text-slate-400; 
  }
  .select-item-gh-toggle { 
    @apply shrink-0 ml-3 text-[11px] text-slate-500 hover:text-slate-700 transition-colors; 
  }
  .select-item-list { 
    @apply divide-y divide-slate-200 dark:divide-slate-800; 
  }
  .select-item { 
    @apply flex items-center gap-2 p-3 hover:bg-slate-50 dark:hover:bg-slate-800/60; 
  }
  .select-item--warn { 
    @apply hover:bg-amber-50 dark:hover:bg-amber-800/60 bg-amber-100 dark:bg-amber-900/30; 
  }
  .select-item-select { 
    @apply block rounded-md border border-slate-300 dark:border-slate-700 
           bg-white dark:bg-slate-900 text-sm px-2 py-1; 
  }
  .select-item-input { 
    @apply w-40 rounded-md border border-slate-300 dark:border-slate-700
           bg-white dark:bg-slate-900 text-sm px-2 py-1; 
  }
  .select-item-btn { 
    @apply rounded-md px-2 py-1 text-sm; 
  }
  .select-item-btn--outline { 
    @apply border border-slate-300 dark:border-slate-700; 
  }
  .select-item-btn--ghost { 
    @apply border border-transparent text-slate-500; 
  }

  .spsk-checkwrap { 
    @apply shrink-0 self-stretch flex items-center; 
  }
  .spsk-checkbox { 
    @apply h-4 w-4 border outline-none focus:ring-2; 
  }
  .spsk-checkbox--normal { 
    @apply border-slate-300 dark:border-slate-700 focus:ring-indigo-500 accent-indigo-600; 
  }
  .spsk-checkbox--warn { 
    @apply border-amber-300 dark:border-amber-700 focus:ring-amber-500 accent-amber-600; 
  }
  .spsk-badge { 
    @apply inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-semibold; 
  }
  .spsk-badge--norm { 
    @apply bg-indigo-600/10 text-indigo-700 dark:text-indigo-300; 
  }
  .spsk-badge--warn { 
    @apply bg-amber-600/10 text-amber-700 dark:text-amber-300; 
  }

  .anchor { 
    @apply text-sm font-medium truncate; 
  }
  .chip-warn { 
    @apply inline-flex items-center gap-1 py-1 text-amber-800 dark:text-amber-200 
           text-[11px] font-medium; 
  }
  .icon-sm { 
    @apply h-4 w-4; 
  }

  .modal-base {
    @apply fixed inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm px-2;
  }
  .modal-card {
    @apply mx-auto w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900;
  }
  .modal-title {
    @apply text-lg font-semibold text-slate-800 dark:text-slate-100;
  }
  .modal-subtitle {
    @apply mt-2 text-sm text-slate-500 dark:text-slate-400;
  }
  .modal-label {
    @apply mt-4 block text-sm font-medium text-slate-600 dark:text-slate-300;
  }
  .modal-input {
    @apply mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-500;
  }
  .modal-actions {
    @apply mt-6 flex justify-end gap-3;
  }
  .modal-btn {
    @apply rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm text-slate-600 transition hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 dark:hover:bg-slate-800;
  }
  .modal-btn--primary {
    @apply rounded-lg bg-indigo-600 px-4 py-2 text-sm text-white transition hover:bg-indigo-500 disabled:opacity-60;
  }
  .modal-textarea {
    @apply mt-2 w-full min-h-[7rem] resize-y rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-inner
           placeholder:text-slate-400
           focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-white
           dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:placeholder:text-slate-500
           dark:focus:border-indigo-400 dark:focus:ring-indigo-500 dark:focus:ring-offset-slate-900;
  }
  .modal-title-row {
    @apply flex items-center justify-between;
  }
  .section-head {
    @apply flex items-center justify-between;
  }

  .list-scroll-56 {
    @apply max-h-56 overflow-y-auto;
  }
  .empty-state {
    @apply p-6 text-center text-sm text-slate-500 dark:text-slate-400;
  }
  .import-section { 
    @apply mt-4;
  }
  .import-row {
    @apply mt-3 flex w-full flex-wrap items-center gap-2;
  }
  .import-file {
    @apply select-item-input flex-1 min-w-0;
  }

  .toast-stack {
    @apply fixed inset-x-0 top-[75px] z-[1000] px-4 pb-6 sm:hidden pointer-events-none;
  }
  .toast {
    @apply pointer-events-auto rounded-md p-4 shadow-2xl ring-1 ring-black/10 border
           flex items-start gap-3 mb-3;
  }
  .toast--error {
    @apply border-red-300 bg-red-50 text-red-900
           dark:border-red-800 dark:bg-red-900 dark:text-red-100;
  }
  .toast--success {
    @apply border-green-300 bg-green-50 text-green-900
           dark:border-green-800 dark:bg-green-900 dark:text-green-100;
  }
  .toast-icon {
    @apply mt-0.5 size-5 flex-none;
  }
  .toast-body {
    @apply min-w-0 flex-1;
  }
  .toast-desc {
    @apply text-sm leading-5;
  }
  .toast-close {
    @apply ml-1 inline-flex size-7 flex-none items-center justify-center rounded-md
           focus:outline-none;
  }
  .toast-close--error {
    @apply text-red-700 hover:bg-red-100 hover:text-red-900
           focus-visible:ring-2 focus-visible:ring-red-400 focus-visible:ring-offset-2
           dark:text-red-200 dark:hover:bg-red-800 dark:hover:text-red-100
           dark:focus-visible:ring-offset-slate-900;
  }
  .toast-close--success {
    @apply text-green-700 hover:bg-green-100 hover:text-green-900
           focus-visible:ring-2 focus-visible:ring-green-400 focus-visible:ring-offset-2
           dark:text-green-200 dark:hover:bg-green-800 dark:hover:text-green-100
           dark:focus-visible:ring-offset-slate-900;
  }
}
