(()=>{"use strict";const e="spsk:panel-content:v1",t="PING",n="TOGGLE_SELECT",o="RENDER",i="CLEAR",s="HOVER",r="MEASURE_SIZE",l="SELECTED",a="MISSING_IDS",c="CONTENT_SIZE_RESULT",d=new Set(["role","name","aria-label","rel","href"]);function u(e,t){let n=d.has(e);n||=e.startsWith("data-")&&E(e);let o=E(t)&&t.length<100;return o||=t.startsWith("#")&&E(t.slice(1)),n&&o}function h(e){return E(e)}function m(e){return E(e)}function p(e){return!0}function f(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";const n={root:document.body,idName:h,className:m,tagName:p,attr:u,timeoutMs:1e3,seedMinLength:3,optimizedMinLength:2,maxNumberOfPathChecks:1/0},o=new Date,i={...n,...t},s=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(i.root,n);let r,l=0;for(const t of function*(e,t,n){const o=[];let i=[],s=e,r=0;for(;s&&s!==n;){const e=g(s,t);for(const t of e)t.level=r;if(o.push(e),s=s.parentElement,r++,i.push(...k(o)),r>=t.seedMinLength){i.sort(v);for(const e of i)yield e;i=[]}}i.sort(v);for(const e of i)yield e}(e,i,s)){if((new Date).getTime()-o.getTime()>i.timeoutMs||l>=i.maxNumberOfPathChecks){const t=N(e,s);if(!t)throw new Error(`Timeout: Can't find a unique selector after ${i.timeoutMs}ms`);return y(t)}if(l++,L(t,s)){r=t;break}}if(!r)throw new Error("Selector was not found.");const a=[...S(r,e,i,s,o)];return a.sort(v),a.length>0?y(a[0]):y(r)}function E(e){if(/^[a-z\-]{3,}$/i.test(e)){const t=e.split(/-|[A-Z]/);for(const e of t){if(e.length<=2)return!1;if(/[^aeiou]{4,}/i.test(e))return!1}return!0}return!1}function g(e,t){const n=[],o=e.getAttribute("id");o&&t.idName(o)&&n.push({name:"#"+CSS.escape(o),penalty:0});for(let o=0;o<e.classList.length;o++){const i=e.classList[o];t.className(i)&&n.push({name:"."+CSS.escape(i),penalty:1})}for(let o=0;o<e.attributes.length;o++){const i=e.attributes[o];t.attr(i.name,i.value)&&n.push({name:`[${CSS.escape(i.name)}="${CSS.escape(i.value)}"]`,penalty:2})}const i=e.tagName.toLowerCase();if(t.tagName(i)){n.push({name:i,penalty:5});const t=w(e,i);void 0!==t&&n.push({name:C(i,t),penalty:10})}const s=w(e);return void 0!==s&&n.push({name:x(i,s),penalty:50}),n}function y(e){let t=e[0],n=t.name;for(let o=1;o<e.length;o++){const i=e[o].level||0;n=t.level===i-1?`${e[o].name} > ${n}`:`${e[o].name} ${n}`,t=e[o]}return n}function b(e){return e.map(e=>e.penalty).reduce((e,t)=>e+t,0)}function v(e,t){return b(e)-b(t)}function w(e,t){const n=e.parentNode;if(!n)return;let o=n.firstChild;if(!o)return;let i=0;for(;o&&(o.nodeType!==Node.ELEMENT_NODE||void 0!==t&&o.tagName.toLowerCase()!==t||i++,o!==e);)o=o.nextSibling;return i}function N(e,t){let n=0,o=e;const i=[];for(;o&&o!==t;){const e=o.tagName.toLowerCase(),t=w(o,e);if(void 0===t)return;i.push({name:C(e,t),penalty:NaN,level:n}),o=o.parentElement,n++}if(L(i,t))return i}function x(e,t){return"html"===e?"html":`${e}:nth-child(${t})`}function C(e,t){return"html"===e?"html":`${e}:nth-of-type(${t})`}function*k(e,t=[]){if(e.length>0)for(let n of e[0])yield*k(e.slice(1,e.length),t.concat(n));else yield t}function L(e,t){const n=y(e);switch(t.querySelectorAll(n).length){case 0:throw new Error(`Can't select any node with this selector: ${n}`);case 1:return!0;default:return!1}}function*S(e,t,n,o,i){if(e.length>2&&e.length>n.optimizedMinLength)for(let s=1;s<e.length-1;s++){if((new Date).getTime()-i.getTime()>n.timeoutMs)return;const r=[...e];r.splice(s,1),L(r,o)&&o.querySelector(y(r))===t&&(yield r,yield*S(r,t,n,o,i))}}function T(e){return e instanceof HTMLElement}let I=null,M=null;const $=new Map;let D=!1,H=null,P=!1;async function A(){if(M&&I)return;let e=document.getElementById("spsk-root");e||(e=document.createElement("div"),e.id="spsk-root",(document.documentElement||document.body).appendChild(e)),I=e.shadowRoot??e.attachShadow({mode:"open"});const t=chrome.runtime.getURL("styles/overlay.css");let n=I.querySelector(`link[rel="stylesheet"][href="${t}"]`);if(n||(n=document.createElement("link"),n.rel="stylesheet",n.href=t,I.appendChild(n)),M=I.querySelector("div.spsk-overlay"),M||(M=document.createElement("div"),M.className="spsk-overlay",I.appendChild(M)),!P){const e=()=>{D||(D=!0,requestAnimationFrame(()=>{D=!1,_()}))};window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),window.visualViewport&&(window.visualViewport.addEventListener("scroll",e,{passive:!0}),window.visualViewport.addEventListener("resize",e,{passive:!0})),P=!0}}function O(e){const t=$.get(e.id);if(t)return t;const n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");i.className="spsk-comment",n.append(o,i);const s={anchor:e.anchor,boxEl:n,badgeEl:o,commentEl:i,elRef:null,missing:!0};return $.set(e.id,s),M.appendChild(n),s}const R=(e,t)=>{const n=`${t.size}px`,o=t.color.toLowerCase();e.anchor=t.anchor,e.boxEl.className=`spsk-box spsk-box--${o}`,e.boxEl.style.setProperty("--spsk-border-w",t.size/4+"px"),e.badgeEl.className=`spsk-badge spsk-badge--${t.shape} spsk-badge--${o} spsk-badge--${t.position}`,e.badgeEl.style.fontSize=n,e.badgeEl.textContent=String(t.label),t.comment?(e.commentEl.textContent=t.comment,e.commentEl.style.display="inline",e.commentEl.style.fontSize=n):(e.commentEl.textContent="",e.commentEl.style.display="none")};async function W(){M&&(M.innerHTML="",$.clear())}function B(e){try{return document.querySelector(e)}catch{return null}}function _(){for(const[e,t]of $.entries()){const e=B(t.anchor.value);if(t.elRef=e?new WeakRef(e):null,!e){t.boxEl.style.display="none",t.missing=!0;continue}t.boxEl.style.display="",t.missing=!1;const n=e.getBoundingClientRect();t.boxEl.style.left=`${n.left}px`,t.boxEl.style.top=`${n.top}px`,t.boxEl.style.width=`${n.width}px`,t.boxEl.style.height=`${n.height}px`}}const z=new class{enabled=!1;onPick;onClick=e=>this.handleClick(e);onPointerDown=e=>this.handlePointerDown(e);onMouseOver=e=>this.highlight(e);hoverBox=null;cleanupTemp;lastHoverEl;constructor(e){this.onPick=e}setEnabled(e){e!==this.enabled&&(this.enabled=e,e?(document.addEventListener("click",this.onClick,!0),document.addEventListener("pointerdown",this.onPointerDown,!0),document.addEventListener("mouseover",this.onMouseOver,!0)):(document.removeEventListener("click",this.onClick,!0),document.removeEventListener("pointerdown",this.onPointerDown,!0),document.removeEventListener("mouseover",this.onMouseOver,!0),this.cleanupTemp?.(),this.lastHoverEl=null,this.removeHover()))}handleClick(e){this.enabled&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation?.())}handlePointerDown(e){if(!this.enabled)return;if(0!==e.button||!e.isPrimary)return;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation?.();const t=e.target;t&&1===t.nodeType&&(this.onPick(t),this.cleanupTemp?.())}highlight(e){if(!this.enabled)return;const t=e.target;if(!t||1!==t.nodeType)return;const n=t.getBoundingClientRect();this.ensureHover();const o=this.hoverBox;o.style.left=`${n.left+window.scrollX}px`,o.style.top=`${n.top+window.scrollY}px`,o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,this.lastHoverEl!==t&&(this.cleanupTemp?.(),this.cleanupTemp=this.tempEnableIfDisabled(t),this.lastHoverEl=t)}tempEnableIfDisabled(e){const t=e;if(!("disabled"in t))return()=>{};if(!t.disabled)return()=>{};const n={disabled:t.disabled,aria:t.getAttribute("aria-disabled"),pe:t.style.pointerEvents};return t.disabled=!1,t.setAttribute("aria-disabled","true"),t.style.pointerEvents="auto",()=>{t.disabled=n.disabled,null===n.aria?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled",n.aria),t.style.pointerEvents=n.pe}}ensureHover(){this.hoverBox||(this.hoverBox=document.createElement("div"),Object.assign(this.hoverBox.style,{position:"absolute",outline:"3px dashed rgba(99, 102, 241, 1)",background:"rgba(99, 102, 241, 0.3)",pointerEvents:"none",zIndex:"2147483647"}),document.body.appendChild(this.hoverBox))}removeHover(){this.hoverBox?.remove(),this.hoverBox=null}}(function(e){const t=function(e){return{kind:"css",value:f(e,{timeoutMs:500}),version:1}}(e);F?.postMessage({type:l,payload:{anchors:[t]},id:crypto.randomUUID()})});let F=null;chrome.runtime.onConnect.addListener(async l=>{(function(t){return function(e,t){return e.name===t}(t,e)})(l)&&(F=l,await A(),l.onMessage.addListener(async e=>{if(e?.type)switch(e.type){case t:l.postMessage({id:e.id,ok:!0});break;case n:z.setEnabled(!!e.payload?.enabled);break;case o:{const t=e.payload.items;await async function(e){if(M||await A(),!M)return;const t=new Set(e.map(e=>e.id));for(const[e,n]of $.entries())t.has(e)||(n.boxEl.remove(),$.delete(e));for(const t of e){const e=O(t);R(e,t)}await new Promise(e=>{requestAnimationFrame(()=>{_(),e()})})}(t),function(){const e=Array.from($.entries()).filter(([,e])=>e.missing).map(([e])=>e);F?.postMessage({type:a,payload:{missingIds:e},id:crypto.randomUUID()})}();break}case i:await W();break;case s:await async function(e){if(e===H)return;const t=H;H=e,null!=t&&$.get(t)?.boxEl.classList.remove("is-hovered"),null!=e&&$.get(e)?.boxEl.classList.add("is-hovered")}(e.payload.id);break;case r:{const e=function(){const e=document.documentElement,t=document.body??null,n=document.scrollingElement??null,o=Math.max(e.scrollWidth,e.offsetWidth,e.clientWidth,t?.scrollWidth??0,t?.offsetWidth??0,t?.clientWidth??0,n?.scrollWidth??0,n?.offsetWidth??0,n?.clientWidth??0),i=Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight,t?.scrollHeight??0,t?.offsetHeight??0,t?.clientHeight??0,n?.scrollHeight??0,n?.offsetHeight??0,n?.clientHeight??0);let s=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,c=0,d=0;const u=(window.visualViewport?.pageLeft??window.scrollX)||0,h=(window.visualViewport?.pageTop??window.scrollY)||0,m=Array.from(document.querySelectorAll("*")).filter(T);for(const e of m){e.scrollWidth>c&&(c=e.scrollWidth),e.scrollHeight>d&&(d=e.scrollHeight);const t=e.getBoundingClientRect(),n=t.left+u,o=t.right+u,i=t.top+h,m=t.bottom+h;n<s&&(s=n),i<r&&(r=i),o>l&&(l=o),m>a&&(a=m)}isFinite(s)||(s=0),isFinite(r)||(r=0),isFinite(l)||(l=o),isFinite(a)||(a=i);const p=Math.max(0,Math.ceil(l-s)),f=Math.max(0,Math.ceil(a-r));return{width:Math.max(o,c,p),height:Math.max(i,d,f)}}();l.postMessage({type:c,payload:e})}}}),l.onDisconnect.addListener(()=>{z.setEnabled(!1),W()}))})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQU1nRyxJQUNOQSxFQUFTaEcsR0FDVDJHLEVBQVFWLElBQ1JBLEVBQVdVLEdBRVhDLEVBQVNULElBQ1RBLEVBQVlTLEVBRXBCLENBRUtDLFNBQVNoQixLQUNWQSxFQUFVLEdBQ1RnQixTQUFTYixLQUNWQSxFQUFTLEdBQ1JhLFNBQVNaLEtBQ1ZBLEVBQVdkLEdBQ1YwQixTQUFTVixLQUNWQSxFQUFZVixHQUVoQixNQUFNcUIsRUFBWTFCLEtBQUtDLElBQUksRUFBR0QsS0FBSzJCLEtBQUtkLEVBQVdKLElBQzdDbUIsRUFBYTVCLEtBQUtDLElBQUksRUFBR0QsS0FBSzJCLEtBQUtaLEVBQVlILElBSXJELE1BQU8sQ0FDSC9GLE1BSFVtRixLQUFLQyxJQUFJRixFQUFPaUIsRUFBWVUsR0FJdEM1RyxPQUhXa0YsS0FBS0MsSUFBSUksRUFBT1ksRUFBWVcsR0FLL0MsQ0VuRGdDQyxHQUNoQnRELEVBQUVSLFlBQVksQ0FBRUMsS0FBTWxPLEVBQThCbU8sV0FDeEQsS0FLUk0sRUFBRXVELGFBQWF4RCxZQUFZLEtBQ3ZCdkQsRUFBVWUsWUFBVyxHQUNyQjlCLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21tb24vY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL2NvbW1vbi9tZXNzYWdlcy50cyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BtZWR2L2ZpbmRlci9maW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9jb250ZW50L21lYXN1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9jb250ZW50L292ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9jb250ZW50L21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vcnVudGltZS9jb250ZW50L3NlbGVjdG9yLnRzIiwid2VicGFjazovLy8uL3J1bnRpbWUvY29udGVudC9hbmNob3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBST1RPQ09MX1ZFUlNJT04gPSAxO1xuZXhwb3J0IGNvbnN0IENIQU5ORUwgPSB7XG4gICAgUEFORUxfQ09OVEVOVDogYHNwc2s6cGFuZWwtY29udGVudDp2JHtQUk9UT0NPTF9WRVJTSU9OfWAsXG59O1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gUG9ydC5uYW1lIG1hdGNoZXMgdGhlIHNwZWNpZmllZCBjaGFubmVsLlxuICogVXNlIHRoaXMgdG8gc2FmZWx5IGRpc3Rpbmd1aXNoIGNvbm5lY3Rpb24gdHlwZXMgYmV0d2VlbiBQYW5lbCBhbmQgQ29udGVudC5cbiAqXG4gKiBAcGFyYW0gcG9ydCAtIEEgY29ubmVjdGVkIHJ1bnRpbWUuUG9ydFxuICogQHBhcmFtIG5hbWUgLSBUYXJnZXQgY2hhbm5lbCBuYW1lIHRvIGNvbXBhcmVcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvcnQgYmVsb25ncyB0byB0aGUgY2hhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaGFubmVsKHBvcnQsIG5hbWUpIHtcbiAgICByZXR1cm4gcG9ydC5uYW1lID09PSBuYW1lO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBvcnQgaXMgdXNlZCBmb3IgUGFuZWwg4oaUIENvbnRlbnQgY29tbXVuaWNhdGlvbi5cbiAqIEEgY29udmVuaWVuY2Ugd3JhcHBlciBmb3IgQ0hBTk5FTC5QQU5FTF9DT05URU5ULlxuICpcbiAqIEBwYXJhbSBwb3J0IC0gQSBjb25uZWN0ZWQgcnVudGltZS5Qb3J0XG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwb3J0IGlzIHRoZSBQYW5lbOKAk0NvbnRlbnQgY2hhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQYW5lbENvbnRlbnRQb3J0KHBvcnQpIHtcbiAgICByZXR1cm4gaXNDaGFubmVsKHBvcnQsIENIQU5ORUwuUEFORUxfQ09OVEVOVCk7XG59XG4iLCJjb25zdCBQMkMgPSB7XG4gICAgUElORzogJ1BJTkcnLFxuICAgIFRPR0dMRV9TRUxFQ1Q6ICdUT0dHTEVfU0VMRUNUJyxcbiAgICBSRU5ERVI6ICdSRU5ERVInLFxuICAgIENMRUFSOiAnQ0xFQVInLFxuICAgIEhPVkVSOiAnSE9WRVInLFxuICAgIE1FQVNVUkVfU0laRTogJ01FQVNVUkVfU0laRScsXG59O1xuY29uc3QgQzJQID0ge1xuICAgIFNFTEVDVEVEOiAnU0VMRUNURUQnLFxuICAgIE1JU1NJTkdfSURTOiAnTUlTU0lOR19JRFMnLFxuICAgIENPTlRFTlRfU0laRV9SRVNVTFQ6ICdDT05URU5UX1NJWkVfUkVTVUxUJyxcbn07XG5jb25zdCBCMlAgPSB7XG4gICAgQUNUSVZFX1RBQl9DSEFOR0VEOiAnQUNUSVZFX1RBQl9DSEFOR0VEJyxcbn07XG5leHBvcnQgY29uc3QgTVNHX1RZUEUgPSB7IC4uLlAyQywgLi4uQzJQLCAuLi5CMlAgfTtcbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3BvbnNlKG1zZykge1xuICAgIHJldHVybiB0eXBlb2YgbXNnID09PSAnb2JqZWN0JyAmJiBtc2cgIT09IG51bGwgJiYgJ2lkJyBpbiBtc2cgJiYgJ29rJyBpbiBtc2c7XG59XG4iLCIvLyBMaWNlbnNlOiBNSVRcbi8vIEF1dGhvcjogQW50b24gTWVkdmVkZXYgPGFudG9uQG1lZHYuaW8+XG4vLyBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRvbm1lZHYvZmluZGVyXG5jb25zdCBhY2NlcHRlZEF0dHJOYW1lcyA9IG5ldyBTZXQoWydyb2xlJywgJ25hbWUnLCAnYXJpYS1sYWJlbCcsICdyZWwnLCAnaHJlZiddKTtcbi8qKiBDaGVjayBpZiBhdHRyaWJ1dGUgbmFtZSBhbmQgdmFsdWUgYXJlIHdvcmQtbGlrZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKG5hbWUsIHZhbHVlKSB7XG4gICAgbGV0IG5hbWVJc09rID0gYWNjZXB0ZWRBdHRyTmFtZXMuaGFzKG5hbWUpO1xuICAgIG5hbWVJc09rIHx8PSBuYW1lLnN0YXJ0c1dpdGgoJ2RhdGEtJykgJiYgd29yZExpa2UobmFtZSk7XG4gICAgbGV0IHZhbHVlSXNPayA9IHdvcmRMaWtlKHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPCAxMDA7XG4gICAgdmFsdWVJc09rIHx8PSB2YWx1ZS5zdGFydHNXaXRoKCcjJykgJiYgd29yZExpa2UodmFsdWUuc2xpY2UoMSkpO1xuICAgIHJldHVybiBuYW1lSXNPayAmJiB2YWx1ZUlzT2s7XG59XG4vKiogQ2hlY2sgaWYgaWQgbmFtZSBpcyB3b3JkLWxpa2UuICovXG5leHBvcnQgZnVuY3Rpb24gaWROYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gd29yZExpa2UobmFtZSk7XG59XG4vKiogQ2hlY2sgaWYgY2xhc3MgbmFtZSBpcyB3b3JkLWxpa2UuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhc3NOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gd29yZExpa2UobmFtZSk7XG59XG4vKiogQ2hlY2sgaWYgdGFnIG5hbWUgaXMgd29yZC1saWtlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRhZ05hbWUobmFtZSkge1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqIEZpbmRzIHVuaXF1ZSBDU1Mgc2VsZWN0b3JzIGZvciB0aGUgZ2l2ZW4gZWxlbWVudC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kZXIoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoaW5wdXQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZ2VuZXJhdGUgQ1NTIHNlbGVjdG9yIGZvciBub24tZWxlbWVudCBub2RlIHR5cGUuYCk7XG4gICAgfVxuICAgIGlmIChpbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdodG1sJykge1xuICAgICAgICByZXR1cm4gJ2h0bWwnO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgICAgcm9vdDogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgaWROYW1lOiBpZE5hbWUsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICB0YWdOYW1lOiB0YWdOYW1lLFxuICAgICAgICBhdHRyOiBhdHRyLFxuICAgICAgICB0aW1lb3V0TXM6IDEwMDAsXG4gICAgICAgIHNlZWRNaW5MZW5ndGg6IDMsXG4gICAgICAgIG9wdGltaXplZE1pbkxlbmd0aDogMixcbiAgICAgICAgbWF4TnVtYmVyT2ZQYXRoQ2hlY2tzOiBJbmZpbml0eSxcbiAgICB9O1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgY29uZmlnID0geyAuLi5kZWZhdWx0cywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHJvb3REb2N1bWVudCA9IGZpbmRSb290RG9jdW1lbnQoY29uZmlnLnJvb3QsIGRlZmF1bHRzKTtcbiAgICBsZXQgZm91bmRQYXRoO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2Ygc2VhcmNoKGlucHV0LCBjb25maWcsIHJvb3REb2N1bWVudCkpIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZFRpbWVNcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKGVsYXBzZWRUaW1lTXMgPiBjb25maWcudGltZW91dE1zIHx8XG4gICAgICAgICAgICBjb3VudCA+PSBjb25maWcubWF4TnVtYmVyT2ZQYXRoQ2hlY2tzKSB7XG4gICAgICAgICAgICBjb25zdCBmUGF0aCA9IGZhbGxiYWNrKGlucHV0LCByb290RG9jdW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFmUGF0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGltZW91dDogQ2FuJ3QgZmluZCBhIHVuaXF1ZSBzZWxlY3RvciBhZnRlciAke2NvbmZpZy50aW1lb3V0TXN9bXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RvcihmUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY291bnQrKztcbiAgICAgICAgaWYgKHVuaXF1ZShjYW5kaWRhdGUsIHJvb3REb2N1bWVudCkpIHtcbiAgICAgICAgICAgIGZvdW5kUGF0aCA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZm91bmRQYXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VsZWN0b3Igd2FzIG5vdCBmb3VuZC5gKTtcbiAgICB9XG4gICAgY29uc3Qgb3B0aW1pemVkID0gW1xuICAgICAgICAuLi5vcHRpbWl6ZShmb3VuZFBhdGgsIGlucHV0LCBjb25maWcsIHJvb3REb2N1bWVudCwgc3RhcnRUaW1lKSxcbiAgICBdO1xuICAgIG9wdGltaXplZC5zb3J0KGJ5UGVuYWx0eSk7XG4gICAgaWYgKG9wdGltaXplZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RvcihvcHRpbWl6ZWRbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0b3IoZm91bmRQYXRoKTtcbn1cbmZ1bmN0aW9uKiBzZWFyY2goaW5wdXQsIGNvbmZpZywgcm9vdERvY3VtZW50KSB7XG4gICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICBsZXQgcGF0aHMgPSBbXTtcbiAgICBsZXQgY3VycmVudCA9IGlucHV0O1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSByb290RG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSB0aWUoY3VycmVudCwgY29uZmlnKTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGxldmVsKSB7XG4gICAgICAgICAgICBub2RlLmxldmVsID0gaTtcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wdXNoKGxldmVsKTtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaSsrO1xuICAgICAgICBwYXRocy5wdXNoKC4uLmNvbWJpbmF0aW9ucyhzdGFjaykpO1xuICAgICAgICBpZiAoaSA+PSBjb25maWcuc2VlZE1pbkxlbmd0aCkge1xuICAgICAgICAgICAgcGF0aHMuc29ydChieVBlbmFsdHkpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgcGF0aHMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjYW5kaWRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXRocyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhdGhzLnNvcnQoYnlQZW5hbHR5KTtcbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBwYXRocykge1xuICAgICAgICB5aWVsZCBjYW5kaWRhdGU7XG4gICAgfVxufVxuZnVuY3Rpb24gd29yZExpa2UobmFtZSkge1xuICAgIGlmICgvXlthLXpcXC1dezMsfSQvaS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIGNvbnN0IHdvcmRzID0gbmFtZS5zcGxpdCgvLXxbQS1aXS8pO1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgICAgICAgIGlmICh3b3JkLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9bXmFlaW91XXs0LH0vaS50ZXN0KHdvcmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0aWUoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgY29uc3QgbGV2ZWwgPSBbXTtcbiAgICBjb25zdCBlbGVtZW50SWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICBpZiAoZWxlbWVudElkICYmIGNvbmZpZy5pZE5hbWUoZWxlbWVudElkKSkge1xuICAgICAgICBsZXZlbC5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICcjJyArIENTUy5lc2NhcGUoZWxlbWVudElkKSxcbiAgICAgICAgICAgIHBlbmFsdHk6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnQuY2xhc3NMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmNsYXNzTGlzdFtpXTtcbiAgICAgICAgaWYgKGNvbmZpZy5jbGFzc05hbWUobmFtZSkpIHtcbiAgICAgICAgICAgIGxldmVsLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICcuJyArIENTUy5lc2NhcGUobmFtZSksXG4gICAgICAgICAgICAgICAgcGVuYWx0eTogMSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBlbGVtZW50LmF0dHJpYnV0ZXNbaV07XG4gICAgICAgIGlmIChjb25maWcuYXR0cihhdHRyLm5hbWUsIGF0dHIudmFsdWUpKSB7XG4gICAgICAgICAgICBsZXZlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBgWyR7Q1NTLmVzY2FwZShhdHRyLm5hbWUpfT1cIiR7Q1NTLmVzY2FwZShhdHRyLnZhbHVlKX1cIl1gLFxuICAgICAgICAgICAgICAgIHBlbmFsdHk6IDIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGNvbmZpZy50YWdOYW1lKHRhZ05hbWUpKSB7XG4gICAgICAgIGxldmVsLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogdGFnTmFtZSxcbiAgICAgICAgICAgIHBlbmFsdHk6IDUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbmRleCA9IGluZGV4T2YoZWxlbWVudCwgdGFnTmFtZSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXZlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBudGhPZlR5cGUodGFnTmFtZSwgaW5kZXgpLFxuICAgICAgICAgICAgICAgIHBlbmFsdHk6IDEwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbnRoID0gaW5kZXhPZihlbGVtZW50KTtcbiAgICBpZiAobnRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV2ZWwucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBudGhDaGlsZCh0YWdOYW1lLCBudGgpLFxuICAgICAgICAgICAgcGVuYWx0eTogNTAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGV2ZWw7XG59XG5mdW5jdGlvbiBzZWxlY3RvcihwYXRoKSB7XG4gICAgbGV0IG5vZGUgPSBwYXRoWzBdO1xuICAgIGxldCBxdWVyeSA9IG5vZGUubmFtZTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBwYXRoW2ldLmxldmVsIHx8IDA7XG4gICAgICAgIGlmIChub2RlLmxldmVsID09PSBsZXZlbCAtIDEpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gYCR7cGF0aFtpXS5uYW1lfSA+ICR7cXVlcnl9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gYCR7cGF0aFtpXS5uYW1lfSAke3F1ZXJ5fWA7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IHBhdGhbaV07XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbn1cbmZ1bmN0aW9uIHBlbmFsdHkocGF0aCkge1xuICAgIHJldHVybiBwYXRoLm1hcCgobm9kZSkgPT4gbm9kZS5wZW5hbHR5KS5yZWR1Y2UoKGFjYywgaSkgPT4gYWNjICsgaSwgMCk7XG59XG5mdW5jdGlvbiBieVBlbmFsdHkoYSwgYikge1xuICAgIHJldHVybiBwZW5hbHR5KGEpIC0gcGVuYWx0eShiKTtcbn1cbmZ1bmN0aW9uIGluZGV4T2YoaW5wdXQsIHRhZ05hbWUpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBpbnB1dC5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCBjaGlsZCA9IHBhcmVudC5maXJzdENoaWxkO1xuICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmXG4gICAgICAgICAgICAodGFnTmFtZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgY2hpbGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0YWdOYW1lKSkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZCA9PT0gaW5wdXQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBpO1xufVxuZnVuY3Rpb24gZmFsbGJhY2soaW5wdXQsIHJvb3REb2N1bWVudCkge1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgY3VycmVudCA9IGlucHV0O1xuICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSByb290RG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGN1cnJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBpbmRleCA9IGluZGV4T2YoY3VycmVudCwgdGFnTmFtZSk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF0aC5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG50aE9mVHlwZSh0YWdOYW1lLCBpbmRleCksXG4gICAgICAgICAgICBwZW5hbHR5OiBOYU4sXG4gICAgICAgICAgICBsZXZlbDogaSxcbiAgICAgICAgfSk7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKHVuaXF1ZShwYXRoLCByb290RG9jdW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG50aENoaWxkKHRhZ05hbWUsIGluZGV4KSB7XG4gICAgaWYgKHRhZ05hbWUgPT09ICdodG1sJykge1xuICAgICAgICByZXR1cm4gJ2h0bWwnO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dGFnTmFtZX06bnRoLWNoaWxkKCR7aW5kZXh9KWA7XG59XG5mdW5jdGlvbiBudGhPZlR5cGUodGFnTmFtZSwgaW5kZXgpIHtcbiAgICBpZiAodGFnTmFtZSA9PT0gJ2h0bWwnKSB7XG4gICAgICAgIHJldHVybiAnaHRtbCc7XG4gICAgfVxuICAgIHJldHVybiBgJHt0YWdOYW1lfTpudGgtb2YtdHlwZSgke2luZGV4fSlgO1xufVxuZnVuY3Rpb24qIGNvbWJpbmF0aW9ucyhzdGFjaywgcGF0aCA9IFtdKSB7XG4gICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBzdGFja1swXSkge1xuICAgICAgICAgICAgeWllbGQqIGNvbWJpbmF0aW9ucyhzdGFjay5zbGljZSgxLCBzdGFjay5sZW5ndGgpLCBwYXRoLmNvbmNhdChub2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHlpZWxkIHBhdGg7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZFJvb3REb2N1bWVudChyb290Tm9kZSwgZGVmYXVsdHMpIHtcbiAgICBpZiAocm9vdE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfTk9ERSkge1xuICAgICAgICByZXR1cm4gcm9vdE5vZGU7XG4gICAgfVxuICAgIGlmIChyb290Tm9kZSA9PT0gZGVmYXVsdHMucm9vdCkge1xuICAgICAgICByZXR1cm4gcm9vdE5vZGUub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3ROb2RlO1xufVxuZnVuY3Rpb24gdW5pcXVlKHBhdGgsIHJvb3REb2N1bWVudCkge1xuICAgIGNvbnN0IGNzcyA9IHNlbGVjdG9yKHBhdGgpO1xuICAgIHN3aXRjaCAocm9vdERvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3NzKS5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBzZWxlY3QgYW55IG5vZGUgd2l0aCB0aGlzIHNlbGVjdG9yOiAke2Nzc31gKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24qIG9wdGltaXplKHBhdGgsIGlucHV0LCBjb25maWcsIHJvb3REb2N1bWVudCwgc3RhcnRUaW1lKSB7XG4gICAgaWYgKHBhdGgubGVuZ3RoID4gMiAmJiBwYXRoLmxlbmd0aCA+IGNvbmZpZy5vcHRpbWl6ZWRNaW5MZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZFRpbWVNcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTtcbiAgICAgICAgICAgIGlmIChlbGFwc2VkVGltZU1zID4gY29uZmlnLnRpbWVvdXRNcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBbLi4ucGF0aF07XG4gICAgICAgICAgICBuZXdQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGlmICh1bmlxdWUobmV3UGF0aCwgcm9vdERvY3VtZW50KSAmJlxuICAgICAgICAgICAgICAgIHJvb3REb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKG5ld1BhdGgpKSA9PT0gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBuZXdQYXRoO1xuICAgICAgICAgICAgICAgIHlpZWxkKiBvcHRpbWl6ZShuZXdQYXRoLCBpbnB1dCwgY29uZmlnLCByb290RG9jdW1lbnQsIHN0YXJ0VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEBzdW1tYXJ5IFR5cGUgZ3VhcmQgdG8gZW5zdXJlIHRoZSBwcm92aWRlZCBlbGVtZW50IGlzIGFuIEhUTUxFbGVtZW50LlxuICogQHBhcmFtIGVsIFRoZSBlbGVtZW50IHRvIGNoZWNrLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyBhbiBIVE1MRWxlbWVudDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqL1xuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xufVxuLyoqXG4gKiBAc3VtbWFyeSBHZXRzIHRoZSBob3Jpem9udGFsIHBhZ2Ugb2Zmc2V0IGluIENTUyBwaXhlbHMsIHByZWZlcnJpbmcgdmlzdWFsVmlld3BvcnQgd2hlbiBhdmFpbGFibGUuXG4gKiBAcmV0dXJucyBUaGUgaG9yaXpvbnRhbCBwYWdlIG9mZnNldCAoQ1NTIHBpeGVscykuXG4gKi9cbmZ1bmN0aW9uIHBhZ2VPZmZzZXRYKCkge1xuICAgIC8vIFByZWZlciB2aXN1YWxWaWV3cG9ydCBmb3IgcGluY2gtem9vbSBzY2VuYXJpb3M7IG9mdGVuIGVxdWFscyB3aW5kb3cuc2Nyb2xsWCBvbiBkZXNrdG9wLlxuICAgIHJldHVybiAod2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlTGVmdCA/PyB3aW5kb3cuc2Nyb2xsWCkgfHwgMDtcbn1cbi8qKlxuICogQHN1bW1hcnkgR2V0cyB0aGUgdmVydGljYWwgcGFnZSBvZmZzZXQgaW4gQ1NTIHBpeGVscywgcHJlZmVycmluZyB2aXN1YWxWaWV3cG9ydCB3aGVuIGF2YWlsYWJsZS5cbiAqIEByZXR1cm5zIFRoZSB2ZXJ0aWNhbCBwYWdlIG9mZnNldCAoQ1NTIHBpeGVscykuXG4gKi9cbmZ1bmN0aW9uIHBhZ2VPZmZzZXRZKCkge1xuICAgIC8vIFByZWZlciB2aXN1YWxWaWV3cG9ydCBmb3IgcGluY2gtem9vbSBzY2VuYXJpb3M7IG9mdGVuIGVxdWFscyB3aW5kb3cuc2Nyb2xsWSBvbiBkZXNrdG9wLlxuICAgIHJldHVybiAod2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlVG9wID8/IHdpbmRvdy5zY3JvbGxZKSB8fCAwO1xufVxuLyoqXG4gKiBAc3VtbWFyeSBNZWFzdXJlcyB0aGUgbWF4aW11bSByZW5kZXJlZCBjb250ZW50IGFyZWEgb2YgdGhlIHBhZ2UgaW4gQ1NTIHBpeGVscywgY29uc2lkZXJpbmdcbiAqIHNjcm9sbCBjb250YWluZXJzIChlLmcuLCBvdmVyZmxvd2VkIDxtYWluPiksIGZpeGVkL2Fic29sdXRlL3RyYW5zZm9ybSBsYXlvdXRzLCBhbmQgbmVnYXRpdmUgb3ZlcmZsb3cuXG4gKiBBbHNvIHJldHVybnMgcm91Z2ggc2VsZWN0b3JzIGZvciB0aGUgZWxlbWVudHMgY29udHJpYnV0aW5nIHRvIHdpZHRoL2hlaWdodC5cbiAqIEByZXR1cm5zIEEgQ29udGVudFNpemUgb2JqZWN0IGNvbnRhaW5pbmcgd2lkdGgsIGhlaWdodCwgYW5kIHNlbGVjdG9yIGhpbnRzICh3aWRlc3RCeSwgdGFsbGVzdEJ5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVDb250ZW50U2l6ZSgpIHtcbiAgICBjb25zdCBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keSA/PyBudWxsO1xuICAgIGNvbnN0IHNlID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCA/PyBudWxsO1xuICAgIC8vIEJhc2VsaW5lIHNpemVzIGZyb20gZG9jdW1lbnQvYm9keS9zY3JvbGxpbmdFbGVtZW50IChzaXplIG1ldHJpY3Mgb25seSkuXG4gICAgY29uc3QgYmFzZVcgPSBNYXRoLm1heChkb2NFbC5zY3JvbGxXaWR0aCwgZG9jRWwub2Zmc2V0V2lkdGgsIGRvY0VsLmNsaWVudFdpZHRoLCBib2R5Py5zY3JvbGxXaWR0aCA/PyAwLCBib2R5Py5vZmZzZXRXaWR0aCA/PyAwLCBib2R5Py5jbGllbnRXaWR0aCA/PyAwLCBzZT8uc2Nyb2xsV2lkdGggPz8gMCwgc2U/Lm9mZnNldFdpZHRoID8/IDAsIHNlPy5jbGllbnRXaWR0aCA/PyAwKTtcbiAgICBjb25zdCBiYXNlSCA9IE1hdGgubWF4KGRvY0VsLnNjcm9sbEhlaWdodCwgZG9jRWwub2Zmc2V0SGVpZ2h0LCBkb2NFbC5jbGllbnRIZWlnaHQsIGJvZHk/LnNjcm9sbEhlaWdodCA/PyAwLCBib2R5Py5vZmZzZXRIZWlnaHQgPz8gMCwgYm9keT8uY2xpZW50SGVpZ2h0ID8/IDAsIHNlPy5zY3JvbGxIZWlnaHQgPz8gMCwgc2U/Lm9mZnNldEhlaWdodCA/PyAwLCBzZT8uY2xpZW50SGVpZ2h0ID8/IDApO1xuICAgIC8vIEFnZ3JlZ2F0ZSBlbGVtZW50IHBvc2l0aW9ucyAodmlzdWFsIGJvdW5kaW5nIGJveCkgYW5kIHNpemVzIChzY3JvbGwgdG90YWxzKSBzZXBhcmF0ZWx5LlxuICAgIGxldCBtaW5MZWZ0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGxldCBtaW5Ub3AgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IG1heFJpZ2h0ID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgIGxldCBtYXhCb3R0b20gPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IG1heFNjcm9sbFcgPSAwO1xuICAgIGxldCBtYXhTY3JvbGxIID0gMDtcbiAgICBjb25zdCBvZmZYID0gcGFnZU9mZnNldFgoKTtcbiAgICBjb25zdCBvZmZZID0gcGFnZU9mZnNldFkoKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpKS5maWx0ZXIoaXNIVE1MRWxlbWVudCk7XG4gICAgZm9yIChjb25zdCBlbCBvZiBlbGVtZW50cykge1xuICAgICAgICAvLyBTaXplIG1ldHJpY3MgKHRvdGFsIHNjcm9sbGFibGUgc2l6ZSBvZiBjb250YWluZXJzKS5cbiAgICAgICAgaWYgKGVsLnNjcm9sbFdpZHRoID4gbWF4U2Nyb2xsVykge1xuICAgICAgICAgICAgbWF4U2Nyb2xsVyA9IGVsLnNjcm9sbFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5zY3JvbGxIZWlnaHQgPiBtYXhTY3JvbGxIKSB7XG4gICAgICAgICAgICBtYXhTY3JvbGxIID0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvc2l0aW9uIG1ldHJpY3MgKHZpc3VhbCBib3VuZHMpIG5vcm1hbGl6ZWQgdG8gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgICAgY29uc3QgciA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gci5sZWZ0ICsgb2ZmWDtcbiAgICAgICAgY29uc3QgcmlnaHQgPSByLnJpZ2h0ICsgb2ZmWDtcbiAgICAgICAgY29uc3QgdG9wID0gci50b3AgKyBvZmZZO1xuICAgICAgICBjb25zdCBib3R0b20gPSByLmJvdHRvbSArIG9mZlk7XG4gICAgICAgIGlmIChsZWZ0IDwgbWluTGVmdClcbiAgICAgICAgICAgIG1pbkxlZnQgPSBsZWZ0O1xuICAgICAgICBpZiAodG9wIDwgbWluVG9wKVxuICAgICAgICAgICAgbWluVG9wID0gdG9wO1xuICAgICAgICBpZiAocmlnaHQgPiBtYXhSaWdodCkge1xuICAgICAgICAgICAgbWF4UmlnaHQgPSByaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm90dG9tID4gbWF4Qm90dG9tKSB7XG4gICAgICAgICAgICBtYXhCb3R0b20gPSBib3R0b207XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gR3VhcmRzIGZvciBwYWdlcyB3aXRoIG5vIGVsZW1lbnRzLlxuICAgIGlmICghaXNGaW5pdGUobWluTGVmdCkpXG4gICAgICAgIG1pbkxlZnQgPSAwO1xuICAgIGlmICghaXNGaW5pdGUobWluVG9wKSlcbiAgICAgICAgbWluVG9wID0gMDtcbiAgICBpZiAoIWlzRmluaXRlKG1heFJpZ2h0KSlcbiAgICAgICAgbWF4UmlnaHQgPSBiYXNlVztcbiAgICBpZiAoIWlzRmluaXRlKG1heEJvdHRvbSkpXG4gICAgICAgIG1heEJvdHRvbSA9IGJhc2VIO1xuICAgIC8vIFZpc3VhbCBib3VuZGluZy1ib3ggc2l6ZSAocG9zaXRpb24tYmFzZWQpLlxuICAgIGNvbnN0IGJib3hXaWR0aCA9IE1hdGgubWF4KDAsIE1hdGguY2VpbChtYXhSaWdodCAtIG1pbkxlZnQpKTtcbiAgICBjb25zdCBiYm94SGVpZ2h0ID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKG1heEJvdHRvbSAtIG1pblRvcCkpO1xuICAgIC8vIEZpbmFsIHNpemU6IHRoZSBtYXhpbXVtIG9mIGRvY3VtZW50IGJhc2VsaW5lLCBzY3JvbGwgdG90YWxzLCBhbmQgdmlzdWFsIGJvdW5kcy5cbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KGJhc2VXLCBtYXhTY3JvbGxXLCBiYm94V2lkdGgpO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KGJhc2VILCBtYXhTY3JvbGxILCBiYm94SGVpZ2h0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgIH07XG59XG4iLCJsZXQgc2hhZG93Um9vdCA9IG51bGw7XG5sZXQgcm9vdEVsID0gbnVsbDtcbmNvbnN0IHRyYWNrZWQgPSBuZXcgTWFwKCk7XG5sZXQgcmFmUGVuZGluZyA9IGZhbHNlO1xubGV0IGhvdmVyZWRJZCA9IG51bGw7XG5sZXQgbGlzdGVuZXJzQXR0YWNoZWQgPSBmYWxzZTtcbi8qKlxuICogTW91bnRzIHRoZSBvbi1wYWdlIG92ZXJsYXkgKFNoYWRvdyBET00pIHRoYXQgZHJhd3Mgc2VsZWN0aW9uIGJveGVzLlxuICogQWxzbyBzZXRzIHVwIHNjcm9sbC9yZXNpemUgbGlzdGVuZXJzIHRvIHJlc2NoZWR1bGUgcG9zaXRpb24gdXBkYXRlcy5cbiAqXG4gKiBAcmVtYXJrcyBJZGVtcG90ZW50OiByZXBlYXRlZCBjYWxscyB3b24ndCBtb3VudCB0d2ljZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1vdW50T3ZlcmxheSgpIHtcbiAgICBpZiAocm9vdEVsICYmIHNoYWRvd1Jvb3QpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgaG9zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcHNrLXJvb3QnKTtcbiAgICBpZiAoIWhvc3QpIHtcbiAgICAgICAgaG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBob3N0LmlkID0gJ3Nwc2stcm9vdCc7XG4gICAgICAgIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoaG9zdCk7XG4gICAgfVxuICAgIHNoYWRvd1Jvb3QgPSBob3N0LnNoYWRvd1Jvb3QgPz8gaG9zdC5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgY29uc3QgY3NzSHJlZiA9IGNocm9tZS5ydW50aW1lLmdldFVSTCgnc3R5bGVzL292ZXJsYXkuY3NzJyk7XG4gICAgbGV0IGxpbmsgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXVtocmVmPVwiJHtjc3NIcmVmfVwiXWApO1xuICAgIGlmICghbGluaykge1xuICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICBsaW5rLnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICAgICAgbGluay5ocmVmID0gY3NzSHJlZjtcbiAgICAgICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9XG4gICAgcm9vdEVsID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdkaXYuc3Bzay1vdmVybGF5Jyk7XG4gICAgaWYgKCFyb290RWwpIHtcbiAgICAgICAgcm9vdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJvb3RFbC5jbGFzc05hbWUgPSAnc3Bzay1vdmVybGF5JztcbiAgICAgICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZChyb290RWwpO1xuICAgIH1cbiAgICBpZiAoIWxpc3RlbmVyc0F0dGFjaGVkKSB7XG4gICAgICAgIGNvbnN0IHNjaGVkdWxlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJhZlBlbmRpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcmFmUGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJhZlBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbnMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2NoZWR1bGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNjaGVkdWxlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIGlmICh3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY2hlZHVsZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNjaGVkdWxlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdGVuZXJzQXR0YWNoZWQgPSB0cnVlO1xuICAgIH1cbn1cbi8qKlxuICogUmVuZGVycyB0aGUgZ2l2ZW4gaXRlbXMgaW50byB0aGUgb3ZlcmxheS5cbiAqIEFwcGxpZXMgYWRkL3VwZGF0ZS9yZW1vdmUgYnkgZGlmZmluZyBhZ2FpbnN0IGN1cnJlbnQgc3RhdGUuXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgU2NyZWVuSXRlbSB0byBkaXNwbGF5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGlmICghcm9vdEVsKVxuICAgICAgICBhd2FpdCBtb3VudE92ZXJsYXkoKTtcbiAgICBpZiAoIXJvb3RFbClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIERpZmY6IHJlbW92ZSBkaXNhcHBlYXJlZCBpdGVtc1xuICAgIGNvbnN0IGlkcyA9IG5ldyBTZXQoaXRlbXMubWFwKChpKSA9PiBpLmlkKSk7XG4gICAgZm9yIChjb25zdCBbaWQsIHRdIG9mIHRyYWNrZWQuZW50cmllcygpKSB7XG4gICAgICAgIGlmICghaWRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHQuYm94RWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB0cmFja2VkLmRlbGV0ZShpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkL3VwZGF0ZVxuICAgIGZvciAoY29uc3QgaXQgb2YgaXRlbXMpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBlbnN1cmVUcmFja2VkRW50cnkoaXQpO1xuICAgICAgICBhcHBseVZpc3VhbFN0YXRlKGVudHJ5LCBpdCk7XG4gICAgfVxuICAgIGF3YWl0IHdhaXRGb3JQb3NpdGlvbnNBcHBsaWVkKCk7XG59XG4vKipcbiAqIEVuc3VyZXMgYSBgVHJhY2tlZGAgZW50cnkgZXhpc3RzIGZvciB0aGUgZ2l2ZW4gc2NyZWVuIGl0ZW0uXG4gKiBJZiBwcmVzZW50LCByZXR1cm5zIHRoZSBleGlzdGluZyBvbmU7IG90aGVyd2lzZSBjcmVhdGVzIERPTSBub2Rlc1xuICogKGJveCwgYmFkZ2UsIGNvbW1lbnQpLCByZWdpc3RlcnMgdGhlbSwgYW5kIGFwcGVuZHMgdG8gdGhlIG92ZXJsYXkgcm9vdC5cbiAqXG4gKiBAcGFyYW0gaXRlbSAtIFNvdXJjZSBzY3JlZW4gaXRlbSB0byBlbnN1cmUgaXMgdHJhY2tlZC5cbiAqIEByZXR1cm5zIFRoZSBleGlzdGluZyBvciBuZXdseSBjcmVhdGVkIGBUcmFja2VkYCBlbnRyeSBmb3IgdGhlIGl0ZW0uXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZVRyYWNrZWRFbnRyeShpdGVtKSB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0cmFja2VkLmdldChpdGVtLmlkKTtcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgICBjb25zdCBib3hFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGJhZGdlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBjb21tZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb21tZW50RWwuY2xhc3NOYW1lID0gJ3Nwc2stY29tbWVudCc7XG4gICAgYm94RWwuYXBwZW5kKGJhZGdlRWwsIGNvbW1lbnRFbCk7XG4gICAgY29uc3QgbmV3RW50cnkgPSB7XG4gICAgICAgIGFuY2hvcjogaXRlbS5hbmNob3IsXG4gICAgICAgIGJveEVsLFxuICAgICAgICBiYWRnZUVsLFxuICAgICAgICBjb21tZW50RWwsXG4gICAgICAgIGVsUmVmOiBudWxsLFxuICAgICAgICBtaXNzaW5nOiB0cnVlLFxuICAgIH07XG4gICAgdHJhY2tlZC5zZXQoaXRlbS5pZCwgbmV3RW50cnkpO1xuICAgIHJvb3RFbC5hcHBlbmRDaGlsZChib3hFbCk7XG4gICAgcmV0dXJuIG5ld0VudHJ5O1xufVxuLyoqXG4gKiBBcHBsaWVzIHZpc3VhbCBzdGF0ZSAoY2xhc3NlcywgaW5saW5lIHN0eWxlcywgdGV4dCkgdG8gYSB0cmFja2VkIGVudHJ5XG4gKiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgc2NyZWVuIGl0ZW06IHNpemUsIGNvbG9yLCBzaGFwZSwgcG9zaXRpb24sIGFuZCBjb21tZW50LlxuICpcbiAqIEBwYXJhbSB0cmFja2VkIC0gVGhlIHRhcmdldCB0cmFja2VkIGVudHJ5IHdob3NlIERPTSBub2RlcyB3aWxsIGJlIHVwZGF0ZWQuXG4gKiBAcGFyYW0gaXRlbSAtIFRoZSBzb3VyY2Ugc2NyZWVuIGl0ZW0gd2hvc2UgdmlzdWFsIHByb3BlcnRpZXMgYXJlIGFwcGxpZWQuXG4gKi9cbmNvbnN0IGFwcGx5VmlzdWFsU3RhdGUgPSAodHJhY2tlZCwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IHNpemVQeCA9IGAke2l0ZW0uc2l6ZX1weGA7XG4gICAgY29uc3QgY29sb3IgPSBpdGVtLmNvbG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgdHJhY2tlZC5hbmNob3IgPSBpdGVtLmFuY2hvcjtcbiAgICB0cmFja2VkLmJveEVsLmNsYXNzTmFtZSA9IGBzcHNrLWJveCBzcHNrLWJveC0tJHtjb2xvcn1gO1xuICAgIHRyYWNrZWQuYm94RWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3Bzay1ib3JkZXItdycsIGAke2l0ZW0uc2l6ZSAvIDR9cHhgKTtcbiAgICB0cmFja2VkLmJhZGdlRWwuY2xhc3NOYW1lID0gYHNwc2stYmFkZ2Ugc3Bzay1iYWRnZS0tJHtpdGVtLnNoYXBlfSBzcHNrLWJhZGdlLS0ke2NvbG9yfSBzcHNrLWJhZGdlLS0ke2l0ZW0ucG9zaXRpb259YDtcbiAgICB0cmFja2VkLmJhZGdlRWwuc3R5bGUuZm9udFNpemUgPSBzaXplUHg7XG4gICAgdHJhY2tlZC5iYWRnZUVsLnRleHRDb250ZW50ID0gU3RyaW5nKGl0ZW0ubGFiZWwpO1xuICAgIGlmIChpdGVtLmNvbW1lbnQpIHtcbiAgICAgICAgdHJhY2tlZC5jb21tZW50RWwudGV4dENvbnRlbnQgPSBpdGVtLmNvbW1lbnQ7XG4gICAgICAgIHRyYWNrZWQuY29tbWVudEVsLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcbiAgICAgICAgdHJhY2tlZC5jb21tZW50RWwuc3R5bGUuZm9udFNpemUgPSBzaXplUHg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0cmFja2VkLmNvbW1lbnRFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICB0cmFja2VkLmNvbW1lbnRFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbn07XG4vKipcbiAqIENsZWFycyB0aGUgb3ZlcmxheSBhbmQgaXRzIGludGVybmFsIHRyYWNraW5nIHN0YXRlLlxuICogUmVtb3ZlcyBET00gbm9kZXMgYW5kIHJlc2V0cyB0aGUgbWFwLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJPdmVybGF5KCkge1xuICAgIGlmICghcm9vdEVsKVxuICAgICAgICByZXR1cm47XG4gICAgcm9vdEVsLmlubmVySFRNTCA9ICcnO1xuICAgIHRyYWNrZWQuY2xlYXIoKTtcbn1cbi8qKlxuICogU3dpdGNoZXMgdGhlIGhvdmVyIGhpZ2hsaWdodCB0byB0aGUgc3BlY2lmaWVkIG92ZXJsYXkuXG4gKlxuICogQHBhcmFtIGlkIC0gT3ZlcmxheSBpZGVudGlmaWVyIHRvIGhpZ2hsaWdodCwgb3IgYG51bGxgIHRvIGNsZWFyIHRoZSBoaWdobGlnaHQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoaWdobGlnaHRPdmVybGF5KGlkKSB7XG4gICAgaWYgKGlkID09PSBob3ZlcmVkSWQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBwcmV2ID0gaG92ZXJlZElkO1xuICAgIGhvdmVyZWRJZCA9IGlkO1xuICAgIGlmIChwcmV2ICE9IG51bGwpIHtcbiAgICAgICAgdHJhY2tlZC5nZXQocHJldik/LmJveEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhvdmVyZWQnKTtcbiAgICB9XG4gICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgdHJhY2tlZC5nZXQoaWQpPy5ib3hFbC5jbGFzc0xpc3QuYWRkKCdpcy1ob3ZlcmVkJyk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBJRHMgb2YgdHJhY2tlZCBpdGVtcyB3aG9zZSB0YXJnZXQgZWxlbWVudHMgYXJlIGN1cnJlbnRseSBtaXNzaW5nLlxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIGl0ZW0gSURzIHRoYXQgYXJlIG1hcmtlZCBhcyBtaXNzaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlzc2luZ0lkcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0cmFja2VkLmVudHJpZXMoKSlcbiAgICAgICAgLmZpbHRlcigoWywgdF0pID0+IHQubWlzc2luZylcbiAgICAgICAgLm1hcCgoW2lkXSkgPT4gaWQpO1xufVxuLyoqXG4gKiBSZXNvbHZlcyBhbiBlbGVtZW50IGJ5IENTUyBzZWxlY3RvciB1c2luZyBxdWVyeVNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSBjc3NTZWxlY3RvciAtIENTUyBzZWxlY3RvciB0byBxdWVyeVxuICogQHJldHVybnMgVGhlIGZpcnN0IG1hdGNoaW5nIGVsZW1lbnQgb3IgbnVsbFxuICovXG5mdW5jdGlvbiByZXNvbHZlRWxlbWVudChjc3NTZWxlY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNzc1NlbGVjdG9yKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIFdhaXRzIGZvciB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUgYW5kIGFwcGxpZXMgYSBzaW5nbGUgbGF5b3V0IHVwZGF0ZS5cbiAqXG4gKiBAcmV0dXJucyBUaGlzIGd1YXJhbnRlZXMgb3JkZXJpbmcgb2YgdGhlIHVwZGF0ZSwgbm90IHRoZSB2aXN1YWwgcGFpbnQgaXRzZWxmLlxuICovXG5mdW5jdGlvbiB3YWl0Rm9yUG9zaXRpb25zQXBwbGllZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9ucygpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qKlxuICogVXBkYXRlcyBwb3NpdGlvbnMgYW5kIHNpemVzIG9mIGFsbCB0cmFja2VkIGJveGVzIHRvIG1hdGNoIHRoZSBsYXRlc3QgbGF5b3V0LlxuICogSGlkZXMgYm94ZXMgdGVtcG9yYXJpbHkgd2hlbiB0aGVpciB0YXJnZXQgZWxlbWVudHMgYXJlIG5vdCBmb3VuZC5cbiAqXG4gKiBAcmVtYXJrcyBJbnRlbmRlZCB0byBiZSBjYWxsZWQgZnJvbSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9ucygpIHtcbiAgICBmb3IgKGNvbnN0IFtfLCB0XSBvZiB0cmFja2VkLmVudHJpZXMoKSkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZXhpc3RpbmcgcmVmZXJlbmNlIGlzIHN0aWxsIGFsaXZlXG4gICAgICAgIGNvbnN0IGVsID0gcmVzb2x2ZUVsZW1lbnQodC5hbmNob3IudmFsdWUpO1xuICAgICAgICB0LmVsUmVmID0gZWwgPyBuZXcgV2Vha1JlZihlbCkgOiBudWxsO1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICAvLyBMb3N0OiBoaWRlIHRoZSBib3ggKGFkanVzdCBzdHlsZXMgaGVyZSBpZiB5b3Ugd2FudCBhIGZhaW50IHBsYWNlaG9sZGVyKVxuICAgICAgICAgICAgdC5ib3hFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgdC5taXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdC5ib3hFbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICB0Lm1pc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIC8vIFRoZSBvdmVybGF5IGlzIGZpeGVkLXBvc2l0aW9uZWQsIHNvIGFwcGx5IHZpZXdwb3J0IGNvb3JkaW5hdGVzIGFzLWlzXG4gICAgICAgIHQuYm94RWwuc3R5bGUubGVmdCA9IGAke3IubGVmdH1weGA7XG4gICAgICAgIHQuYm94RWwuc3R5bGUudG9wID0gYCR7ci50b3B9cHhgO1xuICAgICAgICB0LmJveEVsLnN0eWxlLndpZHRoID0gYCR7ci53aWR0aH1weGA7XG4gICAgICAgIHQuYm94RWwuc3R5bGUuaGVpZ2h0ID0gYCR7ci5oZWlnaHR9cHhgO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGlzUGFuZWxDb250ZW50UG9ydCB9IGZyb20gJ0Bjb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IE1TR19UWVBFIH0gZnJvbSAnQGNvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBidWlsZENzc0FuY2hvciB9IGZyb20gJy4vYW5jaG9yJztcbmltcG9ydCB7IG1lYXN1cmVDb250ZW50U2l6ZSB9IGZyb20gJy4vbWVhc3VyZSc7XG5pbXBvcnQgeyBjbGVhck92ZXJsYXksIGdldE1pc3NpbmdJZHMsIGhpZ2hsaWdodE92ZXJsYXksIG1vdW50T3ZlcmxheSwgcmVuZGVySXRlbXMsIH0gZnJvbSAnLi9vdmVybGF5JztcbmltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSAnLi9zZWxlY3Rvcic7XG5jb25zdCBzZWxlY3Rpb24gPSBuZXcgU2VsZWN0b3Iob25QaWNrKTtcbmxldCBwb3J0ID0gbnVsbDtcbi8vIEFjY2VwdHMgY29ubmVjdGlvbnMgZnJvbSB0aGUgUGFuZWwuIE9uY2UgY29ubmVjdGVkLCBpbml0aWFsaXplcyB0aGUgb3ZlcmxheSxcbi8vIHN1YnNjcmliZXMgdG8gbWVzc2FnZXMsIGFuZCBzZXRzIHVwIGNsZWFudXAgb24gZGlzY29ubmVjdC5cbmNocm9tZS5ydW50aW1lLm9uQ29ubmVjdC5hZGRMaXN0ZW5lcihhc3luYyAocCkgPT4ge1xuICAgIGlmICghaXNQYW5lbENvbnRlbnRQb3J0KHApKVxuICAgICAgICByZXR1cm47XG4gICAgcG9ydCA9IHA7XG4gICAgYXdhaXQgbW91bnRPdmVybGF5KCk7XG4gICAgLy8gSGFuZGxlcyBtZXNzYWdlcyBmcm9tIFBhbmVsIOKGkiBDb250ZW50LlxuICAgIC8vIFByb2Nlc3NlcyBSUENzIHN1Y2ggYXMgdG9nZ2xpbmcgc2VsZWN0aW9uLCByZW5kZXJpbmcsIGFuZCBjbGVhcmluZy5cbiAgICBwLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihhc3luYyAobXNnKSA9PiB7XG4gICAgICAgIGlmICghbXNnPy50eXBlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIE1TR19UWVBFLlBJTkc6XG4gICAgICAgICAgICAgICAgcC5wb3N0TWVzc2FnZSh7IGlkOiBtc2cuaWQsIG9rOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNU0dfVFlQRS5UT0dHTEVfU0VMRUNUOlxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zZXRFbmFibGVkKCEhbXNnLnBheWxvYWQ/LmVuYWJsZWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNU0dfVFlQRS5SRU5ERVI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IG1zZy5wYXlsb2FkLml0ZW1zO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckl0ZW1zKGl0ZW1zKTtcbiAgICAgICAgICAgICAgICBwb3N0TWlzc2luZ0lkc0lmQW55KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIE1TR19UWVBFLkNMRUFSOlxuICAgICAgICAgICAgICAgIGF3YWl0IGNsZWFyT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNU0dfVFlQRS5IT1ZFUjpcbiAgICAgICAgICAgICAgICBhd2FpdCBoaWdobGlnaHRPdmVybGF5KG1zZy5wYXlsb2FkLmlkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTVNHX1RZUEUuTUVBU1VSRV9TSVpFOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lYXN1cmVDb250ZW50U2l6ZSgpO1xuICAgICAgICAgICAgICAgIHAucG9zdE1lc3NhZ2UoeyB0eXBlOiBNU0dfVFlQRS5DT05URU5UX1NJWkVfUkVTVUxULCBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gQ2xlYW5zIHVwIG9uIHBvcnQgZGlzY29ubmVjdGlvbi5cbiAgICAvLyBEaXNhYmxlcyBzZWxlY3Rpb24gYW5kIGNsZWFycyB0aGUgb3ZlcmxheS5cbiAgICBwLm9uRGlzY29ubmVjdC5hZGRMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgIHNlbGVjdGlvbi5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgY2xlYXJPdmVybGF5KCk7XG4gICAgfSk7XG59KTtcbi8qKlxuICogQ2FsbGVkIHdoZW4gYW4gZWxlbWVudCBpcyBwaWNrZWQuXG4gKiBCdWlsZHMgYW4gYW5jaG9yIGFuZCBub3RpZmllcyB0aGUgUGFuZWwuXG4gKlxuICogQHBhcmFtIGVsIC0gRWxlbWVudCBjb25maXJtZWQgYnkgY2xpY2tcbiAqL1xuZnVuY3Rpb24gb25QaWNrKGVsKSB7XG4gICAgY29uc3QgYW5jaG9yID0gYnVpbGRDc3NBbmNob3IoZWwpO1xuICAgIHBvcnQ/LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogTVNHX1RZUEUuU0VMRUNURUQsXG4gICAgICAgIHBheWxvYWQ6IHsgYW5jaG9yczogW2FuY2hvcl0gfSxcbiAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgfSk7XG59XG4vKipcbiAqIFNlbmQgdG8gc2lkZSBwYW5lbCBvbmx5IGlmIE1pc3NpbmdJZHMgZXhpc3QuXG4gKi9cbmZ1bmN0aW9uIHBvc3RNaXNzaW5nSWRzSWZBbnkoKSB7XG4gICAgY29uc3QgbWlzc2luZ0lkcyA9IGdldE1pc3NpbmdJZHMoKTtcbiAgICBwb3J0Py5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IE1TR19UWVBFLk1JU1NJTkdfSURTLFxuICAgICAgICBwYXlsb2FkOiB7IG1pc3NpbmdJZHM6IG1pc3NpbmdJZHMgfSxcbiAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgfSk7XG59XG4iLCIvKipcbiAqIEEgc2ltcGxlIGVsZW1lbnQgc2VsZWN0b3IgdGhhdCBoaWdobGlnaHRzIGVsZW1lbnRzIG9uIG1vdXNlb3ZlclxuICogYW5kIGNvbmZpcm1zIHNlbGVjdGlvbiBvbiBjbGljay5cbiAqXG4gKiBAcmVtYXJrc1xuICogLSBSZWdpc3RlcnMgY2FwdHVyZS1waGFzZSBsaXN0ZW5lcnMgd2hlbiBlbmFibGVkLlxuICogLSBUaGUgaGlnaGxpZ2h0IGJveCBpcyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQgb24gYGRvY3VtZW50LmJvZHlgLlxuICovXG5leHBvcnQgY2xhc3MgU2VsZWN0b3Ige1xuICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICBvblBpY2s7XG4gICAgb25DbGljayA9IChldikgPT4gdGhpcy5oYW5kbGVDbGljayhldik7XG4gICAgb25Qb2ludGVyRG93biA9IChldikgPT4gdGhpcy5oYW5kbGVQb2ludGVyRG93bihldik7XG4gICAgb25Nb3VzZU92ZXIgPSAoZXYpID0+IHRoaXMuaGlnaGxpZ2h0KGV2KTtcbiAgICBob3ZlckJveCA9IG51bGw7XG4gICAgY2xlYW51cFRlbXA7XG4gICAgbGFzdEhvdmVyRWw7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNlbGVjdG9yIHdpdGggYSBjYWxsYmFjayBpbnZva2VkIG9uIHNlbGVjdGlvbiBjb25maXJtYXRpb24uXG4gICAgICogQHBhcmFtIG9uUGljayAtIEludm9rZWQgd2hlbiBhIGNsaWNrIGNvbmZpcm1zIGFuIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvblBpY2spIHtcbiAgICAgICAgdGhpcy5vblBpY2sgPSBvblBpY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNlbGVjdG9yLlxuICAgICAqIFN0YXJ0cy9zdG9wcyBldmVudCBzdWJzY3JpcHRpb25zIGFuZCByZW1vdmVzIHRoZSBoaWdobGlnaHQgb24gZGlzYWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbmFibGVkIC0gVHJ1ZSB0byBlbmFibGU7IGZhbHNlIHRvIGRpc2FibGVcbiAgICAgKi9cbiAgICBzZXRFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgaWYgKGVuYWJsZWQgPT09IHRoaXMuZW5hYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZW5hYmxlZDtcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrLCB0cnVlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Nb3VzZU92ZXIsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXBUZW1wPy4oKTtcbiAgICAgICAgICAgIHRoaXMubGFzdEhvdmVyRWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVIb3ZlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsaWNrIGhhbmRsZXIgdGhhdCBwcmV2ZW50cyBkZWZhdWx0IGJlaGF2aW9yLCBzdG9wcyBwcm9wYWdhdGlvbixcbiAgICAgKiBhbmQgZW5zdXJlcyBubyBmdXJ0aGVyIGxpc3RlbmVycyBhcmUgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldiAtIENsaWNrIGV2ZW50XG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2soZXYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24/LigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQb2ludGVyIGRvd24gaGFuZGxlciB0aGF0IHByZXZlbnRzIGRlZmF1bHQgYmVoYXZpb3IgYW5kIGZvcndhcmRzIHRoZSBlbGVtZW50IHRvIGBvblBpY2tgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2IC0gUG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZXYuYnV0dG9uICE9PSAwIHx8ICFldi5pc1ByaW1hcnkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24/LigpO1xuICAgICAgICBjb25zdCBlbCA9IGV2LnRhcmdldDtcbiAgICAgICAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vblBpY2soZWwpO1xuICAgICAgICB0aGlzLmNsZWFudXBUZW1wPy4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW91c2VvdmVyIGhhbmRsZXIgdGhhdCByZXBvc2l0aW9ucyB0aGUgaGlnaGxpZ2h0IGJveCB0byB0aGUgaG92ZXJlZCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2IC0gTW91c2VvdmVyIGV2ZW50XG4gICAgICovXG4gICAgaGlnaGxpZ2h0KGV2KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbCA9IGV2LnRhcmdldDtcbiAgICAgICAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmVuc3VyZUhvdmVyKCk7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuaG92ZXJCb3g7XG4gICAgICAgIGJveC5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFh9cHhgO1xuICAgICAgICBib3guc3R5bGUudG9wID0gYCR7cmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWX1weGA7XG4gICAgICAgIGJveC5zdHlsZS53aWR0aCA9IGAke3JlY3Qud2lkdGh9cHhgO1xuICAgICAgICBib3guc3R5bGUuaGVpZ2h0ID0gYCR7cmVjdC5oZWlnaHR9cHhgO1xuICAgICAgICBpZiAodGhpcy5sYXN0SG92ZXJFbCAhPT0gZWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRlbXA/LigpO1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwVGVtcCA9IHRoaXMudGVtcEVuYWJsZUlmRGlzYWJsZWQoZWwpO1xuICAgICAgICAgICAgdGhpcy5sYXN0SG92ZXJFbCA9IGVsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyaWx5IGVuYWJsZXMgYSBkaXNhYmxlZCBmb3JtIGNvbnRyb2wgKGA8YnV0dG9uPmAsIGA8aW5wdXQ+YCwgYDxzZWxlY3Q+YCwgYDx0ZXh0YXJlYT5gKVxuICAgICAqIHRvIGFsbG93IHBvaW50ZXIgYW5kIGNsaWNrIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbCAtIFRhcmdldCBlbGVtZW50OyBpZ25vcmVkIGlmIG5vdCBhIGRpc2FibGVkIGZvcm0gY29udHJvbC5cbiAgICAgKiBAcmV0dXJucyBBIGNsZWFudXAgY2FsbGJhY2sgdGhhdCByZXN0b3JlcyBpdHMgb3JpZ2luYWwgc3RhdGUgKG5vLW9wIGlmIHVuY2hhbmdlZCkuXG4gICAgICovXG4gICAgdGVtcEVuYWJsZUlmRGlzYWJsZWQoZWwpIHtcbiAgICAgICAgY29uc3QgY3RybCA9IGVsO1xuICAgICAgICBpZiAoISgnZGlzYWJsZWQnIGluIGN0cmwpKVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICAgICAgaWYgKCFjdHJsLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICAgICAgY29uc3QgcHJldiA9IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBjdHJsLmRpc2FibGVkLFxuICAgICAgICAgICAgYXJpYTogY3RybC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKSxcbiAgICAgICAgICAgIHBlOiBjdHJsLnN0eWxlLnBvaW50ZXJFdmVudHMsXG4gICAgICAgIH07XG4gICAgICAgIC8vIFRlbXBvcmFyaWx5IGVuYWJsZWQgKHNlbWFudGljcyBtYWludGFpbmVkIGluIGFyaWEpXG4gICAgICAgIGN0cmwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgY3RybC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICBjdHJsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIC8vIFJlc3RvcmF0aW9uIENsb3N1cmVcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGN0cmwuZGlzYWJsZWQgPSBwcmV2LmRpc2FibGVkO1xuICAgICAgICAgICAgaWYgKHByZXYuYXJpYSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGN0cmwucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHJsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIHByZXYuYXJpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHJsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBwcmV2LnBlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMYXppbHkgY3JlYXRlcyB0aGUgaGlnaGxpZ2h0IGJveCB3aGVuIG5lZWRlZC5cbiAgICAgKi9cbiAgICBlbnN1cmVIb3ZlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJCb3gpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaG92ZXJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmhvdmVyQm94LnN0eWxlLCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIG91dGxpbmU6ICczcHggZGFzaGVkIHJnYmEoOTksIDEwMiwgMjQxLCAxKScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSg5OSwgMTAyLCAyNDEsIDAuMyknLFxuICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgICAgekluZGV4OiAnMjE0NzQ4MzY0NycsXG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaG92ZXJCb3gpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBoaWdobGlnaHQgYm94IGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICByZW1vdmVIb3ZlcigpIHtcbiAgICAgICAgdGhpcy5ob3ZlckJveD8ucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuaG92ZXJCb3ggPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGZpbmRlciB9IGZyb20gJ0BtZWR2L2ZpbmRlcic7XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJlLWxvY2F0YWJsZSBDU1Mgc2VsZWN0b3IgKGFuY2hvcikgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICogVXNlcyBAbWVkdi9maW5kZXIgdG8gaW5mZXIgYSBzdGFibGUgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIGVsIC0gVGFyZ2V0IERPTSBlbGVtZW50XG4gKiBAcmV0dXJucyBHZW5lcmF0ZWQgQ1NTIGFuY2hvclxuICogQHJlbWFya3MgU2VsZWN0b3IgZ2VuZXJhdGlvbiBpcyB0aW1lLWxpbWl0ZWQgdmlhIGB0aW1lb3V0TXNgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDc3NBbmNob3IoZWwpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGZpbmRlcihlbCwge1xuICAgICAgICB0aW1lb3V0TXM6IDUwMCxcbiAgICB9KTtcbiAgICByZXR1cm4geyBraW5kOiAnY3NzJywgdmFsdWUsIHZlcnNpb246IDEgfTtcbn1cbiJdLCJuYW1lcyI6WyJDSEFOTkVMIiwiTVNHX1RZUEUiLCJhY2NlcHRlZEF0dHJOYW1lcyIsIlNldCIsImF0dHIiLCJuYW1lIiwidmFsdWUiLCJuYW1lSXNPayIsImhhcyIsInN0YXJ0c1dpdGgiLCJ3b3JkTGlrZSIsInZhbHVlSXNPayIsImxlbmd0aCIsInNsaWNlIiwiaWROYW1lIiwiY2xhc3NOYW1lIiwidGFnTmFtZSIsImZpbmRlciIsImlucHV0Iiwib3B0aW9ucyIsIm5vZGVUeXBlIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsIkVycm9yIiwidG9Mb3dlckNhc2UiLCJkZWZhdWx0cyIsInJvb3QiLCJkb2N1bWVudCIsImJvZHkiLCJ0aW1lb3V0TXMiLCJzZWVkTWluTGVuZ3RoIiwib3B0aW1pemVkTWluTGVuZ3RoIiwibWF4TnVtYmVyT2ZQYXRoQ2hlY2tzIiwiSW5maW5pdHkiLCJzdGFydFRpbWUiLCJEYXRlIiwiY29uZmlnIiwicm9vdERvY3VtZW50Iiwicm9vdE5vZGUiLCJET0NVTUVOVF9OT0RFIiwib3duZXJEb2N1bWVudCIsImZpbmRSb290RG9jdW1lbnQiLCJmb3VuZFBhdGgiLCJjb3VudCIsImNhbmRpZGF0ZSIsInN0YWNrIiwicGF0aHMiLCJjdXJyZW50IiwiaSIsImxldmVsIiwidGllIiwibm9kZSIsInB1c2giLCJwYXJlbnRFbGVtZW50IiwiY29tYmluYXRpb25zIiwic29ydCIsImJ5UGVuYWx0eSIsInNlYXJjaCIsImdldFRpbWUiLCJmUGF0aCIsImZhbGxiYWNrIiwic2VsZWN0b3IiLCJ1bmlxdWUiLCJvcHRpbWl6ZWQiLCJvcHRpbWl6ZSIsInRlc3QiLCJ3b3JkcyIsInNwbGl0Iiwid29yZCIsImVsZW1lbnQiLCJlbGVtZW50SWQiLCJnZXRBdHRyaWJ1dGUiLCJDU1MiLCJlc2NhcGUiLCJwZW5hbHR5IiwiY2xhc3NMaXN0IiwiYXR0cmlidXRlcyIsImluZGV4IiwiaW5kZXhPZiIsInVuZGVmaW5lZCIsIm50aE9mVHlwZSIsIm50aCIsIm50aENoaWxkIiwicGF0aCIsInF1ZXJ5IiwibWFwIiwicmVkdWNlIiwiYWNjIiwiYSIsImIiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiY2hpbGQiLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLCJOYU4iLCJjb25jYXQiLCJjc3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV3UGF0aCIsInNwbGljZSIsInF1ZXJ5U2VsZWN0b3IiLCJpc0hUTUxFbGVtZW50IiwiZWwiLCJIVE1MRWxlbWVudCIsInNoYWRvd1Jvb3QiLCJyb290RWwiLCJ0cmFja2VkIiwiTWFwIiwicmFmUGVuZGluZyIsImhvdmVyZWRJZCIsImxpc3RlbmVyc0F0dGFjaGVkIiwiYXN5bmMiLCJtb3VudE92ZXJsYXkiLCJob3N0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJjc3NIcmVmIiwiY2hyb21lIiwicnVudGltZSIsImdldFVSTCIsImxpbmsiLCJyZWwiLCJocmVmIiwic2NoZWR1bGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGVQb3NpdGlvbnMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInZpc3VhbFZpZXdwb3J0IiwiZW5zdXJlVHJhY2tlZEVudHJ5IiwiaXRlbSIsImV4aXN0aW5nIiwiZ2V0IiwiYm94RWwiLCJiYWRnZUVsIiwiY29tbWVudEVsIiwiYXBwZW5kIiwibmV3RW50cnkiLCJhbmNob3IiLCJlbFJlZiIsIm1pc3NpbmciLCJzZXQiLCJhcHBseVZpc3VhbFN0YXRlIiwic2l6ZVB4Iiwic2l6ZSIsImNvbG9yIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsInNoYXBlIiwicG9zaXRpb24iLCJmb250U2l6ZSIsInRleHRDb250ZW50IiwiU3RyaW5nIiwibGFiZWwiLCJjb21tZW50IiwiZGlzcGxheSIsImNsZWFyT3ZlcmxheSIsImlubmVySFRNTCIsImNsZWFyIiwicmVzb2x2ZUVsZW1lbnQiLCJjc3NTZWxlY3RvciIsIl8iLCJ0IiwiZW50cmllcyIsIldlYWtSZWYiLCJyIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0Iiwic2VsZWN0aW9uIiwiZW5hYmxlZCIsIm9uUGljayIsIm9uQ2xpY2siLCJldiIsInRoaXMiLCJoYW5kbGVDbGljayIsIm9uUG9pbnRlckRvd24iLCJoYW5kbGVQb2ludGVyRG93biIsIm9uTW91c2VPdmVyIiwiaGlnaGxpZ2h0IiwiaG92ZXJCb3giLCJjbGVhbnVwVGVtcCIsImxhc3RIb3ZlckVsIiwiY29uc3RydWN0b3IiLCJzZXRFbmFibGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUhvdmVyIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJidXR0b24iLCJpc1ByaW1hcnkiLCJ0YXJnZXQiLCJyZWN0IiwiZW5zdXJlSG92ZXIiLCJib3giLCJzY3JvbGxYIiwic2Nyb2xsWSIsInRlbXBFbmFibGVJZkRpc2FibGVkIiwiY3RybCIsImRpc2FibGVkIiwicHJldiIsImFyaWEiLCJwZSIsInBvaW50ZXJFdmVudHMiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJPYmplY3QiLCJhc3NpZ24iLCJvdXRsaW5lIiwiYmFja2dyb3VuZCIsInpJbmRleCIsInJlbW92ZSIsImtpbmQiLCJ2ZXJzaW9uIiwiYnVpbGRDc3NBbmNob3IiLCJwb3J0IiwicG9zdE1lc3NhZ2UiLCJ0eXBlIiwicGF5bG9hZCIsImFuY2hvcnMiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwib25Db25uZWN0IiwiYWRkTGlzdGVuZXIiLCJwIiwiaXNDaGFubmVsIiwiaXNQYW5lbENvbnRlbnRQb3J0Iiwib25NZXNzYWdlIiwibXNnIiwib2siLCJpdGVtcyIsImlkcyIsImRlbGV0ZSIsIml0IiwiZW50cnkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlbmRlckl0ZW1zIiwibWlzc2luZ0lkcyIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsInBvc3RNaXNzaW5nSWRzSWZBbnkiLCJhZGQiLCJoaWdobGlnaHRPdmVybGF5IiwiZG9jRWwiLCJzZSIsInNjcm9sbGluZ0VsZW1lbnQiLCJiYXNlVyIsIk1hdGgiLCJtYXgiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJiYXNlSCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImNsaWVudEhlaWdodCIsIm1pbkxlZnQiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsIm1pblRvcCIsIm1heFJpZ2h0IiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJtYXhCb3R0b20iLCJtYXhTY3JvbGxXIiwibWF4U2Nyb2xsSCIsIm9mZlgiLCJwYWdlTGVmdCIsIm9mZlkiLCJwYWdlVG9wIiwiZWxlbWVudHMiLCJyaWdodCIsImJvdHRvbSIsImlzRmluaXRlIiwiYmJveFdpZHRoIiwiY2VpbCIsImJib3hIZWlnaHQiLCJtZWFzdXJlQ29udGVudFNpemUiLCJvbkRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9